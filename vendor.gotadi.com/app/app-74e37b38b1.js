function cfgWinSizeVNPayQR(e) {
    var t = $(window).width(),
        a = $(window).height();
    return t < 900 && (e.width = t), a > 600 && (e.width = a), e
}

function vnpay_snippet(e) {
    var t = {
        width: 768,
        height: 490,
        url: "#"
    };
    $("#vnpay_modal").hide(), t = $.extend({}, t, e), t = cfgWinSizeVNPayQR(t);
    var a, n, i;
    n = $('<div id="vnpay_content" class="vnpay_content" allowfullscreen></div>'), a = $('<iframe id="vnpay_frame" />');
    var o = document.createElement("script");
    document.getElementsByTagName("body")[0].appendChild(o), o.onload = function() {
        a.attr("src", t.url)
    }, o.onerror = function() {
        alert("Hi?n t?i dang c� l?i k?t n?i v?i VNPAY vui l�ng th? l?i sau ho?c g?i h? tr? d? du?c gi�p d?!")
    }, o.setAttribute("src", t.url), a.css("border", "none"), a.css({
        height: t.height - 14 || "auto",
        position: "absolute"
    }), n.empty().append(a), n.css({
        width: t.width - 14 || "auto"
    }), n.css("cssText", "height: " + t.height + "px !important;"), i = $("#vnpay_modal"), i.after(n)
}

function detectmob() {
    return !!(navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i))
}

function cfgWinSizeVNPayQR(e) {
    var t = $(window).width(),
        a = $(window).height();
    return t < 900 && (e.width = t), a > 600 && (e.width = a), e
}

function vnpay_snippet(e) {
    var t = {
        width: 768,
        height: 490,
        url: "#"
    };
    $("#vnpay_modal").hide(), t = $.extend({}, t, e), t = cfgWinSizeVNPayQR(t);
    var a, n, i;
    n = $('<div id="vnpay_content" class="vnpay_content" allowfullscreen></div>'), a = $('<iframe id="vnpay_frame" />');
    var o = document.createElement("script");
    document.getElementsByTagName("body")[0].appendChild(o), o.onload = function() {
        a.attr("src", t.url)
    }, o.setAttribute("src", t.url), a.css("border", "none"), a.css({
        height: t.height - 14 || "auto",
        position: "absolute"
    }), n.empty().append(a), n.css({
        width: t.width - 14 || "auto"
    }), n.css("cssText", "height: " + t.height + "px !important;"), i = $("#vnpay_modal"), i.after(n)
}

function detectmob() {
    return !!(navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/BlackBerry/i) || navigator.userAgent.match(/Windows Phone/i))
}! function(e) {
    "function" == typeof define && define.amd && define.amd.jQuery ? define(["jquery"], e) : e("undefined" != typeof module && module.exports ? require("jquery") : jQuery)
}(function(e) {
    "use strict";

    function t(t) {
        return !t || void 0 !== t.allowPageScroll || void 0 === t.swipe && void 0 === t.swipeStatus || (t.allowPageScroll = d), void 0 !== t.click && void 0 === t.tap && (t.tap = t.click), t || (t = {}), t = e.extend({}, e.fn.swipe.defaults, t), this.each(function() {
            var n = e(this),
                i = n.data(T);
            i || (i = new a(this, t), n.data(T, i))
        })
    }

    function a(t, a) {
        function n(t) {
            if (!(ce() || e(t.target).closest(a.excludedElements, je).length > 0)) {
                var n = t.originalEvent ? t.originalEvent : t;
                if (!n.pointerType || "mouse" != n.pointerType || 0 != a.fallbackToMouseEvents) {
                    var i, o = n.touches,
                        r = o ? o[0] : n;
                    return Ye = $, o ? ze = o.length : a.preventDefaultEvents !== !1 && t.preventDefault(), Be = 0, Re = null, _e = null, qe = null, Fe = 0, Le = 0, Ge = 0, He = 1, Ue = 0, Ve = ve(), se(), pe(0, r), !o || ze === a.fingers || a.fingers === y || q() ? (Ke = Ce(), 2 == ze && (pe(1, o[1]), Le = Ge = ye(Qe[0].start, Qe[1].start)), (a.swipeStatus || a.pinchStatus) && (i = B(n, Ye))) : i = !1, i === !1 ? (Ye = M, B(n, Ye), i) : (a.hold && (tt = setTimeout(e.proxy(function() {
                        je.trigger("hold", [n.target]), a.hold && (i = a.hold.call(je, n, n.target))
                    }, this), a.longTapThreshold)), de(!0), null)
                }
            }
        }

        function N(e) {
            var t = e.originalEvent ? e.originalEvent : e;
            if (Ye !== I && Ye !== M && !le()) {
                var n, i = t.touches,
                    o = i ? i[0] : t,
                    r = ge(o);
                if (We = Ce(), i && (ze = i.length), a.hold && clearTimeout(tt), Ye = w, 2 == ze && (0 == Le ? (pe(1, i[1]), Le = Ge = ye(Qe[0].start, Qe[1].start)) : (ge(i[1]), Ge = ye(Qe[0].end, Qe[1].end), qe = $e(Qe[0].end, Qe[1].end)), He = ke(Le, Ge), Ue = Math.abs(Le - Ge)), ze === a.fingers || a.fingers === y || !i || q()) {
                    if (Re = Me(r.start, r.end), _e = Me(r.last, r.end), H(e, _e), Be = we(r.start, r.end), Fe = be(), me(Re, Be), n = B(t, Ye), !a.triggerOnTouchEnd || a.triggerOnTouchLeave) {
                        var s = !0;
                        if (a.triggerOnTouchLeave) {
                            var l = Oe(this);
                            s = Pe(r.end, l)
                        }!a.triggerOnTouchEnd && s ? Ye = E(w) : a.triggerOnTouchLeave && !s && (Ye = E(I)), Ye != M && Ye != I || B(t, Ye)
                    }
                } else Ye = M, B(t, Ye);
                n === !1 && (Ye = M, B(t, Ye))
            }
        }

        function x(e) {
            var t = e.originalEvent ? e.originalEvent : e,
                n = t.touches;
            if (n) {
                if (n.length && !le()) return re(t), !0;
                if (n.length && le()) return !0
            }
            return le() && (ze = Xe), We = Ce(), Fe = be(), F() || !_() ? (Ye = M, B(t, Ye)) : a.triggerOnTouchEnd || a.triggerOnTouchEnd === !1 && Ye === w ? (a.preventDefaultEvents !== !1 && e.preventDefault(), Ye = I, B(t, Ye)) : !a.triggerOnTouchEnd && W() ? (Ye = I, R(t, Ye, m)) : Ye === w && (Ye = M, B(t, Ye)), de(!1), null
        }

        function S() {
            ze = 0, We = 0, Ke = 0, Le = 0, Ge = 0, He = 1, se(), de(!1)
        }

        function A(e) {
            var t = e.originalEvent ? e.originalEvent : e;
            a.triggerOnTouchLeave && (Ye = E(I), B(t, Ye))
        }

        function D() {
            je.unbind(xe, n), je.unbind(Ee, S), je.unbind(Se, N), je.unbind(Ae, x), De && je.unbind(De, A), de(!1)
        }

        function E(e) {
            var t = e,
                n = G(),
                i = _(),
                o = F();
            return !n || o ? t = M : !i || e != w || a.triggerOnTouchEnd && !a.triggerOnTouchLeave ? !i && e == I && a.triggerOnTouchLeave && (t = M) : t = I, t
        }

        function B(e, t) {
            var a, n = e.touches;
            return (z() || Y()) && (a = R(e, t, g)), (V() || q()) && a !== !1 && (a = R(e, t, u)), ie() && a !== !1 ? a = R(e, t, h) : oe() && a !== !1 ? a = R(e, t, v) : ne() && a !== !1 && (a = R(e, t, m)), t === M && S(e), t === I && (n ? n.length || S(e) : S(e)), a
        }

        function R(t, n, d) {
            var p;
            if (d == g) {
                if (je.trigger("swipeStatus", [n, Re || null, Be || 0, Fe || 0, ze, Qe, _e]), a.swipeStatus && (p = a.swipeStatus.call(je, t, n, Re || null, Be || 0, Fe || 0, ze, Qe, _e), p === !1)) return !1;
                if (n == I && j()) {
                    if (clearTimeout(et), clearTimeout(tt), je.trigger("swipe", [Re, Be, Fe, ze, Qe, _e]), a.swipe && (p = a.swipe.call(je, t, Re, Be, Fe, ze, Qe, _e), p === !1)) return !1;
                    switch (Re) {
                        case i:
                            je.trigger("swipeLeft", [Re, Be, Fe, ze, Qe, _e]), a.swipeLeft && (p = a.swipeLeft.call(je, t, Re, Be, Fe, ze, Qe, _e));
                            break;
                        case o:
                            je.trigger("swipeRight", [Re, Be, Fe, ze, Qe, _e]), a.swipeRight && (p = a.swipeRight.call(je, t, Re, Be, Fe, ze, Qe, _e));
                            break;
                        case r:
                            je.trigger("swipeUp", [Re, Be, Fe, ze, Qe, _e]), a.swipeUp && (p = a.swipeUp.call(je, t, Re, Be, Fe, ze, Qe, _e));
                            break;
                        case s:
                            je.trigger("swipeDown", [Re, Be, Fe, ze, Qe, _e]), a.swipeDown && (p = a.swipeDown.call(je, t, Re, Be, Fe, ze, Qe, _e))
                    }
                }
            }
            if (d == u) {
                if (je.trigger("pinchStatus", [n, qe || null, Ue || 0, Fe || 0, ze, He, Qe]), a.pinchStatus && (p = a.pinchStatus.call(je, t, n, qe || null, Ue || 0, Fe || 0, ze, He, Qe), p === !1)) return !1;
                if (n == I && U()) switch (qe) {
                    case l:
                        je.trigger("pinchIn", [qe || null, Ue || 0, Fe || 0, ze, He, Qe]), a.pinchIn && (p = a.pinchIn.call(je, t, qe || null, Ue || 0, Fe || 0, ze, He, Qe));
                        break;
                    case c:
                        je.trigger("pinchOut", [qe || null, Ue || 0, Fe || 0, ze, He, Qe]), a.pinchOut && (p = a.pinchOut.call(je, t, qe || null, Ue || 0, Fe || 0, ze, He, Qe))
                }
            }
            return d == m ? n !== M && n !== I || (clearTimeout(et), clearTimeout(tt), J() && !ee() ? (Ze = Ce(), et = setTimeout(e.proxy(function() {
                Ze = null, je.trigger("tap", [t.target]), a.tap && (p = a.tap.call(je, t, t.target))
            }, this), a.doubleTapThreshold)) : (Ze = null, je.trigger("tap", [t.target]), a.tap && (p = a.tap.call(je, t, t.target)))) : d == h ? n !== M && n !== I || (clearTimeout(et), clearTimeout(tt), Ze = null, je.trigger("doubletap", [t.target]), a.doubleTap && (p = a.doubleTap.call(je, t, t.target))) : d == v && (n !== M && n !== I || (clearTimeout(et), Ze = null, je.trigger("longtap", [t.target]), a.longTap && (p = a.longTap.call(je, t, t.target)))), p
        }

        function _() {
            var e = !0;
            return null !== a.threshold && (e = Be >= a.threshold), e
        }

        function F() {
            var e = !1;
            return null !== a.cancelThreshold && null !== Re && (e = he(Re) - Be >= a.cancelThreshold), e
        }

        function L() {
            return null === a.pinchThreshold || Ue >= a.pinchThreshold
        }

        function G() {
            var e;
            return e = !a.maxTimeThreshold || !(Fe >= a.maxTimeThreshold)
        }

        function H(e, t) {
            if (a.preventDefaultEvents !== !1)
                if (a.allowPageScroll === d) e.preventDefault();
                else {
                    var n = a.allowPageScroll === p;
                    switch (t) {
                        case i:
                            (a.swipeLeft && n || !n && a.allowPageScroll != f) && e.preventDefault();
                            break;
                        case o:
                            (a.swipeRight && n || !n && a.allowPageScroll != f) && e.preventDefault();
                            break;
                        case r:
                            (a.swipeUp && n || !n && a.allowPageScroll != b) && e.preventDefault();
                            break;
                        case s:
                            (a.swipeDown && n || !n && a.allowPageScroll != b) && e.preventDefault();
                            break;
                        case d:
                    }
                }
        }

        function U() {
            var e = Q(),
                t = K(),
                a = L();
            return e && t && a
        }

        function q() {
            return !!(a.pinchStatus || a.pinchIn || a.pinchOut)
        }

        function V() {
            return !(!U() || !q())
        }

        function j() {
            var e = G(),
                t = _(),
                a = Q(),
                n = K(),
                i = F(),
                o = !i && n && a && t && e;
            return o
        }

        function Y() {
            return !!(a.swipe || a.swipeStatus || a.swipeLeft || a.swipeRight || a.swipeUp || a.swipeDown)
        }

        function z() {
            return !(!j() || !Y())
        }

        function Q() {
            return ze === a.fingers || a.fingers === y || !C
        }

        function K() {
            return 0 !== Qe[0].end.x
        }

        function W() {
            return !!a.tap
        }

        function J() {
            return !!a.doubleTap
        }

        function X() {
            return !!a.longTap
        }

        function Z() {
            if (null == Ze) return !1;
            var e = Ce();
            return J() && e - Ze <= a.doubleTapThreshold
        }

        function ee() {
            return Z()
        }

        function te() {
            return (1 === ze || !C) && (isNaN(Be) || Be < a.threshold)
        }

        function ae() {
            return Fe > a.longTapThreshold && k > Be
        }

        function ne() {
            return !(!te() || !W())
        }

        function ie() {
            return !(!Z() || !J())
        }

        function oe() {
            return !(!ae() || !X())
        }

        function re(e) {
            Je = Ce(), Xe = e.touches.length + 1
        }

        function se() {
            Je = 0, Xe = 0
        }

        function le() {
            var e = !1;
            if (Je) {
                var t = Ce() - Je;
                t <= a.fingerReleaseThreshold && (e = !0)
            }
            return e
        }

        function ce() {
            return !(je.data(T + "_intouch") !== !0)
        }

        function de(e) {
            je && (e === !0 ? (je.bind(Se, N), je.bind(Ae, x), De && je.bind(De, A)) : (je.unbind(Se, N, !1), je.unbind(Ae, x, !1), De && je.unbind(De, A, !1)), je.data(T + "_intouch", e === !0))
        }

        function pe(e, t) {
            var a = {
                start: {
                    x: 0,
                    y: 0
                },
                last: {
                    x: 0,
                    y: 0
                },
                end: {
                    x: 0,
                    y: 0
                }
            };
            return a.start.x = a.last.x = a.end.x = t.pageX || t.clientX, a.start.y = a.last.y = a.end.y = t.pageY || t.clientY, Qe[e] = a, a
        }

        function ge(e) {
            var t = void 0 !== e.identifier ? e.identifier : 0,
                a = ue(t);
            return null === a && (a = pe(t, e)), a.last.x = a.end.x, a.last.y = a.end.y, a.end.x = e.pageX || e.clientX, a.end.y = e.pageY || e.clientY, a
        }

        function ue(e) {
            return Qe[e] || null
        }

        function me(e, t) {
            e != d && (t = Math.max(t, he(e)), Ve[e].distance = t)
        }

        function he(e) {
            return Ve[e] ? Ve[e].distance : void 0
        }

        function ve() {
            var e = {};
            return e[i] = fe(i), e[o] = fe(o), e[r] = fe(r), e[s] = fe(s), e
        }

        function fe(e) {
            return {
                direction: e,
                distance: 0
            }
        }

        function be() {
            return We - Ke
        }

        function ye(e, t) {
            var a = Math.abs(e.x - t.x),
                n = Math.abs(e.y - t.y);
            return Math.round(Math.sqrt(a * a + n * n))
        }

        function ke(e, t) {
            var a = t / e * 1;
            return a.toFixed(2)
        }

        function $e() {
            return 1 > He ? c : l
        }

        function we(e, t) {
            return Math.round(Math.sqrt(Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2)))
        }

        function Ie(e, t) {
            var a = e.x - t.x,
                n = t.y - e.y,
                i = Math.atan2(n, a),
                o = Math.round(180 * i / Math.PI);
            return 0 > o && (o = 360 - Math.abs(o)), o
        }

        function Me(e, t) {
            if (Te(e, t)) return d;
            var a = Ie(e, t);
            return 45 >= a && a >= 0 ? i : 360 >= a && a >= 315 ? i : a >= 135 && 225 >= a ? o : a > 45 && 135 > a ? s : r
        }

        function Ce() {
            var e = new Date;
            return e.getTime()
        }

        function Oe(t) {
            t = e(t);
            var a = t.offset(),
                n = {
                    left: a.left,
                    right: a.left + t.outerWidth(),
                    top: a.top,
                    bottom: a.top + t.outerHeight()
                };
            return n
        }

        function Pe(e, t) {
            return e.x > t.left && e.x < t.right && e.y > t.top && e.y < t.bottom
        }

        function Te(e, t) {
            return e.x == t.x && e.y == t.y
        }
        var a = e.extend({}, a),
            Ne = C || P || !a.fallbackToMouseEvents,
            xe = Ne ? P ? O ? "MSPointerDown" : "pointerdown" : "touchstart" : "mousedown",
            Se = Ne ? P ? O ? "MSPointerMove" : "pointermove" : "touchmove" : "mousemove",
            Ae = Ne ? P ? O ? "MSPointerUp" : "pointerup" : "touchend" : "mouseup",
            De = Ne ? P ? "mouseleave" : null : "mouseleave",
            Ee = P ? O ? "MSPointerCancel" : "pointercancel" : "touchcancel",
            Be = 0,
            Re = null,
            _e = null,
            Fe = 0,
            Le = 0,
            Ge = 0,
            He = 1,
            Ue = 0,
            qe = 0,
            Ve = null,
            je = e(t),
            Ye = "start",
            ze = 0,
            Qe = {},
            Ke = 0,
            We = 0,
            Je = 0,
            Xe = 0,
            Ze = 0,
            et = null,
            tt = null;
        try {
            je.bind(xe, n), je.bind(Ee, S)
        } catch (t) {
            e.error("events not supported " + xe + "," + Ee + " on jQuery.swipe")
        }
        this.enable = function() {
            return this.disable(), je.bind(xe, n), je.bind(Ee, S), je
        }, this.disable = function() {
            return D(), je
        }, this.destroy = function() {
            D(), je.data(T, null), je = null
        }, this.option = function(t, n) {
            if ("object" == typeof t) a = e.extend(a, t);
            else if (void 0 !== a[t]) {
                if (void 0 === n) return a[t];
                a[t] = n
            } else {
                if (!t) return a;
                e.error("Option " + t + " does not exist on jQuery.swipe.options")
            }
            return null
        }
    }
    var n = "1.6.17",
        i = "left",
        o = "right",
        r = "up",
        s = "down",
        l = "in",
        c = "out",
        d = "none",
        p = "auto",
        g = "swipe",
        u = "pinch",
        m = "tap",
        h = "doubletap",
        v = "longtap",
        f = "horizontal",
        b = "vertical",
        y = "all",
        k = 10,
        $ = "start",
        w = "move",
        I = "end",
        M = "cancel",
        C = "ontouchstart" in window,
        O = window.navigator.msPointerEnabled && !window.navigator.pointerEnabled && !C,
        P = (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) && !C,
        T = "TouchSwipe",
        N = {
            fingers: 1,
            threshold: 75,
            cancelThreshold: null,
            pinchThreshold: 20,
            maxTimeThreshold: null,
            fingerReleaseThreshold: 250,
            longTapThreshold: 500,
            doubleTapThreshold: 200,
            swipe: null,
            swipeLeft: null,
            swipeRight: null,
            swipeUp: null,
            swipeDown: null,
            swipeStatus: null,
            pinchIn: null,
            pinchOut: null,
            pinchStatus: null,
            click: null,
            tap: null,
            doubleTap: null,
            longTap: null,
            hold: null,
            triggerOnTouchEnd: !0,
            triggerOnTouchLeave: !1,
            allowPageScroll: "auto",
            fallbackToMouseEvents: !0,
            excludedElements: ".noSwipe",
            preventDefaultEvents: !0
        };
    e.fn.swipe = function(a) {
        var n = e(this),
            i = n.data(T);
        if (i && "string" == typeof a) {
            if (i[a]) return i[a].apply(i, Array.prototype.slice.call(arguments, 1));
            e.error("Method " + a + " does not exist on jQuery.swipe")
        } else if (i && "object" == typeof a) i.option.apply(i, arguments);
        else if (!(i || "object" != typeof a && a)) return t.apply(this, arguments);
        return n
    }, e.fn.swipe.version = n, e.fn.swipe.defaults = N, e.fn.swipe.phases = {
        PHASE_START: $,
        PHASE_MOVE: w,
        PHASE_END: I,
        PHASE_CANCEL: M
    }, e.fn.swipe.directions = {
        LEFT: i,
        RIGHT: o,
        UP: r,
        DOWN: s,
        IN: l,
        OUT: c
    }, e.fn.swipe.pageScroll = {
        NONE: d,
        HORIZONTAL: f,
        VERTICAL: b,
        AUTO: p
    }, e.fn.swipe.fingers = {
        ONE: 1,
        TWO: 2,
        THREE: 3,
        FOUR: 4,
        FIVE: 5,
        ALL: y
    }
}), ! function(e, t, a, n) {
    "use strict";
    e.fn.slideAndSwipe = function(t) {
        function a(e, t, a, n) {
            "start" == t && (l = r.hasClass("ssm-nav-visible") ? 0 : s);
            var i;
            "move" == t && "left" == a ? (i = 0 > l ? l - n : -n, o(i, 0)) : "move" == t && "right" == a ? (i = 0 > l ? l + n : n, o(i, 0)) : "cancel" == t && "left" == a && 0 === l ? o(0, c.speed) : "end" == t && "left" == a ? d() : "end" != t && "cancel" != t || "right" != a || console.log("end")
        }

        function n() {
            return /Safari/.test(navigator.userAgent) && /Apple Computer/.test(navigator.vendor)
        }

        function i() {
            return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)
        }

        function o(t, a) {
            r.css("transition-duration", (a / 1e3).toFixed(1) + "s"), t >= 0 && (t = 0), s >= t && (t = s - 25), n() || i() ? r.css("-webkit-transform", "translate(" + t + "px,0)") : r.css("transform", "translate(" + t + "px,0)"), "0" == t && (e(".ssm-toggle-nav").addClass("ssm-nav-visible"), e("html").css("overflow", "hidden"), e(".ssm-overlay").fadeIn())
        }
        var r = e(this),
            s = -r.outerWidth(),
            l = s,
            c = e.extend({
                triggerOnTouchEnd: !0,
                swipeStatus: a,
                allowPageScroll: "vertical",
                threshold: 100,
                excludedElements: "label, button, input, select, textarea, .noSwipe",
                speed: 250
            }, t);
        r.swipe(c);
        var d = function() {
                r.removeClass("ssm-nav-visible"), o(s, c.speed), e("html").css("overflow", "visible"), e(".ssm-overlay").fadeOut()
            },
            p = function() {
                r.addClass("ssm-nav-visible"), o(0, c.speed)
            };
        e(".ssm-toggle-nav").click(function() {
            r.hasClass("ssm-nav-visible") ? d() : p()
        })
    }
}(window.jQuery || window.$, document, window), "undefined" != typeof module && module.exports && (module.exports = slideAndSwipe), ! function(e) {
        "use strict";

        function t(e, t, a) {
            "addEventListener" in window ? e.addEventListener(t, a, !1) : "attachEvent" in window && e.attachEvent("on" + t, a)
        }

        function a(e, t, a) {
            "removeEventListener" in window ? e.removeEventListener(t, a, !1) : "detachEvent" in window && e.detachEvent("on" + t, a)
        }

        function n(e) {
            return e.charAt(0).toUpperCase() + e.slice(1)
        }

        function i(e) {
            var t, a, n, i = null,
                o = 0,
                r = function() {
                    o = De(), i = null, n = e.apply(t, a), i || (t = a = null)
                };
            return function() {
                var s = De();
                o || (o = s);
                var l = Ie - (s - o);
                return t = this, a = arguments, 0 >= l || l > Ie ? (i && (clearTimeout(i), i = null), o = s, n = e.apply(t, a), i || (t = a = null)) : i || (i = setTimeout(r, l)), n
            }
        }

        function o(e) {
            return ge + "[" + me + "] " + e
        }

        function r(e) {
            pe && "object" == typeof window.console && console.log(o(e))
        }

        function s(e) {
            "object" == typeof window.console && console.warn(o(e))
        }

        function l() {
            c(), r("Initialising iFrame (" + location.href + ")"), d(), u(), g("background", Q), g("padding", X), O(), b(), y(), m(), T(), k(), le = P(), L("init", "Init message from host page"), Ne()
        }

        function c() {
            function t(e) {
                return "true" === e
            }
            var a = se.substr(ue).split(":");
            me = a[0], K = e !== a[1] ? Number(a[1]) : K, Z = e !== a[2] ? t(a[2]) : Z, pe = e !== a[3] ? t(a[3]) : pe, ce = e !== a[4] ? Number(a[4]) : ce, Y = e !== a[6] ? t(a[6]) : Y, W = a[7], oe = e !== a[8] ? a[8] : oe, Q = a[9], X = a[10], ke = e !== a[11] ? Number(a[11]) : ke, le.enable = e !== a[12] && t(a[12]), ve = e !== a[13] ? a[13] : ve, Oe = e !== a[14] ? a[14] : Oe
        }

        function d() {
            function e() {
                var e = window.iFrameResizer;
                r("Reading data from page: " + JSON.stringify(e)), Te = "messageCallback" in e ? e.messageCallback : Te, Ne = "readyCallback" in e ? e.readyCallback : Ne, ye = "targetOrigin" in e ? e.targetOrigin : ye, oe = "heightCalculationMethod" in e ? e.heightCalculationMethod : oe, Oe = "widthCalculationMethod" in e ? e.widthCalculationMethod : Oe
            }

            function t(e, t) {
                return "function" == typeof e && (r("Setup custom " + t + "CalcMethod"), Se[t] = e, e = "custom"), e
            }
            "iFrameResizer" in window && Object === window.iFrameResizer.constructor && (e(), oe = t(oe, "height"), Oe = t(Oe, "width")), r("TargetOrigin for parent set to: " + ye)
        }

        function p(e, t) {
            return -1 !== t.indexOf("-") && (s("Negative CSS value ignored for " + e), t = ""), t
        }

        function g(t, a) {
            e !== a && "" !== a && "null" !== a && (document.body.style[t] = a, r("Body " + t + ' set to "' + a + '"'))
        }

        function u() {
            e === W && (W = K + "px"), g("margin", p("margin", W))
        }

        function m() {
            document.documentElement.style.height = "", document.body.style.height = "", r('HTML & body height set to "auto"')
        }

        function h(e) {
            var i = {
                add: function(a) {
                    function n() {
                        L(e.eventName, e.eventType)
                    }
                    Ae[a] = n, t(window, a, n)
                },
                remove: function(e) {
                    var t = Ae[e];
                    delete Ae[e], a(window, e, t)
                }
            };
            e.eventNames && Array.prototype.map ? (e.eventName = e.eventNames[0], e.eventNames.map(i[e.method])) : i[e.method](e.eventName), r(n(e.method) + " event listener: " + e.eventType)
        }

        function v(e) {
            h({
                method: e,
                eventType: "Animation Start",
                eventNames: ["animationstart", "webkitAnimationStart"]
            }), h({
                method: e,
                eventType: "Animation Iteration",
                eventNames: ["animationiteration", "webkitAnimationIteration"]
            }), h({
                method: e,
                eventType: "Animation End",
                eventNames: ["animationend", "webkitAnimationEnd"]
            }), h({
                method: e,
                eventType: "Input",
                eventName: "input"
            }), h({
                method: e,
                eventType: "Mouse Up",
                eventName: "mouseup"
            }), h({
                method: e,
                eventType: "Mouse Down",
                eventName: "mousedown"
            }), h({
                method: e,
                eventType: "Orientation Change",
                eventName: "orientationchange"
            }), h({
                method: e,
                eventType: "Print",
                eventName: ["afterprint", "beforeprint"]
            }), h({
                method: e,
                eventType: "Ready State Change",
                eventName: "readystatechange"
            }), h({
                method: e,
                eventType: "Touch Start",
                eventName: "touchstart"
            }), h({
                method: e,
                eventType: "Touch End",
                eventName: "touchend"
            }), h({
                method: e,
                eventType: "Touch Cancel",
                eventName: "touchcancel"
            }), h({
                method: e,
                eventType: "Transition Start",
                eventNames: ["transitionstart", "webkitTransitionStart", "MSTransitionStart", "oTransitionStart", "otransitionstart"]
            }), h({
                method: e,
                eventType: "Transition Iteration",
                eventNames: ["transitioniteration", "webkitTransitionIteration", "MSTransitionIteration", "oTransitionIteration", "otransitioniteration"]
            }), h({
                method: e,
                eventType: "Transition End",
                eventNames: ["transitionend", "webkitTransitionEnd", "MSTransitionEnd", "oTransitionEnd", "otransitionend"]
            }), "child" === ve && h({
                method: e,
                eventType: "IFrame Resized",
                eventName: "resize"
            })
        }

        function f(e, t, a, n) {
            return t !== e && (e in a || (s(e + " is not a valid option for " + n + "CalculationMethod."), e = t), r(n + ' calculation method set to "' + e + '"')), e
        }

        function b() {
            oe = f(oe, ie, Ee, "height")
        }

        function y() {
            Oe = f(Oe, Ce, Be, "width")
        }

        function k() {
            !0 === Y ? (v("add"), S()) : r("Auto Resize disabled")
        }

        function $() {
            r("Disable outgoing messages"), fe = !1
        }

        function w() {
            r("Remove event listener: Message"), a(window, "message", V)
        }

        function I() {
            null !== J && J.disconnect()
        }

        function M() {
            v("remove"), I(), clearInterval(de)
        }

        function C() {
            $(), w(), !0 === Y && M()
        }

        function O() {
            var e = document.createElement("div");
            e.style.clear = "both", e.style.display = "block", document.body.appendChild(e)
        }

        function P() {
            function a() {
                return {
                    x: window.pageXOffset !== e ? window.pageXOffset : document.documentElement.scrollLeft,
                    y: window.pageYOffset !== e ? window.pageYOffset : document.documentElement.scrollTop
                }
            }

            function n(e) {
                var t = e.getBoundingClientRect(),
                    n = a();
                return {
                    x: parseInt(t.left, 10) + parseInt(n.x, 10),
                    y: parseInt(t.top, 10) + parseInt(n.y, 10)
                }
            }

            function i(t) {
                function a(e) {
                    var t = n(e);
                    r("Moving to in page link (#" + i + ") at x: " + t.x + " y: " + t.y), q(t.y, t.x, "scrollToOffset")
                }
                var i = t.split("#")[1] || t,
                    o = decodeURIComponent(i),
                    s = document.getElementById(o) || document.getElementsByName(o)[0];
                e !== s ? a(s) : (r("In page link (#" + i + ") not found in iFrame, so sending to parent"), q(0, 0, "inPageLink", "#" + i))
            }

            function o() {
                "" !== location.hash && "#" !== location.hash && i(location.href)
            }

            function l() {
                function e(e) {
                    function a(e) {
                        e.preventDefault(), i(this.getAttribute("href"))
                    }
                    "#" !== e.getAttribute("href") && t(e, "click", a)
                }
                Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'), e)
            }

            function c() {
                t(window, "hashchange", o)
            }

            function d() {
                setTimeout(o, te)
            }

            function p() {
                Array.prototype.forEach && document.querySelectorAll ? (r("Setting up location.hash handlers"), l(), c(), d()) : s("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")
            }
            return le.enable ? p() : r("In page linking not enabled"), {
                findTarget: i
            }
        }

        function T() {
            r("Enable public methods"), Pe.parentIFrame = {
                autoResize: function(e) {
                    return !0 === e && !1 === Y ? (Y = !0, k()) : !1 === e && !0 === Y && (Y = !1, M()), Y
                },
                close: function() {
                    q(0, 0, "close"), C()
                },
                getId: function() {
                    return me
                },
                getPageInfo: function(e) {
                    "function" == typeof e ? (xe = e, q(0, 0, "pageInfo")) : (xe = function() {}, q(0, 0, "pageInfoStop"))
                },
                moveToAnchor: function(e) {
                    le.findTarget(e)
                },
                reset: function() {
                    U("parentIFrame.reset")
                },
                scrollTo: function(e, t) {
                    q(t, e, "scrollTo")
                },
                scrollToOffset: function(e, t) {
                    q(t, e, "scrollToOffset")
                },
                sendMessage: function(e, t) {
                    q(0, 0, "message", JSON.stringify(e), t)
                },
                setHeightCalculationMethod: function(e) {
                    oe = e, b()
                },
                setWidthCalculationMethod: function(e) {
                    Oe = e, y()
                },
                setTargetOrigin: function(e) {
                    r("Set targetOrigin: " + e), ye = e
                },
                size: function(e, t) {
                    var a = "" + (e ? e : "") + (t ? "," + t : "");
                    L("size", "parentIFrame.size(" + a + ")", e, t)
                }
            }
        }

        function N() {
            0 !== ce && (r("setInterval: " + ce + "ms"), de = setInterval(function() {
                L("interval", "setInterval: " + ce)
            }, Math.abs(ce)))
        }

        function x() {
            function t(e) {
                function t(e) {
                    !1 === e.complete && (r("Attach listeners to " + e.src), e.addEventListener("load", o, !1), e.addEventListener("error", s, !1), d.push(e))
                }
                "attributes" === e.type && "src" === e.attributeName ? t(e.target) : "childList" === e.type && Array.prototype.forEach.call(e.target.querySelectorAll("img"), t)
            }

            function a(e) {
                d.splice(d.indexOf(e), 1)
            }

            function n(e) {
                r("Remove listeners from " + e.src), e.removeEventListener("load", o, !1), e.removeEventListener("error", s, !1), a(e)
            }

            function i(t, a, i) {
                n(t.target), L(a, i + ": " + t.target.src, e, e)
            }

            function o(e) {
                i(e, "imageLoad", "Image loaded")
            }

            function s(e) {
                i(e, "imageLoadFailed", "Image load failed")
            }

            function l(e) {
                L("mutationObserver", "mutationObserver: " + e[0].target + " " + e[0].type), e.forEach(t)
            }

            function c() {
                var e = document.querySelector("body"),
                    t = {
                        attributes: !0,
                        attributeOldValue: !1,
                        characterData: !0,
                        characterDataOldValue: !1,
                        childList: !0,
                        subtree: !0
                    };
                return g = new p(l), r("Create body MutationObserver"), g.observe(e, t), g
            }
            var d = [],
                p = window.MutationObserver || window.WebKitMutationObserver,
                g = c();
            return {
                disconnect: function() {
                    "disconnect" in g && (r("Disconnect body MutationObserver"), g.disconnect(), d.forEach(n))
                }
            }
        }

        function S() {
            var e = 0 > ce;
            window.MutationObserver || window.WebKitMutationObserver ? e ? N() : J = x() : (r("MutationObserver not supported in this browser!"), N())
        }

        function A(e, t) {
            function a(e) {
                var a = /^\d+(px)?$/i;
                if (a.test(e)) return parseInt(e, z);
                var n = t.style.left,
                    i = t.runtimeStyle.left;
                return t.runtimeStyle.left = t.currentStyle.left, t.style.left = e || 0, e = t.style.pixelLeft, t.style.left = n, t.runtimeStyle.left = i, e
            }
            var n = 0;
            return t = t || document.body, "defaultView" in document && "getComputedStyle" in document.defaultView ? (n = document.defaultView.getComputedStyle(t, null), n = null !== n ? n[e] : 0) : n = a(t.currentStyle[e]), parseInt(n, z)
        }

        function D(e) {
            e > Ie / 2 && (Ie = 2 * e, r("Event throttle increased to " + Ie + "ms"))
        }

        function E(e, t) {
            for (var a = t.length, i = 0, o = 0, s = n(e), l = De(), c = 0; a > c; c++) i = t[c].getBoundingClientRect()[e] + A("margin" + s, t[c]), i > o && (o = i);
            return l = De() - l, r("Parsed " + a + " HTML elements"), r("Element position calculated in " + l + "ms"), D(l), o
        }

        function B(e) {
            return [e.bodyOffset(), e.bodyScroll(), e.documentElementOffset(), e.documentElementScroll()]
        }

        function R(e, t) {
            function a() {
                return s("No tagged elements (" + t + ") found on page"), document.querySelectorAll("body *")
            }
            var n = document.querySelectorAll("[" + t + "]");
            return 0 === n.length && a(), E(e, n)
        }

        function _() {
            return document.querySelectorAll("body *")
        }

        function F(t, a, n, i) {
            function o() {
                ne = g, Me = u, q(ne, Me, t)
            }

            function s() {
                function t(e, t) {
                    var a = Math.abs(e - t) <= ke;
                    return !a
                }
                return g = e !== n ? n : Ee[oe](), u = e !== i ? i : Be[Oe](), t(ne, g) || Z && t(Me, u)
            }

            function l() {
                return !(t in {
                    init: 1,
                    interval: 1,
                    size: 1
                })
            }

            function c() {
                return oe in he || Z && Oe in he
            }

            function d() {
                r("No change in size detected")
            }

            function p() {
                l() && c() ? U(a) : t in {
                    interval: 1
                } || d()
            }
            var g, u;
            s() || "init" === t ? (G(), o()) : p()
        }

        function L(e, t, a, n) {
            function i() {
                e in {
                    reset: 1,
                    resetPage: 1,
                    init: 1
                } || r("Trigger event: " + t)
            }

            function o() {
                return $e && e in ee
            }
            o() ? r("Trigger event cancelled: " + e) : (i(), Re(e, t, a, n))
        }

        function G() {
            $e || ($e = !0, r("Trigger event lock on")), clearTimeout(we), we = setTimeout(function() {
                $e = !1, r("Trigger event lock off"), r("--")
            }, te)
        }

        function H(e) {
            ne = Ee[oe](), Me = Be[Oe](), q(ne, Me, e)
        }

        function U(e) {
            var t = oe;
            oe = ie, r("Reset trigger event: " + e), G(), H("reset"), oe = t
        }

        function q(t, a, n, i, o) {
            function s() {
                e === o ? o = ye : r("Message targetOrigin: " + o)
            }

            function l() {
                var s = t + ":" + a,
                    l = me + ":" + s + ":" + n + (e !== i ? ":" + i : "");
                r("Sending message to host page (" + l + ")"), be.postMessage(ge + l, o)
            }!0 === fe && (s(), l())
        }

        function V(e) {
            function a() {
                return ge === ("" + e.data).substr(0, ue)
            }

            function n() {
                return e.data.split("]")[1].split(":")[0]
            }

            function i() {
                return e.data.substr(e.data.indexOf(":") + 1)
            }

            function o() {
                return !("undefined" != typeof module && module.exports) && "iFrameResize" in window
            }

            function c() {
                return e.data.split(":")[2] in {
                    true: 1,
                    false: 1
                }
            }

            function d() {
                var t = n();
                t in g ? g[t]() : o() || c() || s("Unexpected message (" + e.data + ")")
            }

            function p() {
                !1 === ae ? d() : c() ? g.init() : r('Ignored message of type "' + n() + '". Received before initialization.')
            }
            var g = {
                init: function() {
                    function a() {
                        se = e.data, be = e.source, l(), ae = !1, setTimeout(function() {
                            re = !1
                        }, te)
                    }
                    "interactive" === document.readyState || "complete" === document.readyState ? a() : (r("Waiting for page ready"), t(window, "readystatechange", g.initFromParent))
                },
                reset: function() {
                    re ? r("Page reset ignored by init") : (r("Page size reset by host page"), H("resetPage"))
                },
                resize: function() {
                    L("resizeParent", "Parent window requested size check")
                },
                moveToAnchor: function() {
                    le.findTarget(i())
                },
                inPageLink: function() {
                    this.moveToAnchor()
                },
                pageInfo: function() {
                    var e = i();
                    r("PageInfoFromParent called from parent: " + e), xe(JSON.parse(e)), r(" --")
                },
                message: function() {
                    var e = i();
                    r("MessageCallback called from parent: " + e), Te(JSON.parse(e)), r(" --")
                }
            };
            a() && p()
        }

        function j() {
            "loading" !== document.readyState && window.parent.postMessage("[iFrameResizerChild]Ready", "*")
        }
        if ("undefined" != typeof window) {
            var Y = !0,
                z = 10,
                Q = "",
                K = 0,
                W = "",
                J = null,
                X = "",
                Z = !1,
                ee = {
                    resize: 1,
                    click: 1
                },
                te = 128,
                ae = !0,
                ne = 1,
                ie = "bodyOffset",
                oe = ie,
                re = !0,
                se = "",
                le = {},
                ce = 32,
                de = null,
                pe = !1,
                ge = "[iFrameSizer]",
                ue = ge.length,
                me = "",
                he = {
                    max: 1,
                    min: 1,
                    bodyScroll: 1,
                    documentElementScroll: 1
                },
                ve = "child",
                fe = !0,
                be = window.parent,
                ye = "*",
                ke = 0,
                $e = !1,
                we = null,
                Ie = 16,
                Me = 1,
                Ce = "scroll",
                Oe = Ce,
                Pe = window,
                Te = function() {
                    s("MessageCallback function not defined")
                },
                Ne = function() {},
                xe = function() {},
                Se = {
                    height: function() {
                        return s("Custom height calculation function not defined"), document.documentElement.offsetHeight
                    },
                    width: function() {
                        return s("Custom width calculation function not defined"), document.body.scrollWidth
                    }
                },
                Ae = {},
                De = Date.now || function() {
                    return (new Date).getTime()
                },
                Ee = {
                    bodyOffset: function() {
                        return document.body.offsetHeight + A("marginTop") + A("marginBottom")
                    },
                    offset: function() {
                        return Ee.bodyOffset()
                    },
                    bodyScroll: function() {
                        return document.body.scrollHeight
                    },
                    custom: function() {
                        return Se.height()
                    },
                    documentElementOffset: function() {
                        return document.documentElement.offsetHeight
                    },
                    documentElementScroll: function() {
                        return document.documentElement.scrollHeight
                    },
                    max: function() {
                        return Math.max.apply(null, B(Ee))
                    },
                    min: function() {
                        return Math.min.apply(null, B(Ee))
                    },
                    grow: function() {
                        return Ee.max()
                    },
                    lowestElement: function() {
                        return Math.max(Ee.bodyOffset(), E("bottom", _()))
                    },
                    taggedElement: function() {
                        return R("bottom", "data-iframe-height")
                    }
                },
                Be = {
                    bodyScroll: function() {
                        return document.body.scrollWidth
                    },
                    bodyOffset: function() {
                        return document.body.offsetWidth
                    },
                    custom: function() {
                        return Se.width()
                    },
                    documentElementScroll: function() {
                        return document.documentElement.scrollWidth
                    },
                    documentElementOffset: function() {
                        return document.documentElement.offsetWidth
                    },
                    scroll: function() {
                        return Math.max(Be.bodyScroll(), Be.documentElementScroll())
                    },
                    max: function() {
                        return Math.max.apply(null, B(Be))
                    },
                    min: function() {
                        return Math.min.apply(null, B(Be))
                    },
                    rightMostElement: function() {
                        return E("right", _())
                    },
                    taggedElement: function() {
                        return R("right", "data-iframe-width")
                    }
                },
                Re = i(F);
            t(window, "message", V), j()
        }
    }(),
    function() {
        "use strict";

        function e(e, t) {
            i.log("Change TTL"), e.digestTtl(30)
        }

        function t(e) {
            e.message = "", e.template = '<div class="loader"></div>', e.requestFilter = function(e) {
                return !(e.url.indexOf("metasrv/api") > -1) && (!e.url.match(/(?:\/api\/hotel\/meta\-keyword\-search)/) && (!(e.url.indexOf("hotel/filter-availability") > -1) && void 0))
            }
        }

        function a(e, t, a, n, o, r, s, l, c, d, p, g, u, m, h) {
            function v(e) {
                var t = !1,
                    a = g.isAuthenticated();
                if (i.log("app.module - processB2B2CMessage --- isB2B2C: " + $ibe.isB2B2C() + ", isAuth: " + a), $ibe.isB2B2C() && (!angular.isUndefined(a) && a ? g.hasAuthority("ROLE_B2B") || (i.log("app.module - user already login but doesnt have ROLE_B2B"), t = !0) : (i.log("app.module - user access B2B2C directly or Logout"), t = !0)), i.log("app.module - processB2B2CMessage --- processB2B2CMsg: " + t + " - isGotoB2B: " + e), t) {
                    var n = {};
                    n.redirectUrl = $ibe.getB2BAppUrl(), e ? o.location.href = n.redirectUrl : u.openB2B2CDialog(n)
                }
            }
            if (e.initialize(), t.initialize(), n.$state = s, n.$settings = r, i.log("Run - b2bURL: " + $ibe.getB2BAppUrl()), i.log("Run - saleChannel: " + $ibe.getSaleChannel()), i.log("Run - tokenKey: " + $ibe.getTokenKey()), o.addEventListener("storage", function(e) {
                    var t = e.key,
                        r = e.newValue,
                        s = e.url,
                        l = e.oldValue;
                    if (i.log("storage event: key: " + t + ", url: " + s + ", oldValue: " + l + ", newValue: " + r + ", window loation: " + o.location.origin), $ibe.isB2C()) {
                        if (i.log("process for B2C request for normal-login and social-login..."), "jhi-authenticationToken" === t && s.indexOf(o.location.origin) !== -1) !l || null !== r && "" !== r ? l && null !== l && "" !== l || !r || n.$broadcast("syncAuthenticationSuccess") : n.$broadcast("syncLogout");
                        else if ("social-login-success" == t && m.isIE()) {
                            if (i.log("Receive social message login success for IE"), "social::success" != r) return;
                            var d = a.get("social-authentication");
                            i.log("token = " + d), d && c.loginWithToken(d, !1).then(function() {
                                a.remove("social-authentication"), g.identity(!0).then(function() {
                                    n.$broadcast("authenticationSuccess")
                                })
                            }), localStorage.setItem("social-login-success", "")
                        }
                    } else $ibe.isB2B2C() && (i.log("process for B2B2C request for having tokenKeys..."), "jhi-authenticationToken" === t && s.indexOf(o.location.origin) !== -1 && (!l || null !== r && "" !== r ? r && l != r && n.$broadcast("syncAuthenticationSuccess") : n.$broadcast("syncLogout")))
                }), h.jsonp("https://api.ipify.org/?format=jsonp&callback=JSON_CALLBACK").then(function(e) {
                    i.log(e), localStorage.setItem("client-ip", e.data.ip)
                }), Offline.options = {
                    checkOnLoad: !1,
                    interceptRequests: !0,
                    reconnect: {
                        initialDelay: 3,
                        delay: 10
                    },
                    requests: !0
                }, !$.fn.bootstrapDP && $.fn.datepicker && $.fn.datepicker.noConflict) {
                var f = $.fn.datepicker.noConflict();
                $.fn.bootstrapDP = f
            }!$.fn.bootstrapDTP && $.fn.datetimepicker && ($.fn.bootstrapDTP = $.fn.datetimepicker), d.searchAirportsLocal("VN").then(function(e) {
                var t = e;
                p.setVnAirports(t)
            }), n.$on("B2B2CGatewayApp.http5xxError", function(e, t) {
                i.log("--->>> INFO: B2B2CGatewayApp.httpError: " + t.status);
                var a = {
                    title: "Lỗi Kết Nối",
                    message: "Hiện nay bạn không kết nối được với dịch vụ của chúng tôi, xin vui lòng thử lại sau!"
                };
                u.openAlertDialog(a)
            }), n.$on("authenticationSuccess", function() {
                i.log("app.module - authenticationSuccess --- Checking.... "), v()
            }), n.$on("logoutSuccess", function() {
                if (i.log("Run - logoutSuccess - saleChannel: " + $ibe.getSaleChannel()), $ibe.isB2B2C())
                    if (o.opener) {
                        i.log("app.module - logoutSuccess --- call - $window.close() .... ");
                        try {
                            o.close()
                        } catch (e) {
                            i.log("app.module - $window.close() --- err: " + e)
                        }
                    } else {
                        i.log("app.module - logoutSuccess --- call - processB2B2CMessage .... ");
                        var e = !0;
                        v(e)
                    }
            }), n.$on("loadAppStateSuccess", function() {
                i.log("Run - loadAppStateSuccess - saleChannel: " + $ibe.getSaleChannel()), $ibe.hasTokenKey() || (i.log("rootScope - app.module - loadAppStateSuccess --- Checking.... "), v())
            }), n.$on("onUnload", function(e) {
                if ($ibe.isB2B2C()) {
                    c.logout();
                    try {
                        $ibe.resetTokenKey()
                    } catch (e) {
                        i.log("app.module - onUnload - resetTokenKey - err: " + e);
                    }
                    i.log("app.module - onBeforeUnload - leaving page")
                }
            }), n.$watch(function() {
                return window.location.href
            }, function(e) {
                try {
                    window.top.postMessage("gtdIframeHref:" + btoa(e), "*")
                } catch (e) {
                    i.log("Error postMessage")
                }
            })
        }
        t.$inject = ["blockUIConfig"];
        var n = angular.module("B2B2CGatewayApp", ["ngStorage", "tmh.dynamicLocale", "pascalprecht.translate", "ngResource", "ngCookies", "ngAria", "ngCacheBuster", "ngFileUpload", "ui.bootstrap", "ui.bootstrap.datetimepicker", "ui.router", "infinite-scroll", "ngSanitize", "oc.lazyLoad", "credit-cards", "slickCarousel", "blockUI"]).config(["$rootScopeProvider", "$locationProvider", e]).config(t).run(a);
        n.config(["$ocLazyLoadProvider", function(e) {
            e.config({})
        }]), n.config(["$controllerProvider", function(e) {
            e.allowGlobals()
        }]), n.factory("settings", ["$rootScope", function(e) {
            var t = {
                layout: {
                    pageSidebarClosed: !1,
                    pageContentWhite: !0,
                    pageBodySolid: !1,
                    pageAutoScrollOnLoad: 1e3
                },
                assetsPath: "../bower_components/gtd-theme",
                globalPath: "../bower_components/gtd-theme/global",
                layoutPath: "../bower_components/gtd-theme/layouts/layout3"
            };
            return e.settings = t, t
        }]), n.factory("beforeUnload", ["$rootScope", "$window", function(e, t) {
            return t.onunload = function() {
                e.$broadcast("onUnload")
            }, {}
        }]), n.controller("AppController", ["$scope", "$rootScope", "$location", "$cookies", "ThemeCfg", "MerchantService", "$state", "AuthServerProvider", function(e, t, a, n, i, o, r, s) {
            function l() {
                p(), o.verifyMerchant().then(function(e) {
                    e.data && e.data.agencyCode ? o.login() : u()
                }, function(e) {
                    u()
                }), o.login()
            }

            function c() {
                var e = a.search().user,
                    t = a.search().signature;
                e && t ? o.seaBankValidate(e, t).then(function(e) {
                    e.data && e.data.success ? (o.updateMsisdn(e.data.result), o.login()) : u()
                }, function(e) {
                    u()
                }) : o.login()
            }

            function d() {
                var e = a.search().data;
                e || (e = n.get("data"));
                var t = a.search().key;
                t || (t = n.get("key")), o.lienVietValidate(e, t).then(function(e) {
                    e.data && e.data.success ? (o.updateMsisdn(e.data.result), o.login()) : u()
                }, function(e) {
                    u()
                })
            }

            function p() {
                e.$on("$stateChangeSuccess", function() {
                    a.replace()
                })
            }

            function g() {
                o.fSoftValidate().then(function(e) {
                    e.data && e.data.success ? (o.updateMsisdn(e.data.result.userId), o.login().then(function(t) {
                        o.fSoftSearchFlight(e.data.result)
                    }, function(e) {
                        u()
                    })) : u()
                }, function(e) {
                    u()
                })
            }

            function u() {
                window.location.href = "#/error-partner"
            }
            e.$on("$viewContentLoaded", function() {
                App.initComponents(), Layout.init()
            });
            var m = new Date;
            if (m.setDate(m.getDate() + 30), a.search().embed ? (n.put("liteEmbed", !0, {
                    expires: m
                }), localStorage.setItem("liteEmbed", !0)) : (n.put("liteEmbed", !1, {
                    expires: m
                }), localStorage.setItem("liteEmbed", !1)), a.search().merchant_code || n.get("merchant_code") || localStorage.getItem("merchant_code")) {
                var h = a.search().merchant_code,
                    v = n.get("merchant_code") || localStorage.getItem("merchant_code"),
                    m = new Date;
                switch (m.setDate(m.getDate() + 30), h && h != v && (localStorage.setItem("merchant_code", h), n.put("merchant_code", h, {
                    expires: m
                })), h) {
                    case "LIENVIETBANK":
                        d();
                        break;
                    case "SEABANK":
                        c();
                        break;
                    case "FSOFT":
                        g();
                        break;
                    case "VIETTEL":
                        l();
                        break;
                    case "TIKI":
                        l();
                        break;
                    default:
                        if (a.search().access_token) o.loginWithToken(a.search().access_token);
                        else {
                            var f = s.getToken();
                            f || u()
                        }
                }
            } else u();
            e.this_route = function() {
                var e = n.get("merchant_code") || localStorage.getItem("merchant_code"),
                    t = a.search().merchant_code;
                return t ? (t !== e && location.reload(), String(a.search().merchant_code).toUpperCase()) : String(e).toUpperCase()
            }, e.enable_template = function() {
                var e = n.get("merchant_code") || localStorage.getItem("merchant_code");
                return !i[String(e).toUpperCase()]
            }
        }]), n.controller("SidebarController", ["$scope", function(e) {
            e.$on("$includeContentLoaded", function() {
                Layout.initSidebar($state)
            })
        }]), n.controller("QuickSidebarController", ["$scope", function(e) {
            e.$on("$includeContentLoaded", function() {
                setTimeout(function() {
                    QuickSidebar.init()
                }, 2e3)
            })
        }]), n.controller("PageHeadController", ["$scope", function(e) {
            e.$on("$includeContentLoaded", function() {
                Demo.init()
            })
        }]), n.controller("ThemePanelController", ["$scope", function(e) {
            e.$on("$includeContentLoaded", function() {
                Demo.init()
            })
        }]), n.controller("FooterController", ["$scope", function(e) {
            e.$on("$includeContentLoaded", function() {
                Layout.initFooter()
            })
        }]), a.$inject = ["stateHandler", "translationHandler", "$cookies", "$rootScope", "$window", "settings", "$state", "beforeUnload", "Auth", "MetaData", "GlobalSrv", "Principal", "DialogService", "ValidationUtils", "$http"];
        var i = function(e) {
            return {
                log: function(t) {
                    e.log(t)
                }
            }
        }(window.console);
        window.console = i, String.prototype.endsWith || (String.prototype.endsWith = function(e, t) {
            return t < this.length ? t |= 0 : t = this.length, this.substr(t - e.length, e.length) === e
        }), String.prototype.startsWith || (String.prototype.startsWith = function(e, t) {
            return this.substr(t || 0, e.length) === e
        }), String.prototype.toTitleCase || (String.prototype.toTitleCase = function() {
            return this.toLowerCase().replace(/(^|\s)([a-z])/g, function(e, t, a) {
                return t + a.toUpperCase()
            })
        }), String.prototype.includes || (String.prototype.includes = function(e) {
            var t = !1;
            return this.indexOf(e) !== -1 && (t = !0), t
        })
    }(),
    function() {
        if (jQuery && jQuery.fn && jQuery.fn.select2 && jQuery.fn.select2.amd) var e = jQuery.fn.select2.amd;
        return e.define("select2/i18n/vi", [], function() {
            return {
                inputTooLong: function(e) {
                    var t = e.input.length - e.maximum,
                        a = "Vui lòng nhập ít hơn " + t + " ký tự";
                    return 1 != t && (a += "s"), a
                },
                inputTooShort: function(e) {
                    var t = e.minimum - e.input.length,
                        a = "Vui lòng nhập nhiều hơn " + t + " ký tự";
                    return a
                },
                loadingMore: function() {
                    return "Đang lấy thêm kết quả…"
                },
                maximumSelected: function(e) {
                    var t = "Chỉ có thể chọn được " + e.maximum + " lựa chọn";
                    return t
                },
                noResults: function() {
                    return "Không tìm thấy kết quả"
                },
                searching: function() {
                    return "Đang tìm…"
                }
            }
        }), {
            define: e.define,
            require: e.require
        }
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            var o = e(i + "/api/users/:login", {}, {
                query: {
                    method: "GET",
                    isArray: !0
                },
                get: {
                    method: "GET",
                    transformResponse: function(e) {
                        return e = angular.fromJson(e)
                    }
                },
                save: {
                    method: "POST"
                },
                update: {
                    method: "PUT"
                },
                delete: {
                    method: "DELETE"
                }
            });
            return o
        }
        angular.module("B2B2CGatewayApp").factory("User", e), e.$inject = ["$resource", "$http", "$log", "SUBSCRIBED_URL", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            function r(e, r) {
                var s = {
                    email: e,
                    phone: r
                };
                return a.log(s), a.log(n), t.post(o + n, s).then(function(e) {
                    return a.log("successCallback gPaymentBooking"), e.data ? e.data : {}
                }, function(e) {
                    return a.log("errorCallback gPaymentBooking"), i.reject(e)
                })
            }
            var s = {
                Subscribed: r
            };
            return s
        }
        angular.module("B2B2CGatewayApp").factory("Subscribed", e), e.$inject = ["$resource", "$http", "$log", "SUBSCRIBED_URL", "$q", "API_URL"]
    }(),
    function() {
        "use strict";

        function e() {
            function e() {}

            function t() {}
            var a = {
                hideBodyScroll: e,
                showBodyScroll: t
            };
            return a
        }
        angular.module("B2B2CGatewayApp").factory("UIService", e), e.$inject = []
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f, b, y, k, $, w, I, M;
            return {
                getSavedSearchOption: function() {
                    var e = t.savedSearchOptions;
                    return void 0 != e && null != e || (e = {}), e
                },
                setSavedSearchOption: function(e) {
                    t.savedSearchOptions = e
                },
                getHotelSavedSearchOption: function() {
                    var e = t.hotelSavedSearchOptions;
                    return void 0 != e && null != e || (e = {}), e
                },
                setHotelSavedSearchOption: function(e) {
                    t.hotelSavedSearchOptions = e
                },
                getSearchOption: function() {
                    var e = t.searchOptions;
                    return void 0 != e && null != e || (e = {}), e
                },
                setSearchOption: function(e) {
                    t.searchOptions = e
                },
                getSearchResult: function() {
                    var e = n;
                    return void 0 != e && null != e || (e = []), e
                },
                setSearchResult: function(e) {
                    n = e
                },
                getAdvanceSearchFilterOptions: function() {
                    var e = i;
                    return void 0 != e && null != e || (e = []), e
                },
                setAdvanceSearchFilterOptions: function(e) {
                    i = e
                },
                getDepartSearchOption: function() {
                    var e = t.departSearchOptions;
                    return void 0 != e && null != e || (e = {}), e
                },
                setDepartSearchOption: function(e) {
                    t.departSearchOptions = e
                },
                getDepartSearchResult: function() {
                    var e = o;
                    return void 0 != e && null != e || (e = {}), e
                },
                setDepartSearchResult: function(e) {
                    o = e
                },
                getReturnSearchOption: function() {
                    var e = t.returnSearchOptions;
                    return void 0 != e && null != e || (e = {}), e
                },
                setReturnSearchOption: function(e) {
                    t.returnSearchOptions = e
                },
                getReturnSearchResult: function() {
                    var e = r;
                    return void 0 != e && null != e || (e = {}), e
                },
                setReturnSearchResult: function(e) {
                    r = e
                },
                getDepartFlight: function() {
                    var e = s;
                    return void 0 != e && null != e || (e = {}), e
                },
                setDepartFlight: function(e) {
                    s = e
                },
                getReturnFlight: function() {
                    var e = l;
                    return void 0 != e && null != e || (e = {}), e
                },
                setReturnFlight: function(e) {
                    l = e
                },
                getDepartGroupItem: function() {
                    var e = c;
                    return void 0 != e && null != e || (e = {}), e
                },
                setDepartGroupItem: function(e) {
                    c = e
                },
                getDepartPricedItinerary: function() {
                    var e = d;
                    return void 0 != e && null != e || (e = {}), e
                },
                setDepartPricedItinerary: function(e) {
                    d = e
                },
                getOrgDepartGroupItem: function() {
                    var e = p;
                    return void 0 != e && null != e || (e = {}), e
                },
                setOrgDepartGroupItem: function(e) {
                    p = e
                },
                getOrgDepartPricedItinerary: function() {
                    var e = g;
                    return void 0 != e && null != e || (e = {}), e
                },
                setOrgDepartPricedItinerary: function(e) {
                    g = e
                },
                getReturnGroupItem: function() {
                    var e = u;
                    return void 0 != e && null != e || (e = {}), e
                },
                setReturnGroupItem: function(e) {
                    u = e
                },
                getReturnPricedItinerary: function() {
                    var e = m;
                    return void 0 != e && null != e || (e = {}), e
                },
                setReturnPricedItinerary: function(e) {
                    m = e
                },
                getBookingModel: function() {
                    var e = h;
                    return void 0 != e && null != e || (e = {}), e
                },
                setBookingModel: function(e) {
                    h = e
                },
                getPaymentModel: function() {
                    var e = v;
                    return void 0 != e && null != e || (e = {}), e
                },
                setPaymentModel: function(e) {
                    v = e
                },
                getHotelSearchOptions: function() {
                    var e = t.hotelSearchOptions;
                    return void 0 != e && null != e || (e = {}), e
                },
                setHotelSearchOptions: function(e) {
                    t.hotelSearchOptions = e
                },
                getHotelSearchResult: function() {
                    var e = b;
                    return void 0 != e && null != e || (e = {}), e
                },
                setHotelSearchResult: function(e) {
                    b = e
                },
                getHotelAdvanceSearchFilterOptions: function() {
                    var e = f;
                    return void 0 != e && null != e || (e = []), e
                },
                setHotelAdvanceSearchFilterOptions: function(e) {
                    f = e
                },
                getSelectedHotel: function() {
                    var e = y;
                    return void 0 != e && null != e || (e = {}), e
                },
                setSelectedHotel: function(e) {
                    y = e
                },
                getSelectedHotelAvail: function() {
                    var e = k;
                    return void 0 != e && null != e || (e = {}), e
                },
                setSelectedHotelAvail: function(e) {
                    k = e
                },
                getSelectedHotelProduct: function() {
                    var e = $;
                    return void 0 != e && null != e || (e = {}), e
                },
                setSelectedHotelProduct: function(e) {
                    $ = e
                },
                getSelectedHotelRoom: function() {
                    var e = w;
                    return void 0 != e && null != e || (e = {}), e
                },
                setSelectedHotelRoom: function(e) {
                    w = e
                },
                getHotelBookingModel: function() {
                    var e = I;
                    return void 0 != e && null != e || (e = {}), e
                },
                setHotelBookingModel: function(e) {
                    I = e
                },
                getHotelPaymentModel: function() {
                    var e = M;
                    return void 0 != e && null != e || (e = {}), e
                },
                setHotelPaymentModel: function(e) {
                    M = e
                },
                getAllAirlines: function() {
                    var e = t.allAirlines;
                    return void 0 != e && null != e || (e = []), e
                },
                setAllAirlines: function(e) {
                    t.allAirlines = e
                },
                getStartTransactionTime: function() {
                    var e = a;
                    return void 0 != e && null != e || (a = new Date), a
                },
                setStartTransactionTime: function(e) {
                    a = e
                },
                setNewStartTransactionTime: function() {
                    a = new Date
                }
            }
        }
        angular.module("B2B2CGatewayApp").factory("DataService", e), e.$inject = ["$resource", "$localStorage"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a() {
                return angular.isUndefined(n) && (n = e.get(t + "/api/profile-info").then(function(e) {
                    if (e.data.activeProfiles) {
                        var t = {};
                        return t.activeProfiles = e.data.activeProfiles, t.ribbonEnv = e.data.ribbonEnv, t.inProduction = e.data.activeProfiles.indexOf("prod") !== -1, t.swaggerEnabled = e.data.activeProfiles.indexOf("swagger") !== -1, t
                    }
                })), n
            }
            var n, i = {
                getProfileInfo: a
            };
            return i
        }
        angular.module("B2B2CGatewayApp").factory("ProfileService", e), e.$inject = ["$http", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(t, a, n) {
                e.getProfileInfo().then(function(e) {
                    e.ribbonEnv && (t.ribbonEnv = e.ribbonEnv, a.addClass(e.ribbonEnv), a.removeClass("hidden"))
                })
            }
            var i = {
                replace: !0,
                restrict: "AE",
                template: '<div class="ribbon hidden"><a href="" data-translate="global.ribbon.{{ribbonEnv}}">{{ribbonEnv}}</a></div>',
                link: n
            };
            return i
        }
        angular.module("B2B2CGatewayApp").directive("pageRibbon", e), e.$inject = ["ProfileService", "$rootScope", "$translate"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(e, t, a, n) {
                var i = document.createElement("form");
                document.body.appendChild(i), i.method = "post", i.action = e;
                var o = document.createElement("input");
                o.type = "hidden", o.name = "PaReq", o.value = t, i.appendChild(o);
                var r = document.createElement("input");
                r.type = "hidden", r.name = "TermUrl", r.value = n, i.appendChild(r);
                var s = document.createElement("input");
                s.type = "hidden", s.name = "MD", s.value = a, i.appendChild(s), i.submit()
            }
            var a = {
                redirectPayment3D: t
            };
            return a
        }
        angular.module("B2B2CGatewayApp").factory("gtdFormPayment3D", e), e.$inject = ["Base64"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g) {
            function u() {
                var e = [{
                    id: "HAN",
                    text: "Hà Nội"
                }, {
                    id: "SGN",
                    text: "Hồ Chí Minh"
                }, {
                    id: "DAD",
                    text: "Đà Nẵng"
                }, {
                    id: 3,
                    text: "Hội An"
                }, {
                    id: 4,
                    text: "Vũng Tàu"
                }, {
                    id: 5,
                    text: "Singapore"
                }, {
                    id: 6,
                    text: "Hongkong"
                }];
                return e
            }

            function m() {
                return t({
                    method: "GET",
                    url: g + s,
                    params: {
                        query: "",
                        page: 0,
                        size: 1e3
                    }
                }).then(function(e) {
                    return a.log("Search getAirlines result: "), a.log(e.data), i.setAllAirlines(e.data), e.data
                }, function(e) {
                    return e.data
                })
            }

            function h(e) {
                return t({
                    method: "GET",
                    url: g + r,
                    params: {
                        query: e
                    }
                }).then(function(e) {
                    return a.log("Search Airports result: "), a.log(e.data), n.addLocalAirports(e.data), e.data
                }, function(e) {
                    return e.data
                })
            }

            function v(e, i, o) {
                return t({
                    method: "GET",
                    url: g + r,
                    params: {
                        query: e
                    }
                }).then(function(e) {
                    a.log("Search Airports result: "), a.log(e.data), n.addLocalAirports(e.data);
                    var t = e.data,
                        r = [],
                        s = "";
                    "FROM" == o ? s = i.toAirPort : "TO" == o && (s = i.fromAirPort);
                    var l = !1,
                        c = n.getVnAirports();
                    return angular.forEach(c, function(e) {
                        s && e.code.toLowerCase() == s.toLowerCase() && "VN" == e.countryCode && (l = !0)
                    }), angular.forEach(t, function(e) {
                        e.code != s && ("domestic" == i.dtype ? "VN" == e.countryCode && r.push(e) : l ? "VN" != e.countryCode && r.push(e) : r.push(e))
                    }), r
                }, function(e) {
                    return e.data
                })
            }

            function f(e) {
                return t({
                    method: "GET",
                    url: g + r,
                    params: {
                        query: "1",
                        country: "VN",
                        page: 0,
                        size: 1e3
                    }
                }).then(function(e) {
                    return a.log("Search searchAirportsLocal result: "), a.log(e.data), n.addLocalAirports(e.data), e.data
                }, function(e) {
                    return []
                })
            }

            function b(e, a, i) {
                var o;
                return i && (e = "Air", a = ""), t({
                    method: "GET",
                    url: g + c,
                    params: {
                        query: o,
                        page: 0,
                        size: 1e3,
                        domain_name: e,
                        object_name: a
                    }
                }).then(function(e) {
                    return i && n.setAllLookups(e.data), e.data
                }, function(e) {
                    return e.data
                })
            }

            function y(e) {
                return t({
                    method: "GET",
                    url: g + d,
                    params: {
                        query: e
                    }
                }).then(function(e) {
                    return P++, a.log("Search searchDestinations result: "), a.log(P), e.data
                }, function(e) {
                    return []
                })
            }

            function k() {
                return t({
                    method: "GET",
                    url: g + l,
                    params: {
                        page: 0,
                        size: 1e3,
                        sort: "sortname,asc"
                    }
                }).then(function(e) {
                    return a.log("Search getCountries result: "), a.log(e.data), n.setAllCountries(e.data), e.data
                }, function(e) {
                    return a.log("errorCallback getCountries result: "), a.log(e), []
                })
            }

            function $() {
                return t({
                    method: "GET",
                    url: g + p,
                    params: {
                        page: 0,
                        size: 1e3
                    }
                }).then(function(e) {
                    return a.log("Search getAtmDebitOptions result: "), a.log(e.data), e.data
                }, function(e) {
                    return a.log("errorCallback getAtmDebitOptions result: "), a.log(e), []
                })
            }

            function w() {
                var e = [{
                    id: 0,
                    text: "Hà Nội"
                }, {
                    id: 1,
                    text: "Hồ Chí Minh"
                }, {
                    id: 2,
                    text: "Đà Nẵng"
                }, {
                    id: 3,
                    text: "Hội An"
                }, {
                    id: 4,
                    text: "Vũng Tàu"
                }, {
                    id: 5,
                    text: "Singapore"
                }, {
                    id: 6,
                    text: "Hongkong"
                }];
                return e
            }

            function I() {
                var e = [{
                    id: 1,
                    text: " ota_hotel.lower",
                    from: 0,
                    to: 1e6,
                    checked: !1
                }, {
                    id: 2,
                    text: "ota_hotel.from1",
                    from: 15e5,
                    to: 35e5,
                    checked: !1
                }, {
                    id: 3,
                    text: "ota_hotel.from2",
                    from: 35e5,
                    to: 55e5,
                    checked: !1
                }, {
                    id: 4,
                    text: "ota_hotel.higher",
                    from: 75e5,
                    to: -1,
                    checked: !1
                }];
                return e
            }

            function M() {
                var e = [{
                    id: 1,
                    text: "1",
                    checked: !1
                }, {
                    id: 2,
                    text: "2",
                    checked: !1
                }, {
                    id: 3,
                    text: "3",
                    checked: !1
                }, {
                    id: 4,
                    text: "4",
                    checked: !1
                }, {
                    id: 5,
                    text: "5",
                    checked: !1
                }].reverse();
                return e
            }

            function C() {
                var e = [{
                    id: 1,
                    text: "Free Wifi",
                    cls: "hotel-free-wifi-icon",
                    checked: !1
                }, {
                    id: 2,
                    text: "Có chỗ đậu xe",
                    cls: "hotel-free-car-icon",
                    checked: !1
                }, {
                    id: 3,
                    text: "Có phòng gym",
                    cls: "hotel-free-gym-icon",
                    checked: !1
                }, {
                    id: 4,
                    text: "Có phục vụ bữa ăn",
                    cls: "hotel-free-meal-icon",
                    checked: !1
                }];
                return e
            }
            var O = {
                getAirports: u,
                getAirlines: m,
                getCountries: k,
                searchAirports: h,
                searchAirportsWithout: v,
                searchAirportsLocal: f,
                searchLookups: b,
                searchDestinations: y,
                getHotelDestinationsAndPlaces: w,
                getPriceOptions: I,
                getStarRatingOptions: M,
                getHotelFeatures: C,
                getAtmDebitOptions: $
            };
            return O;
            var P
        }
        angular.module("B2B2CGatewayApp").factory("MetaData", e), e.$inject = ["$resource", "$http", "$log", "GlobalSrv", "DataService", "META_AIRPORT_URL", "META_SEARCH_AIRPORT_URL", "META_AIRLINE_URL", "META_COUNTRY_CODE_URL", "META_SEARCH_LOOKUP_URL", "META_DESTINATION_URL", "PAYMENT_ATM_DEBIT_OPTIONS", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f, b, y, k, $, w, I, M) {
            function C(t) {
                if (t) {
                    var a = {};
                    return e.log("++++++++++++++++++++++++++++"), e.log("searchHotelMetaData:"), e.log("val=" + t), e.log("++++++++++++++++++++++++++++"), i.post(I + d + "?keyword=" + t, a).then(function(t) {
                        return e.log("Search searchHotelMetaData result: "), e.log(t.data.result), s.addLocalDestinations(t.data.result), t.data.result
                    }, function(e) {
                        return []
                    })
                }
            }

            function O(n) {
                var s = {
                    page: n.page ? n.page : 0,
                    size: n.size ? n.size : k,
                    hotel_code: n.destinationCode,
                    checkin_date: moment(n.checkindate, "DD-MM-YYYY").format("MM-DD-YYYY"),
                    checkout_date: moment(n.checkoutdate, "DD-MM-YYYY").format("MM-DD-YYYY"),
                    aduts_qtt: n.adultNo ? n.adultNo : 1,
                    children_qtt: n.childrenNo ? n.childrenNo : 0
                };
                e.log("++++++++++++++++++++++++++++"), e.log("Search criteria searchHotel:"), e.log("paras="), e.log(s), e.log("++++++++++++++++++++++++++++");
                var l = [];
                if (n.pax)
                    for (var c = 0; c < n.pax.length; c++) {
                        var d = {};
                        d.adultQuantity = n.pax[c].adultNo, d.childrenAges = n.pax[c].paxDetails, l.push(d)
                    }
                return e.log("Search criteria :"), e.log("pax="), e.log(l), i.post(I + r.buildUrl(p, s), l).then(function(a) {
                    return e.log("successCallback searchHotel"), e.log(a), o(function() {
                        t.$broadcast("gtd-hotel-search-completed")
                    }), a.data
                }, function(n) {
                    return e.log("errorCallback searchHotel"), e.log(n), o(function() {
                        t.$broadcast("gtd-hotel-search-completed")
                    }), a.reject(n)
                })
            }

            function P(t) {
                var a = {
                        page: t.page ? t.page : 0,
                        size: t.size ? t.size : k,
                        sort: t.sortField ? t.sortField + "," + t.sortDir : "price,asc"
                    },
                    n = {
                        searchId: t.searchId
                    };
                n.filter = {}, t.advanceFilters && (n.filter = t.advanceFilters), t.sameLoc && (n.filter.sameLoc = t.sameLoc, n.filter.lat = t.lat, n.filter.lng = t.lng);
                var o = {
                    headers: {
                        "Content-Type": "application/json"
                    }
                };
                return e.log("++++++++++++++++++++++++++++"), e.log("Search criteria searchHotelInCache:"), e.log("data = " + n), e.log("paras = " + a), e.log("++++++++++++++++++++++++++++"), i.post(I + r.buildUrl(g, a), n, o).then(function(t) {
                    return e.log("successCallback searchHotelInCache"), e.log(t), t.data
                })
            }

            function T(t) {
                var a = {
                    searchId: t.searchId
                };
                return e.log("++++++++++++++++++++++++++++"), e.log("Search Options getAdvanceFilterOptions:"), e.log("data=" + a), e.log("++++++++++++++++++++++++++++"), i.post(I + u, a).then(function(t) {
                    return e.log("successCallback getAdvanceFilterOptions"), e.log("response = " + t), o(function() {}), t.data ? t.data.filter : {}
                })
            }

            function N(t, a) {
                e.log("selectedHotel = " + a);
                var n = {
                    searchId: t.searchId,
                    hotelId: a.id
                };
                a.hotelAvailabilityId && (n.hotelAvailabilityId = a.hotelAvailabilityId);
                var o = [];
                if (t.pax) {
                    for (var r = 0; r < t.pax.length; r++) {
                        var s = {};
                        s.adultQuantity = t.pax[r].adultNo, s.childrenAges = t.pax[r].paxDetails, o.push(s)
                    }
                    n.pax = o
                }
                var l = null;
                t.checkindate && (l = moment(t.checkindate, "DD-MM-YYYY").format("MM-DD-YYYY"), n.checkIn = l);
                var c = null;
                return t.checkoutdate && (c = moment(t.checkoutdate, "DD-MM-YYYY").format("MM-DD-YYYY"), n.checkOut = c), e.log("checkHotelAvailability criteria:"), e.log("data="), e.log(n), e.log("++++++++++++++++++++++++++++"), i.post(I + m, n).then(function(t) {
                    return e.log("successCallback checkHotelAvailability"), e.log("response = " + t), t.data ? t.data : {}
                })
            }

            function x(t, n, o, r) {
                e.log("hotel = " + n), e.log("product = " + o), e.log("room = " + r);
                var s = {
                    hotelAvailabilityId: n.id,
                    productId: o.id
                };
                return e.log("createDraftBooking criteria:"), e.log("data=" + s), e.log("++++++++++++++++++++++++++++"), i.post(I + h, s).then(function(t) {
                    return e.log("successCallback createDraftBooking"), e.log("response = " + t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback createDraftBooking"), e.log("response = " + t), a.reject(t)
                })
            }

            function S(t, n) {
                var o = {
                        bookingNumber: n.bookingNumber,
                        bookingTravelerInfos: [],
                        bookingContacts: [],
                        taxReceiptRequest: {
                            taxReceiptRequest: n.showForm,
                            bookingNumber: n.bookingNumber,
                            taxCompanyName: n.biCompany,
                            taxAddress1: n.biAddress,
                            taxAddress2: n.biMobile,
                            taxNumber: n.biMst,
                            taxPersonalInfoContact: JSON.stringify({
                                name: n.tPCName,
                                phone: n.tPCPhone,
                                email1: n.tPCemail,
                                fname: n.tPCfName,
                                phoneCode3: n.tPCPhoneCode,
                                note: n.tPCNote
                            })
                        }
                    },
                    r = [],
                    s = n.contacts;
                null !== s && void 0 !== s && angular.forEach(s, function(e, t) {
                    var a = e;
                    r.push({
                        gender: a.ciGender,
                        firstName: a.ciFName,
                        surName: a.ciName,
                        email: a.ciEmail,
                        phoneCode1: a.ciMobileCode,
                        phoneNumber1: a.ciMobile,
                        phoneCode2: a.ciMobileCode,
                        phoneNumber2: a.ciMobile
                    })
                }), o.bookingContacts = r;
                var l = [],
                    c = n.customers;
                return null !== c && void 0 !== c && angular.forEach(c, function(e, t) {
                    var a = e,
                        n = {
                            traveler: {},
                            serviceRequests: []
                        };
                    n.traveler = {
                        firstName: a.cuName,
                        surName: a.cuFamilyName,
                        gender: a.cuGender,
                        adultType: a.type,
                        dob: a.cuDob,
                        productCode: a.productCode
                    }, l.push(n)
                }), o.bookingTravelerInfos = l, e.log("addTicketTravellers criteria:"), e.log("data="), e.log(o), e.log("++++++++++++++++++++++++++++"), i.post(I + v, o).then(function(t) {
                    return e.log("successCallback addHotelTravellers"), e.log("response = " + t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback addHotelTravellers"), e.log("response = " + t), a.reject(t)
                })
            }

            function A(t, n, o) {
                n.cardModel && (n.cardModel.id = n.cardModel.cardId);
                var r = {
                    bookingPaymentType: {
                        bookingCode: o.bookingInfo.bookingCode,
                        bookingNumber: t.bookingNumber,
                        paymentType: n.paymentOption
                    },
                    payByCreditCardReq: {
                        bookingNumber: t.bookingNumber,
                        bookingCode: o.bookingInfo.bookingCode,
                        amount: c.getHotelTotalPricing(o),
                        card: n.cardModel,
                        paToken: n.paToken
                    }
                };
                return e.log("Hotel.paymentBooking:: data="), e.log(r), i.post(I + f, r).then(function(t) {
                    return e.log("successCallback paymentBooking"), e.log("response = " + t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback paymentBooking"), e.log("response = " + t), a.reject(t)
                })
            }

            function D(t, n, o, r) {
                e.log("productTypeproductType"), e.log(t);
                var s = {
                    params: {
                        status: n,
                        productType: t,
                        page: o,
                        size: r
                    }
                };
                return i.get(I + M, s).then(function(t) {
                    return e.log("successCallback PAYMENT_PROMO"), e.log(t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback PAYMENT_PROMO"), e.log(t), a.reject(t)
                })
            }

            function E(t, n, o) {
                var r = {
                    bookingPaymentType: {
                        bookingCode: o.bookingInfo.bookingCode,
                        bookingNumber: t.bookingNumber,
                        paymentType: n.paymentOption
                    }
                };
                return "VNPAYQR" === n.paymentOption ? r.payByVnPayReq = {
                    bookingNumber: t.bookingNumber,
                    bookingCode: o.bookingInfo.bookingCode,
                    amount: c.getHotelTotalPricing(o),
                    is_mobile: o.is_mobile
                } : r.payByDebitCardReq = {
                    bookingNumber: t.bookingNumber,
                    bookingCode: o.bookingInfo.bookingCode,
                    amount: c.getHotelTotalPricing(o),
                    address: n.cardModel.address,
                    email: n.cardModel.email,
                    fullname: n.cardModel.fullName,
                    mobile: n.cardModel.mobile,
                    paymentOption: n.cardModel.bank
                }, e.log(r.payByVnPayReq), e.log("gPaymentBooking criteria:"), e.log("Hotel.gPaymentBooking:: data="), e.log(r), e.log("++++++++++++++++++++++++++++"), i.post(I + y, r).then(function(t) {
                    return e.log("successCallback gPaymentBooking"), e.log("response = " + t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback gPaymentBooking"), e.log("response = " + t), a.reject(t)
                })
            }

            function B(t, n) {
                var o = {
                    bookingCode: n.bookingInfo.bookingCode,
                    bookingNumber: t.bookingNumber
                };
                return e.log("orderTickets criteria:"), e.log("Hotel.orderTickets:: data="), e.log(o), e.log("++++++++++++++++++++++++++++"), i.post(I + b, o).then(function(t) {
                    return e.log("successCallback orderTickets"), e.log("response = " + t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback orderTickets"), e.log("response = " + t), a.reject(t)
                })
            }

            function R(t) {
                var n = t.voucher,
                    o = {
                        voucherCode: n.voucherCode,
                        bookingNumber: t.bookingNumber
                    };
                return e.log("validateVoucher criteria:"), e.log("data=" + o), e.log("++++++++++++++++++++++++++++"), i.post(I + $, o).then(function(t) {
                    return e.log("successCallback validateVoucher"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback validateVoucher"), a.reject(t)
                })
            }

            function _(t) {
                var n = t.voucher,
                    o = {
                        voucherCode: n.voucherCode,
                        trackingCode: n.trackingCode,
                        bookingNumber: t.bookingNumber
                    };
                return e.log("redeemVoucher criteria:"), e.log("data=" + o), e.log("++++++++++++++++++++++++++++"), i.post(I + w, o).then(function(t) {
                    return e.log("successCallback redeemVoucher"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback redeemVoucher"), a.reject(t)
                })
            }
            var F = {
                searchHotelMetaData: C,
                searchHotel: O,
                searchHotelInCache: P,
                getAdvanceFilterOptions: T,
                checkHotelAvailability: N,
                createDraftBooking: x,
                addHotelTravellers: S,
                paymentBooking: A,
                gPaymentBooking: E,
                orderTickets: B,
                validateVoucher: R,
                redeemVoucher: _,
                gPaymentPromotion: D
            };
            return F
        }
        angular.module("B2B2CGatewayApp").factory("Hotel", e), e.$inject = ["$log", "$rootScope", "$q", "$resource", "$http", "$timeout", "RequestUtils", "GlobalSrv", "DataService", "PricingUtils", "HOTEL_SEARCH_METADATA_URL", "HOTEL_SEARCH_URL", "HOTEL_SEARCH_CACHE_URL", "HOTEL_FILTER_OPTIONS_URL", "HOTEL_CHECK_AVAILABILITY_URL", "HOTEL_DRAFT_BOOKING_URL", "HOTEL_ADD_BOOKING_TRAVELLER_URL", "HOTEL_PAYMENT_BOOKING_URL", "HOTEL_ORDER_HOTEL_URL", "PAYMENT_PAYMENT_BOOKING_URL", "DEFAULT_PAGE_SIZE", "PRICING_VOUCHER_VALIDATE_URL", "PRICING_VOUCHER_REDEEM_URL", "API_URL", "PAYMENT_PROMO_OPTIONS_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f) {
            function b() {
                var e = a.localDestinations;
                Ne = e || {};
                var t = a[be];
                t && (Ce = t[ye] ? t[ye] : Ce, Pe = t[$e] ? t[$e] : Pe, Te = t[ke] ? t[ke] : Te), Ce.hotel_code = Ne.code || ""
            }

            function y() {
                return angular.copy(Ne)
            }

            function k(e) {
                Ne = e, Ce.hotel_code = Ne.code, pe(xe.HOTEL_SELECTED_DESTINATION_CHANGED, Ne)
            }

            function $() {
                a.localDestinations = Ne
            }

            function w() {
                Ce = {
                    checkin_date: moment(new Date((new Date).getTime() + 864e5)).format("DD-MM-YYYY"),
                    checkout_date: moment(new Date((new Date).getTime() + 1728e5)).format("DD-MM-YYYY"),
                    hotel_code: Ce.hotel_code,
                    page: 0,
                    size: u
                }, Pe = [{
                    adultQuantity: 2,
                    childQuantity: 0,
                    childrenAges: []
                }], Te = {
                    featureOptions: [],
                    lat: null,
                    lng: null,
                    nameOptions: [],
                    priceOptions: [],
                    sameLoc: null,
                    starOptions: null
                }
            }

            function I() {
                var e = {};
                e[ye] = Ce, e[$e] = Pe, e[ke] = Te, a[be] = e
            }

            function M() {
                return Ce
            }

            function C(e) {
                Te.nameOptions = [e]
            }

            function O(e) {
                Te.priceOptions = e
            }

            function P(e) {
                Te.starOptions = e
            }

            function T(e) {
                Ce = e[ye] ? e[ye] : Ce, Pe = e[$e] ? e[$e] : Pe, Te = e[ke] ? e[ke] : Te, Oe = e[we] ? e[we] : Oe, Ce.hotel_code = Ne.code || "", de()
            }

            function N(e) {
                Pe = e, x()
            }

            function x() {
                pe(xe.HOTEL_PAX_CHANGED, Pe)
            }

            function S(e) {
                pe(xe.HOTEL_AVAILABILITY_CHANGED, e)
            }

            function A() {
                return xe
            }

            function D() {
                var e = {};
                return e[ye] = Ce, e[$e] = Pe, e[ke] = Te, e[we] = Oe, angular.copy(e)
            }

            function E() {
                return angular.copy(Pe)
            }

            function B(e) {}

            function R(a) {
                e.log("selectedHotel = " + a);
                var n = {
                    searchId: Oe.searchId,
                    hotelId: a.id,
                    hotelAvailabilityId: a.id + "|" + a.supplierSessionId,
                    pax: Pe,
                    checkIn: moment(Ce.checkin_date, "DD-MM-YYYY").format("MM-DD-YYYY"),
                    checkOut: moment(Ce.checkout_date, "DD-MM-YYYY").format("MM-DD-YYYY")
                };
                return oe(), t.post(f + v, n).then(function(t) {
                    re(), e.log("successCallback checkHotelAvailability"), e.log("response = " + t), S(t.data ? t.data : {})
                }, function(e) {
                    re()
                })
            }

            function _() {
                var e = {
                        roomQuantity: 0,
                        adultQuantity: 0,
                        childQuantity: 0
                    },
                    t = D();
                return e.roomQuantity = t.hotelSearchBody.length, t.hotelSearchBody.forEach(function(t) {
                    e.adultQuantity += +t.adultQuantity, e.childQuantity += +t.childQuantity
                }), e
            }

            function F() {
                Oe = {
                    page: 0,
                    size: u,
                    searchId: null,
                    subSearchIds: null,
                    sort: null,
                    totalPages: 0
                }, se()
            }

            function L() {
                Te = {
                    featureOptions: [],
                    lat: null,
                    lng: null,
                    nameOptions: [],
                    priceOptions: [],
                    sameLoc: null,
                    starOptions: null
                }, le()
            }

            function G(e) {
                Oe.page = e, se()
            }

            function H(e) {
                Oe.sort = e, se()
            }

            function U() {
                return Te
            }

            function q(e) {
                c.setSelectedHotel(e);
                r.go("hotel-detail/:hotel_id/:params", {
                    hotel_id: e.id,
                    params: d.encodeJson(D())
                }, {
                    absolute: !0
                });
                p.addRecentViewHotels(e)
            }

            function V() {
                Oe.page = 0
            }

            function j() {
                he.reject("http call aborted")
            }

            function Y() {
                clearTimeout(me)
            }

            function z() {
                document.body.scrollTop = 0, document.documentElement.scrollTop = 0
            }

            function Q(e) {
                ve && j(), he = l.defer(), ve = !0, e || oe();
                var a = {
                    searchId: Oe.searchId,
                    filter: Te
                };
                fe && (fe = !1, a.subSearchIds = [Oe.searchId]);
                var n = {
                    page: Oe.page,
                    size: Oe.size,
                    sort: Oe.sort
                };
                z(), t.post(f + h, a, {
                    params: n,
                    timeout: he.promise
                }).then(Z, ae)
            }

            function K() {
                r.go("hotel-search", {
                    params: d.encodeJson(D())
                })
            }

            function W() {
                ve && j(), Y(), he = l.defer(), ve = !0, F(), L(), oe(), App.scrollTop();
                var e = {
                    checkin_date: moment(Ce.checkin_date, "DD-MM-YYYY").format("MM-DD-YYYY"),
                    checkout_date: moment(Ce.checkout_date, "DD-MM-YYYY").format("MM-DD-YYYY"),
                    hotel_code: Ce.hotel_code,
                    page: "0",
                    size: u
                };
                Me++, fe = !0, $(), I(), t.post(f + g, Pe, {
                    params: e,
                    timeout: he.promise
                }).then(function(e) {
                    Z(e), !e.data.errors && e.data.hotels && e.data.hotels.length > 0 && (ie(), me = setTimeout(X, 2e3))
                }, ae)
            }

            function J(e, t) {
                var a = moment(e, "DD-MM-YYYY"),
                    n = moment(t, "DD-MM-YYYY"),
                    i = n.subtract(30, "days");
                return !!moment(a).isSameOrAfter(i)
            }

            function X() {
                Q(!0)
            }

            function Z(e) {
                ve = !1, re(), e.data.errors ? ne() : e.data.hotels && e.data.hotels.length > 0 ? (ce(e.data), ee(e.data.page, e.data.searchId)) : ne()
            }

            function ee(e, t) {
                Oe.page = e.pageNumber, Oe.searchId = t, Oe.subSearchIds = [t], Oe.totalPages = e.totalPage, Oe.size = e.offset, se()
            }

            function te() {
                return Oe
            }

            function ae(e) {
                ve = !1, Me <= Ie ? (me = setTimeout(function() {
                    W()
                }, 1e3), oe()) : (re(), ne(), Me = 0)
            }

            function ne() {
                pe(xe.SEARCH_ERROR)
            }

            function ie() {
                pe(xe.SHOW_SUB_LOADING)
            }

            function oe() {
                pe(xe.SHOW_LOADING)
            }

            function re() {
                pe(xe.HIDE_LOADING)
            }

            function se() {
                pe(xe.PAGEABLE_CHANGED, Oe)
            }

            function le() {
                pe(xe.HOTEL_ADVANCE_SEARCH_CHANGED, Te)
            }

            function ce(e) {
                pe(xe.FINISH_SEARCH, e)
            }

            function de() {
                I(), pe(xe.CHANGE_SEARCH_FILTER, D())
            }

            function pe(t, a) {
                e.debug("=== State changed ==="), e.info(t), e.debug(a), n.$emit(m, {
                    state: t,
                    payload: angular.copy(a)
                })
            }

            function ge() {
                o.open({
                    animation: !0,
                    backdrop: !0,
                    templateUrl: "app/hotels/hotel.chooseroom.html",
                    controller: "HotelChooseroomController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("hotel"), t.addPart("flight"), e.refresh()
                        }]
                    }
                })
            }

            function ue() {
                var e = {
                    roomQuantity: 0,
                    adultQuantity: 0,
                    childQuantity: 0
                };
                return e.roomQuantity = Pe.length, Pe.forEach(function(t) {
                    e.adultQuantity += +t.adultQuantity, e.childQuantity += +t.childQuantity
                }), e
            }
            var me, he = l.defer(),
                ve = !1,
                fe = !1,
                be = "hotelSearchOptions",
                ye = "hotelSearchFilter",
                ke = "hotelSearchAdvance",
                $e = "hotelSearchBody",
                we = "hotelSearchFromCache",
                Ie = 0,
                Me = 0,
                Ce = {
                    checkin_date: moment(new Date((new Date).getTime() + 864e5)).format("DD-MM-YYYY"),
                    checkout_date: moment(new Date((new Date).getTime() + 1728e5)).format("DD-MM-YYYY"),
                    hotel_code: null,
                    page: 0,
                    size: u
                },
                Oe = {
                    page: 0,
                    size: u,
                    searchId: null,
                    subSearchIds: null,
                    sort: null,
                    totalPages: 0
                },
                Pe = [{
                    adultQuantity: 2,
                    childQuantity: 0,
                    childrenAges: []
                }],
                Te = {
                    featureOptions: [],
                    lat: null,
                    lng: null,
                    nameOptions: [],
                    priceOptions: [],
                    sameLoc: null,
                    starOptions: null
                },
                Ne = {},
                xe = {
                    CHANGE_SEARCH_FILTER: "[Hotel] Search filter changed",
                    DO_SEARCH: "[Hotel] Do search",
                    RETRY_SEARCH: "[Hotel] Retry search",
                    FINISH_SEARCH: "[Hotel] Finish Search",
                    SHOW_LOADING: "[Hotel] Show loading",
                    SHOW_SUB_LOADING: "[Hotel] Show sub loading",
                    HIDE_LOADING: "[Hotel] Hide loading",
                    SEARCH_ERROR: "[Hotel] Search error",
                    PAGEABLE_CHANGED: "[Hotel] Pageable changed",
                    HOTEL_AVAILABILITY_CHANGED: "[Hotel] Availability changed",
                    HOTEL_ADVANCE_SEARCH_CHANGED: "[Hotel] Advance searech changed",
                    HOTEL_SELECTED_DESTINATION_CHANGED: "[Hotel] Selected destination changed",
                    HOTEL_PAX_CHANGED: "[Hotel] Hotel pax changed"
                },
                Se = {
                    getStates: A,
                    initStates: B,
                    saveSearchFilter: I,
                    search: W,
                    showLoading: oe,
                    hideLoading: re,
                    updateSearchOptions: T,
                    getSearchOptions: D,
                    getPaxFilter: E,
                    updatePaxInfo: N,
                    updatePaxDisplay: _,
                    openModalUpdateRoomDetail: ge,
                    getPaxSummary: ue,
                    smartSearch: Q,
                    getPagination: te,
                    chageSmartSearchPage: G,
                    updateFilterAdvanceName: C,
                    updateFilterAdcancePrices: O,
                    updateFilterAdcanceStarts: P,
                    getFilterAdvance: U,
                    changeSort: H,
                    getFilterParams: M,
                    goToDetail: q,
                    checkHotelAvailability: R,
                    backToResult: K,
                    resetPage: V,
                    validateDateRange: J,
                    getSelectedDestination: y,
                    updateSelectedDestination: k,
                    resetSearchOption: w
                };
            return b(), Se
        }
        angular.module("B2B2CGatewayApp").factory("GtdHotelService", e), e.$inject = ["$log", "$http", "$localStorage", "$rootScope", "$timeout", "$uibModal", "$state", "$window", "$q", "DataService", "Base64", "GlobalSrv", "HOTEL_SEARCH_URL", "DEFAULT_PAGE_SIZE", "HOTEL_STATES", "HOTEL_SEARCH_CACHE_URL", "HOTEL_CHECK_AVAILABILITY_URL", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            return {
                getLocalAirports: function() {
                    var e = t.localAirports;
                    return void 0 != e && null != e || (e = []), e
                },
                addLocalAirports: function(e) {
                    var a = this.getLocalAirports();
                    for (var n in e) a.filter(function(t) {
                        return t.id == e[n].id && t.code == e[n].code
                    }).length <= 0 && a.push(e[n]);
                    t.localAirports = a
                },
                getVnAirports: function() {
                    var e = t.vnAirports;
                    return void 0 != e && null != e || (e = []), e
                },
                setVnAirports: function(e) {
                    t.vnAirports = e
                },
                getAllLookups: function() {
                    var e = t.allLookups;
                    return void 0 != e && null != e || (e = []), e
                },
                setAllLookups: function(e) {
                    t.allLookups = e
                },
                getAllCountries: function() {
                    var e = t.allCountries;
                    return void 0 != e && null != e || (e = []), e
                },
                setAllCountries: function(e) {
                    t.allCountries = e
                },
                getLocalDestinations: function() {
                    var e = t.localDestinations;
                    return void 0 != e && null != e || (e = []), e
                },
                addLocalDestinations: function(e) {
                    t.localDestinations = e
                },
                addRecentViewHotels: function(e) {
                    t.recentHotels || (t.recentHotels = []);
                    var a = t.recentHotels.indexOf(e);
                    a > -1 && t.recentHotels.splice(a, 1), t.recentHotels.push(e), t.recentHotels.length > 5 && (t.recentHotels = t.recentHotels.splice(0, t.recentHotels.length - 5))
                },
                getRecentViewHotels: function() {
                    var e = t.recentHotels ? t.recentHotels : [];
                    return e.length > 3 ? e.slice(-3).reverse() : e.reverse()
                }
            }
        }
        angular.module("B2B2CGatewayApp").factory("GlobalSrv", e), e.$inject = ["$resource", "$localStorage", "$sessionStorage"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f, b, y, k, $, w, I, M, C, O, P, T, N, x, S, A, D, E, B, R, _, F, L, G, H, U) {
            function q(n) {
                var r = {
                        page: n.page ? n.page : 0,
                        size: n.size ? n.size : p,
                        origin_code: n.fromAirPort,
                        destination_code: n.toAirPort,
                        departure_date: moment(n.departureDate, "DD-MM-YYYY").format("MM-DD-YYYY"),
                        returnture_date: moment(n.returnDate, "DD-MM-YYYY").format("MM-DD-YYYY"),
                        cabin_class: "E",
                        route_type: "oneway" == n.searchType ? "ONEWAY" : "ROUNDTRIP",
                        aduts_qtt: n.adultNo ? n.adultNo : 1,
                        children_qtt: n.childrenNo ? n.childrenNo : 0,
                        infants_qtt: n.newBornNo ? n.newBornNo : 0,
                        suppliers: n.suppliers ? n.suppliers : ["VJ", "BL", "VN", "QH"],
                        time: +new Date,
                        key: ""
                    },
                    s = r.origin_code + r.destination_code + r.departure_date + r.returnture_date + r.cabin_class + r.route_type + r.aduts_qtt + r.children_qtt + r.infants_qtt + r.page + r.size + r.time,
                    l = CryptoJS.HmacSHA256(s, "Gotadi").toString(CryptoJS.enc.Base64);
                return r.key = l, i({
                    method: "GET",
                    url: H + g,
                    params: r
                }).then(function(a) {
                    return e.log("successCallback searchFlight"), e.log(a), o(function() {
                        t.$broadcast("event-flight-seach-completed")
                    }), a.data
                }, function(n) {
                    return e.log("errorCallback searchFlight"), e.log(n), o(function() {
                        t.$broadcast("event-flight-seach-completed")
                    }), a.reject(n)
                })
            }

            function V(n) {
                var r = {
                        page: n.page ? n.page : 0,
                        size: n.size ? n.size : p,
                        origin_code: n.fromAirPort ? n.fromAirPort : "HAN",
                        destination_code: n.toAirPort ? n.toAirPort : "SGN",
                        departure_date: moment(n.departureDate, "DD-MM-YYYY").format("MM-DD-YYYY"),
                        returnture_date: moment(n.returnDate, "DD-MM-YYYY").format("MM-DD-YYYY"),
                        cabin_class: "E",
                        route_type: "oneway" == n.searchType ? "ONEWAY" : "ROUNDTRIP",
                        aduts_qtt: n.adultNo ? n.adultNo : 1,
                        children_qtt: n.childrenNo ? n.childrenNo : 0,
                        infants_qtt: n.newBornNo ? n.newBornNo : 0,
                        time: +new Date,
                        key: ""
                    },
                    s = r.origin_code + r.destination_code + r.departure_date + r.returnture_date + r.cabin_class + r.route_type + r.aduts_qtt + r.children_qtt + r.infants_qtt + r.page + r.size + r.time,
                    l = CryptoJS.HmacSHA256(s, "Gotadi").toString(CryptoJS.enc.Base64);
                return r.key = l, i({
                    method: "GET",
                    url: H + u,
                    params: r
                }).then(function(a) {
                    return e.log("successCallback searchFlightInternational"), e.log(a), o(function() {
                        t.$broadcast("event-flight-seach-completed")
                    }), a.data
                }, function(n) {
                    return e.log("errorCallback searchFlightInternational"), e.log(n), o(function() {
                        t.$broadcast("event-flight-seach-completed")
                    }), a.reject(n)
                })
            }

            function j(t) {
                var a = {
                    page: t.page ? t.page : 0,
                    size: t.size ? t.size : p,
                    sort: t.sortField + "," + t.sortDir
                };
                t.sortField || (a.sort = "price,asc");
                var n = {
                    searchId: t.searchId
                };
                n.filter = t.advanceFilters, n.filter ? n.filter.step = t.selectStep : (n.filter = {}, n.filter.step = t.selectStep), 1 == t.returnDomestic && "domestic" == t.dtype && (n.departureItinerary = t.departureItinerary);
                var o = {
                    headers: {
                        "Content-Type": "application/json"
                    }
                };
                return i.post(H + r.buildUrl(m, a), n, o).then(function(t) {
                    return e.log("successCallback searchFlightInCache"), e.log(t), t.data
                })
            }

            function Y(t) {
                var a = {
                    page: t.page ? t.page : 0,
                    size: 1e3,
                    sort: t.sortField + "," + t.sortDir
                };
                t.sortField || (a.sort = "price,asc");
                var n = null;
                2 == t.selectStep && (n = {
                    groupId: t.departureItinerary.groupId,
                    airlineCode: t.departureItinerary.airlineCode,
                    fareSourceCode: t.departureItinerary.fareSourceCode,
                    supplierCode: t.departureItinerary.supplierCode,
                    searchId: t.departureItinerary.searchId
                });
                var o = {
                    searchId: t.searchId,
                    departureItinerary: n
                };
                return t.advanceFilters && (o.filter = t.advanceFilters, o.filter.groupId = t.groupId, o.filter.minPrice = t.minPrice, o.filter.loadMore = t.loadMore, o.filter.priceItineraryId = t.priceItineraryId, o.filter.step = t.selectStep), i.post(H + r.buildUrl(v + t.groupId, a), o).then(function(t) {
                    return e.log("successCallback searchGroupDetail"), e.log("response="), e.log(t), t.data
                })
            }

            function z(t, a, n) {
                var o = {
                    fareSourceCode: n.airItineraryPricingInfo.fareSourceCode,
                    groupId: a.groupId,
                    searchId: t.searchId
                };
                return i.post(H + M, o).then(function(t) {
                    return e.log("successCallback getFareRules"), e.log("response="), e.log(t), t.data
                })
            }

            function Q(a) {
                var n = {
                    searchId: a.searchId
                };
                return 1 == a.returnDomestic && "domestic" == a.dtype && (n.departureItinerary = a.departureItinerary), e.log("++++++++++++++++++++++++++++"), e.log("Search Options getAdvanceFilterOptions:"), e.log("data=" + n), e.log("++++++++++++++++++++++++++++"), i.post(H + h, n).then(function(a) {
                    return e.log("successCallback getAdvanceFilterOptions"), o(function() {
                        t.$broadcast("event-flight-seach-completed")
                    }), a.data ? a.data.itineraryFilter : {}
                })
            }

            function K() {
                var e = [];
                return e = [{
                    id: 0,
                    text: "Bay thẳng",
                    checked: !1
                }, {
                    id: 1,
                    text: "1 Điểm Dừng",
                    checked: !1
                }, {
                    id: 2,
                    text: "2+ Điểm Dừng",
                    checked: !1
                }]
            }

            function W() {
                var e = [{
                    id: 0,
                    from: "0:00",
                    to: "6:00",
                    val: "-6",
                    checked: !1
                }, {
                    id: 1,
                    from: "6:00",
                    to: "12:00",
                    val: "+6-12",
                    checked: !1
                }, {
                    id: 2,
                    from: "12:00",
                    to: "18:00",
                    val: "+12-18",
                    checked: !1
                }, {
                    id: 3,
                    from: "18:00",
                    to: "0:00",
                    val: "+18",
                    checked: !1
                }];
                return e
            }

            function J() {
                var e = [];
                return e = [{
                    id: "economy",
                    text: "ota_air.cabin_class.economy",
                    checked: !1
                }, {
                    id: "business",
                    text: "ota_air.cabin_class.business",
                    checked: !1
                }, {
                    id: "promo",
                    text: "ota_air.cabin_class.promo",
                    checked: !1
                }]
            }

            function X() {
                var e = [];
                return e = [{
                    id: "economy",
                    text: "ota_air.cabin_class.economy",
                    checked: !1
                }, {
                    id: "premium",
                    text: "ota_air.cabin_class.premium",
                    checked: !1
                }, {
                    id: "business",
                    text: "ota_air.cabin_class.business",
                    checked: !1
                }, {
                    id: "first",
                    text: "ota_air.cabin_class.first",
                    checked: !1
                }]
            }

            function Z() {
                var e = [{
                    id: "true",
                    text: "Có thể hoàn vé",
                    checked: !1
                }, {
                    id: "false",
                    text: "Không hoàn/ Huỷ",
                    checked: !1
                }];
                return e
            }

            function ee() {
                var e = [];
                return e
            }

            function te() {
                var e = [],
                    t = l.getAdvanceSearchFilterOptions();
                return t && t.airlineOptions && angular.forEach(t.airlineOptions, function(t) {
                    e.push({
                        id: t.split(":")[0],
                        text: t.split(":")[1],
                        price: t.split(":")[2],
                        unit: "VND",
                        checked: !1
                    })
                }), e
            }

            function ae(t, a, n) {
                var o = {
                    searchId: t.searchId,
                    fareSourceCode: n.airItineraryPricingInfo.fareSourceCode,
                    groupId: a.groupId
                };
                return e.log("revalidateTicket criteria:"), e.log("data=" + o), e.log("++++++++++++++++++++++++++++"), i.post(H + f, o).then(function(t) {
                    return e.log("successCallback revalidateTicket"), t.data ? t.data : {}
                })
            }

            function ne(t, n, o, r, s, l) {
                var c = {
                    itineraryInfos: [{
                        searchId: t.searchId,
                        fareSourceCode: o.airItineraryPricingInfo.fareSourceCode,
                        groupId: n.groupId
                    }]
                };
                return null != r && "domestic" == t.dtype && "roundtrip" == t.searchType && c.itineraryInfos.push({
                    searchId: r.searchId,
                    fareSourceCode: l.airItineraryPricingInfo.fareSourceCode,
                    groupId: s.groupId
                }), e.log("createDraftBooking criteria:"), e.log("data=" + c), e.log("++++++++++++++++++++++++++++"), i.post(H + b, c).then(function(t) {
                    return e.log("successCallback createDraftBooking"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback createDraftBooking"), a.reject(t)
                })
            }

            function ie(t, n) {
                return i.put(H + y + "/" + t + "/tags", n).then(function(t) {
                    return e.log("successCallback updateBookingTags"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback updateBookingTags"), a.reject(t)
                })
            }

            function oe(t) {
                var n = {
                    bookingNumber: t
                };
                return e.log("createDraftBooking criteria:"), e.log("data=" + n), e.log("++++++++++++++++++++++++++++"), i.post(H + k, n).then(function(t) {
                    return e.log("successCallback changeDraftBookingOwner"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback changeDraftBookingOwner"), a.reject(t)
                })
            }

            function re(t) {
                return i({
                    method: "GET",
                    url: H + C + "/" + t
                }).then(function(t) {
                    return e.log("successCallback getTicketSsr"), e.log(t), t.data
                }, function(t) {
                    return e.log("errorCallback getTicketSsr"), e.log(t), a.reject(t)
                })
            }

            function se(t, n) {
                var o = {
                        bookingNumber: n.bookingNumber,
                        bookingTravelerInfos: [],
                        bookingContacts: [],
                        taxReceiptRequest: {
                            taxReceiptRequest: n.showForm,
                            bookingNumber: n.bookingNumber,
                            taxCompanyName: n.biCompany,
                            taxAddress1: n.biAddress,
                            taxAddress2: n.biMobile,
                            taxNumber: n.biMst,
                            taxPersonalInfoContact: JSON.stringify({
                                name: n.tPCName,
                                phone: n.tPCPhone,
                                email1: n.tPCemail,
                                fname: n.tPCfName,
                                phoneCode3: n.tPCPhoneCode,
                                note: n.tPCNote
                            })
                        }
                    },
                    r = [],
                    s = n.contacts;
                null !== s && void 0 !== s && angular.forEach(s, function(e, t) {
                    var a = e;
                    r.push({
                        gender: a.ciGender,
                        firstName: a.ciFName,
                        surName: a.ciName,
                        email: a.ciEmail,
                        postCode: a.postcode,
                        phoneCode1: "",
                        phoneNumber1: a.ciMobile,
                        phoneCode2: "",
                        phoneNumber2: a.ciMobile
                    })
                }), o.bookingContacts = r;
                var l = [],
                    c = n.customers;
                return null !== c && void 0 !== c && angular.forEach(c, function(t, a) {
                    var n = t,
                        i = {
                            traveler: {},
                            serviceRequests: []
                        };
                    i.traveler = {
                        firstName: n.cuName,
                        surName: n.cuFamilyName,
                        gender: n.cuGender,
                        adultType: n.type,
                        dob: n.cuDob,
                        memberCard: !0,
                        memberCardType: n.cuCardType,
                        memberCardNumber: n.cuCardNo,
                        country: n.cuNationality,
                        nationality: n.cuNationality,
                        documentNumber: n.cuId,
                        documentIssuingCountry: n.cuNationality,
                        documentExpiredDate: n.cuExpiredDate
                    }, n.departServiceRequests && n.departServiceRequests.length > 0 && angular.forEach(n.departServiceRequests, function(t, a) {
                        var n = t;
                        e.log("departServiceRequests add to traveler:"), e.log("data=" + n), e.log("++++++++++++++++++++++++++++"), i.serviceRequests.push({
                            bookingDirection: "DEPARTURE",
                            fareCode: n.fareSourceCode,
                            serviceType: n.serviceType,
                            ssrAmount: n.amount,
                            ssrCode: n.code,
                            ssrId: n.id,
                            ssrName: n.name
                        })
                    }), n.returnServiceRequests && n.returnServiceRequests.length > 0 && angular.forEach(n.returnServiceRequests, function(t, a) {
                        var n = t;
                        e.log("returnServiceRequests add to traveler:"), e.log("data=" + n), e.log("++++++++++++++++++++++++++++"), i.serviceRequests.push({
                            bookingDirection: "RETURN",
                            fareCode: n.fareSourceCode,
                            serviceType: n.serviceType,
                            ssrAmount: n.amount,
                            ssrCode: n.code,
                            ssrId: n.id,
                            ssrName: n.name
                        })
                    }), l.push(i)
                }), o.bookingTravelerInfos = l, e.log("addTicketTravellers criteria:"), e.log("data=" + o), e.log("++++++++++++++++++++++++++++"), i.post(H + $, o).then(function(t) {
                    return e.log("successCallback addTicketTravellers"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback addTicketTravellers"), a.reject(t)
                })
            }

            function le(t, n, o) {
                n.cardModel && (n.cardModel.id = n.cardModel.cardId);
                var r = {
                    bookingPaymentType: {
                        bookingCode: t.bookingCode,
                        bookingNumber: t.bookingNumber,
                        paymentType: n.paymentOption
                    },
                    payByCreditCardReq: {
                        bookingNumber: t.bookingNumber,
                        bookingCode: t.bookingCode,
                        amount: c.getTotalPricing(o),
                        card: n.cardModel,
                        paToken: n.paToken
                    }
                };
                return i.post(H + w, r).then(function(t) {
                    return e.log("successCallback paymentBooking"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback paymentBooking"), a.reject(t)
                })
            }

            function ce(t, n, o, r) {
                e.log("productTypeproductType"), e.log(t);
                var s = {
                    params: {
                        status: n,
                        productType: t,
                        page: o,
                        size: r
                    }
                };
                return i.get(H + N, s).then(function(t) {
                    return e.log("successCallback PAYMENT_PROMO"), e.log(t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback PAYMENT_PROMO"), e.log(t), a.reject(t)
                })
            }

            function de(t, n, o, r) {
                var s = {
                    bookingNumber: t,
                    bookingCode: n,
                    promotionId: o,
                    promotionType: r
                };
                return i.post(H + T, s).then(function(t) {
                    return e.log("successCallback gPaymentFeeOpt"), e.log("response = " + t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback gPaymentFeeOpt"), e.log("response = " + t), a.reject(t)
                })
            }

            function pe(t, n, o) {
                var r = {
                    bookingNumber: t,
                    paymentType: n,
                    tempDiscountAmount: o
                };
                return e.log("data=" + r), e.log("++++++++++++++++++++++++++++"), i.post(H + P, r).then(function(t) {
                    return e.log("successCallback gPaymentFeeOpt"), e.log("response = " + t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback gPaymentFeeOpt"), e.log("response = " + t), a.reject(t)
                })
            }

            function ge(t, n) {
                var o = {
                        bookingNumber: t.bookingNumber,
                        otpServiceReq: n,
                        bookingTravelerInfos: [],
                        bookingContacts: [],
                        taxReceiptRequest: {
                            taxReceiptRequest: t.showForm,
                            bookingNumber: t.bookingNumber,
                            taxCompanyName: t.biCompany,
                            taxAddress1: t.biAddress,
                            taxAddress2: t.biMobile,
                            taxNumber: t.biMst,
                            taxPersonalInfoContact: JSON.stringify({
                                name: t.tPCName,
                                phone: t.tPCPhone,
                                email1: t.tPCemail,
                                fname: t.tPCfName,
                                phoneCode3: t.tPCPhoneCode,
                                note: t.tPCNote
                            })
                        }
                    },
                    r = [],
                    s = t.contacts;
                null !== s && void 0 !== s && angular.forEach(s, function(e, t) {
                    var a = e;
                    r.push({
                        gender: a.ciGender,
                        firstName: a.ciFName,
                        surName: a.ciName,
                        email: a.ciEmail,
                        postCode: a.postcode,
                        phoneCode1: "",
                        phoneNumber1: a.ciMobile,
                        phoneCode2: "",
                        phoneNumber2: a.ciMobile
                    })
                }), o.bookingContacts = r;
                var l = [],
                    c = t.customers;
                return null !== c && void 0 !== c && angular.forEach(c, function(t, a) {
                    var n = t,
                        i = {
                            traveler: {},
                            serviceRequests: []
                        };
                    i.traveler = {
                        firstName: n.cuName,
                        surName: n.cuFamilyName,
                        gender: n.cuGender,
                        adultType: n.type,
                        dob: n.cuDob,
                        memberCard: !0,
                        memberCardType: n.cuCardType,
                        memberCardNumber: n.cuCardNo,
                        country: n.cuNationality,
                        nationality: n.cuNationality,
                        documentNumber: n.cuId,
                        documentIssuingCountry: n.cuNationality,
                        documentExpiredDate: n.cuExpiredDate
                    }, n.departServiceRequests && n.departServiceRequests.length > 0 && angular.forEach(n.departServiceRequests, function(t, a) {
                        var n = t;
                        e.log("departServiceRequests add to traveler:"), e.log("data=" + n), e.log("++++++++++++++++++++++++++++"), i.serviceRequests.push({
                            bookingDirection: "DEPARTURE",
                            fareCode: n.fareSourceCode,
                            serviceType: n.serviceType,
                            ssrAmount: n.amount,
                            ssrCode: n.code,
                            ssrId: n.id,
                            ssrName: n.name
                        })
                    }), n.returnServiceRequests && n.returnServiceRequests.length > 0 && angular.forEach(n.returnServiceRequests, function(t, a) {
                        var n = t;
                        e.log("returnServiceRequests add to traveler:"), e.log("data=" + n), e.log("++++++++++++++++++++++++++++"), i.serviceRequests.push({
                            bookingDirection: "RETURN",
                            fareCode: n.fareSourceCode,
                            serviceType: n.serviceType,
                            ssrAmount: n.amount,
                            ssrCode: n.code,
                            ssrId: n.id,
                            ssrName: n.name
                        })
                    }), l.push(i)
                }), o.bookingTravelerInfos = l, e.log("addTicketTravellers criteria:"), e.log("data=" + o), e.log("++++++++++++++++++++++++++++"), console.log(o), i.post(H + $, o).then(function(t) {
                    return e.log("successCallback addTicketTravellers"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback addTicketTravellers"), a.reject(t)
                })
            }

            function ue(t, n, o) {
                var r = null;
                return r = "VNPAYQR" === n.paymentOption ? {
                    bookingPaymentType: {
                        bookingCode: t.bookingCode,
                        bookingNumber: t.bookingNumber,
                        paymentType: n.paymentOption
                    },
                    payByVnPayReq: {
                        bookingNumber: t.bookingNumber,
                        bookingCode: t.bookingCode,
                        amount: c.getTotalPricing(o),
                        is_mobile: o.is_mobile
                    }
                } : "MOMO" === n.paymentOption ? {
                    bookingPaymentType: {
                        bookingCode: t.bookingCode,
                        bookingNumber: t.bookingNumber,
                        paymentType: n.paymentOption
                    },
                    payByMoMoRequest: {
                        bookingNumber: t.bookingNumber,
                        bookingCode: t.bookingCode,
                        amount: c.getTotalPricing(o),
                        is_mobile: o.is_mobile
                    }
                } : "VIETTELPAY" === n.paymentOption ? {
                    bookingPaymentType: {
                        bookingCode: t.bookingCode,
                        bookingNumber: t.bookingNumber,
                        paymentType: n.paymentOption
                    },
                    partnerPaymentReq: {
                        bookingNumber: t.bookingNumber,
                        bookingCode: t.bookingCode,
                        amount: c.getTotalPricing(o),
                        is_mobile: o.is_mobile
                    }
                } : "PAYOO" === n.paymentOption ? {
                    bookingPaymentType: {
                        bookingCode: t.bookingCode,
                        bookingNumber: t.bookingNumber,
                        paymentType: n.paymentOption
                    },
                    payByPayooReq: {
                        bookingNumber: t.bookingNumber,
                        bookingCode: t.bookingCode,
                        amount: c.getTotalPricing(o),
                        is_mobile: o.is_mobile
                    }
                } : {
                    bookingPaymentType: {
                        bookingCode: t.bookingCode,
                        bookingNumber: t.bookingNumber,
                        paymentType: n.paymentOption
                    },
                    payByDebitCardReq: {
                        bookingNumber: t.bookingNumber,
                        bookingCode: t.bookingCode,
                        amount: c.getTotalPricing(o),
                        address: n.cardModel.address,
                        email: n.cardModel.email,
                        fullname: n.cardModel.fullName,
                        mobile: n.cardModel.mobile,
                        paymentOption: n.cardModel.bank
                    }
                }, e.log("gPaymentBooking criteria:"), e.log("data="), e.log(r), i.post(H + O, r).then(function(t) {
                    return e.log("successCallback gPaymentBooking 2"), e.log(t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback gPaymentBooking 2"), e.log(t), a.reject(t)
                })
            }

            function me(t) {
                var n = {
                    bookingCode: t.bookingCode,
                    bookingNumber: t.bookingNumber
                };
                return e.log("orderTickets criteria:"), e.log("data=" + n), e.log("++++++++++++++++++++++++++++"), i.post(H + I, n).then(function(t) {
                    return e.log("successCallback orderTickets"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback orderTickets"), a.reject(t)
                })
            }

            function he() {
                var e = ["Đà Nẵng", "Nha Trang", "Đà Lạt", "Phú Quốc", "Hà Nội"];
                return e
            }

            function ve() {
                var e = ["Hồ Chí Minh đến Nha Trang", "Hồ Chí Minh đến Đà Lạt", "Hồ Chí Minh đến Huế", "Hồ Chí Minh đến Đà Nẵng", "Hồ Chí Minh đến Hà Nội", "Hồ Chí Minh đến Hải Phòng", "Hồ Chí Minh đến Vinh", "Hồ Chí Minh đến Phú Quốc"];
                return e
            }

            function fe() {
                var e = ["Shanghai hotel", "Beijing hotel", "Guangzhou hotel"];
                return e
            }

            function be(t, n) {
                var o = {
                    id: n,
                    bookingNumber: t.bookingNumber
                };
                return e.log("validateVoucher criteria:"), e.log("data=" + o), e.log("++++++++++++++++++++++++++++"), i.post(H + x, o).then(function(t) {
                    return e.log("successCallback validateVoucher"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback validateVoucher"), a.reject(t)
                })
            }

            function ye(t) {
                var n = t.voucher,
                    o = {
                        voucherCode: n.voucherCode,
                        bookingNumber: t.bookingNumber
                    };
                return e.log("validateVoucher criteria:"), e.log("data=" + o), e.log("++++++++++++++++++++++++++++"), i.post(H + x, o).then(function(t) {
                    return e.log("successCallback validateVoucher"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback validateVoucher"), a.reject(t)
                })
            }

            function ke(t) {
                var n = t.voucher,
                    o = {
                        voucherCode: n.voucherCode,
                        trackingCode: n.trackingCode,
                        bookingNumber: t.bookingNumber
                    };
                return e.log("redeemVoucher criteria:"), e.log("data=" + o), e.log("++++++++++++++++++++++++++++"), i.post(H + S, o).then(function(t) {
                    return e.log("successCallback redeemVoucher"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback redeemVoucher"), a.reject(t)
                })
            }

            function $e(t, n) {
                var o = U + "/api/tiki/place-order?bookingNumber=" + t + "&tikiCustomerId=" + n;
                return e.log("Create Tiki order"), e.log("++++++++++++++++++++++++++++"), i.post(o, null, {
                    noAuth: !0
                }).then(function(t) {
                    return e.log("successCallback Create Tiki order"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback Create Tiki order"), a.reject(t)
                })
            }

            function we(t) {
                var n = F.get("lienviet-data"),
                    o = F.get("lienviet-key"),
                    r = U + R + "/place-order",
                    s = {
                        bookingNumber: t,
                        data: n,
                        key: o
                    };
                return i.post(r, s, {
                    noAuth: !0
                }).then(function(t) {
                    return e.log("successCallback Lien Viet order"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback Lien Viet order"), a.reject(t)
                })
            }

            function Ie(t) {
                var n = U + B + "/tmdt/booking/get-request-place-order?bookingNumber=" + t;
                return i({
                    method: "get",
                    url: n,
                    transformResponse: function(e) {
                        return e
                    },
                    noAuth: !0
                }).then(function(t) {
                    return e.log("successCallback redeemVoucher"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback redeemVoucher"), a.reject(t)
                })
            }

            function Me(t) {
                var a = F.get("merchant_code") || localStorage.getItem("merchant_code") || null;
                switch (a) {
                    case "TIKI":
                        var n = F.get("msisdn") || localStorage.getItem("msisdn");
                        $e(t, n).then(function(e) {
                            L.top.location.href = e.redirect_url
                        }, function(t) {
                            e.log("errorCallback Create Tiki order")
                        });
                        break;
                    case "VIETTEL":
                        Ie(t).then(function(e) {
                            L.location.href = e
                        }, function(t) {
                            e.log("errorCallback Create viettel order")
                        });
                        break;
                    case "SEABANK":
                        var i = "seabankapp://" + encodeURIComponent('{"OrderId":"' + t + '","RequestId":""}');
                        if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) window.location = i;
                        else if (navigator.userAgent.toLowerCase().indexOf("android") > -1) {
                            var o = "intent://view?data=" + encodeURIComponent('{"OrderId":"' + t + '","RequestId":""}') + "/#intent;scheme=seabankapp;package=vn.com.seabank.mb1;end";
                            window.location = o
                        } else parent.postMessage(t, "*");
                        break;
                    case "LIENVIETBANK":
                        we(t).then(function(e) {
                            e.success ? L.location.href = e.result : G.openAlertDialog({
                                title: "Error",
                                message: e.result
                            })
                        }, function(t) {
                            e.log("errorCallback Create viettel order")
                        });
                        break;
                    case "FSOFT":
                        break;
                    default:
                        a && Ce(t, a).then(function(e) {
                            e.isSuccess ? L.location.href = e.result : G.openAlertDialog({
                                title: "Error",
                                message: e.result
                            })
                        }, function(t) {
                            e.log("errorCallback Create viettel order")
                        })
                }
            }

            function Ce(t, n) {
                var o = H + "/api/partner/place-order?bookingNumber=" + t;
                return i({
                    method: "GET",
                    url: o
                }).then(function(t) {
                    return e.log("successCallback lienVietPayment"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback lienVietPayment"), a.reject(t)
                })
            }

            function Oe(t, n, o) {
                var r = U + R + "/commit?data=" + t + "&key=" + n + "&agent_site=" + o;
                return i({
                    method: "GET",
                    url: r,
                    noAuth: !0
                }).then(function(t) {
                    return e.log("successCallback lienVietPayment"), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback lienVietPayment"), a.reject(t)
                })
            }

            function Pe(t, n) {
                var o = {
                    bookingCode: n.bookingCode,
                    bookingNumber: n.bookingNumber,
                    promotionId: t.promotions.id,
                    promotionCode: "",
                    promotionType: t.promotions.promotionType,
                    price: n.bookingInfo.totalFare
                };
                return "AIRLINES_CODE" == t.promotions.promotionType && (o.airlinesCode = n.bookingInfo.transactionInfos[0].supplierCode), "CREDIT_CARD" == t.promotions.promotionType && (o.cardNumber = t.cardModel.cardNumber), e.log("bookingModel.airlinesCode"), e.log(n), i.post(H + A, o).then(function(t) {
                    return e.log("successCallback redeemPromo"), e.log(t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback redeemPromo"), e.log(t), a.reject(t)
                })
            }

            function Te(t, n) {
                var o = {
                    bookingNumber: t,
                    promotionID: n
                };
                return i.post(H + D, o).then(function(t) {
                    return e.log("successCallback VoidPromo"), e.log(t), t.data ? t.data : {}
                }, function(t) {
                    return e.log("errorCallback VoidPromo"), e.log(t), a.reject(t)
                })
            }
            var Ne = {
                searchFlight: q,
                searchFlightInternational: V,
                searchFlightInCache: j,
                searchGroupDetail: Y,
                getFareRules: z,
                getDateAvailableOptions: ee,
                getAirlineAvailableOptions: te,
                getTransitAvailableOptions: K,
                getTimeAvailableOptions: W,
                getClassAvailableOptions: J,
                getClassInterAvailableOptions: X,
                getTicketPolicyOptions: Z,
                getTicketSsr: re,
                getAdvanceFilterOptions: Q,
                revalidateTicket: ae,
                createDraftBooking: ne,
                updateBookingTags: ie,
                changeDraftBookingOwner: oe,
                addTicketTravellers: se,
                paymentBooking: le,
                orderTickets: me,
                getPopularPlaces: he,
                getPopularFlights: ve,
                getPopularHotels: fe,
                gPaymentFeeOpt: pe,
                gPaymentPromoDiscount: de,
                validatePromo: be,
                redeemPromo: Pe,
                voidPromo: Te,
                gPaymentPromotion: ce,
                gPaymentBooking: ue,
                validateVoucher: ye,
                redeemVoucher: ke,
                flightBookingOTPService: ge,
                createOrderTiki: $e,
                getViettelPaymentURL: Ie,
                externalPayment: Me,
                lienVietPayment: Oe
            };
            return Ne
        }
        angular.module("B2B2CGatewayApp").factory("Flight", e), e.$inject = ["$log", "$rootScope", "$q", "$resource", "$http", "$timeout", "RequestUtils", "GlobalSrv", "DataService", "PricingUtils", "TICKET_SRV_BASE_URL", "DEFAULT_PAGE_SIZE", "TICKET_SEARCH_URL", "TICKET_SEARCH_INTERNATIONAL_URL", "TICKET_SEARCH_CACHE_URL", "TICKET_GET_FILTER_OPTIONS_URL", "TICKET_GET_GROUP_DETAIL_URL", "TICKET_AIR_REVALIDATE_URL", "TICKET_CREATE_DRAFT_BOOKING_URL", "TICKET_UPDATE_BOOKING_TAGS_URL", "TICKET_CHANGE_DRAFT_BOOKING_OWNER_URL", "TICKET_ADD_TRAVELLER_URL", "TICKET_PAYMENT_BOOKING_URL", "TICKET_ORDER_TICKET_URL", "TICKET_GET_FARE_RULES_URL", "TICKET_AIR_GET_SSR_URL", "PAYMENT_PAYMENT_BOOKING_URL", "PAYMENT_FEE_OPTIONS_URL", "PAYMENT_PROMO_DISCOUNT_URL", "PAYMENT_PROMO_OPTIONS_URL", "PRICING_VOUCHER_VALIDATE_URL", "PRICING_VOUCHER_REDEEM_URL", "PRICING_PROMO_REDEEM_URL", "PRICING_PROMO_VOID_URL", "TIKI_ORDER_URL", "VIETTEL_URL", "LIENVIET_URL", "SEA_URL", "$cookies", "$window", "DialogService", "API_URL", "API_URL_CALLBACK"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f, b, y, k, $, w, I, M, C, O, P, T, N, x) {
            function S(e) {
                return n({
                    method: "GET",
                    url: x + c + "/" + e,
                    params: {
                        query: "",
                        page: 0,
                        size: 1e3
                    }
                }).then(function(e) {
                    return t.log("successCallback getCustomerProfile result: "), t.log(e), e.data
                }, function(e) {
                    return t.log("errorCallback getCustomerProfile result: "), t.log(e), e.data
                })
            }

            function A(e) {
                return n({
                    method: "GET",
                    url: x + p + "/" + e
                }).then(function(e) {
                    return t.log("successCallback getCustomerProfileAvatar result: "), t.log(e), e.data
                }, function(e) {
                    return t.log("errorCallback getCustomerProfileAvatar result: "), t.log(e), e.data
                })
            }

            function D(e) {
                return N.isSimpleView() ? i.reject() : n.post(x + d, e).then(function(e) {
                    return t.log("successCallback getB2BProfile result: "), t.log(e), e.data
                }, function(e) {
                    return t.log("errorCallback getB2BProfile result: "), t.log(e), e.data
                })
            }

            function E() {
                return N.isSimpleView() ? i.reject() : n({
                    method: "GET",
                    url: x + u,
                    params: {
                        query: "",
                        page: 0,
                        size: 1e3
                    }
                }).then(function(e) {
                    return t.log("successCallback getShortProfile result: "), t.log(e), e.data
                }, function(e) {
                    return t.log("errorCallback getShortProfile result: "), t.log(e), e.data
                })
            }

            function B() {
                return n({
                    method: "GET",
                    url: x + m,
                    params: {
                        query: "",
                        page: 0,
                        size: 1e3
                    }
                }).then(function(e) {
                    return t.log("successCallback getCustomerTravellers result: "), t.log(e), e.data
                }, function(e) {
                    return t.log("errorCallback getCustomerTravellers result: "), t.log(e), []
                })
            }

            function R(e) {
                return n({
                    method: "GET",
                    url: x + m,
                    params: {
                        query: "",
                        page: e - 1,
                        size: 10
                    }
                }).then(function(e) {
                    t.log("successCallback getCustomerTravellers result: "), t.log(e);
                    var a = e.data;
                    return a.links = o.parse(e.headers("link")), a.totalItems = e.headers("X-Total-Count"), a.totalPages = e.headers("X-Total-Page"), t.log("links = " + a.links), t.log(a.links), t.log("totalItems = " + a.totalItems), t.log("totalPages = " + a.totalPages), a
                }, function(e) {
                    return t.log("errorCallback getCustomerTravellers result: "), t.log(e), []
                })
            }

            function _() {
                return n({
                    method: "GET",
                    url: x + h,
                    params: {
                        query: "",
                        page: 0,
                        size: 1e3
                    }
                }).then(function(e) {
                    return t.log("successCallback getCustomerTravellersForBoth result: "), t.log(e), e.data
                }, function(e) {
                    return t.log("errorCallback getCustomerTravellersForBoth result: "), t.log(e), []
                })
            }

            function F(e) {
                return n({
                    method: "GET",
                    url: x + v + "/" + e,
                    params: {
                        query: "",
                        page: 0,
                        size: 1e3
                    }
                }).then(function(e) {
                    return t.log("successCallback getCustomerTraveller result: "), t.log(e), e.data.dob && (e.data.dob = l.convertZoneDateFromServer(e.data.dob)), e.data.expiredDate && (e.data.expiredDate = l.convertZoneDateFromServer(e.data.expiredDate)), e.data.issuedDate && (e.data.issuedDate = l.convertZoneDateFromServer(e.data.issuedDate)), e.data
                }, function(e) {
                    return t.log("errorCallback getCustomerTraveller result: "), t.log(e), e
                })
            }

            function L(e) {
                var a = [],
                    o = e.customers,
                    r = [];
                null != o && void 0 != o && angular.forEach(o, function(e, t) {
                    var a = e;
                    if (1 == a.checked) {
                        var n = {
                            id: a.id,
                            adultType: a.type,
                            country: a.cuNationality,
                            dob: a.cuDob,
                            expiredDate: a.cuExpiredDate,
                            documentNumber: a.cuId,
                            documentType: a.cuPp,
                            firstName: a.cuName,
                            gender: a.cuGender,
                            nationality: a.cuNationality,
                            surName: a.cuFamilyName
                        };
                        a.cuCardType && a.cuCardNo && (n.memberCards = [{
                            cardType: a.cuCardType,
                            cardNumber: a.cuCardNo,
                            id: a.cuCardId
                        }]), r.push(n)
                    }
                });
                var s = e.contacts;
                return t.log("contacts = " + s), null != s && void 0 != s && angular.forEach(s, function(e, t) {
                    var a = e;
                    1 == a.checked && r.push({
                        id: a.id,
                        gender: a.ciGender,
                        firstName: a.ciName,
                        surName: a.ciFName,
                        email: a.ciEmail,
                        phoneNumber1: a.ciMobile,
                        postalCode: a.ciMobileCode
                    })
                }), a = r, t.log("addCustomerTravellers criteria:"), t.log("data=" + a), t.log("++++++++++++++++++++++++++++"), n.put(x + b, a).then(function(e) {
                    return t.log("successCallback addCustomerTravellers"), e.data ? e.data : {}
                }, function(e) {
                    return t.log("errorCallback addCustomerTravellers"), i.reject(e)
                })
            }

            function G(e) {
                var a = e,
                    o = [];
                if (o.push(a), a.dob && (a.dob = l.convertZoneDateToServer(a.dob)), a.expiredDate && (a.expiredDate = l.convertZoneDateToServer(a.expiredDate)), a.issuedDate && (a.issuedDate = l.convertZoneDateToServer(a.issuedDate)), a.phoneNumbers) {
                    var r = a.phoneNumbers.length;
                    r >= 1 && (a.phoneNumber1 = a.phoneNumbers[0].text), r >= 2 && (a.phoneNumber2 = a.phoneNumbers[1].text), r >= 3 && (a.phoneNumber3 = a.phoneNumbers[2].text), r >= 4 && (a.phoneNumber4 = a.phoneNumbers[3].text), r >= 5 && (a.phoneNumber5 = a.phoneNumbers[4].text), 1 == r ? (a.phoneNumber2 = "", a.phoneNumber3 = "", a.phoneNumber4 = "", a.phoneNumber5 = "") : 2 == r ? (a.phoneNumber3 = "", a.phoneNumber4 = "", a.phoneNumber5 = "") : 3 == r ? (a.phoneNumber4 = "", a.phoneNumber5 = "") : 4 == r && (a.phoneNumber5 = "")
                } else a.phoneNumber1 = "", a.phoneNumber2 = "", a.phoneNumber3 = "", a.phoneNumber4 = "", a.phoneNumber5 = "";
                angular.forEach(a.editMemberCards, function(e, t) {
                    e.cardNumber = e.curCardNumber, e.cardType = e.curCardType
                }), a.memberCards = a.memberCards.concat(a.editMemberCards), a.memberCardsTemp = [];
                for (var s = 0; s < a.memberCards.length; s++) a.memberCards[s].cardType && a.memberCards[s].cardNumber && a.memberCardsTemp.push(a.memberCards[s]);
                return a.memberCards = a.memberCardsTemp, t.log("addCustomerTravellersProfile criteria:"), t.log("data=" + a), t.log("++++++++++++++++++++++++++++"), n.put(x + f, o).then(function(e) {
                    return t.log("successCallback addCustomerTravellersProfile"), e.data && (e.data.success = !0), e.data ? e.data : {}
                }, function(e) {
                    return t.log("errorCallBack addCustomerTravellersProfile"), i.reject(e)
                })
            }

            function H(e) {
                var a = e;
                return t.log("updateCustomerProfile criteria:"), t.log("data=" + a), t.log("++++++++++++++++++++++++++++"), n.put(x + c, a).then(function(e) {
                    return t.log("successCallback updateCustomerProfile"), e.data ? e.data : {}
                }, function(e) {
                    return t.log("errorCallBack updateCustomerProfile"), i.reject(e)
                })
            }

            function U(e) {
                var a = e;
                return t.log("updateCustomerAvatar criteria:"), t.log("data=" + a), t.log("++++++++++++++++++++++++++++"), n.put(x + g, a).then(function(e) {
                    return t.log("successCallback updateCustomerAvatar"), e.data ? e.data : {}
                }, function(e) {
                    return t.log("errorCallBack updateCustomerAvatar"), i.reject(e)
                })
            }

            function q() {
                return n({
                    method: "GET",
                    url: x + y,
                    params: {
                        query: "",
                        page: 0,
                        size: 1e3
                    }
                }).then(function(e) {
                    return t.log("successCallback getCreditCards result: "), t.log(e), e.data
                }, function(e) {
                    return t.log("errorCallback getCreditCards result: "), t.log(e), []
                })
            }

            function V() {
                return n({
                    method: "GET",
                    url: x + P
                }).then(function(e) {
                    return e.data
                }, function(e) {
                    return t.log("errorCallback getAvailablePaymentType result: "), t.log(e), []
                })
            }

            function j(e, a) {
                var o = {
                    card: e,
                    paToken: a
                };
                return o.card.cardId = null, "MASTERCARD" === o.type && (o.type = "MASTER"), t.log("createCreditCards criteria:"), t.log("data=" + o), t.log("++++++++++++++++++++++++++++"), n.post(x + $, o).then(function(e) {
                    return t.log("successCallback createCreditCards"), e.data ? e.data : {}
                }, function(e) {
                    return t.log("errorCallback createCreditCards"), i.reject(e)
                })
            }

            function Y(e) {
                var a = e,
                    a = e.split(":");
                return a = a.filter(function(e) {
                    return "" != e.trim()
                }), a = {
                    cardIds: a
                }, t.log("deleteCreditCards ids = " + a), n.post(x + w, a).then(function(e) {
                    return t.log("successCallback deleteCreditCards"), e.data ? e.data : {}
                }, function(e) {
                    return t.log("errorCallback deleteCreditCards"), i.reject(e)
                })
            }

            function z(e) {
                var a = e;
                return t.log("deleteCustomerTravellers ids = " + e), n.delete(x + m + "?ids=" + a, a).then(function(e) {
                    return t.log("successCallback deleteCustomerTravellers"), e.data ? e.data : {}
                }, function(e) {
                    return t.log("errorCallback deleteCustomerTravellers"), e.data ? e.data : {}
                })
            }

            function Q(e) {
                var a = {
                    query: "",
                    page: e.page,
                    size: 15,
                    bookingCode: e.bookingCode,
                    bookingStatus: e.bookingStatus,
                    fromDate: e.fromDate,
                    toDate: e.toDate,
                    fromLocationName: e.fromLocationName,
                    toLocationName: e.toLocationName,
                    supplierType: e.supplierType
                };
                return t.log("searchBookings:paras = " + a), n({
                    method: "GET",
                    url: x + I,
                    params: a
                }).then(function(e, a, n, i) {
                    t.log("successCallback searchBookings result: "), t.log(e);
                    var o = e.data;
                    return o.links = "/api/bookings", o.totalItems = e.headers("X-Total-Count"), o
                }, function(e) {
                    return t.log("errorCallback searchBookings result: "), t.log(e), []
                })
            }

            function K(e) {
                return t.log("getBooking(id):" + M + "/" + e), n({
                    method: "GET",
                    url: x + M + "/" + e,
                    params: {
                        query: "",
                        page: 0,
                        size: 1e3
                    }
                }).then(function(e) {
                    return t.log("successCallback getBooking result: "), t.log(e), e.data
                }, function(e) {
                    return t.log("errorCallback getBooking result: "), t.log(e), e.data
                })
            }

            function W(e) {
                t.log("getBookingByNumber(bookingNumber): " + C + ", bookingNumber:" + e);
                var a = {
                    booking_number: e
                };
                return n({
                    method: "GET",
                    url: x + C,
                    params: a
                }).then(function(e) {
                    return t.log("successCallback getBookingByNumber"), t.log(e), e.data
                }, function(e) {
                    return t.log("errorCallback getBookingByNumber"), t.log(e), i.reject(e)
                })
            }

            function J(e, a) {
                t.log("getBookingByNumber(bookingNumber): " + O + ", bookingNumber:" + e);
                var o = {
                    booking_number: e
                };
                return n({
                    method: "GET",
                    url: x + O,
                    params: o
                }).then(function(e) {
                    return t.log("successCallback getBookingByNumber"), t.log(e), e.data
                }, function(e) {
                    return t.log("errorCallback getBookingByNumber"), t.log(e), i.reject(e)
                })
            }

            function X(e) {
                var a = e;
                return t.log("deleteBookings ids = " + e), n.delete(x + M + "?ids=" + a, a).then(function(e) {
                    return t.log("successCallback deleteBookings"), e.data ? e.data : {}
                }, function(e) {
                    return t.log("errorCallback deleteBookings"), e.data ? e.data : {}
                })
            }
            var Z = {
                getCustomerTravellers: B,
                getCustomerTravellersPagination: R,
                getCustomerTravellersForBoth: _,
                getCustomerTraveller: F,
                addCustomerTravellers: L,
                deleteCustomerTravellers: z,
                addCustomerTravellersProfile: G,
                getCustomerProfile: S,
                getShortProfile: E,
                getCustomerProfileAvatar: A,
                updateCustomerProfile: H,
                updateAvatarCustomer: U,
                getCreditCards: q,
                createCreditCards: j,
                deleteCreditCards: Y,
                searchBookings: Q,
                getBooking: K,
                getBookingByNumber: W,
                getFinalBookingByNumber: J,
                deleteBookings: X,
                getB2BProfile: D,
                getAvailablePaymentType: V
            };
            return Z
        }
        angular.module("B2B2CGatewayApp").factory("CustomerService", e), e.$inject = ["$window", "$log", "$resource", "$http", "$q", "ParseLinks", "GlobalSrv", "DataService", "DateUtils", "CUSTOMER_PROFILE_URL", "B2B_AGENT_PROFILE_URL", "CUSTOMER_PROFILE_AVATAR_URL", "CUSTOMER_PROFILE_AVATAR_COMMON_URL", "PROFILE_SHORT_URL", "CUSTOMER_TRAVELLERS_URL", "CUSTOMER_TRAVELLERS_FOR_BOTH_URL", "CUSTOMER_TRAVELLERS_DETAIL_URL", "CUSTOMER_TRAVELLERS_COLLECTION_CREATE_URL", "AIR_CUSTOMER_TRAVELLERS_COLLECTION_CREATE_URL", "PRICING_CREDIT_CARDS_URL", "PRICING_CREDIT_CARDS_DELETE_ALL_URL", "PAYMENT_SUB_CARD_URL", "PAYMENT_UNSUB_CARD_URL", "BOOKING_SEARCH_URL", "BOOKING_DETAILS_URL", "PRODUCT_BOOKING_DETAILS_URL", "PRODUCT_FINAL_BOOKING_DETAILS_URL", "GET_AVAILABLE_PAYMENT_TYPE", "$cookies", "MerchantService", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            function i() {
                return n.isSimpleView() ? a.reject() : o = e.get("https://www2.gotadi.com/Admin/Bannerslider/ListbannerAPI/", {
                    noAuth: !0
                }).then(function(e) {
                    return e && e.data ? e.data : []
                })
            }
            var o, r = {
                getBanners: i
            };
            return r
        }
        angular.module("B2B2CGatewayApp").factory("BannerService", e), e.$inject = ["$http", "$cookies", "$q", "MerchantService"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return e(t + "/api/register", {}, {})
        }
        angular.module("B2B2CGatewayApp").factory("Register", e), e.$inject = ["$resource", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(e) {
                c = e, d = null !== e
            }

            function i(e) {
                if (!d || !c || !c.authorities) return !1;
                for (var t = 0; t < e.length; t++)
                    if (c.authorities.indexOf(e[t]) !== -1) return !0;
                return !1
            }

            function o(t) {
                return d ? this.identity().then(function(e) {
                    return e.authorities && e.authorities.indexOf(t) !== -1
                }, function() {
                    return !1
                }) : e.when(!1)
            }

            function r(a) {
                function n(e) {
                    c = e.data, d = !0, o.resolve(c)
                }

                function i() {
                    c = null, d = !1, o.resolve(c)
                }
                var o = e.defer();
                return a === !0 && (c = void 0), angular.isDefined(c) ? (o.resolve(c), o.promise) : (t.get().$promise.then(n).catch(i), o.promise)
            }

            function s() {
                return d
            }

            function l() {
                return angular.isDefined(c)
            }
            var c, d = !1,
                p = {
                    authenticate: n,
                    hasAnyAuthority: i,
                    hasAuthority: o,
                    identity: r,
                    isAuthenticated: s,
                    isIdentityResolved: l
                };
            return p
        }
        angular.module("B2B2CGatewayApp").factory("Principal", e), e.$inject = ["$q", "Account", "OtaTrackerService"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = e(t + "/api/account/reset-password/init", {}, {});
            return a
        }
        angular.module("B2B2CGatewayApp").factory("PasswordResetInit", e), e.$inject = ["$resource", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = e(t + "/api/account/reset-password/finish", {}, {});
            return a
        }
        angular.module("B2B2CGatewayApp").factory("PasswordResetFinish", e), e.$inject = ["$resource", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = e(t + "/api/account/change-password", {}, {});
            return a
        }
        angular.module("B2B2CGatewayApp").factory("Password", e), e.$inject = ["$resource", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f, b, y, k, $) {
            function w() {
                var e = g + "/api/partner/ibe-internal-config/agency/" + H;
                return i({
                    method: "GET",
                    url: e,
                    noAuth: !0
                })
            }

            function I() {
                return "SEABANK" === H || "FASTGO" === H || L.isSignleLayout
            }

            function M(e) {
                t.loginWithToken(e, !0), o.$broadcast("authenticationSuccess")
            }

            function C() {
                function e(e) {
                    return a.identity(!0).then(function(t) {
                        o.msisdn = U, o.$broadcast("authenticationSuccess"), null !== t && s.use(t.langKey).then(function() {
                            s.refresh()
                        }), c.resolve(e)
                    }), l()
                }

                function n(e) {
                    i({
                        method: "POST",
                        url: g + "/api/merchant/register",
                        data: {
                            merchantCode: H,
                            phone: U
                        }
                    }).then(function() {
                        t.login({
                            username: U + "@gotadi.com",
                            password: U,
                            rememberMe: !0
                        }).then(function(e) {
                            a.identity(!0).then(function(e) {
                                o.msisdn = U, o.$broadcast("authenticationSuccess")
                            })
                        })
                    }, function(e) {
                        window.location.href = "#/error-partner"
                    })
                }
                if (H && U) {
                    var l = angular.noop,
                        c = r.defer();
                    return t.login({
                        username: U + "@gotadi.com",
                        password: U,
                        rememberMe: !0
                    }).then(e).catch(n), c.promise
                }
            }

            function O() {
                var e = n.get("merchant_code") || localStorage.getItem("merchant_code") || null;
                return j.indexOf(e) > -1
            }

            function P() {
                var e = n.get("merchant_code") || localStorage.getItem("merchant_code") || null;
                return Y.indexOf(e) > -1
            }

            function T(e, t) {
                var a = u + m + "/booking/validate?user=?" + e + "&signature=" + t;
                return i({
                    method: "POST",
                    url: a,
                    noAuth: !0
                })
            }

            function N(e, t) {
                n.put("lienviet-data", e), n.put("lienviet-key", t);
                var a = u + p + "/validate?data=?" + e + "&key=" + t;
                return i({
                    method: "POST",
                    url: a,
                    noAuth: !0
                })
            }

            function x() {
                n.put("user_data", z);
                var e = Q.split(" ").join("%2B");
                n.put("signature", e);
                var t = g + h + "/validate?data=" + z + "&key=" + e;
                return i({
                    method: "POST",
                    url: t,
                    noAuth: !0
                })
            }

            function S(e) {
                ({
                    IsAutoSearch: e.IsAutoSearch,
                    IsDomestic: e.IsDomestic,
                    NCRange: e.NCRange,
                    Prefill_EndTime: e.Prefill_EndTime,
                    Prefill_StartTime: e.Prefill_StartTime,
                    RoleLevel: e.RoleLevel,
                    RouteType: e.RouteType,
                    Suppliers: e.Suppliers,
                    arrivalLocation: e.arrivalLocation,
                    departureLocation: e.departureLocation,
                    email: e.email,
                    fullName: e.fullName,
                    mobileNumber: e.mobileNumber,
                    userId: e.userId
                });
                L.searchOptions.fromAirPort = e.departureLocation, L.searchOptions.toAirPort = e.arrivalLocation;
                var t = e.Prefill_StartTime.split("/");
                t.length > 0 ? L.searchOptions.departureDate = e.Prefill_StartTime.split("/").join("-") : L.searchOptions.departureDate = e.Prefill_StartTime;
                var a = e.Prefill_EndTime.split("/");
                a.length > 0 ? L.searchOptions.returnDate = e.Prefill_EndTime.split("/").join("-") : L.searchOptions.returnDate = "", e.IsDomestic ? L.searchOptions.dtype = "domestic" : L.searchOptions.dtype = "international", "ONEWAY" == e.RouteType ? (L.searchOptions.searchType = "oneway", L.searchOptions.returnDate = "") : L.searchOptions.searchType = "roundtrip", L.searchOptions.adultNo = 1, L.searchOptions.childrenNo = 0, L.searchOptions.newBornNo = 0, L.searchOptions.class = "E", L.searchOptions.NCRange = e.NCRange, L.searchOptions.RoleLevel = e.RoleLevel, L.searchOptions.Suppliers = ["VJ", "VN", "0V"], A()
            }

            function A() {
                if (f.validateFlightSearch(L.searchOptions)) {
                    var e = L.getSearchSpecialType();
                    if (L.searchOptions.searchSpecialType = e, L.searchOptions.selectStep = 1, L.searchOptions.returnDomestic = !1, L.searchOptions.departureItinerary = {}, L.searchOptions.returnSearchId = null, L.searchOptions.searchId = null, L.searchOptions.ssrOfferItemsDepart = [], L.searchOptions.ssrOfferItemsReturn = [], L.searchOptions.page = 0, L.searchOptions.size = 15, L.searchOptions.airLine = [], L.searchOptions.selectAirlines = [], H && "FSOFT" == H) {
                        var t = +L.searchOptions.RoleLevel,
                            a = +L.searchOptions.NCRange;
                        1 == t && 0 == a && (L.searchOptions.selectAirlines = ["VN"])
                    }
                    L.searchOptions.advanceFilterOptions = {}, k.setSearchOption(L.searchOptions), k.setSearchOption(L.searchOptions), k.setSearchResult(L.searchResult), k.setSavedSearchOption(jQuery.extend({}, L.searchOptions));
                    var n = jQuery.extend({}, L.searchOptions),
                        i = jQuery.extend({}, L.searchResult);
                    if (n.departureDate = L.searchOptions.departureDate, "international" != L.searchOptions.dtype && (n.suppliers = L.searchOptions.selectAirlines, v.log("departSearchOptions.suppliers = " + n.suppliers)), n.fromAirPort = L.searchOptions.fromAirPort, n.toAirPort = L.searchOptions.toAirPort, "international" == n.dtype) {
                        D();
                        var o = $.searchFlightInternational(n);
                        o.then(function(e) {
                            L.searchResult = e, i = e, L.searchOptions.searchId = e.searchId, n.searchId = e.searchId, $.getAdvanceFilterOptions(L.searchOptions).then(function(e) {
                                k.setAdvanceSearchFilterOptions(e), L.searchOptions.advanceFilterOptions = e, n.advanceFilterOptions = e, k.setDepartSearchResult(i), k.setDepartSearchOption(n);
                                var t = jQuery.extend({}, i),
                                    a = jQuery.extend({}, n);
                                k.setReturnSearchResult(t), k.setReturnSearchOption(a), d.go("flight-search", {
                                    searchOptions: L.searchOptions,
                                    searchResult: L.searchResult,
                                    searchCompleted: !0,
                                    filterCompleted: !1,
                                    params: b.encodeJson(L.searchOptions)
                                })
                            })
                        }, function(e) {
                            c.openHttpAlertDilalog(e)
                        })
                    } else {
                        D();
                        var o = $.searchFlight(n);
                        o.then(function(e) {
                            if (L.searchResult = e, i = e, L.searchOptions.searchId = e.searchId, L.searchOptions.returnSearchId = e.returnSearchId, n.searchId = e.searchId, $.getAdvanceFilterOptions(L.searchOptions).then(function(e) {
                                    k.setAdvanceSearchFilterOptions(e), L.searchOptions.advanceFilterOptions = e, n.advanceFilterOptions = e, k.setDepartSearchResult(i), k.setDepartSearchOption(n), d.go("flight-search", {
                                        searchOptions: L.searchOptions,
                                        searchResult: L.searchResult,
                                        searchCompleted: !0,
                                        filterCompleted: !1,
                                        params: b.encodeJson(L.searchOptions)
                                    })
                                }), "roundtrip" == L.searchOptions.searchType) {
                                var t = jQuery.extend({}, L.searchOptions);
                                jQuery.extend({}, L.searchResult);
                                t.departureDate = L.searchOptions.returnDate, t.returnDate = L.searchOptions.returnDate, t.fromAirPort = L.searchOptions.toAirPort, t.toAirPort = L.searchOptions.fromAirPort, t.searchId = e.returnSearchId, k.setReturnSearchOption(t)
                            }
                        }, function(e) {
                            c.openHttpAlertDilalog(e)
                        })
                    }
                }
            }

            function D() {
                null === G && (G = y.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/search/flight.search.loading.html",
                    controller: "FlightSearchLoadingController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        searchOptions: function() {
                            return L.searchOptions
                        }
                    }
                }), G.result.then(q, q))
            }

            function E(e) {
                H = e
            }

            function B(e) {
                U = e
            }

            function R() {
                App.scrollTop(), "parentIFrame" in window && window.parentIFrame.scrollTo(0, 0)
            }

            function _() {
                var t = e.search().merchant_code;
                return t || (t = n.get("merchant_code") || localStorage.getItem("merchant_code")), t
            }

            function F() {
                var e = ["VN", "VJ", "0V"];
                return e
            }
            var L = this;
            L.searchOptions = {}, L.searchResult = [];
            var G = null,
                H = _(),
                U = e.search().msisdn,
                q = function() {
                    G = null
                },
                V = {
                    login: C,
                    isSimpleView: O,
                    updateMerchantName: E,
                    updateMsisdn: B,
                    lienVietValidate: N,
                    fSoftValidate: x,
                    fSoftSearchFlight: S,
                    seaBankValidate: T,
                    isIframeView: P,
                    scrollToTopIframe: R,
                    loginWithToken: M,
                    isSingleLayout: I,
                    getMerchant: _,
                    filterArraySupplier: F,
                    verifyMerchant: w
                },
                j = ["VIETTEL", "TIKI", "LIENVIETBANK", "SEABANK", "LOOPBACK", "TRUEMONEY", "FASTGO", "SMARTPAY"],
                Y = ["TIKI", "FSOFT"];
            U || (U = n.get("msisdn") || localStorage.getItem("msisdn"));
            var z, Q;
            "FSOFT" == H && (z = e.search().user_data, z || (z = n.get("user_data")), Q = e.search().signature, Q || (Q = n.get("signature"))), L.isSignleLayout = !1;
            var K = e.search().layout;
            if (K) switch (K) {
                case "single":
                    L.isSignleLayout = !0;
                    break;
                case "dual":
                    L.isSignleLayout = !1
            }
            return L.getSearchSpecialType = function() {
                var e = (L.searchOptions.searchType, L.searchOptions.dtype);
                return "roundtrip" != L.searchOptions.searchType ? "oneway" : e
            }, V
        }
        angular.module("B2B2CGatewayApp").factory("MerchantService", e), e.$inject = ["$location", "AuthServerProvider", "Principal", "$cookies", "$http", "$rootScope", "$q", "$translate", "$window", "DialogService", "$state", "LIENVIET_URL", "API_URL", "API_URL_CALLBACK", "SEA_URL", "FSOFT_URL", "$log", "ValidationUtils", "Base64", "$uibModal", "DataService", "Flight"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(t, a, n) {
                var i = n.hasAuthority.replace(/\s+/g, ""),
                    o = function() {
                        a.removeClass("hidden")
                    },
                    r = function() {
                        a.addClass("hidden")
                    },
                    s = function(t) {
                        t && o(), e.hasAuthority(i).then(function(e) {
                            e ? o() : r()
                        })
                    };
                i.length > 0 && (s(!0), t.$watch(function() {
                    return e.isAuthenticated()
                }, function() {
                    s(!0)
                }))
            }
            var a = {
                restrict: "A",
                link: t
            };
            return a
        }
        angular.module("B2B2CGatewayApp").directive("hasAuthority", e), e.$inject = ["Principal"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(t, a, n) {
                var i = n.hasAnyAuthority.replace(/\s+/g, "").split(","),
                    o = function() {
                        a.removeClass("hidden")
                    },
                    r = function() {
                        a.addClass("hidden")
                    },
                    s = function(t) {
                        var a;
                        t && o(), a = e.hasAnyAuthority(i), a ? o() : r()
                    };
                i.length > 0 && (s(!0), t.$watch(function() {
                    return e.isAuthenticated()
                }, function() {
                    s(!0)
                }))
            }
            var a = {
                restrict: "A",
                link: t
            };
            return a
        }
        angular.module("B2B2CGatewayApp").directive("hasAnyAuthority", e), e.$inject = ["Principal"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m) {
            function h(e, t) {
                var a = t || angular.noop;
                return d.get(e, function(e) {
                    return a(e)
                }, function(e) {
                    return a(e)
                }.bind(this)).$promise
            }

            function v(a) {
                function n() {
                    var a = o.isAuthenticated();
                    if (!a || "account" !== e.toState.parent || "login" !== e.toState.name && "register" !== e.toState.name && "social-auth" !== e.toState.name || t.go("home"), a && !e.fromState.name && C()) {
                        var n = C();
                        O(), t.go(n.name, n.params)
                    }
                    e.toState.data.authorities && e.toState.data.authorities.length > 0 && !o.hasAnyAuthority(e.toState.data.authorities) && (a ? t.go("accessdenied") : (P(e.toState.name, e.toStateParams), t.go("accessdenied").then(function() {
                        l.open()
                    })))
                }
                var i = o.identity(a).then(n);
                return i
            }

            function f(e, t, a) {
                var n = a || angular.noop;
                return p.save({
                    oldPassword: e,
                    newPassword: t
                }, function() {
                    return n()
                }, function(e) {
                    return n(e)
                }).$promise
            }

            function b(e, t) {
                var a = t || angular.noop;
                return c.save(e, function() {
                    return a(e)
                }, function(e) {
                    return this.logout(), a(e)
                }.bind(this)).$promise
            }

            function y(e, t) {
                function a(e) {
                    return o.identity(!0).then(function(t) {
                        null !== t && i.use(t.langKey).then(function() {
                            i.refresh()
                        }), l.resolve(e)
                    }), s()
                }
                var s = t || angular.noop,
                    l = n.defer();
                return r.login(e).then(a).catch(function(e) {
                    return this.logout(), l.reject(e), s(e)
                }.bind(this)), l.promise
            }

            function k(e, t) {
                return r.loginWithToken(e, t)
            }

            function $() {
                r.logout(), o.authenticate(null)
            }

            function w(e, t) {
                var a = t || angular.noop;
                return u.save(e, function() {
                    return a()
                }, function(e) {
                    return a(e)
                }).$promise
            }

            function I(e, t) {
                var a = t || angular.noop;
                return g.save(e, function() {
                    return a()
                }, function(e) {
                    return a(e)
                }).$promise
            }

            function M(e, t) {
                var a = t || angular.noop;
                return s.save(e, function() {
                    return a(e)
                }, function(e) {
                    return a(e)
                }.bind(this)).$promise
            }

            function C() {
                var e = a.previousState;
                return e
            }

            function O() {
                delete a.previousState
            }

            function P(e, t) {
                var n = {
                    name: e,
                    params: t
                };
                a.previousState = n
            }
            var T = {
                activateAccount: h,
                authorize: v,
                changePassword: f,
                createAccount: b,
                getPreviousState: C,
                login: y,
                logout: $,
                loginWithToken: k,
                resetPasswordFinish: w,
                resetPasswordInit: I,
                resetPreviousState: O,
                storePreviousState: P,
                updateAccount: M
            };
            return T
        }
        angular.module("B2B2CGatewayApp").factory("Auth", e), e.$inject = ["$rootScope", "$state", "$sessionStorage", "$q", "$translate", "Principal", "AuthServerProvider", "Account", "LoginService", "Register", "Activate", "Password", "PasswordResetInit", "PasswordResetFinish", "OtaTrackerService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            function r() {
                return t.authenticationToken || a.authenticationToken
            }

            function s(t) {
                function a(e) {
                    var a = e.data.id_token;
                    if (angular.isDefined(a)) {
                        var n = a;
                        return p.storeAuthenticationToken(n, t.rememberMe), n
                    }
                }
                var n = {
                    username: t.username,
                    password: t.password,
                    rememberMe: t.rememberMe
                };
                return e.post(o + "/api/authenticate", n).then(a)
            }

            function l(e, t) {
                var a = n.defer();
                return angular.isDefined(e) ? (this.storeAuthenticationToken(e, t), a.resolve(e)) : a.reject(), a.promise
            }

            function c(e, n) {
                $ibe.isB2C() || $ibe.isB2B2C() ? t.authenticationToken = e : n ? t.authenticationToken = e : a.authenticationToken = e
            }

            function d() {
                i.remove("social-authentication"), delete t.authenticationToken, delete a.authenticationToken
            }
            var p = {
                getToken: r,
                login: s,
                loginWithToken: l,
                storeAuthenticationToken: c,
                logout: d
            };
            return p
        }
        angular.module("B2B2CGatewayApp").factory("AuthServerProvider", e), e.$inject = ["$http", "$localStorage", "$sessionStorage", "$q", "$cookies", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = e(t + "/api/activate", {}, {
                get: {
                    method: "GET",
                    params: {},
                    isArray: !1
                }
            });
            return a
        }
        angular.module("B2B2CGatewayApp").factory("Activate", e), e.$inject = ["$resource", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = e(t + "/api/account", {}, {
                get: {
                    method: "GET",
                    params: {},
                    isArray: !1,
                    interceptor: {
                        response: function(e) {
                            return e
                        }
                    }
                }
            });
            return a
        }
        angular.module("B2B2CGatewayApp").factory("Account", e), e.$inject = ["$resource", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f) {
            var b = this;
            b.bookingModel = {
                voucher: {},
                departGroupItem: {},
                departPricedItinerary: {},
                departItinTotalFare: {},
                returnGroupItem: {},
                returnPricedItinerary: {},
                returnItinTotalFare: {}
            }, b.bookingModel.curStep = 1, b.paymentModel = {}, b.paymentModel.cardModel = {}, b.paymentModel.cardModel.cardId = -1, a.$on("event-payment-voucher-redeem-succeeded", function(e, t) {
                t ? b.tempVoucher = t : b.tempVoucher = {}
            });
            var y = d.decodeString(r.booking_number);
            b.bookingModel.bookingNumber = y, b.paymentModel.paymentOption = "VNPAYQR", u.getBookingByNumber(y).then(function(e) {
                b.bjson = e, b.bookingModel = e;
                var t;
                "HOTEL" == r.params ? (b.orderType = "HOTEL", t = p) : (b.orderType = "FLIGHT", t = h), b.bjson.is_mobile = !1;
                var a = 0;
                b.tempVoucher && b.tempVoucher.discountAmount && (a = b.tempVoucher.discountAmount), h.gPaymentFeeOpt(b.bookingModel.bookingNumber, b.paymentModel.paymentOption, a).then(function(e) {
                    var t = e.peymentFees;
                    angular.forEach(t, function(e, t) {
                        e.paymentType == b.paymentModel.paymentOption && (b.bookingModel.bookingInfo.displayPriceInfo.paymentFee = e.amount)
                    })
                }), t.gPaymentBooking(b.bookingModel, b.paymentModel, b.bjson).then(function(e) {
                    vnpay_snippet({
                        height: 1500,
                        width: 900,
                        url: e.paymentAuthUrl
                    })
                })
            }, function(t) {
                e.log("Error somewhere")
            })
        }
        angular.module("B2B2CGatewayApp").controller("VNPayQRPaymentController", e), e.$inject = ["$log", "$rootScope", "$scope", "$window", "$interval", "$state", "$stateParams", "$timeout", "$sce", "Auth", "Base64", "Hotel", "DataService", "CustomerService", "DialogService", "Flight", "FlightUtils", "PricingUtils"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f) {
            var b = this;
            b.bookingModel = {
                voucher: {},
                departGroupItem: {},
                departPricedItinerary: {},
                departItinTotalFare: {},
                returnGroupItem: {},
                returnPricedItinerary: {},
                returnItinTotalFare: {}
            }, b.bookingModel.curStep = 1, b.paymentModel = {}, b.paymentModel.cardModel = {}, b.paymentModel.cardModel.cardId = -1, a.$on("event-payment-voucher-redeem-succeeded", function(e, t) {
                t ? b.tempVoucher = t : b.tempVoucher = {}
            });
            var y = d.decodeString(r.booking_number);
            b.bookingModel.bookingNumber = y, b.paymentModel.paymentOption = "VNPAYQR", u.getBookingByNumber(y).then(function(e) {
                b.bjson = e, b.bookingModel = e;
                var t;
                "HOTEL" == r.params ? (b.orderType = "HOTEL", t = p) : (b.orderType = "FLIGHT", t = h), b.bjson.is_mobile = !0;
                var a = 0;
                b.tempVoucher && b.tempVoucher.discountAmount && (a = b.tempVoucher.discountAmount), h.gPaymentFeeOpt(b.bookingModel.bookingNumber, b.paymentModel.paymentOption, a).then(function(e) {
                    var t = e.peymentFees;
                    angular.forEach(t, function(e, t) {
                        e.paymentType == b.paymentModel.paymentOption && (b.bookingModel.bookingInfo.displayPriceInfo.paymentFee = e.amount)
                    })
                }), t.gPaymentBooking(b.bookingModel, b.paymentModel, b.bjson).then(function(e) {
                    vnpay_snippet({
                        height: 1500,
                        width: 900,
                        url: e.paymentAuthUrl
                    })
                })
            }, function(t) {
                e.log("Error somewhere")
            })
        }
        angular.module("B2B2CGatewayApp").controller("MobileVNPayQRController", e), e.$inject = ["$log", "$rootScope", "$scope", "$window", "$interval", "$state", "$stateParams", "$timeout", "$sce", "Auth", "Base64", "Hotel", "DataService", "CustomerService", "DialogService", "Flight", "FlightUtils", "PricingUtils"]
    }(),
    function() {
        "use strict";

        function e(e) {
            var t = "MobileVNPayQRController";
            if ("VNPAYQR" === e.payment_method) return console.log("Redirect to MobileVNPayQRController controller."), "MobileVNPayQRController";
            if ("ATM_DEBIT" === e.payment_method) {
                if ("FLIGHT" === e.params) return console.log("Redirect to FlightBookingPaymentController controller."), "FlightBookingPaymentController";
                if ("HOTEL" === e.params) return console.log("Redirect to HotelBookingController controller."), "HotelBookingController"
            }
            return t
        }

        function t(e) {
            if ("VNPAYQR" === e.payment_method) return console.log("Loading mobile.qr.booking.payment template."), "app/mobile/flights/booking/mobile.qr.booking.payment.html";
            if ("ATM_DEBIT" === e.payment_method) {
                if ("FLIGHT" === e.params) return console.log("Loading mobile.flights.booking.payment.html template."), "app/mobile/flights/booking/mobile.flights.booking.payment.html";
                if ("HOTEL" === e.params) return console.log("Loading mobile.hotels.booking.payment.html template."), "app/mobile/flights/booking/mobile.hotels.booking.payment.html"
            }
        }

        function a(a) {
            a.state("mobile-booking-payment/:booking_number/:is_mobile/:payment_method/:params", {
                url: "/mobile-booking-payment/:booking_number/:is_mobile/:payment_method/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: function(e) {
                            return t(e)
                        },
                        controllerProvider: ["$stateParams", function(t) {
                            var a = e(t);
                            return a
                        }],
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("global"), t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }]
                }
            }).state("mobile-booking-payment/credit-3d/:booking_number/:acs_url/:pa_req/:md/:term_url/:params", {
                url: "/mobile-booking-payment/credit-3d/:booking_number/:acs_url/:pa_req/:md/:term_url/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/mobile/flights/booking/mobile.flights.booking.payment.3d.auth.external.html",
                        controller: "MobileFlightsBookingPayment3DAuthExternalController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("global"), t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }]
                }
            }).state("mobile-booking-payment/credit-3d?:pa_res", {
                url: "/mobile-booking-payment/credit-3d?:pa_res"
            }).state("payment-vnpay-qr/:booking_number/:params", {
                url: "/payment-vnpay-qr/:booking_number/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/mobile/flights/booking/vnpay.qr.payment.html",
                        controller: "VNPayQRPaymentController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("global"), t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }]
                }
            }).state("vnpay-complete-mobile/:booking_number/:bookingStatus/:paymentStatus/:issuedStatus", {
                url: "/vnpay-complete-mobile/:booking_number/:bookingStatus/:paymentStatus/:issuedStatus",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/mobile/flights/booking/mobile.booking.result.html",
                        controller: "MobileVNPayQRSuccessController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("global"), t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(a), a.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d) {
            function p() {}
            var g = this;
            g.progress = 0, g.givenUrl = d.decodeString(r.acs_url), g.paReq = d.decodeString(r.pa_req), g.md = d.decodeString(r.md), g.termUrl = d.decodeString(r.term_url), e.log(g.givenUrl + " " + g.paReq + " " + g.md + " " + g.termUrl), g.cancel = p, a.$on("message", function(e, t) {
                p()
            }), a.trustSrc = function(e) {
                return l.trustAsResourceUrl(e)
            };
            var u = function(e) {
                p(), n.removeEventListener("message", u), t.$broadcast("DoPaymentWith3DAuthConfirmation", e.data)
            };
            n.addEventListener("message", u);
            var m;
            g.setProgress = function() {
                g.progress = g.progress + (100 - g.progress) / 10
            }, a.start = function() {
                a.stop(), m = i(g.setProgress, 1e3)
            }, a.stop = function() {
                i.cancel(m)
            }, a.start(), a.$on("$destroy", function() {
                a.stop()
            }), a.$on("DoPaymentWith3DAuthConfirmation", function(t, a) {
                e.log("DoPaymentWith3DAuth - " + a), o.go("mobile-booking-payment/credit-3d?:pa_res", {
                    pa_res: a
                })
            }), s(function() {
                var e = angular.element("#newibe_PAEnrollForm_form");
                e[0].submit()
            }, 100)
        }
        angular.module("B2B2CGatewayApp").controller("MobileFlightsBookingPayment3DAuthExternalController", e), e.$inject = ["$log", "$rootScope", "$scope", "$window", "$interval", "$state", "$stateParams", "$timeout", "$sce", "Auth", "Base64"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v) {
            var f = m.decodeString(i.booking_number);
            f && g.getFinalBookingByNumber(f).then(function(e) {
                window.location.href = "#/mobile-booking-result?" + i.booking_number + "&booking_status=" + e.bookingInfo.status + "&payment_status=" + e.bookingInfo.paymentStatus + "&issue_status=" + e.bookingInfo.issuedStatus
            })
        }
        angular.module("B2B2CGatewayApp").controller("MobileVNPayQRSuccessController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$stateParams", "$timeout", "$uibModal", "$interval", "Flight", "DataService", "DateUtils", "ValidationUtils", "CustomerService", "FlightUtils", "Base64", "DialogService", "$location"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h) {
            function v() {
                i.getProfileInfo().then(function(e) {
                    C.inProduction = e.inProduction, C.swaggerEnabled = e.swaggerEnabled
                })
            }

            function f() {
                g.use(C.language), u.set(C.language)
            }

            function b() {
                I(), o.open()
            }

            function y() {
                I(), a.logout(), t.go("home");
                try {
                    $ibe.resetTokenKey()
                } catch (t) {
                    e.log("AuthServerProvider.logout - err: " + t)
                }
                C.identity = {}, d.$broadcast("logoutSuccess")
            }

            function k() {
                I(), n.authenticate(null), e.log("$state.current.name" + t.current.name), "home" === t.current.name ? t.reload() : t.go("home");
                try {
                    $ibe.resetTokenKey()
                } catch (t) {
                    e.log("AuthServerProvider.logout - err: " + t)
                }
                d.$broadcast("logoutSuccess")
            }

            function w() {
                C.isNavbarCollapsed = !C.isNavbarCollapsed
            }

            function I() {
                C.isNavbarCollapsed = !0
            }

            function M() {
                I(), l.open()
            }
            var C = this;
            C.currentMerchant = c.get("merchant_code") || localStorage.getItem("merchant_code") || null, C.isNavbarCollapsed = !0, C.isAuthenticated = n.isAuthenticated, C.authenticationError = !1, C.inactivateError = !1, C.credentials = {}, C.login = b, C.password = null, C.rememberMe = !0, C.username = null, C.language = g.storage().get("NG_TRANSLATE_LANG_KEY"), C.language || (C.language = "vi"), C.language = "vi", C.changeLanguage = f, C.getProfileInfo = v, C.isB2B2C = $ibe.isB2B2C(), n.identity().then(function(e) {
                C.identity = e, console.log("InfoUser: "), console.log(C.identity), null == C.identity && (C.identity = {});
                var t = n.hasAnyAuthority(["ROLE_B2B"]);
                if (t) p.getB2BProfile(C.identity.login).then(function(e) {
                    C.identity.displayName = e.agentName, C.identity.email = C.identity.login
                });
                else {
                    var a = n.hasAnyAuthority(["ROLE_B2C"]);
                    a && p.getShortProfile(C.identity.id).then(function(e) {
                        p.getCustomerProfile(e.requesterId).then(function(e) {
                            p.getCustomerTraveller(e.defaultTravellerId).then(function(e) {
                                C.identity.displayName = "", "undefined" != typeof e.firstName && (C.identity.displayName = e.firstName), "undefined" != typeof e.surName && (C.identity.displayName = C.identity.displayName + " " + e.surName)
                            })
                        })
                    })
                }
                C.identity.displayName && 0 !== C.identity.displayName.length && " " !== C.identity.displayName || (C.identity.displayName = C.identity.login)
            }), h.isSimpleView() || C.getProfileInfo(), r.$on("$viewContentLoaded", function() {
                Layout.initHeader();
                var e = App.getResponsiveBreakpoint("sm");
                $(".nav a:not(.nolink)").on("click", function() {
                    App.getViewPort().width < e && $(".navbar-toggle").click()
                })
            }), r.$on("authenticationSuccess", function() {
                e.log("NavbarController --> authenticationSuccess event..."), n.identity().then(function(e) {
                    C.identity = e, null == C.identity && (C.identity = {});
                    var t = n.hasAnyAuthority(["ROLE_B2B"]);
                    if (t) p.getB2BProfile(C.identity.login).then(function(e) {
                        C.identity.displayName = e.agentName, C.identity.email = C.identity.login
                    });
                    else {
                        var a = n.hasAnyAuthority(["ROLE_B2C"]);
                        a && p.getShortProfile(C.identity.id).then(function(e) {
                            p.getCustomerProfile(e.requesterId).then(function(e) {
                                p.getCustomerTraveller(e.defaultTravellerId).then(function(e) {
                                    C.identity.displayName = "", "undefined" != typeof e.firstName && (C.identity.displayName = e.firstName), "undefined" != typeof e.surName && (C.identity.displayName = C.identity.displayName + " " + e.surName)
                                })
                            })
                        })
                    }
                    C.identity.displayName && 0 !== C.identity.displayName.length && " " !== C.identity.displayName || (C.identity.displayName = C.identity.login)
                })
            }), r.$on("syncAuthenticationSuccess", function() {
                e.log("NavbarController --> syncAuthenticationSuccess event..."), n.identity(!0).then(function(e) {
                    d.$broadcast("authenticationSuccess")
                })
            }), r.$on("syncLogout", function() {
                e.log("NavbarController --> syncLogout event..."), k()
            }), C.login = b, C.logout = y, C.register = M, C.toggleNavbar = w, C.collapseNavbar = I, C.$state = t
        }
        angular.module("B2B2CGatewayApp").controller("NavbarController", e), e.$inject = ["$log", "$state", "Auth", "Principal", "ProfileService", "LoginService", "$scope", "$uibModal", "RegisterService", "$cookies", "$rootScope", "CustomerService", "$translate", "tmhDynamicLocale", "$location", "MerchantService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(t, n, i) {
                var o = i.activeMenu;
                t.$watch(function() {
                    return e.use()
                }, function(e) {
                    o === e ? (a.set(o), n.addClass("active")) : n.removeClass("active")
                })
            }
            var i = {
                restrict: "A",
                link: n
            };
            return i
        }
        angular.module("B2B2CGatewayApp").directive("activeMenu", e), e.$inject = ["$translate", "$locale", "tmhDynamicLocale"]
    }(),
    function() {
        "use strict";

        function e() {
            function e(e, t, a) {
                var n = a.activeLink,
                    i = a.href;
                i = i.substring(1), e.location = location, e.$watch("location.path()", function(e) {
                    i === e ? t.addClass(n) : t.removeClass(n)
                })
            }
            var t = {
                restrict: "A",
                link: e
            };
            return t
        }
        angular.module("B2B2CGatewayApp").directive("activeLink", e)
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("error", {
                parent: "app",
                url: "/error",
                data: {
                    authorities: [],
                    pageTitle: "error.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/layouts/error/error.html"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("error"), e.refresh()
                    }]
                }
            }).state("accessdenied", {
                parent: "app",
                url: "/accessdenied",
                data: {
                    authorities: []
                },
                views: {
                    "content@": {
                        templateUrl: "app/layouts/error/accessdenied.html"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("error"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e) {
            var t = this;
            t.links = e
        }
        angular.module("B2B2CGatewayApp").controller("FooterController", e), e.$inject = ["LINKS"]
    }(),
    function() {
        "use strict";
        angular.module("B2B2CGatewayApp").constant("LINKS", [{
            url: "",
            text: "Giới thiệu Gotadi",
            key: "about"
        }, {
            url: "",
            text: "Các điều khoản sử dụng",
            key: "terms"
        }, {
            url: "",
            text: "Ý kiến của người dùng",
            key: "feedback"
        }, {
            url: "",
            text: "Liên hệ",
            key: "contact"
        }, {
            url: "",
            text: "Tuyển dụng",
            key: "recruitment"
        }, {
            url: "",
            text: "Khách hàng doanh nghiệp",
            key: "company"
        }, {
            url: "",
            text: "Dành cho đại lý",
            key: "agent"
        }])
    }(),
    function() {
        "use strict";

        function e(e) {
            var t = String(Cookies.get("merchant_code")).toUpperCase();
            return e[t] && e[t].hotel_search ? e[t].hotel_search : e.DEFAULT.hotel_search
        }

        function t(t, a) {
            t.state("hotel-search-home", {
                parent: "hotel",
                url: "/hotel",
                data: {
                    merchant_code: null,
                    msisdn: null
                },
                views: {
                    "content@": {
                        templateUrl: function() {
                            return e(a, "hotel_search")
                        },
                        controller: "HotelSearchHomeController",
                        controllerAs: "vm"
                    }
                },
                resolve: {}
            }).state("hotel-search", {
                parent: "hotel",
                url: "/hotel-search?params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/hotels/search/hotel.search.html",
                        controller: "HotelSearchController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0,
                    init: void 0,
                    searchCompleted: void 0,
                    filterCompleted: void 0
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("hotel"), t.addPart("flight"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(t), t.$inject = ["$stateProvider", "TEMPLATE_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l) {
            function c() {
                s.dismiss("cancel")
            }
            var d = this;
            e.log("SearchOptions in loading dialog:"), e.log(l), d.searchOptions = l, d.progress = 0, a.$on("gtd-hotel-search-completed", function(e, t) {
                c()
            });
            var p;
            d.setProgress = function() {
                d.progress = d.progress + (100 - d.progress) / 10
            }, a.start = function() {
                a.stop(), p = n(d.setProgress, 1e3)
            }, a.stop = function() {
                n.cancel(p)
            }, a.start(), a.$on("$destroy", function() {
                a.stop()
            })
        }
        angular.module("B2B2CGatewayApp").controller("HotelSearchLoadingController", e), e.$inject = ["$log", "$rootScope", "$scope", "$interval", "$state", "$timeout", "Auth", "$uibModalInstance", "searchOptions"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d) {
            function p(e) {
                var t = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                return t.test(e)
            }
            $(".page-content").addClass("home");
            var g = this,
                u = d.get("merchant_code") || localStorage.getItem("merchant_code");
            0 == !c[u] ? g.enable_template = !0 : g.enable_template = !1, g.enable_template && ($(".flight-search-home").css("max-width", "640px"), $(".hotel-search-home").css("max-width", "640px")), g.searchResult = [], g.searchOptions = {}, g.searchOptions.size = r, g.searchOptions.page = 0, g.searchOptions.adultNo = 1, g.searchOptions.childrenNo = 0, g.searchOptions.checkindate = moment(new Date((new Date).getTime() + 864e5)).format("DD-MM-YYYY"), g.searchOptions.checkoutdate = moment(new Date((new Date).getTime() + 1728e5)).format("DD-MM-YYYY"), g.hotelTempSearchOptions = o.getHotelSearchOptions(), g.hotelTempSearchOptions.checkin && (g.hotelSearchOptions = g.hotelTempSearchOptions), g.searchResult = {}, g.searchResult.result = [1, 2, 3],
                g.topHotelIdx = 1, g.setupControl = function() {
                    ({
                        $FillMode: 1,
                        $DragOrientation: 3,
                        $AutoPlay: !0,
                        $Idle: 2500,
                        $BulletNavigatorOptions: {
                            $Class: $JssorBulletNavigator$,
                            $ChanceToShow: 2,
                            $AutoCenter: 1,
                            $Steps: 1,
                            $Rows: 1,
                            $SpacingX: 10,
                            $SpacingY: 10,
                            $Orientation: 1
                        }
                    });
                    $(".owl-carousel").owlCarousel({
                        autoPlay: 3e3,
                        dots: !0,
                        items: 1,
                        responsive: {
                            480: {
                                items: 1,
                                dots: !0
                            },
                            768: {
                                items: 2,
                                dots: !0
                            },
                            1024: {
                                items: 3
                            }
                        }
                    })
                }, g.doSearch = function(t, i) {
                    g.searchResult = t, g.searchOptions = i, o.setHotelSearchResult(t), o.setHotelSearchOptions(i), n(function() {
                        e.$broadcast("gtd-hotel-search-completed", null)
                    }, 0), g.searchResult && g.searchResult.page && g.searchResult.page.totalElements > 0 ? a.go("hotel-search", {
                        searchOptions: g.searchOptions,
                        searchResult: g.searchResult,
                        searchCompleted: !0,
                        filterCompleted: !1,
                        params: s.encodeJson(g.searchOptions)
                    }) : a.go("hotel-search", {
                        searchOptions: g.searchOptions,
                        searchResult: g.searchResult,
                        searchCompleted: !0,
                        filterCompleted: !0,
                        params: s.encodeJson(g.searchOptions)
                    })
                }, t.subscriceEmail = function() {
                    var e = $(".form-subscrice .email input").val(),
                        t = $(".form-subscrice .phone input").val(),
                        a = "",
                        n = "error",
                        i = "success";
                    "" == e ? a = "Email kh�ng du?c d? tr?ng." : (a = "Email d� t?n t?i tr�n h? th?ng.", 0 != p(e) ? Subscribed.Subscribed(e, t).then(function(e) {
                        e.id ? ($(".form-subscrice .messageResult").html("�ang k� th�nh c�ng."), $(".form-subscrice .messageResult").removeClass("Error"), $(".form-subscrice .messageResult").addClass("success")) : ($(".form-subscrice .messageResult").html("Email d� t?n t?i tr�n h? th?ng."), $(".form-subscrice .messageResult").removeClass("success"), $(".form-subscrice .messageResult").addClass("Error"))
                    }) : a = "Email kh�ng h?p l?."), $(".form-subscrice .messageResult").html(a), $(".form-subscrice .messageResult").removeClass(i), $(".form-subscrice .messageResult").addClass(n)
                }, g.switchHotel = function(e) {
                    g.topHotelIdx = e
                }, g.setupControl()
        }
        angular.module("B2B2CGatewayApp").controller("HotelSearchHomeController", e), e.$inject = ["$rootScope", "$scope", "$state", "$timeout", "Hotel", "DataService", "DEFAULT_PAGE_SIZE", "Base64", "BannerService", "ThemeCfg", "$cookies"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            function l() {
                d.paxDetail = {
                    roomQuantity: 0,
                    adultQuantity: 0,
                    childQuantity: 0
                }, d.paxDetail.roomQuantity = d.searchOptions.hotelSearchBody.length, d.searchOptions.hotelSearchBody.forEach(function(e) {
                    d.paxDetail.adultQuantity += d.searchOptions.hotelSearchBody.adultQuantity, d.paxDetail.childQuantity += d.searchOptions.hotelSearchBody.childQuantity
                })
            }

            function c() {
                r.search()
            }
            var d = this;
            d.paxDetail = {
                roomQuantity: 0,
                adultQuantity: 0,
                childQuantity: 0
            }, d.params = n.params, d.displayState = null, d.hotelStates = r.getStates(), d.updatePaxDisplay = l, d.retry = c, d.showLoading = !0, d.showSubLoading = !1;
            var p = i.$on(s, function(e, t) {
                if (t) switch (t.state) {
                    case d.hotelStates.SHOW_SUB_LOADING:
                        d.showSubLoading = !0;
                        break;
                    case d.hotelStates.SHOW_LOADING:
                        d.displayState = t.state, d.showLoading = !0;
                        break;
                    case d.hotelStates.HIDE_LOADING:
                        d.displayState = t.state, d.showLoading = !1, d.showSubLoading = !1;
                        break;
                    case d.hotelStates.SEARCH_ERROR:
                        d.displayState = t.state;
                        break;
                    case d.hotelStates.FINISH_SEARCH:
                        d.displayState = t.state, d.searchResult = t.payload;
                        break;
                    case d.hotelStates.CHANGE_SEARCH_FILTER:
                        d.searchOptions = t.payload, d.updatePaxDisplay()
                }
            });
            if (t.$watch("$root.hotelStates", function(e, t) {}), d.params) try {
                d.searchOptions = o.decodeJson(d.params), r.updateSearchOptions(d.searchOptions), d.updatePaxDisplay(), r.search()
            } catch (t) {
                e.log(t)
            }
            t.$on("$destroy", function() {
                p = null
            }), t.changeItinerary = function() {
                $(".hotel-search-header").slideToggle()
            }, t.filterItinerary = function() {
                $(".formFilter").toggleClass("show"), $(".sm-form-filter").show()
            }, t.closeFilterItinerary = function() {
                $(".formFilter").removeClass("show"), $(".sm-form-filter").hide()
            }
        }
        angular.module("B2B2CGatewayApp").controller("HotelSearchController", e), e.$inject = ["$log", "$scope", "$state", "$stateParams", "$rootScope", "Base64", "GtdHotelService", "HOTEL_STATES"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l) {
            var c = this;
            e.log("SearchOptions in loading dialog:"), e.log(s), c.searchOptions = s, c.cancel = function() {
                r.dismiss("cancel")
            }, c.doSubmit = function() {
                r.dismiss("cancel"), n.go("booking-info", {
                    searchOptions: c.searchOptions,
                    searchResult: c.searchResult
                })
            }, a.$on("gtd-hotel-search-date-paginator-init", function(e, t) {
                c.cancel()
            })
        }
        angular.module("B2B2CGatewayApp").controller("HotelSearchConfirmBookingController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "Auth", "$uibModalInstance", "searchOptions", "currentItem"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("inventory", {
                parent: "hotel",
                url: "/inventory",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/hotels/Inventory/hotel.inventory.html",
                        controller: "HotelInventoryController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("hotel"), t.addPart("global"), t.addPart("flight"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            function l() {
                if (!(c.hotelName && c.phoneNumber && c.email && c.address)) return !1;
                var e = {};
                return e.hotelName = c.hotelName, e.phoneNumber = c.phoneNumber, e.email = c.email, e.address = c.address, e.fullName = c.fullName, r({
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    url: "/api/form/hotel-inventory",
                    data: angular.toJson(e)
                }).then(function(e, t) {
                    return i.go("inventory", t, {
                        reload: !0
                    }), s.openAlertDialog({
                        title: "Thông báo",
                        message: "Cảm ơn bạn đã gửi thông tin liên hệ, chúng tôi sẽ liên lạc với bạn trong thời gian sớm nhất."
                    }), e.data
                }, function(e) {
                    return e.data
                })
            }
            var c = this;
            c.registry = l
        }
        angular.module("B2B2CGatewayApp").controller("HotelInventoryController", e), e.$inject = ["$log", "$rootScope", "$scope", "$interval", "$state", "$timeout", "$http", "DialogService"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("hotel", {
                abstract: !0,
                parent: "app",
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("hotel"), t.addPart("flight"), e.refresh()
                    }]
                }
            }).state("hotel-booking-terms", {
                parent: "app",
                url: "/hotel-booking-terms",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/home/hotel-booking-terms.html",
                        controller: "BlankController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("hotel"), t.addPart("lookup"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n() {
                c.init = n, c.chooseRoomSearchOptions = angular.copy(a.getPaxFilter())
            }

            function i(e) {
                e.adultQuantity && e.adultQuantity < 8 ? e.adultQuantity++ : e.adultQuantity = 8
            }

            function o(e) {
                e.adultQuantity && e.adultQuantity > 1 ? e.adultQuantity-- : e.adultQuantity = 1
            }

            function r(e) {
                e.childQuantity < 4 ? (e.childQuantity++, e.childrenAges.push("1")) : e.childQuantity = 4
            }

            function s(e) {
                e.childQuantity && e.childQuantity > 0 ? (e.childQuantity--, e.childrenAges.pop()) : e.childQuantity = 0
            }

            function l(e, t, a, n) {
                void 0 !== t && t[a] > n && (t[a] = n)
            }
            var c = this;
            c.init = n, c.increaseAdult = i, c.decreaseAdult = o, c.increaseChild = r, c.decreaseChild = s, c.limitInput = l, c.ageOptions = [];
            for (var d = 1; d <= 17; d++) c.ageOptions.push(d);
            c.init(), c.addPax = function() {
                c.chooseRoomSearchOptions.length < 8 && c.chooseRoomSearchOptions.push({
                    adultQuantity: "2",
                    childQuantity: "0",
                    childrenAges: []
                })
            }, c.removePax = function(e) {
                c.chooseRoomSearchOptions.length > 1 && c.chooseRoomSearchOptions.splice(e, 1)
            }, t.result.finally(function() {}), c.cancel = function() {
                a.updatePaxInfo(c.chooseRoomSearchOptions), t.dismiss("cancel")
            }
        }
        angular.module("B2B2CGatewayApp").controller("HotelChooseroomController", e), e.$inject = ["$log", "$uibModalInstance", "GtdHotelService"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("hotel-detail/:hotel_id/:params", {
                parent: "hotel",
                url: "/hotel-detail/:hotel_id/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/hotels/details/hotel.detail.html",
                        controller: "HotelDetailController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0
                },
                resolve: {}
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v) {
            function f() {
                e.$on(v, function(e, t) {
                    if (t) switch (t.state) {
                        case y.hotelStates.SHOW_LOADING:
                            y.isLoading = !0;
                            break;
                        case y.hotelStates.HIDE_LOADING:
                            y.isLoading = !1;
                            break;
                        case y.hotelStates.HOTEL_AVAILABILITY_CHANGED:
                            y.hotelAvailabilityChanged(t.payload)
                    }
                })
            }

            function b(t) {
                o.log("Get checkHotelAvailability hotel.service"), o.log(t), o.log(t.valid), null != t && null == t.hotel.products && w < 1 && (w++, u.checkHotelAvailability({
                    id: y.hotelId,
                    supplierSessionId: t.hotel.supplierSessionId
                })), t.success ? (l.setSelectedHotel(t.hotel), l.setSelectedHotelAvail(t.hotel), p.addRecentViewHotels(t.hotel), y.searchCompleted = !0, y.selectedHotel = t.hotel, y.selectedHotel && y.selectedHotel.products && y.selectedHotel.products.forEach(function(e) {
                    var t = e.roomLongDescription;
                    if (t && t.length > 0) {
                        var a = t.split("<br />");
                        e.arrDesc = [];
                        for (var n = 0; n < a.length && !(a[n].indexOf("Internet") > 0 || 2 == n); n++) e.arrDesc[n] = a[n].replace("<strong>", "").replace("</strong>", "").replace("Phòng", "");
                        e.arrDesc.reverse()
                    }
                    if (!e.nonRefundable && e.policyString) {
                        var i = m.replace(new RegExp("\\{0\\}", "gm"), y.selectedHotel.hotelMeta.name);
                        e.displayPolicyString = e.policyString.replace(i, "");
                        var r = e.displayPolicyString.match(/(\d{2}):(\d{2}) \(\(\w{3}\+(\d{2}):(\d{2})\)\), (\d{2})([\/.-])(\d{2})([\/.-])(\d{4})/g);
                        if (r) {
                            e.displayPolicyString.replace(r, "");
                            o.log(r);
                            var s = r[0],
                                l = s.replace(/{.*?}/g, "").replace(/\[.*?\]/g, "").replace(/<.*?>/g, "").replace(/\(.*?\)/g, "");
                            r = moment(l, "HH:mm, , DD-MM-YYYY").format("HH:mm, dddd, DD-MM-YYYY"), o.log(r), e.displayPolicyString = r, o.log(e.displayPolicyString)
                        }
                    }
                    e.adultQuantity = 0, e.childQuantity = 0, e.rooms && e.rooms.forEach(function(t) {
                        e.adultQuantity = e.adultQuantity + t.pax.adultQuantity, e.childQuantity = e.childQuantity + t.pax.childQuantity
                    })
                }), g.getFacilities(y.selectedHotel), i(function() {
                    e.$broadcast("gtd-load-details-completed", null)
                }, 1e3)) : c.openAlertDialog({
                    title: r("translate")("hotel.search.error.title"),
                    message: r("translate")("hotel.search.result.errormess")
                })
            }
            var y = this;
            if (y.hotelId = n.hotel_id, y.params = n.params, y.isLoading = !0, y.hotelAvailabilityChanged = b, y.initControl = f, y.selectedDestination = u.getSelectedDestination(), y.hotelStates = u.getStates(), y.params) try {
                y.searchOptions = d.decodeJson(y.params), u.updateSearchOptions(y.searchOptions)
            } catch (e) {
                o.log(e)
            }
            y.initControl(), t.changeItinerary = function() {
                $(".hotel-search-header").slideToggle()
            }, y.backSearchResult = function() {
                u.backToResult()
            };
            var k = localStorage.getItem("ctrl.item.supplierSessionId");
            u.checkHotelAvailability({
                id: y.hotelId,
                supplierSessionId: k
            });
            var w = 0
        }
        angular.module("B2B2CGatewayApp").controller("HotelDetailController", e), e.$inject = ["$rootScope", "$scope", "$state", "$stateParams", "$timeout", "$log", "$filter", "Hotel", "DataService", "DialogService", "Base64", "GlobalSrv", "HotelUtils", "GtdHotelService", "PREFIX_DEFAULT_POLICY_STRING", "AFTER_DEFAULT_POLICY_STRING", "HOTEL_STATES"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("hotel-booking/:booking_number/:params", {
                parent: "hotel",
                url: "/hotel-booking/:booking_number/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/hotels/booking/hotel.booking.html",
                        controller: "HotelBookingController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0,
                    hotelId: void 0
                },
                resolve: {}
            }).state("hotel-booking-result/:booking_number/:params", {
                parent: "flight",
                url: "/hotel-booking-result/:booking_number/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/hotels/booking/hotel.booking.result.html",
                        controller: "HotelBookingResultController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0
                },
                resolve: {}
            }).state("hotel-booking-result/:booking_number/:is_mobile/:params", {
                parent: "flight",
                url: "/hotel-booking-result/:booking_number/:is_mobile/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/hotels/booking/hotel.booking.result.html",
                        controller: "HotelBookingResultController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0
                },
                resolve: {}
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u) {
            var m = this,
                h = null,
                v = function() {
                    h = null
                };
            g.search().vnp_Amount && ($("#vnpay_close") && $("#vnpay_close").click(), n.reload()), m.bookingModel = {
                voucher: {},
                departGroupItem: {},
                departPricedItinerary: {},
                departItinTotalFare: {},
                returnGroupItem: {},
                returnPricedItinerary: {},
                returnItinTotalFare: {}
            }, m.openLoading = function() {
                null === h && (h = r.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/flight.loading.html",
                    controller: "FlightLoadingController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }]
                    }
                }), h.result.then(v, v))
            }, m.closeLoading = function() {
                null != h && h.close()
            }, m.openLoading(), m.bookingModel.bookingNumber = d.decodeString(i.booking_number), e.log("$stateParams.booking_number = "), e.log(m.bookingModel.bookingNumber), i.is_mobile && "mobile" === i.is_mobile && i.booking_number && c.getFinalBookingByNumber(m.bookingModel.bookingNumber).then(function(e) {
                if (e.bookingInfo) {
                    var t = e.bookingInfo.status,
                        a = e.bookingInfo.paymentStatus,
                        i = e.bookingInfo.issuedStatus;
                    n.go("mobile-booking-result?booking_status=:booking_status&payment_status=:payment_status&issue_status=:issue_status", {
                        booking_status: t,
                        payment_status: a,
                        issue_status: i
                    })
                }
            }), c.getFinalBookingByNumber(m.bookingModel.bookingNumber).then(function(a) {
                m.closeLoading(), m.bkgroup = a, e.log("+++++ vm.bkgroup = "), e.log(m.bkgroup), m.selectedHotel = m.bkgroup.hotelAvailability, m.selectedHotelProduct = m.bkgroup.hotelAvailability.products[0], m.selectedHotelRoom = m.bkgroup.hotelAvailability.products[0].rooms[0], e.log("+++ Hotel booking +++"), e.log("selectedHotel=" + m.selectedHotel), e.log(m.selectedHotel), e.log("selectedHotelProduct=" + m.selectedHotelProduct), e.log(m.selectedHotelProduct), e.log("selectedHotelRoom=" + m.selectedHotelRoom), e.log(m.selectedHotelRoom), o(function() {
                    t.$broadcast("gtd-load-booking-completed", null)
                }, 1e3)
            }), m.doConfirm = function() {}, m.doBack = function() {}
        }
        angular.module("B2B2CGatewayApp").controller("HotelBookingResultController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$stateParams", "$timeout", "$uibModal", "Flight", "DataService", "CustomerService", "Base64", "DialogService", "$location", "FlightUtils"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v) {
            function f(e) {
                w.checkedTerm = e
            }

            function b(e, t) {
                switch (e) {
                    case "TIKI":
                        w.tikiPayment(t.bookingNumber);
                        break;
                    case "VIETTEL":
                        w.viettelPayment(t.bookingNumber)
                }
            }

            function y(e) {
                var t = u.get("msisdn") || localStorage.getItem("msisdn");
                m.createOrderTiki(e, t).then(function(e) {
                    h.location.href = e.redirect_url
                }, function(e) {
                    r.log("errorCallback Create Tiki order")
                })
            }

            function k(e) {
                m.getViettelPaymentURL(e).then(function(e) {
                    h.location.href = e
                }, function(e) {
                    r.log("errorCallback Create viettel order")
                })
            }
            var w = this;
            w.merchantList = ["VIETTEL", "TIKI", "TRUEMONEY", "FASTGO"], w.currentMerchant = u.get("merchant_code") || localStorage.getItem("merchant_code") || null, w.viettelPayment = k, w.externalPayment = b, w.tikiPayment = y;
            var I = !1;
            if ((u.get("liteEmbed") || localStorage.getItem("liteEmbed")) && (I = "true" === (u.get("liteEmbed") || localStorage.getItem("liteEmbed"))), w.bookingModel = {
                    voucher: {},
                    departGroupItem: {},
                    departPricedItinerary: {},
                    departItinTotalFare: {},
                    returnGroupItem: {},
                    returnPricedItinerary: {},
                    returnItinTotalFare: {}
                }, w.paymentModel = {}, w.paymentModel.cardModel = {}, w.paymentModel.cardModel.cardId = -1, w.hotelId = n.hotelId, w.bjson = {}, w.bjson.bookingInfo = {}, w.searchOptions = c.getHotelSearchOptions(), w.bookingModel.curStep = 1, w.bookingModel.biMobileCode = "84", w.bookingModel.tPCPhoneCode = "84", w.bookingModel.bookingNumber = g.decodeString(n.booking_number), r.log("$stateParams.booking_number = "), r.log(w.bookingModel.bookingNumber), w.paymentModel.isMobileApp = !1, n.is_mobile) {
                if ("mobile" === n.is_mobile) {
                    var M = !0;
                    r.log("_is_mobile = " + M), w.paymentModel.isMobileApp = M
                }
                if (n.payment_method) {
                    var C = n.payment_method;
                    r.log("_payment_method = " + C), w.paymentModel.paymentOption = C
                }
            }
            w.termChange = f, d.getBookingByNumber(w.bookingModel.bookingNumber).then(function(t) {
                w.bjson = t, r.log("++ vm.bjson ++ "), r.log(w.bjson);
                var n = w.bjson.bookingInfo.status,
                    o = w.bjson.bookingInfo.paymentStatus,
                    s = w.bjson.bookingInfo.issuedStatus,
                    l = w.bjson.bookingInfo.supplierBookingStatus;
                if (r.log("bookingStatus=" + n + ", paymentStatus = " + o + ", issuedStatus = " + s + ", supplierBookingStatus = " + l), "PENDING" == n) r.log("VIEW - Booking Info");
                else if ("BOOKED" == n)
                    if ("PENDING" == o || "FAILED" == o)
                        if (r.log("GOTO - booking-payment"), w.merchantList.indexOf(w.currentMerchant) > -1) {
                            var c = g.encodeString(w.bookingModel.bookingNumber);
                            if ("BOOKED" != l) return void a.go("user-profile-booking-htl/:booking_number/:mode", {
                                booking_number: c,
                                mode: "view"
                            });
                            w.bookingModel.curStep = 3
                        } else w.bookingModel.curStep = 3;
                else r.log("GOTO - booking-result"), a.go("hotel-booking-result/:booking_number/:params", {
                    profileBooking: w.bookingModel,
                    booking_number: g.encodeString(w.bookingModel.bookingNumber)
                });
                else r.log("GOTO - booking-result"), a.go("hotel-booking-result/:booking_number/:params", {
                    profileBooking: w.bookingModel,
                    booking_number: g.encodeString(w.bookingModel.bookingNumber)
                });
                w.selectedHotel = w.bjson.hotelAvailability, w.selectedHotelProduct = w.bjson.hotelAvailability.products[0], w.selectedHotelRoom = w.bjson.hotelAvailability.products[0].rooms[0], w.selectedHotelProduct.totalPerson = 0, w.selectedHotelProduct.totalAdultQuantity = 0, w.selectedHotelProduct && w.selectedHotelProduct.rooms && w.selectedHotelProduct.rooms.forEach(function(e) {
                    e.productCode = e.id, w.selectedHotelProduct.totalPerson += e.pax.adultQuantity + e.pax.childQuantity, w.selectedHotelProduct.totalAdultQuantity += e.pax.adultQuantity
                }), r.log("+++ Hotel booking +++"), r.log("selectedHotel=" + w.selectedHotel), r.log(w.selectedHotel), r.log("selectedHotelProduct=" + w.selectedHotelProduct), r.log(w.selectedHotelProduct), r.log("selectedHotelRoom=" + w.selectedHotelRoom), r.log(w.selectedHotelRoom), i(function() {
                    e.$broadcast("gtd-load-booking-completed", null)
                }, 1e3)
            }, function(e) {
                r.log("++ vm.productBooking failed ++ ")
            }), t.$on("IssueTicket", function(t, n) {
                w.openLoading(), l.orderTickets(w.bookingModel, w.bjson).then(function(t) {
                    return r.log("Get Flight.orderTickets()"), r.log(t), w.paymentModel.payFailed = !t.success, c.setHotelPaymentModel(w.paymentModel), e.$broadcast("event-flight-load-completed", null), w.paymentModel.isMobileApp ? void d.getFinalBookingByNumber(w.bookingModel.bookingNumber).then(function(e) {
                        if (e.bookingInfo) {
                            var t = e.bookingInfo.status,
                                n = e.bookingInfo.paymentStatus,
                                i = e.bookingInfo.issuedStatus;
                            a.go("mobile-booking-result?:booking_status&:payment_status&:issue_status", {
                                booking_status: t,
                                payment_status: n,
                                issue_status: i
                            })
                        }
                    }) : void a.go("hotel-booking-result/:booking_number/:is_mobile/:params", {
                        profileBooking: w.bookingModel,
                        booking_number: g.encodeString(w.bookingModel.bookingNumber),
                        is_mobile: w.paymentModel.isMobileApp ? "mobile" : "",
                        params: ""
                    })
                }, function(t) {
                    r.log("error orderTickets"), r.log(t), w.paymentModel.payFailed = !0, c.setHotelPaymentModel(w.paymentModel), e.$broadcast("event-flight-load-completed", null), a.go("hotel-booking-result/:booking_number/:is_mobile/:params", {
                        profileBooking: w.bookingModel,
                        booking_number: g.encodeString(c.getBookingModel().bookingNumber),
                        is_mobile: w.paymentModel.isMobileApp ? "mobile" : "",
                        params: ""
                    })
                })
            }), t.$on("DoPaymentWith3DAuthConfirmation", function(e, t) {
                r.log("Hotel - DoPaymentWith3DAuthConfirmation - " + t), w.paymentModel.paToken = t, w.doPayment()
            }), w.doDebitPayment = function() {
                "ATM_DEBIT" === w.paymentModel.paymentOption && l.gPaymentBooking(w.bookingModel, w.paymentModel, w.bjson).then(function(e) {
                    e.hasPaymentAuth && e.paymentAuthUrl ? (r.log(e.paymentAuthUrl), h.open(e.paymentAuthUrl, "_top")) : p.openHttpAlertDilalog(e)
                }, function(e) {
                    p.openHttpAlertDilalog(e)
                })
            }, $("#button").click(function() {
                $("html, body").animate({
                    scrollTop: $("#action-bar-mobile").offset().top
                }, 1e3)
            }), w.doPayment = function() {
                w.openLoading(), l.paymentBooking(w.bookingModel, w.paymentModel, w.bjson).then(function(t) {
                    e.$broadcast("event-flight-load-completed", null), r.log("Get Hotel.paymentBooking()"), r.log(t), t.hasPaymentAuth && t.paymentAuthUrl ? (r.log(t.paymentAuthUrl), w.open3DAuth(t.paymentAuthUrl, t.paReq, t.md, t.termUrl)) : ("CREDIT" === w.paymentModel.paymentOption || "BALANCE" === w.paymentModel.paymentOption ? (s.isAuthenticated() && w.paymentModel.cardModel && w.paymentModel.cardModel.cardId == -1 && w.paymentModel.cardModel.checked && d.createCreditCards(w.paymentModel.cardModel, w.paymentModel.paToken).then(function(e) {
                        r.log("success createCreditCards")
                    }, function(e) {
                        r.log("error createCreditCards"), r.log(e)
                    }), e.$broadcast("IssueTicket", null)) : (w.paymentModel.payFailed = !t.success, c.setHotelPaymentModel(w.paymentModel), a.go("hotel-booking-result/:booking_number/:params", {
                        profileBooking: w.bookingModel,
                        booking_number: g.encodeString(w.bookingModel.bookingNumber)
                    })), w.paymentModel.paToken = null)
                }, function(t) {
                    e.$broadcast("event-flight-load-completed", null), r.log("error paymentBooking"), r.log(t), w.paymentModel.payFailed = !0, c.setHotelPaymentModel(w.paymentModel), a.go("hotel-booking-result/:booking_number/:params", {
                        profileBooking: w.bookingModel,
                        booking_number: g.encodeString(w.bookingModel.bookingNumber)
                    })
                })
            }, w.doConfirm = function(t) {
                return "parentIFrame" in window && window.parentIFrame.scrollTo(0, 0), t.$valid ? (w.bookingModel.customers = w.selectedHotelProduct.rooms, c.setHotelBookingModel(w.bookingModel), r.log("vm.bookingModel.curStep = " + w.bookingModel.curStep), r.log("vm.bookingModel = " + w.bookingModel), r.log("vm.paymentModel = " + w.paymentModel), void(3 === w.bookingModel.curStep ? (c.setHotelPaymentModel(w.paymentModel), w.bookingModel.voucher && r.log("vm.bookingModel.voucher.voucherValid = " + w.bookingModel.voucher.voucherValid), e.$broadcast("event-payment-voucher-pre-send-data", null), w.bookingModel.voucher && w.bookingModel.voucher.voucherValid ? (r.log("Payment::doConfirm - process redeem booking..."), l.redeemVoucher(w.bookingModel).then(function(t) {
                    t.redeemValid && t.success ? (r.log("Payment::doConfirm - result.redeemValid = " + t.redeemValid + ", result.success = " + t.success), "ATM_DEBIT" === w.paymentModel.paymentOption && w.doDebitPayment(), "VNPAYQR" === w.paymentModel.paymentOption && l.gPaymentBooking(w.bookingModel, w.paymentModel, w.bjson).then(function(e) {
                        vnpay.open({
                            width: 900,
                            height: 800,
                            url: e.paymentAuthUrl
                        })
                    }), "VNPAYQR" !== w.paymentModel.paymentOption && "ATM_DEBIT" !== w.paymentModel.paymentOption && w.doPayment()) : (r.log("Payment::doConfirm - payment voucher redeem invalid..."), e.$broadcast("event-payment-voucher-redeem-invalid", null))
                }, function(t) {
                    r.log("Payment::doConfirm - payment voucher redeem error..."), e.$broadcast("event-payment-voucher-redeem-invalid", null)
                })) : (r.log("Payment::doConfirm - process payment..."), "ATM_DEBIT" === w.paymentModel.paymentOption && w.doDebitPayment(), "VNPAYQR" === w.paymentModel.paymentOption && l.gPaymentBooking(w.bookingModel, w.paymentModel, w.bjson).then(function(e) {
                    vnpay.open({
                        width: 900,
                        height: 800,
                        url: e.paymentAuthUrl
                    })
                }), "VNPAYQR" !== w.paymentModel.paymentOption && "ATM_DEBIT" !== w.paymentModel.paymentOption && w.doPayment()), d.getBookingByNumber(w.bookingModel.bookingNumber).then(function(e) {}, function(e) {
                    r.log("++ vm.productBooking failed ++ ")
                })) : 2 === w.bookingModel.curStep ? (d.addCustomerTravellers(w.bookingModel).then(function(e) {
                    r.log("Get addCustomerTravellers from customer.service"), r.log(e)
                }, function(e) {}), l.addHotelTravellers(w.searchOptions, w.bookingModel).then(function(e) {
                    r.log("Get addTicketTravellers from flight.service"), r.log(e), p.isResponseSuccess(e) ? (w.bookingModel.code = e, c.setHotelBookingModel(w.bookingModel), d.getBookingByNumber(w.bookingModel.bookingNumber).then(function(e) {
                        w.bjson = e, r.log("++ vm.bjson ++ "), r.log(w.bjson);
                        var t = e.bookingInfo.status;
                        return "BOOKED" !== t ? void a.go("hotel-booking-result/:booking_number/:params", {
                            searchOptions: w.searchOptions,
                            searchResult: w.searchResult,
                            booking_number: g.encodeString(e.bookingNumber),
                            params: ""
                        }) : w.currentMerchant && "FASTGO" === w.currentMerchant || I === !0 ? (r.log("GOTO - booking-payment==="), a.go("hotel-booking/:booking_number/:params", {
                            searchOptions: w.searchOptions,
                            searchResult: w.searchResult,
                            booking_number: g.encodeString(e.bookingNumber),
                            params: ""
                        }), void w.bookingModel.curStep++) : void m.externalPayment(e.bookingNumber)
                    }, function(e) {
                        r.log("++ vm.productBooking failed ++ ")
                    })) : p.openHttpAlertDilalog(e)
                }, function(e) {
                    p.openHttpAlertDilalog(e)
                })) : w.bookingModel.curStep++)) : (angular.element("[name='" + t.$name + "']").find(".ng-invalid:visible:first").focus(), !1)
            };
            var O = null,
                P = function() {
                    O = null
                },
                T = null,
                N = function() {
                    T = null
                },
                x = null;
            w.open = function(e, t) {
                var a = t ? "modal-fullscreen" : "modal-window-extension";
                null === T && (T = o.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/payment/flight.payment.external.html",
                    controller: "FlightPaymentExternalController",
                    controllerAs: "vm",
                    windowClass: a,
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        paymentUrl: function() {
                            return e
                        },
                        isMobile: function() {
                            return t
                        }
                    }
                }), T.result.then(N, N))
            }, w.open3DAuth = function(e, t, a, n) {
                null === x && v.redirectPayment3D(e, t, a, n)
            }, w.openLoading = function() {
                null === O && (O = o.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/flight.loading.html",
                    controller: "FlightLoadingController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }]
                    }
                }), O.result.then(P, P))
            }, w.doBack = function() {
                a.go("hotel-detail/:hotel_id/:params", {
                    hotel_id: w.hotelId,
                    params: g.encodeJson(w.searchOptions)
                }, {
                    reload: !0
                })
            }
        }
        angular.module("B2B2CGatewayApp").controller("HotelBookingController", e), e.$inject = ["$rootScope", "$scope", "$state", "$stateParams", "$timeout", "$uibModal", "$log", "Principal", "Hotel", "DataService", "CustomerService", "DialogService", "Base64", "$cookies", "Flight", "$window", "gtdFormPayment3D"]
    }(),
    function() {
        "use strict";

        function e(e) {
            var t = String(Cookies.get("merchant_code")).toUpperCase();
            return e[t] && e[t].home ? e[t].home : e.DEFAULT.home
        }

        function t(t, a) {
            t.state("home", {
                parent: "app",
                url: "/",
                data: {
                    authorities: [],
                    pageTitle: "GOTADI Template"
                },
                params: {
                    merchant_code: null,
                    msisdn: null
                },
                views: {
                    "content@": {
                        templateUrl: function() {
                            return e(a)
                        },
                        controller: "B2B2CHomeController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("hotel"), t.addPart("lookup"), e.refresh()
                    }]
                }
            }).state("error-partner", {
                url: "/error-partner",
                data: {
                    authorities: [],
                    pageTitle: "Opps...! Something went wrong."
                },
                views: {
                    "content@": {
                        templateUrl: "app/home/error-partner.html"
                    }
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(t), t.$inject = ["$stateProvider", "TEMPLATE_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f) {
            function b() {
                n.identity().then(function(e) {
                    C.account = e, C.isAuthenticated = n.isAuthenticated
                })
            }

            function y() {
                r.go("register")
            }

            function k(e) {
                var t = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                return t.test(e)
            }
            $(".page-content").addClass("home");
            var w = "",
                I = "";
            if (h.search().merchant_code) {
                var M = new Date;
                M.setDate(M.getDate() + 30), w = String(h.search().merchant_code).toUpperCase(), a.merchant_code = w, v.put("merchant_code", w, {
                    expires: M
                }), localStorage.setItem("merchant_code", w), h.search().msisdn && (I = h.search().msisdn, a.msisdn = h.search().msisdn, v.put("msisdn", I, {
                    expires: M
                }), localStorage.setItem("msisdn", I))
            }
            var C = this;
            w = v.get("merchant_code") || localStorage.getItem("merchant_code"), f[w] ? C.enable_template = !1 : C.enable_template = !0, C.enable_template && ($(".flight-search-home").css("max-width", "640px"), $(".hotel-search-home").css("max-width", "640px"));
            var O = "";
            if (h.search().utm_source) {
                var M = new Date;
                M.setDate(M.getDate() + 30), O = h.search().utm_source, v.put("aff_id", O, {
                    expires: M
                })
            }
            e.log("isIE = " + m.isIE());
            var C = this;
            C.hotelSearchOptions = {}, C.hotelSearchOptions = {}, C.hotelSearchOptions.size = g, C.hotelSearchOptions.page = 0, C.hotelSearchOptions.adultNo = 1, C.hotelSearchOptions.childrenNo = 0, C.hotelSearchOptions.checkindate = moment(new Date((new Date).getTime() + 864e5)).format("DD-MM-YYYY"), C.hotelSearchOptions.checkoutdate = moment(new Date((new Date).getTime() + 1728e5)).format("DD-MM-YYYY"), C.hotelTempSearchOptions = p.getHotelSearchOptions(), C.hotelTempSearchOptions.checkin && (C.hotelSearchOptions = C.hotelTempSearchOptions), C.searchOptions = {}, C.searchOptions.searchType = "oneway", C.searchOptions.dtype = "domestic", C.searchOptions.size = g, C.searchOptions.page = 0, C.searchOptions.adultNo = 1, C.searchOptions.childrenNo = 0, C.searchOptions.newBornNo = 0, C.searchOptions.class = "E", C.searchOptions.departureDate = moment(new Date).format("DD-MM-YYYY"), C.searchOptions.returnDate = moment(new Date).format("DD-MM-YYYY");
            var P = p.getSearchOption();
            if (e.log("so.searchType=" + P.searchType), P.searchType) {
                C.searchOptions = {};
                var T = p.getSavedSearchOption();
                C.searchOptions.fromAirPort = T.fromAirPort, C.searchOptions.toAirPort = T.toAirPort, C.searchOptions.departureDate = T.departureDate, C.searchOptions.returnDate = T.returnDate, C.searchOptions.searchType = T.searchType, C.searchOptions.dtype = T.dtype, C.searchOptions.adultNo = T.adultNo, C.searchOptions.childrenNo = T.childrenNo, C.searchOptions.newBornNo = T.newBornNo, (!C.searchOptions.class || "E" != C.searchOptions.class && "B" != C.searchOptions.class) && (C.searchOptions.class = "E"), e.log(C.searchOptions), moment(C.searchOptions.departureDate, "DD-MM-YYYY").isBefore(moment(new Date)) && (C.searchOptions.departureDate = moment(new Date).format("DD-MM-YYYY")), moment(C.searchOptions.returnDate, "DD-MM-YYYY").isBefore(moment(new Date)) && (C.searchOptions.returnDate = moment(new Date).format("DD-MM-YYYY")), moment(C.searchOptions.departureDate, "DD-MM-YYYY").isAfter(moment(C.searchOptions.returnDate, "DD-MM-YYYY")) && (C.searchOptions.returnDate = C.searchOptions.departureDate)
            }
            C.searchOptions.departureItinerary = {}, C.searchOptions.returnSearchId = null, C.searchOptions.searchId = null, C.searchOptions.ssrOfferItemsDepart = [], C.searchOptions.ssrOfferItemsReturn = [], C.searchResult = {}, C.searchResult.result = [1, 2, 3, 4, 5, 6], C.topHotelIdx = 1, C.bgWhite = !0, C.account = null, C.isAuthenticated = null, C.login = o.open, C.register = y, a.$on("authenticationSuccess", function() {
                b()
            }), b(), a.subscriceEmail = function() {
                var e = $(".form-subscrice .email input").val(),
                    t = $(".form-subscrice .phone input").val(),
                    a = "",
                    n = "error",
                    i = "success";
                "" == e ? a = "Email không được để trống." : (a = "Email đã tồn tại trên hệ thống.", 0 != k(e) ? c.Subscribed(e, t).then(function(e) {
                    e.id ? ($(".form-subscrice .messageResult").html("Đăng ký thành công."), $(".form-subscrice .messageResult").removeClass("Error"), $(".form-subscrice .messageResult").addClass("success")) : ($(".form-subscrice .messageResult").html("Email đã tồn tại trên hệ thống."), $(".form-subscrice .messageResult").removeClass("success"), $(".form-subscrice .messageResult").addClass("Error"))
                }) : a = "Email không hợp lệ."), $(".form-subscrice .messageResult").html(a), $(".form-subscrice .messageResult").removeClass(i), $(".form-subscrice .messageResult").addClass(n)
            }, C.initControl = function() {
                $(".nav-tabs a").click(function(e) {
                    e.preventDefault(), $(this).tab("show")
                });
                ({
                    $FillMode: 1,
                    $DragOrientation: 3,
                    $AutoPlay: !0,
                    $Idle: 2500,
                    $BulletNavigatorOptions: {
                        $Class: $JssorBulletNavigator$,
                        $ChanceToShow: 2,
                        $AutoCenter: 1,
                        $Steps: 1,
                        $Rows: 1,
                        $SpacingX: 10,
                        $SpacingY: 10,
                        $Orientation: 1
                    }
                })
            }, C.switchHotel = function(e) {
                C.topHotelIdx = e
            }, C.doSearchFlight = function(e, t) {
                C.searchResult = e, C.searchOptions = t, C.searchResult && C.searchResult.page && C.searchResult.page.totalElements > 0 ? r.go("flight-search", {
                    searchOptions: C.searchOptions,
                    searchResult: C.searchResult,
                    searchCompleted: !0,
                    filterCompleted: !1,
                    params: u.encodeJson(C.searchOptions)
                }) : r.go("flight-search", {
                    searchOptions: C.searchOptions,
                    searchResult: C.searchResult,
                    searchCompleted: !0,
                    filterCompleted: !0,
                    params: u.encodeJson(C.searchOptions)
                })
            }, C.doSearchHotel = function(e, a) {
                C.searchResult = e, C.searchOptions = a, p.setHotelSearchResult(e), p.setHotelSearchOptions(a), s(function() {
                    t.$broadcast("gtd-hotel-search-completed", null)
                }, 0), C.searchResult && C.searchResult.page && C.searchResult.page.totalElements > 0 ? r.go("hotel-search", {
                    searchOptions: C.searchOptions,
                    searchResult: C.searchResult,
                    searchCompleted: !0,
                    filterCompleted: !1,
                    params: u.encodeJson(C.searchOptions)
                }) : r.go("hotel-search", {
                    searchOptions: C.searchOptions,
                    searchResult: C.searchResult,
                    searchCompleted: !0,
                    filterCompleted: !0,
                    params: u.encodeJson(C.searchOptions)
                })
            }, C.initControl()
        }
        angular.module("B2B2CGatewayApp").controller("B2B2CHomeController", e), e.$inject = ["$log", "$rootScope", "$scope", "Principal", "BannerService", "LoginService", "$state", "$timeout", "Hotel", "Subscribed", "Flight", "DataService", "DEFAULT_PAGE_SIZE", "Base64", "ValidationUtils", "$location", "$cookies", "ThemeCfg"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = Cookies.get("merchant_code");
            return e[a] && e[a][t] ? e[a][t] : e.DEFAULT[t]
        }

        function t(t, a) {
            t.state("flight-search-home", {
                parent: "app",
                url: "/flight",
                data: {
                    merchant_code: null,
                    msisdn: null
                },
                views: {
                    "content@": {
                        templateUrl: function() {
                            return e(a, "flight_search")
                        },
                        controller: "FlightSearchHomeController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("hotel"), t.addPart("lookup"), e.refresh()
                    }]
                }
            }).state("flight-search", {
                parent: "flight",
                url: "/flight-search?params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/flights/search/flight.search.html",
                        controller: "FlightSearchController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0,
                    init: void 0,
                    searchCompleted: void 0,
                    filterCompleted: "Airline"
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("hotel"), t.addPart("lookup"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(t), t.$inject = ["$stateProvider", "TEMPLATE_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c) {
            function d() {
                l.dismiss("cancel")
            }
            var p = this;
            t.log("SearchOptions in loading dialog:"), t.log(c), p.loading_img = "../../../content/images/progress-bar2-4e2ec6af30.gif", "TIKI" === String(e.get("merchant_code") || localStorage.getItem("merchant_code")).toUpperCase() && (p.loading_img = "../../../content/images/progress-bar2-tiki-b1048507ad.gif"), "VIETTEL" === String(e.get("merchant_code") || localStorage.getItem("merchant_code")).toUpperCase() && (p.loading_img = "../../../content/images/progress-bar2-viettel-47b714318f.gif"), "VTCPAY" === String(e.get("merchant_code") || localStorage.getItem("merchant_code")).toUpperCase() && (p.loading_img = "../../../content/images/progress-bar-gotadi-vtc-b1048507ad.gif"), p.searchOptions = c, p.progress = 0, n.$on("event-flight-seach-completed", function(e, t) {
                d()
            });
            var g;
            p.setProgress = function() {
                p.progress = p.progress + (100 - p.progress) / 10
            }, n.start = function() {
                n.stop(), g = i(p.setProgress, 1e3)
            }, n.stop = function() {
                i.cancel(g)
            }, n.start(), n.$on("$destroy", function() {
                n.stop()
            })
        }
        angular.module("B2B2CGatewayApp").controller("FlightSearchLoadingController", e), e.$inject = ["$cookies", "$log", "$rootScope", "$scope", "$interval", "$state", "$timeout", "Auth", "$uibModalInstance", "searchOptions"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u) {
            function m(e) {
                var t = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                return t.test(e)
            }
            $(".page-content").addClass("home");
            var h = this,
                v = u.get("merchant_code") || localStorage.getItem("merchant_code");
            g[v] ? h.enable_template = !1 : h.enable_template = !0, h.enable_template && ($(".flight-search-home").css("max-width", "640px"), $(".hotel-search-home").css("max-width", "640px")), h.searchResult = [], h.searchOptions = {}, h.searchOptions.searchType = "oneway", h.searchOptions.dtype = "domestic", h.searchOptions.size = c, h.searchOptions.page = 0, h.searchOptions.adultNo = 1, h.searchOptions.childrenNo = 0, h.searchOptions.newBornNo = 0, h.searchOptions.class = "E", h.searchOptions.departureDate = moment(new Date).format("DD-MM-YYYY"), h.searchOptions.returnDate = moment(new Date).format("DD-MM-YYYY");
            var f = l.getSearchOption();
            if (e.log("so.searchType=" + f.searchType), f.searchType) {
                h.searchOptions = {};
                var b = l.getSavedSearchOption();
                h.searchOptions.fromAirPort = b.fromAirPort, h.searchOptions.toAirPort = b.toAirPort, h.searchOptions.departureDate = b.departureDate, h.searchOptions.returnDate = b.returnDate, h.searchOptions.searchType = b.searchType, h.searchOptions.dtype = b.dtype, h.searchOptions.adultNo = b.adultNo, h.searchOptions.childrenNo = b.childrenNo, h.searchOptions.newBornNo = b.newBornNo, (!h.searchOptions.class || "E" != h.searchOptions.class && "B" != h.searchOptions.class) && (h.searchOptions.class = "E"), moment(h.searchOptions.departureDate, "DD-MM-YYYY").isBefore(moment(new Date)) && (h.searchOptions.departureDate = moment(new Date).format("DD-MM-YYYY")), moment(h.searchOptions.returnDate, "DD-MM-YYYY").isBefore(moment(new Date)) && (h.searchOptions.returnDate = moment(new Date).format("DD-MM-YYYY")), moment(h.searchOptions.departureDate, "DD-MM-YYYY").isAfter(moment(h.searchOptions.returnDate, "DD-MM-YYYY")) && (h.searchOptions.returnDate = h.searchOptions.departureDate)
            }
            h.searchOptions.departureItinerary = {}, h.searchOptions.returnSearchId = null, h.searchOptions.searchId = null, h.searchOptions.ssrOfferItemsDepart = [], h.searchOptions.ssrOfferItemsReturn = [], h.topRoundTripIdx = 1, h.topOnewayIdx = 1, h.doSearch = function(e, t) {
                h.searchResult = e, h.searchOptions = t, o(function() {}, 1e3), h.searchResult && h.searchResult.page && h.searchResult.page.totalElements > 0 ? n.go("flight-search", {
                    searchOptions: h.searchOptions,
                    searchResult: h.searchResult,
                    searchCompleted: !0,
                    filterCompleted: !1,
                    params: d.encodeJson(h.searchOptions)
                }) : n.go("flight-search", {
                    searchOptions: h.searchOptions,
                    searchResult: h.searchResult,
                    searchCompleted: !0,
                    filterCompleted: !0,
                    params: d.encodeJson(h.searchOptions)
                })
            }, a.subscriceEmail = function() {
                var e = $(".form-subscrice .email input").val(),
                    t = $(".form-subscrice .phone input").val(),
                    a = "",
                    n = "error",
                    i = "success";
                "" == e ? a = "Email không được để trống." : (a = "Email đã tồn tại trên hệ thống.", 0 != m(e) ? Subscribed.Subscribed(e, t).then(function(e) {
                    e.id ? ($(".form-subscrice .messageResult").html("Đăng ký thành công."), $(".form-subscrice .messageResult").removeClass("Error"), $(".form-subscrice .messageResult").addClass("success")) : ($(".form-subscrice .messageResult").html("Email đã tồn tại trên hệ thống."), $(".form-subscrice .messageResult").removeClass("success"), $(".form-subscrice .messageResult").addClass("Error"))
                }) : a = "Email không hợp lệ."), $(".form-subscrice .messageResult").html(a), $(".form-subscrice .messageResult").removeClass(i), $(".form-subscrice .messageResult").addClass(n)
            }, h.initControl = function() {
                $(".nav-tabs a").click(function(e) {
                    e.preventDefault(), $(this).tab("show")
                });
                ({
                    $FillMode: 1,
                    $DragOrientation: 3,
                    $AutoPlay: !0,
                    $Idle: 2500,
                    $BulletNavigatorOptions: {
                        $Class: $JssorBulletNavigator$,
                        $ChanceToShow: 2,
                        $AutoCenter: 1,
                        $Steps: 1,
                        $Rows: 1,
                        $SpacingX: 10,
                        $SpacingY: 10,
                        $Orientation: 1
                    }
                })
            }, h.switchTopRoundTrip = function(e) {
                h.topRoundTripIdx = e
            }, h.switchTopOneway = function(e) {
                h.topOnewayIdx = e
            }, h.initControl()
        }
        angular.module("B2B2CGatewayApp").controller("FlightSearchHomeController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$stateParams", "$timeout", "Flight", "DialogService", "DataService", "DEFAULT_PAGE_SIZE", "Base64", "BannerService", "ThemeCfg", "$cookies"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m) {
            var h = this;
            if (n.log(s.searchOptions), n.log(s.searchResult), h.searchResult = s.searchResult, h.searchOptions = s.searchOptions, h.params = s.params, h.init = s.init, h.searchCompleted = s.searchCompleted, h.filterCompleted = s.filterCompleted, n.log("Do refresh vm.init =: " + h.init + ", searchCompleted=" + h.searchCompleted), h.searchOptions || (h.searchOptions = p.getSearchOption()), h.params) try {
                if (h.searchOptions = u.decodeJson(h.params), !h.searchOptions.fromAirPort || !h.searchOptions.toAirPort) throw "Deseriaize null object";
                "international" == h.searchOptions.dtype && 2 == h.searchOptions.selectStep ? h.searchResult && h.searchResult.groupPricedItineraries && h.searchResult.groupPricedItineraries.length > 0 && h.searchResult.groupPricedItineraries[0].pricedItineraries && h.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0 || (h.init = !0) : (!h.searchResult || h.searchResult && !h.searchResult.page) && (h.init = !0)
            } catch (e) {
                n.log("Deseriaize issues - get back from cache"), n.log(e);
                var v = p.getSavedSearchOption();
                h.searchOptions.fromAirPort = v.fromAirPort, h.searchOptions.toAirPort = v.toAirPort, h.searchOptions.departureDate = v.departureDate, h.searchOptions.returnDate = v.returnDate, h.searchOptions.searchType = v.searchType, h.searchOptions.dtype = v.dtype, h.searchOptions.adultNo = v.adultNo, h.searchOptions.childrenNo = v.childrenNo, h.searchOptions.newBornNo = v.newBornNo, "international" == h.searchOptions.dtype && 2 == h.searchOptions.selectStep ? h.searchResult && h.searchResult.groupPricedItineraries && h.searchResult.groupPricedItineraries.length > 0 && h.searchResult.groupPricedItineraries[0].pricedItineraries && h.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0 || (h.init = !0) : (!h.searchResult || h.searchResult && !h.searchResult.page) && (h.init = !0)
            } else {
                var v = p.getSavedSearchOption();
                h.searchOptions.fromAirPort = v.fromAirPort, h.searchOptions.toAirPort = v.toAirPort, h.searchOptions.departureDate = v.departureDate, h.searchOptions.returnDate = v.returnDate, h.searchOptions.searchType = v.searchType, h.searchOptions.dtype = v.dtype, h.searchOptions.adultNo = v.adultNo, h.searchOptions.childrenNo = v.childrenNo, h.searchOptions.newBornNo = v.newBornNo, "international" == h.searchOptions.dtype && 2 == h.searchOptions.selectStep ? h.searchResult && h.searchResult.groupPricedItineraries && h.searchResult.groupPricedItineraries.length > 0 && h.searchResult.groupPricedItineraries[0].pricedItineraries && h.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0 || (h.init = !0) : (!h.searchResult || h.searchResult && !h.searchResult.page) && (h.init = !0)
            }
            h.merchantCode = m.getMerchant(), o.$on("gtd-filter-completed-off", function() {
                h.filterCompleted = !1
            }), o.$on("gtd-filter-completed-on", function() {
                h.filterCompleted = !0
            }), o.$on("gtd-search-completed-off", function() {
                h.searchCompleted = !1
            }), o.$on("gtd-search-completed-on", function() {
                h.searchCompleted = !0
            }), o.$on("gtd-init-off", function() {
                h.init = !1
            }), o.$on("gtd-init-on", function() {
                h.init = !0
            }), o.$on("gtd-adv-do-filter", function() {
                h.alreadyFilter = !0
            }), h.doSearch = function(e, t) {
                h.searchResult = e, h.searchOptions = t, h.searchCompleted = !0, h.filterCompleted = !1, h.searchResult && h.searchResult.page && h.searchResult.page.totalElements > 0 ? r.go("flight-search", {
                    searchOptions: h.searchOptions,
                    searchResult: h.searchResult,
                    searchCompleted: !0,
                    filterCompleted: !1,
                    params: u.encodeJson(h.searchOptions)
                }) : r.go("flight-search", {
                    searchOptions: h.searchOptions,
                    searchResult: h.searchResult,
                    searchCompleted: !0,
                    filterCompleted: !0,
                    params: u.encodeJson(h.searchOptions)
                }), l(function() {}, 1e3)
            };
            var f;
            h.checkTimeOut = function() {
                !h.init && (h.timeout = !g.checkSearchTimeout(h.searchOptions, s.searchResult), h.timeout)
            }, o.start = function() {
                o.stop(), f = c(h.checkTimeOut, 1e3)
            }, o.stop = function() {
                c.cancel(f)
            }, o.start(), o.$on("$destroy", function() {
                o.stop()
            }), o.changeItinerary = function() {
                $(".flight-search-header").slideToggle()
            }, o.filterItinerary = function() {
                $(".formFilter").toggleClass("show"), $(".sm-form-filter").show()
            }, o.closeFilterItinerary = function() {
                $(".formFilter").removeClass("show"), $(".sm-form-filter").hide()
            }
        }
        angular.module("B2B2CGatewayApp").controller("FlightSearchController", e), e.$inject = ["$cookies", "$localStorage", "$location", "$log", "$rootScope", "$scope", "$state", "$stateParams", "$timeout", "$interval", "Flight", "DataService", "ValidationUtils", "Base64", "MerchantService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f) {
            function b() {
                f.isIframeView() && y.doSubmit()
            }
            var y = this;
            a.ibeKeys = m, y.searchOptions = d, "oneway" == y.searchOptions.searchType ? (y.currentGroupItem = g, y.currentPricedItinerary = u) : (y.currentGroupItem = l.getDepartGroupItem(), y.currentPricedItinerary = l.getDepartPricedItinerary()), y.returnGroupItem = l.getReturnGroupItem(), y.returnPricedItinerary = l.getReturnPricedItinerary(), y.departSearchOptions = l.getDepartSearchOption(), y.returnSearchOptions = l.getReturnSearchOption(), y.cancel = function() {
                c.dismiss("cancel")
            }, a.$on("event-close-confirm-booking", function(e, t) {
                y.cancel()
            }), y.doSubmit = function() {
                var t = v;
                if ("oneway" == y.searchOptions.searchType) {
                    var a = s.revalidateTicket(y.searchOptions, y.currentGroupItem, y.currentPricedItinerary);
                    a.then(function(a) {
                        e.log("Get revalidate from flight.service - result.valid:" + a.valid), a.valid ? s.createDraftBooking(y.searchOptions, y.currentGroupItem, y.currentPricedItinerary).then(function(a) {
                            if (e.log("Get createDraftBooking from flight.service ONEWAY"), p.isResponseSuccess(a)) {
                                var i = {};
                                i.bookingCode = a.bookingCode.bookingCode, i.bookingNumber = a.bookingCode.bookingNumber, i.draftBookingInfo = a, e.log("Get createDraftBooking from flight.service ONEWAY - _bookingModel: " + JSON.stringify(i)), l.setBookingModel(i), l.setSearchOption(y.searchOptions), y.preSubmit(i);
                                var o = n.go("booking-info/:booking_number/:params", {
                                    booking_number: h.encodeString(i.bookingNumber),
                                    searchOptions: y.searchOptions,
                                    searchResult: y.searchResult,
                                    params: ""
                                }, {
                                    absolute: !0
                                });
                                e.log(o)
                            } else t.close(), p.openHttpAlertDilalog(a)
                        }, function(e) {
                            t.close(), p.openHttpAlertDilalog(e)
                        }) : p.openAlertDialog({
                            title: "Error",
                            message: "The ticket is not available. Please choose another one!"
                        }), c.dismiss("cancel")
                    })
                } else "international" == y.departSearchOptions.dtype && (y.returnSearchOptions = y.departSearchOptions, l.setReturnSearchOption(y.returnSearchOptions)), r.all([s.revalidateTicket(y.departSearchOptions, y.currentGroupItem, y.currentPricedItinerary), s.revalidateTicket(y.returnSearchOptions, y.returnGroupItem, y.returnPricedItinerary)]).then(function(a) {
                    e.log("Get revalidate from flight.service"), e.log("Validate roundtrip result: " + a[0].valid + ":" + a[1].valid), a[0].valid && a[1].valid ? s.createDraftBooking(y.departSearchOptions, y.currentGroupItem, y.currentPricedItinerary, y.returnSearchOptions, y.returnGroupItem, y.returnPricedItinerary).then(function(a) {
                        if (e.log("Get createDraftBooking from flight.service ROUNDTRIP"), p.isResponseSuccess(a)) {
                            var i = {};
                            i.bookingCode = a.bookingCode.bookingCode, i.bookingNumber = a.bookingCode.bookingNumber, i.draftBookingInfo = a, e.log("Get createDraftBooking from flight.service ROUNDTRIP - _bookingModel: " + JSON.stringify(i)), l.setBookingModel(i), l.setSearchOption(y.searchOptions), y.preSubmit(i);
                            var o = n.go("booking-info/:booking_number/:params", {
                                booking_number: h.encodeString(i.bookingNumber),
                                searchOptions: y.searchOptions,
                                searchResult: y.searchResult,
                                params: ""
                            }, {
                                absolute: !0
                            });
                            e.log(o)
                        } else p.openHttpAlertDilalog(a), t.close()
                    }, function(e) {
                        t.close(), p.openHttpAlertDilalog(e)
                    }) : p.openAlertDialog({
                        title: "Error",
                        message: "The ticket is not available. Please choose another one!"
                    }), c.dismiss("cancel")
                })
            }, y.preSubmit = function(e) {
                e.curStep = 1, e.biMobileCode || (e.biMobileCode = "84"), e.departSearchOptions = l.getDepartSearchOption(), e.returnSearchOptions = l.getReturnSearchOption(), e.searchOptions = l.getSearchOption(), e.departGroupItem = l.getDepartGroupItem(), e.departPricedItinerary = l.getDepartPricedItinerary(), e.returnGroupItem = l.getReturnGroupItem(), e.returnPricedItinerary = l.getReturnPricedItinerary();
                var t = {},
                    a = {},
                    n = !1;
                e.draftBookingInfo ? (n = e.draftBookingInfo.isPerBookingType, t = e.draftBookingInfo.departDraftItineraryInfo.itinTotalFare, e.draftBookingInfo.returnDraftItineraryInfo && (a = e.draftBookingInfo.returnDraftItineraryInfo.itinTotalFare)) : (e.departPricedItinerary && e.departPricedItinerary.airItineraryPricingInfo && (t = e.departPricedItinerary.airItineraryPricingInfo.itinTotalFare), e.returnPricedItinerary && e.returnPricedItinerary.airItineraryPricingInfo && (a = e.returnPricedItinerary.airItineraryPricingInfo.itinTotalFare)), e.departItinTotalFare = t, e.returnItinTotalFare = a, e.isPerBookingType = n, l.setBookingModel(e)
            }, y.skipDialog = b, y.doSubmit()
        }
        angular.module("B2B2CGatewayApp").controller("FlightSearchConfirmBookingController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$stateParams", "$timeout", "$q", "Flight", "DataService", "$uibModalInstance", "searchOptions", "DialogService", "currentGroupItem", "currentPricedItinerary", "IBE_KEYS", "Base64", "$window", "MerchantService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v) {
            function f() {
                c.dismiss("cancel"), n.removeEventListener("message", y)
            }
            var b = this;
            b.progress = 0, b.givenUrl = s.trustAsResourceUrl(d), b.cancel = f, b.idOption = s.trustAsResourceUrl(p), b.booking_number = s.trustAsResourceUrl(g), a.billingCode = v + d.split("billingCode=")[1] != null ? v + d.split("billingCode=")[1] : null, console.log("Billing Code: " + a.billingCode);
            var y = function(e) {
                "IPGDI" === e.data.slice(0, 5) && (b.cancel(), n.removeEventListener("message", y), e.data && angular.isString(e.data) && e.data.indexOf("true") !== -1 && t.$broadcast("IssueTicket"))
            };
            n.addEventListener("message", y);
            var k;
            b.setProgress = function() {
                b.progress = b.progress + (100 - b.progress) / 10
            }, a.start = function() {
                a.stop(), k = i(b.setProgress, 1e3)
            }, a.stop = function() {
                i.cancel(k)
            }, b._loadBookingInfo = function(t) {
                u.getBookingByNumber(t).then(function(t) {
                    var n = m.convertBookingToVM(t);
                    if (n && n.orgBookingModel && n.orgBookingModel.bookingInfo) {
                        e.log("vm.orgBookingModel="), e.log(n.orgBookingModel);
                        var i = n.orgBookingModel.bookingInfo.status,
                            r = n.orgBookingModel.bookingInfo.paymentStatus,
                            s = n.orgBookingModel.bookingInfo.issuedStatus,
                            l = n.orgBookingModel.bookingInfo.supplierBookingStatus;
                        if (e.log("bookingStatus=" + i + ", paymentStatus = " + r + ", issuedStatus = " + s + ", supplierBookingStatus = " + l), "PENDING" == i) {
                            var c = DataService.getBookingModel();
                            null != c.contacts && c.contacts.length > 0 ? e.log("VIEW - booking-confirm") : (e.log("GOTO - booking-info"), o.go("booking-info/:booking_number/:params", {
                                searchOptions: b.searchOptions,
                                searchResult: b.searchResult,
                                booking_number: Base64.encodeString(n.orgBookingModel.bookingNumber),
                                params: ""
                            }))
                        } else "BOOKED" == i ? "PENDING" == r ? o.go() : "FAILED" == r ? (e.log("GOTO - booking-payment"), o.go("booking-payment/:booking_number/:params", {
                            searchOptions: b.searchOptions,
                            searchResult: b.searchResult,
                            booking_number: Base64.encodeString(n.orgBookingModel.bookingNumber),
                            params: ""
                        })) : (e.log("GOTO - booking-result"), o.go("booking-result/:booking_number/:params", {
                            booking_number: Base64.encodeString(n.orgBookingModel.bookingNumber)
                        })) : (e.log("GOTO - booking-result"), o.go("booking-result/:booking_number/:params", {
                            booking_number: Base64.encodeString(n.orgBookingModel.bookingNumber)
                        }));
                        a.start()
                    } else e.log("++++ Booking Not FOUND - GOTO - flight"), o.go("flight-search-home")
                }, function(t) {
                    e.log("flight-search"), o.go("flight-search", {
                        searchOptions: b.searchOptions,
                        searchResult: b.searchResult,
                        params: Base64.encodeJson(b.searchOptions)
                    })
                })
            }, a.onIframeLoad = function(e) {
                console.log("PageLoaded " + e), $(".modal-content .modal-header .modal-title .btn").click(), b._loadBookingInfo(e)
            }, a.start(), a.$on("$destroy", function() {
                a.stop()
            }), b.closePayoo = function() {
                c.dismiss("cancel"), n.location.href = d
            }
        }
        angular.module("B2B2CGatewayApp").controller("FlightPaymentExternalController", e), e.$inject = ["$log", "$rootScope", "$scope", "$window", "$interval", "$state", "$timeout", "$sce", "Auth", "$uibModalInstance", "paymentUrl", "idOption", "booking_number", "CustomerService", "FlightUtils", "$location", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u) {
            function m() {
                c.dismiss("cancel")
            }
            var h = this;
            h.progress = 0, h.givenUrl = s.trustAsResourceUrl(d), h.paReq = p, h.md = g, h.termUrl = u, h.cancel = m;
            var v = function(e) {
                m(), n.removeEventListener("message", v), t.$broadcast("DoPaymentWith3DAuthConfirmation", e.data)
            };
            n.addEventListener("message", v);
            var f;
            h.setProgress = function() {
                h.progress = h.progress + (100 - h.progress) / 10
            }, a.start = function() {
                a.stop(), f = i(h.setProgress, 1e3)
            }, a.stop = function() {
                i.cancel(f)
            }, a.start(), a.$on("$destroy", function() {
                a.stop()
            }), r(function() {
                var e = angular.element("#newibe_PAEnrollForm_form");
                e[0].submit()
            }, 100)
        }
        angular.module("B2B2CGatewayApp").controller("FlightPayment3DAuthExternalController", e), e.$inject = ["$log", "$rootScope", "$scope", "$window", "$interval", "$state", "$timeout", "$sce", "Auth", "$uibModalInstance", "paymentUrl", "paReq", "md", "termUrl"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("flight", {
                abstract: !0,
                parent: "app",
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("hotel"), t.addPart("lookup"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            function l() {
                s.dismiss("cancel")
            }
            var c = this;
            c.progress = 0, a.$on("event-flight-load-completed", function(e, t) {
                l()
            });
            var d;
            c.setProgress = function() {
                c.progress = c.progress + (100 - c.progress) / 10
            }, a.start = function() {
                a.stop(), d = n(c.setProgress, 1e3)
            }, a.stop = function() {
                n.cancel(d)
            }, a.start(), a.$on("$destroy", function() {
                a.stop()
            })
        }
        angular.module("B2B2CGatewayApp").controller("FlightLoadingController", e), e.$inject = ["$log", "$rootScope", "$scope", "$interval", "$state", "$timeout", "Auth", "$uibModalInstance"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r) {
            function s() {
                try {
                    switch (m.bookingNumber = m.parram.order_id || m.parram.booking_number, m.partnerID = m.parram.partner_id || r, m.backUrl = m.parram.back_url || "#", m.errorCode = m.parram.error_code || null, e.log("vm.partnerID"), e.log(m.partnerID), m.partnerID) {
                        case "VIETTEL":
                            m.payMethod = "ViettelPay", m.payType = "ví điện tử";
                            break;
                        case "LIENVIETBANK":
                            m.payMethod = "Ví Việt", m.payType = "ví điện tử";
                            break;
                        default:
                            m.payMethod = m.partnerID, m.payType = "tài khoản"
                    }
                    null !== m.bookingNumber && m.getBooking(m.bookingNumber)
                } catch (e) {
                    m.updateUIState(m.uiStates.notfound)
                }
                m.initErrorMessageDict()
            }

            function l() {
                m.errorMessageDict = {
                    INVALID_SIGNATURE: "Sai thông tin chữ ký điện tử ",
                    "PAY-0001": "Tài khoản nguồn không tồn tại",
                    "PAY-0002": "Tài khoản nguồn đã bị đóng",
                    "PAY-0003": "Tài khoản nguồn đã bị khóa do khách hàng yêu cầu",
                    "PAY-0004": "Tài khoản nguồn đã bị khóa bởi hệ thống",
                    "PAY-0005": "Tài khoản nguồn đã bị đóng băng",
                    "PAY-0006": "Tài khoản nguồn đang ở trạng thái chờ duyệt",
                    "PAY-0007": "Tài khoản nguồn không đủ tiền",
                    "PAY-0008": "Tài khoản nguồn không được phép ghi nợ",
                    "PAY-0009": "Tài khoản thụ hưởng không hợp lệ",
                    "PAY-0010": "Tài khoản nguồn trùng tài khoản thụ hưởng",
                    "PAY-0011": "Tài khoản đăng nhập đã bị đóng hoặc không tồn tại. Hệ thống sẽ tự động đăng xuất",
                    "PAY-0012": "Tài khoản đăng nhập đang ở trạng thái chờ duyệt. Hệ thống sẽ tự động đăng xuất",
                    "PAY-0013": "Tài khoản đăng nhập đã bị khóa. Hệ thống sẽ tự động đăng xuất",
                    "PAY-0014": "Khách hàng đang ở trạng thái chờ duyệt. Hệ thống sẽ tự động đăng xuất",
                    "PAY-0015": "Khách hàng đã bị khóa. Hệ thống sẽ tự động đăng xuất",
                    "PAY-0016": "Hệ thống đang tạm ngừng cung cấp dịch vụ",
                    "PAY-0017": "ch vụ đang được nâng cấp, vui lòng thử lại sau",
                    "PAY-0018": "Lỗi xử lý giao dịch",
                    "PAY-0019": "Số tiền thanh toán vượt quá hạn mức/giao dịch",
                    "PAY-0020": "Tài khoản đã thực hiện vượt quá hạn mức/ngày",
                    "PAY-0021": "Tài khoản thực hiện quá số lần giao dịch/ngày",
                    "PAY-0022": "Số tiền thực hiện nhỏ hơn hạn mức tối thiểu tài khoản",
                    "PAY-0023": "Số tiền chuyển vượt quá hạn mức tối đa tài khoản thụ hưởng",
                    "PAY-0024": "Thời gian thực hiện giao dịch đã hết",
                    "PAY-0025": "Quý khách nhập sai OTP quá 3 lần",
                    "PAY-0026": "Giao dịch có mã " + m.bookingNumber + " đã bị hủy hoặc không tồn tại",
                    "PAY-0027": "Quý khách đã nhập sai mật khẩu 5 lần, Tài khoản đăng nhập bị khóa"
                }
            }

            function c(t) {
                n.getFinalBookingByNumber(t).then(function(e) {
                    switch (e.supplierType) {
                        case "HOTEL":
                            p(e);
                            break;
                        default:
                            g(e)
                    }
                }, function(t) {
                    e.log("flight-search"), m.updateUIState(m.uiStates.notfound)
                })
            }

            function d(e) {
                switch (m.currentDisplayType = e, m.currentDisplayType) {
                    case m.displayType.hotel:
                        m.typeName = "phòng";
                        break;
                    case m.displayType.flight:
                        m.typeName = "vé";
                        break;
                    default:
                        m.typeName = "dịch vụ"
                }
            }

            function p(t) {
                m.udpateType(m.displayType.hotel), m.bkgroup = t, e.log("+++++ vm.bkgroup = "), e.log(m.bkgroup), m.selectedHotel = m.bkgroup.hotelAvailability, m.selectedHotelProduct = m.bkgroup.hotelAvailability.products[0], m.selectedHotelRoom = m.bkgroup.hotelAvailability.products[0].rooms[0], e.log("+++ Hotel booking +++"), e.log("selectedHotel=" + m.selectedHotel), e.log(m.selectedHotel), e.log("selectedHotelProduct=" + m.selectedHotelProduct), e.log(m.selectedHotelProduct), e.log("selectedHotelRoom=" + m.selectedHotelRoom), e.log(m.selectedHotelRoom);
                var a = (t.bookingInfo.status, t.bookingInfo.paymentStatus),
                    n = t.bookingInfo.issuedStatus;
                t.supplierBookingStatus;
                switch (a) {
                    case "FAILED":
                        m.updateUIState(m.uiStates.paymentFailed);
                        break;
                    case "SUCCEEDED":
                        if ("SUCCEEDED" === n) {
                            m.updateUIState(m.uiStates.paymentSuccess);
                            break
                        }
                        if ("TICKET_ON_PROCESS" === n) {
                            m.updateUIState(m.uiStates.paymentSuccessOnprocess);
                            break
                        }
                        m.updateUIState(m.uiStates.paymentFailed);
                        break;
                    case "REFUNDED":
                        m.updateUIState(m.uiStates.paymentRefund);
                        break;
                    case "PENDING":
                        m.errorCode ? m.updateUIState(m.uiStates.paymentFailed) : m.updateUIState(m.uiStates.paymentPending)
                }
            }

            function g(t) {
                m.udpateType(m.displayType.flight);
                var n = i.convertBookingToVM(t);
                if (n && n.orgBookingModel && n.orgBookingModel.bookingInfo) {
                    var o = n.orgBookingModel.bookingInfo.status,
                        r = n.orgBookingModel.bookingInfo.paymentStatus,
                        s = n.orgBookingModel.bookingInfo.issuedStatus,
                        l = n.orgBookingModel.bookingInfo.supplierBookingStatus;
                    switch (e.log("bookingStatus=" + o + ", paymentStatus = " + r + ", issuedStatus = " + s + ", supplierBookingStatus = " + l), e.log("VIEW - Booking Result"), m.bookingModel = n.orgBookingModel, m.searchOptions = n.searchOptions, a.setBookingModel(m.bookingModel), a.setSearchOption(m.searchOptions), r) {
                        case "FAILED":
                            m.updateUIState(m.uiStates.paymentFailed);
                            break;
                        case "SUCCEEDED":
                            if ("SUCCEEDED" === s) {
                                m.updateUIState(m.uiStates.paymentSuccess);
                                break
                            }
                            if ("TICKET_ON_PROCESS" === s) {
                                m.updateUIState(m.uiStates.paymentSuccessOnprocess);
                                break
                            }
                            m.updateUIState(m.uiStates.paymentFailed);
                            break;
                        case "REFUNDED":
                            m.updateUIState(m.uiStates.paymentRefund);
                            break;
                        case "PENDING":
                            m.errorCode ? m.updateUIState(m.uiStates.paymentFailed) : m.updateUIState(m.uiStates.paymentPending)
                    }
                } else e.log("++++ Booking Not FOUND - GOTO - flight"), m.updateUIState(m.uiStates.notfound);
                if (m.bkgroup = t, m.bkgroup) {
                    var c = m.bkgroup,
                        d = [];
                    c.travelerInfo && angular.forEach(c.travelerInfo.contactInfos, function(e, t) {
                        var a = e;
                        d.push({
                            ciEmail: a.email,
                            ciName: a.firstName + " " + a.lastName,
                            ciMobileCode: "",
                            ciMobile: a.phoneNumber1
                        })
                    }), c.contacts = d;
                    var p = [];
                    c.travelerInfo && angular.forEach(c.travelerInfo.airTravelers, function(e, t) {
                        var a, n, i = e;
                        i.memberCards && i.memberCards[0] && (a = i.memberCards[0].cardType, n = i.memberCards[0].cardNumber), p.push({
                            cuDob: i.dateOfBirth,
                            cuId: i.passport.passportNumber,
                            cuPp: "Passport",
                            cuName: i.passengerName.firstName,
                            cuGender: i.passengerName.title,
                            cuCardNo: i.frequentFlyerNumber,
                            cuNationality: i.passport.country,
                            cuFamilyName: i.passengerName.lastName
                        })
                    }), c.customers = p, c.biCompany = m.taxCompanyName, c.biMst = m.taxNumber, c.biMobile = m.taxAddress2, c.biAddress = m.taxAddress1, c.departPricedItinerary = c.groupPricedItineraries[0].pricedItineraries[0], c.departGroupItem = c.groupPricedItineraries[0], m.searchOptions.searchType = "oneway", c.groupPricedItineraries && c.groupPricedItineraries[1] ? (c.returnGroupItem = c.groupPricedItineraries[1], c.returnPricedItinerary = c.groupPricedItineraries[1].pricedItineraries[0], m.searchOptions.searchType = "roundtrip") : "RETURN" == c.groupPricedItineraries[0].pricedItineraries[0].directionInd && (c.returnGroupItem = c.groupPricedItineraries[0], c.returnPricedItinerary = c.groupPricedItineraries[0].pricedItineraries[0], m.searchOptions.searchType = "roundtrip"), "INTERNATIONAL" == c.departGroupItem.flightType ? (m.searchOptions.dtype = "international", m.flightModel = {}, m.bookingModel.checkIn = c.departPricedItinerary.originDestinationOptions[0].originDateTime, m.bookingModel.checkOut = c.departPricedItinerary.originDestinationOptions[0].destinationDateTime, m.bookingModel.noOfTransit = c.departPricedItinerary.originDestinationOptions[0].flightSegments.length, m.bookingModel.supplierName = c.departGroupItem.airlineName, m.bookingModel.airline = c.departGroupItem.airline, m.bookingModel.carrierNo = c.departGroupItem.fightNo, m.bookingModel.originLocationCode = c.departGroupItem.originLocationCode, m.bookingModel.destinationLocationCode = c.departGroupItem.destinationLocationCode, m.bookingModel.duration = c.departPricedItinerary.originDestinationOptions[0].journeyDuration, m.bookingModel.supplierCode = c.departPricedItinerary.airItineraryPricingInfo.fareSourceCode, m.bookingModel.cabinClassName = c.departPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName, m.bookingModel.flightIdx = 1, m.bookingModel.searchType = m.searchOptions.searchType, m.bookingModel.booking = {}, m.bookingModel.travelerInfo = c.travelerInfo, m.bookingModel.pricedItinerary = c.departPricedItinerary, m.bookingModel.flightSegments = c.departPricedItinerary.originDestinationOptions[0].flightSegments, m.bookingModel.passengerNameRecords = m.bkgroup.bookingInfo.passengerNameRecords, c.returnPricedItinerary && c.returnGroupItem && (m.returnBookingModel.bookingNumber = m.bookingModel.bookingNumber, m.returnBookingModel.checkIn = c.returnPricedItinerary.originDestinationOptions[1].originDateTime, m.returnBookingModel.checkOut = c.returnPricedItinerary.originDestinationOptions[1].destinationDateTime, m.returnBookingModel.noOfTransit = c.returnPricedItinerary.originDestinationOptions[1].flightSegments.length, m.returnBookingModel.supplierName = c.returnGroupItem.airlineName, m.returnBookingModel.airline = c.returnGroupItem.airline, m.returnBookingModel.carrierNo = c.returnGroupItem.fightNo, m.returnBookingModel.originLocationCode = c.returnPricedItinerary.originDestinationOptions[1].originLocationCode, m.returnBookingModel.destinationLocationCode = c.returnPricedItinerary.originDestinationOptions[1].destinationLocationCode, m.returnBookingModel.duration = c.returnPricedItinerary.originDestinationOptions[1].journeyDuration, m.returnBookingModel.supplierCode = c.returnPricedItinerary.airItineraryPricingInfo.fareSourceCode, m.returnBookingModel.cabinClassName = c.returnPricedItinerary.originDestinationOptions[1].flightSegments[0].cabinClassName, m.returnBookingModel.flightIdx = 2, m.returnBookingModel.searchType = m.searchOptions.searchType, m.returnBookingModel.booking = {}, m.returnBookingModel.travelerInfo = c.travelerInfo, m.returnBookingModel.pricedItinerary = c.returnPricedItinerary, m.returnBookingModel.flightSegments = c.returnPricedItinerary.originDestinationOptions[1].flightSegments, m.returnBookingModel.passengerNameRecords = m.bkgroup.bookingInfo.passengerNameRecords)) : (m.searchOptions.dtype = "domestic", m.bookingModel.checkIn = c.departPricedItinerary.originDestinationOptions[0].originDateTime, m.bookingModel.checkOut = c.departPricedItinerary.originDestinationOptions[0].destinationDateTime, m.bookingModel.noOfTransit = 1, m.bookingModel.supplierName = c.departGroupItem.airlineName, m.bookingModel.airline = c.departGroupItem.airline, m.bookingModel.carrierNo = c.departGroupItem.fightNo, m.bookingModel.originLocationCode = c.departGroupItem.originLocationCode, m.bookingModel.destinationLocationCode = c.departGroupItem.destinationLocationCode, m.bookingModel.duration = c.departPricedItinerary.originDestinationOptions[0].journeyDuration, m.bookingModel.supplierCode = c.departPricedItinerary.airItineraryPricingInfo.fareSourceCode, m.bookingModel.cabinClassName = c.departPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName, m.bookingModel.flightIdx = 1, m.bookingModel.searchType = m.searchOptions.searchType, m.bookingModel.booking = {}, m.bookingModel.travelerInfo = c.travelerInfo, m.bookingModel.pricedItinerary = c.departPricedItinerary, m.bookingModel.flightSegments = c.departPricedItinerary.originDestinationOptions[0].flightSegments, m.bookingModel.passengerNameRecords = m.bkgroup.bookingInfo.passengerNameRecords, c.returnPricedItinerary && c.returnGroupItem && (m.returnBookingModel.bookingNumber = m.bookingModel.bookingNumber, m.returnBookingModel.checkIn = c.returnPricedItinerary.originDestinationOptions[0].originDateTime, m.returnBookingModel.checkOut = c.returnPricedItinerary.originDestinationOptions[0].destinationDateTime, m.returnBookingModel.noOfTransit = 1, m.returnBookingModel.supplierName = c.returnGroupItem.airlineName, m.returnBookingModel.airline = c.returnGroupItem.airline, m.returnBookingModel.carrierNo = c.returnGroupItem.fightNo, m.returnBookingModel.originLocationCode = c.returnGroupItem.originLocationCode, m.returnBookingModel.destinationLocationCode = c.returnGroupItem.destinationLocationCode, m.returnBookingModel.duration = c.returnPricedItinerary.originDestinationOptions[0].journeyDuration, m.returnBookingModel.supplierCode = c.returnPricedItinerary.airItineraryPricingInfo.fareSourceCode, m.returnBookingModel.cabinClassName = c.returnPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName,
                        m.returnBookingModel.flightIdx = 2, m.returnBookingModel.searchType = m.searchOptions.searchType, m.returnBookingModel.booking = {}, m.returnBookingModel.travelerInfo = c.travelerInfo, m.returnBookingModel.pricedItinerary = c.returnPricedItinerary, m.returnBookingModel.flightSegments = c.returnPricedItinerary.originDestinationOptions[0].flightSegments, m.returnBookingModel.passengerNameRecords = m.bkgroup.bookingInfo.passengerNameRecords)), m.orgBookingModel = c
                } else e.log("++++ Booking Not FOUND - GOTO - flight"), m.updateUIState(m.uiStates.notfound)
            }

            function u(t, a) {
                e.log("Previous state: " + m.currentUIState), m.currentUIState = t, e.log("Current state: " + m.currentUIState)
            }
            var m = this;
            m.payMethod = "ViettelPay", m.payType = "", m.partnerID = null, m.backUrl = null, m.errorCode = null, m.returnBookingModel = {}, m.uiStates = {
                paymentRefund: "[ExternalBookingResult] Payment REFUNDED",
                paymentFailed: "[ExternalBookingResult] Payment FAILED",
                paymentSuccess: "[ExternalBookingResult] Payment SUCESS",
                paymentPending: "[ExternalBookingResult] Payment PENDING",
                paymentExpired: "[ExternalBookingResult] Payment EXPIRED",
                paymentSuccessOnprocess: "[ExternalBookingResult] Payment SUCCESS-ONPROGRESS",
                notfound: "[ExternalBookingResult] NOTFOUND",
                error: "[ExternalBookingResult] ERROR",
                loading: "[ExternalBookingResult] LOADING"
            }, m.displayType = {
                hotel: "[ExternalBookingResult] HOTEL",
                flight: "[ExternalBookingResult] FLIGHT"
            }, m.errorMessageDict = {}, m.currentDisplayType = "", m.updateUIState = u, m.udpateType = d, m.getBooking = c, m.initController = s, m.initErrorMessageDict = l, m.currentUIState = m.uiStates.loading, e.log("------- ExternalBookingResultController - $state.params:"), e.log(t.params), m.parram = t.params, m.bookingNumber = null, m.initController()
        }
        angular.module("B2B2CGatewayApp").controller("ExternalBookingResultController", e), e.$inject = ["$log", "$state", "DataService", "CustomerService", "FlightUtils", "Base64", "partnerID"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("booking-info/:booking_number/:params", {
                parent: "flight",
                url: "/booking-info/:booking_number/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/flights/booking/flight.booking.info.html",
                        controller: "FlightBookingInfoController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }]
                }
            }).state("booking-confirm/:booking_number/:params", {
                parent: "flight",
                url: "/booking-confirm/:booking_number/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/flights/booking/flight.booking.confirm.html",
                        controller: "FlightBookingConfirmController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }]
                }
            }).state("booking-payment/:booking_number/:params", {
                parent: "flight",
                url: "/booking-payment/:booking_number/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/flights/booking/flight.booking.payment.html",
                        controller: "FlightBookingPaymentController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }]
                }
            }).state("booking-result/:booking_number/:params", {
                parent: "flight",
                url: "/booking-result/:booking_number/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/flights/booking/flight.booking.result.html",
                        controller: "FlightBookingResultController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0,
                    profileBooking: void 0
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }]
                }
            }).state("booking-result/:booking_number/:is_mobile/:params", {
                parent: "flight",
                url: "/booking-result/:booking_number/:is_mobile/:params",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/flights/booking/flight.booking.result.html",
                        controller: "FlightBookingResultController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    searchOptions: void 0,
                    searchResult: void 0,
                    profileBooking: void 0
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }]
                }
            }).state("mobile-booking-result?:booking_status&:payment_status&:issue_status", {
                url: "/mobile-booking-result?:booking_status&:payment_status&:issue_status"
            }).state("external-booking-result", {
                url: "/products/external-booking-result?billcode:cust_msisdn:error_code:merchant_code:order_id:payment_status:trans_amount:vt_transaction_id:check_sum",
                views: {
                    "content@": {
                        templateUrl: "app/flights/booking/external.booking.result.html",
                        controller: "ExternalBookingResultController",
                        controllerAs: "vm"
                    }
                },
                data: {
                    authorities: [],
                    pageTitle: "GOTADI Template"
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }],
                    partnerID: function() {
                        return "VIETTEL"
                    }
                }
            }).state("external-booking-detail", {
                url: "/products/external-final-booking-detail?booking_number:partner_id:back_url:error_code",
                views: {
                    "content@": {
                        templateUrl: "app/flights/booking/external.booking.result.html",
                        controller: "ExternalBookingResultController",
                        controllerAs: "vm"
                    }
                },
                data: {
                    authorities: [],
                    pageTitle: "GOTADI Template"
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }],
                    partnerID: function() {
                        return "VIETTEL"
                    }
                }
            }).state("external-booking-detail/:booking_number/:partner_id", {
                url: "/products/external-final-booking-detail/:booking_number/:partner_id",
                views: {
                    "content@": {
                        templateUrl: "app/flights/booking/external.booking.result.html",
                        controller: "ExternalBookingResultController",
                        controllerAs: "vm"
                    }
                },
                data: {
                    authorities: [],
                    pageTitle: "GOTADI Template"
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("lookup"), e.refresh()
                    }],
                    partnerID: function() {
                        return "VIETTEL"
                    }
                }
            }).state("external-booking-payment?:bookingNumber&:partner_id&:backUrl:data:key:agent_site", {
                url: "/external-booking-payment?:bookingNumber&:partner_id&:backUrl:data:key:agent_site",
                views: {
                    "content@": {
                        templateUrl: "app/flights/booking/external.payment.html",
                        controller: "BookingPaymentExternalController",
                        controllerAs: "vm"
                    }
                },
                data: {
                    authorities: [],
                    pageTitle: "Booking Payment"
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v) {
            var f = this,
                b = null,
                y = function() {
                    b = null
                };
            v.search().vnp_Amount && ($("#vnpay_close") && $("#vnpay_close").click(), n.reload()), f.profileBooking = i.profileBooking, f.searchOptions || (f.searchOptions = {}), f.openLoading = function() {
                null === b && (b = r.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/flight.loading.html",
                    controller: "FlightLoadingController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }]
                    }
                }), b.result.then(y, y))
            }, f.closeLoading = function() {
                null != b && b.close()
            }, f.openLoading(), e.log("booking result - $stateParams - booking number:" + i.booking_number);
            var k = m.decodeString(i.booking_number);
            i.is_mobile && "mobile" === i.is_mobile && i.booking_number && g.getFinalBookingByNumber(k).then(function(e) {
                var t = u.convertBookingToVM(e);
                if (t && t.orgBookingModel && t.orgBookingModel.bookingInfo) {
                    var a = t.orgBookingModel.bookingInfo.status,
                        i = t.orgBookingModel.bookingInfo.paymentStatus,
                        o = t.orgBookingModel.bookingInfo.issuedStatus;
                    n.go("mobile-booking-result?booking_status=:booking_status&payment_status=:payment_status&issue_status=:issue_status", {
                        booking_status: a,
                        payment_status: i,
                        issue_status: o
                    })
                }
            }), i.booking_number ? g.getFinalBookingByNumber(k).then(function(i) {
                f.closeLoading();
                var r = u.convertBookingToVM(i);
                if (r && r.orgBookingModel && r.orgBookingModel.bookingInfo) {
                    e.log("vm.orgBookingModel="), e.log(r.orgBookingModel);
                    var s = r.orgBookingModel.bookingInfo.status,
                        l = r.orgBookingModel.bookingInfo.paymentStatus,
                        d = r.orgBookingModel.bookingInfo.issuedStatus,
                        p = r.orgBookingModel.bookingInfo.supplierBookingStatus;
                    e.log("bookingStatus=" + s + ", paymentStatus = " + l + ", issuedStatus = " + d + ", supplierBookingStatus = " + p), e.log("VIEW - Booking Result"), f.bookingModel = r.orgBookingModel, f.searchOptions = r.searchOptions, f.searchOptions || (f.searchOptions = {}), c.setBookingModel(f.bookingModel), c.setSearchOption(f.searchOptions), o(function() {
                        t.$broadcast("gtd-load-booking-completed", null)
                    }, 1e3), a.start()
                } else e.log("++++ Booking Not FOUND - GOTO - flight"), n.go("flight-search-home");
                if (f.bkgroup = i, e.log("+++++ vm.bkgroup = "), e.log(f.bkgroup), f.bkgroup) {
                    var g = f.bkgroup,
                        m = [];
                    g.travelerInfo && angular.forEach(g.travelerInfo.contactInfos, function(e, t) {
                        var a = e;
                        m.push({
                            ciEmail: a.email,
                            ciName: a.firstName + " " + a.lastName,
                            ciMobileCode: "",
                            ciMobile: a.phoneNumber1
                        })
                    }), g.contacts = m;
                    var h = [];
                    g.travelerInfo && angular.forEach(g.travelerInfo.airTravelers, function(e, t) {
                        var a, n, i = e;
                        i.memberCards && i.memberCards[0] && (a = i.memberCards[0].cardType, n = i.memberCards[0].cardNumber), h.push({
                            cuDob: i.dateOfBirth,
                            cuId: i.passport.passportNumber,
                            cuPp: "Passport",
                            cuName: i.passengerName.firstName,
                            cuGender: i.passengerName.title,
                            cuCardNo: i.frequentFlyerNumber,
                            cuNationality: i.passport.country,
                            cuFamilyName: i.passengerName.lastName
                        })
                    }), g.customers = h, g.biCompany = f.taxCompanyName, g.biMst = f.taxNumber, g.biMobile = f.taxAddress2, g.biAddress = f.taxAddress1, g.departPricedItinerary = g.groupPricedItineraries[0].pricedItineraries[0], g.departGroupItem = g.groupPricedItineraries[0], f.searchOptions.searchType = "oneway", g.groupPricedItineraries && g.groupPricedItineraries[1] ? (g.returnGroupItem = g.groupPricedItineraries[1], g.returnPricedItinerary = g.groupPricedItineraries[1].pricedItineraries[0], f.searchOptions.searchType = "roundtrip") : "RETURN" == g.groupPricedItineraries[0].pricedItineraries[0].directionInd && (g.returnGroupItem = g.groupPricedItineraries[0], g.returnPricedItinerary = g.groupPricedItineraries[0].pricedItineraries[0], f.searchOptions.searchType = "roundtrip"), "INTERNATIONAL" == g.departGroupItem.flightType ? (f.searchOptions.dtype = "international", f.flightModel = {}, f.bookingModel.checkIn = g.departPricedItinerary.originDestinationOptions[0].originDateTime, f.bookingModel.checkOut = g.departPricedItinerary.originDestinationOptions[0].destinationDateTime, f.bookingModel.noOfTransit = g.departPricedItinerary.originDestinationOptions[0].flightSegments.length, f.bookingModel.supplierName = g.departGroupItem.airlineName, f.bookingModel.airline = g.departGroupItem.airline, f.bookingModel.carrierNo = g.departGroupItem.fightNo, f.bookingModel.originLocationCode = g.departGroupItem.originLocationCode, f.bookingModel.destinationLocationCode = g.departGroupItem.destinationLocationCode, f.bookingModel.duration = g.departPricedItinerary.originDestinationOptions[0].journeyDuration, f.bookingModel.supplierCode = g.departPricedItinerary.airItineraryPricingInfo.fareSourceCode, f.bookingModel.cabinClassName = g.departPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName, f.bookingModel.flightIdx = 1, f.bookingModel.searchType = f.searchOptions.searchType, f.bookingModel.booking = {}, f.bookingModel.travelerInfo = g.travelerInfo, f.bookingModel.pricedItinerary = g.departPricedItinerary, f.bookingModel.flightSegments = g.departPricedItinerary.originDestinationOptions[0].flightSegments, f.bookingModel.passengerNameRecords = f.bkgroup.bookingInfo.passengerNameRecords, g.returnPricedItinerary && g.returnGroupItem && (f.returnBookingModel.bookingNumber = f.bookingModel.bookingNumber, f.returnBookingModel.checkIn = g.returnPricedItinerary.originDestinationOptions[1].originDateTime, f.returnBookingModel.checkOut = g.returnPricedItinerary.originDestinationOptions[1].destinationDateTime, f.returnBookingModel.noOfTransit = g.returnPricedItinerary.originDestinationOptions[1].flightSegments.length, f.returnBookingModel.supplierName = g.returnGroupItem.airlineName, f.returnBookingModel.airline = g.returnGroupItem.airline, f.returnBookingModel.carrierNo = g.returnGroupItem.fightNo, f.returnBookingModel.originLocationCode = g.returnPricedItinerary.originDestinationOptions[1].originLocationCode, f.returnBookingModel.destinationLocationCode = g.returnPricedItinerary.originDestinationOptions[1].destinationLocationCode, f.returnBookingModel.duration = g.returnPricedItinerary.originDestinationOptions[1].journeyDuration, f.returnBookingModel.supplierCode = g.returnPricedItinerary.airItineraryPricingInfo.fareSourceCode, f.returnBookingModel.cabinClassName = g.returnPricedItinerary.originDestinationOptions[1].flightSegments[0].cabinClassName, f.returnBookingModel.flightIdx = 2, f.returnBookingModel.searchType = f.searchOptions.searchType, f.returnBookingModel.booking = {}, f.returnBookingModel.travelerInfo = g.travelerInfo, f.returnBookingModel.pricedItinerary = g.returnPricedItinerary, f.returnBookingModel.flightSegments = g.returnPricedItinerary.originDestinationOptions[1].flightSegments, f.returnBookingModel.passengerNameRecords = f.bkgroup.bookingInfo.passengerNameRecords)) : (f.searchOptions.dtype = "domestic", f.bookingModel.checkIn = g.departPricedItinerary.originDestinationOptions[0].originDateTime, f.bookingModel.checkOut = g.departPricedItinerary.originDestinationOptions[0].destinationDateTime, f.bookingModel.noOfTransit = 1, f.bookingModel.supplierName = g.departGroupItem.airlineName, f.bookingModel.airline = g.departGroupItem.airline, f.bookingModel.carrierNo = g.departGroupItem.fightNo, f.bookingModel.originLocationCode = g.departGroupItem.originLocationCode, f.bookingModel.destinationLocationCode = g.departGroupItem.destinationLocationCode, f.bookingModel.duration = g.departPricedItinerary.originDestinationOptions[0].journeyDuration, f.bookingModel.supplierCode = g.departPricedItinerary.airItineraryPricingInfo.fareSourceCode, f.bookingModel.cabinClassName = g.departPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName, f.bookingModel.flightIdx = 1, f.bookingModel.searchType = f.searchOptions.searchType, f.bookingModel.booking = {}, f.bookingModel.travelerInfo = g.travelerInfo, f.bookingModel.pricedItinerary = g.departPricedItinerary, f.bookingModel.flightSegments = g.departPricedItinerary.originDestinationOptions[0].flightSegments, f.bookingModel.passengerNameRecords = f.bkgroup.bookingInfo.passengerNameRecords, g.returnPricedItinerary && g.returnGroupItem && (f.returnBookingModel.bookingNumber = f.bookingModel.bookingNumber, f.returnBookingModel.checkIn = g.returnPricedItinerary.originDestinationOptions[0].originDateTime, f.returnBookingModel.checkOut = g.returnPricedItinerary.originDestinationOptions[0].destinationDateTime, f.returnBookingModel.noOfTransit = 1, f.returnBookingModel.supplierName = g.returnGroupItem.airlineName, f.returnBookingModel.airline = g.returnGroupItem.airline, f.returnBookingModel.carrierNo = g.returnGroupItem.fightNo, f.returnBookingModel.originLocationCode = g.returnGroupItem.originLocationCode, f.returnBookingModel.destinationLocationCode = g.returnGroupItem.destinationLocationCode, f.returnBookingModel.duration = g.returnPricedItinerary.originDestinationOptions[0].journeyDuration, f.returnBookingModel.supplierCode = g.returnPricedItinerary.airItineraryPricingInfo.fareSourceCode, f.returnBookingModel.cabinClassName = g.returnPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName, f.returnBookingModel.flightIdx = 2, f.returnBookingModel.searchType = f.searchOptions.searchType, f.returnBookingModel.booking = {}, f.returnBookingModel.travelerInfo = g.travelerInfo, f.returnBookingModel.pricedItinerary = g.returnPricedItinerary, f.returnBookingModel.flightSegments = g.returnPricedItinerary.originDestinationOptions[0].flightSegments, f.returnBookingModel.passengerNameRecords = f.bkgroup.bookingInfo.passengerNameRecords)), f.orgBookingModel = g
                } else e.log("++++ Booking Not FOUND - GOTO - flight"), n.go("flight-search-home")
            }, function(t) {
                e.log("flight-search"), n.go("flight-search", {
                    searchOptions: f.searchOptions,
                    searchResult: f.searchResult,
                    params: m.encodeJson(f.searchOptions)
                })
            }) : (e.log("++++ NO Booking Number - GOTO - flight"), n.go("flight-search-home")), f.departFlightModel = c.getDepartFlight(), f.returnFlightModel = c.getReturnFlight(), f.paymentModel = c.getPaymentModel(), f.checkTimeOut = function() {
                f.timeout = !p.checkBookingTimeout(c.getBookingModel(), c.getPaymentModel(), !0), f.timeout
            }, a.start = function() {
                f.checkTimeOut()
            }, f.returnBookingModel = {}, e.log('+++++ START vm.bkgroup = "'), f.profileBooking && (f.bookingModel = f.profileBooking), f.bookingModel || (f.bookingModel = {}), f.doConfirm = function() {
                n.go("booking-result")
            }, f.doBack = function() {
                n.go("booking-confirm")
            }
        }
        angular.module("B2B2CGatewayApp").controller("FlightBookingResultController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$stateParams", "$timeout", "$uibModal", "$interval", "Flight", "DataService", "DateUtils", "ValidationUtils", "CustomerService", "FlightUtils", "Base64", "DialogService", "$location"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f, b, y, k, $, w, I) {
            var M = this;
            if (M.departFlightModel = g.getDepartFlight(), M.returnFlightModel = g.getReturnFlight(), M.paymentModel = {}, M.bjson = {}, M.bjson.bookingInfo = {}, t.log("booking payment - $stateParams - booking number:" + o.booking_number), M._loadBookingInfo = function(e) {
                    u.getBookingByNumber(e).then(function(e) {
                        M.bjson = e, t.log("++ vm.bjson ++ "), t.log(M.bjson);
                        var o = v.convertBookingToVM(e);
                        if (o && o.orgBookingModel && o.orgBookingModel.bookingInfo) {
                            t.log("vm.orgBookingModel="), t.log(o.orgBookingModel);
                            var s = o.orgBookingModel.bookingInfo.status,
                                l = o.orgBookingModel.bookingInfo.paymentStatus,
                                c = o.orgBookingModel.bookingInfo.issuedStatus,
                                d = o.orgBookingModel.bookingInfo.supplierBookingStatus;
                            t.log("bookingStatus=" + s + ", paymentStatus = " + l + ", issuedStatus = " + c + ", supplierBookingStatus = " + d), "PENDING" == s ? (t.log("GOTO - flight-search"), i.go("flight-search", {
                                searchOptions: M.searchOptions,
                                searchResult: M.searchResult,
                                params: f.encodeJson(M.searchOptions)
                            })) : "BOOKED" == s && ("PENDING" == l || "FAILED" == l) ? t.log("VIEW - booking-payment") : (t.log("GOTO - booking-result"), i.go("booking-result/:booking_number/:is_mobile/:params", {
                                booking_number: f.encodeString(o.orgBookingModel.bookingNumber),
                                is_mobile: M.paymentModel.isMobileApp ? "mobile" : ""
                            })), M.bookingModel = o.orgBookingModel, M.searchOptions = o.searchOptions, M.bookingModel.curStep = 3, g.setBookingModel(M.bookingModel), g.setSearchOption(M.searchOptions), r(function() {
                                a.$broadcast("gtd-load-booking-completed", null)
                            }, 1e3), M.profileBooking = {}, M.profileBooking = M.bookingModel, n.start()
                        } else t.log("++++ Booking Not FOUND - GOTO - flight"), i.go("flight-search-home")
                    }, function(e) {
                        t.log("GOTO - flight-search"), i.go("flight-search", {
                            searchOptions: M.searchOptions,
                            searchResult: M.searchResult,
                            params: f.encodeJson(M.searchOptions)
                        })
                    })
                }, o.booking_number) {
                var C = f.decodeString(o.booking_number);
                t.log("flight.booking.payment - LOADING - _booking_number_param: " + C), M._loadBookingInfo(C)
            } else t.log("++++ NO Booking Number - GOTO - flight"), i.go("flight-search-home");
            if (M.paymentModel.isMobileApp = !1, o.is_mobile) {
                if ("mobile" === o.is_mobile) {
                    var O = !0;
                    t.log("_is_mobile = " + O), M.paymentModel.isMobileApp = O
                }
                if (o.payment_method) {
                    var P = o.payment_method;
                    t.log("_payment_method = " + P), M.paymentModel.paymentOption = P
                }
            }
            a.$on("authenticationSuccess", function() {
                var e = i.is("booking-payment/:booking_number/:params");
                t.log("flight.booking.payment - IS booking-payment/:booking_number/:params: " + e);
                var a = g.getBookingModel().bookingNumber;
                e && a && (t.log("flight.booking.payment - authenticationSuccess --- Checking.... "), t.log("flight.booking.payment - CHANGE BOOKING OWNER - vm.bookingModel.bookingNumber: " + a), d.changeDraftBookingOwner(a).then(function(e) {
                    t.log("flight.booking.payment - changeDraftBookingOwner result: " + e), t.log("flight.booking.payment - RELOAD - vm.bookingModel.bookingNumber: " + a), M._loadBookingInfo(a)
                }, function(e) {
                    t.log("GOTO - flight-search"), i.go("flight-search", {
                        searchOptions: M.searchOptions,
                        searchResult: M.searchResult,
                        params: f.encodeJson(M.searchOptions)
                    })
                }))
            }), M.departFlightModel = g.getDepartFlight(), M.returnFlightModel = g.getReturnFlight(), M.profileBooking = {}, M.profileBooking = M.bookingModel, n.$on("event-payment-voucher-reset", function(e, t) {
                M.bookingModel.voucher = {}
            }), n.$on("IssueTicket", function(e, n) {
                M.openLoading(), d.orderTickets(M.bookingModel).then(function(e) {
                    t.log("Get Flight.orderTickets()"), t.log(e), M.paymentModel.payFailed = !e.success, g.setPaymentModel(M.paymentModel), a.$broadcast("event-flight-load-completed", null), M.paymentModel.isMobileApp && u.getFinalBookingByNumber(g.getBookingModel().bookingNumber).then(function(e) {
                        var t = v.convertBookingToVM(e);
                        if (t && t.orgBookingModel && t.orgBookingModel.bookingInfo) {
                            var a = t.orgBookingModel.bookingInfo.status,
                                n = t.orgBookingModel.bookingInfo.paymentStatus,
                                o = t.orgBookingModel.bookingInfo.issuedStatus;
                            i.go("mobile-booking-result?:booking_status&:payment_status&:issue_status", {
                                booking_status: a,
                                payment_status: n,
                                issue_status: o
                            })
                        }
                    }), i.go("booking-result/:booking_number/:is_mobile/:params", {
                        profileBooking: M.bookingModel,
                        booking_number: f.encodeString(g.getBookingModel().bookingNumber),
                        is_mobile: M.paymentModel.isMobileApp ? "mobile" : "",
                        params: ""
                    })
                }, function(e) {
                    t.log("error orderTickets"), t.log(e), M.paymentModel.payFailed = !0, g.setPaymentModel(M.paymentModel), a.$broadcast("event-flight-load-completed", null), i.go("booking-result/:booking_number/:is_mobile/:params", {
                        profileBooking: M.bookingModel,
                        booking_number: f.encodeString(g.getBookingModel().bookingNumber),
                        is_mobile: M.paymentModel.isMobileApp ? "mobile" : "",
                        params: ""
                    })
                })
            }), n.$on("DoPaymentWith3DAuthConfirmation", function(e, a) {
                t.log("DoPaymentWith3DAuth - " + a), M.paymentModel.paToken = a, M.doPayment()
            }), M.doConfirm = function() {
                if (g.setPaymentModel(M.paymentModel), M.bookingModel.voucher && t.log("vm.bookingModel.voucher.voucherValid = " + M.bookingModel.voucher.voucherValid), a.$broadcast("event-payment-voucher-pre-send-data", null), M.bookingModel.voucher && M.bookingModel.voucher.voucherValid) t.log("Payment::doConfirm - process redeem booking..."), d.redeemVoucher(M.bookingModel).then(function(e) {
                    e.redeemValid && e.success ? (t.log("Payment::doConfirm - result.redeemValid = " + e.redeemValid + ", result.success = " + e.success), M.doPayment()) : (t.log("Payment::doConfirm - payment voucher redeem invalid..."), a.$broadcast("event-payment-voucher-redeem-invalid", e))
                }, function(e) {
                    t.log("Payment::doConfirm - payment voucher redeem error..."), a.$broadcast("event-payment-voucher-redeem-invalid", e)
                });
                else if (M.paymentModel.promotions && null !== M.paymentModel.promotions) {
                    if ("undefined" != typeof M.paymentModel.cardModel.chosenCardNumber && null !== M.paymentModel.cardModel.chosenCardNumber && "" !== M.paymentModel.cardModel.chosenCardNumber && "-1" !== M.paymentModel.cardModel.chosenCardNumber && M.paymentModel.cardModel.chosenCardNumber !== -1) {
                        var e = M.paymentModel.cardModel.chosenCardNumber.slice(0, 7).toUpperCase();
                        if ("XXXX-XX" === e) {
                            var n = {
                                status: 406,
                                data: {
                                    message: y("translate")("flight.booking.payment.addnewCard")
                                }
                            };
                            return m.openHttpAlertDilalog(n), void(M.paymentModel.cardModel.chosenCardNumber = -1)
                        }
                        M.paymentModel.cardModel.cardNumber = M.paymentModel.cardModel.chosenCardNumber
                    }
                    d.redeemPromo(M.paymentModel, M.bookingModel).then(function(e) {
                        if ("PC1000" === e.errorCode || "PC1100" === e.errorCode && e.success) t.log("Payment::doConfirm - result.redeemValid = " + e.redeemValid + ", result.success = " + e.success), M.doPayment();
                        else {
                            var a = {};
                            "PC1002" === e.errorCode && d.gPaymentPromotion(M.bookingModel.supplierType, "PUBLISHING", 0, 20).then(function(e) {
                                e.content && (M.paymentModel.paymentPromo = e.content)
                            }), "PC1003" === e.errorCode && (a = {
                                status: e.errorCode,
                                data: {
                                    message: y("translate")("flight.booking.payment.wrongCard")
                                }
                            }, M.paymentModel.cardModel.cardNumber = "", M.paymentModel.cardModel.chosenCardNumber = -1), "PC406" === e.errorCode && (a = {
                                status: e.errorCode,
                                data: {
                                    message: "Số vé khuyến mãi trong ngày đã hết, quý khách vui lòng thực hiện giao dịch sau."
                                }
                            }), "PC407" === e.errorCode && (a = {
                                status: e.errorCode,
                                data: {
                                    message: "Vui lòng đăng nhập để được hưởng ưu đãi."
                                }
                            }), "PC408" === e.errorCode && (a = {
                                status: e.errorCode,
                                data: {
                                    message: "Số vé khuyến mãi trong ngày đã hết, quý khách vui lòng thực hiện giao dịch sau."
                                }
                            }), "PC1010" === e.errorCode && (a = {
                                status: e.errorCode,
                                data: {
                                    message: y("translate")("flight.booking.payment.money") + " " + y("number")(M.paymentModel.promotions.lowerPrice) + " " + y("translate")("flight.booking.payment.money2")
                                }
                            }), "PC1408" === e.errorCode && (a = {
                                status: e.errorCode,
                                data: {
                                    message: y("translate")("flight.booking.payment.anotherCard")
                                }
                            }), "PC1406" === e.errorCode && (a = {
                                status: e.errorCode,
                                data: {
                                    message: y("translate")("flight.booking.payment.anotherCard")
                                }
                            }), "PC1004" === e.errorCode && (a = {
                                status: e.errors[0].message,
                                data: {
                                    message: y("translate")("flight.booking.payment.time") + " " + M.paymentModel.promotions.name + " " + y("translate")("flight.booking.payment.time2") + " " + M.paymentModel.promotions.startTime + " " + y("translate")("flight.booking.payment.to") + " " + M.paymentModel.promotions.endTime
                                }
                            }), "PC1011" === e.errorCode && (a = {
                                status: e.errors[0].message,
                                data: {
                                    message: y("translate")("flight.booking.payment.finish")
                                }
                            }), m.openHttpAlertDilalog(a)
                        }
                    }, function(e) {
                        t.log("Payment::doConfirm - payment promo redeem error..."), m.openHttpAlertDilalog(e)
                    })
                } else t.log("Payment::doConfirm - process payment..."), M.doPayment()
            }, M.doPayment = function() {
                "ATM_DEBIT" === M.paymentModel.paymentOption && d.gPaymentBooking(M.bookingModel, M.paymentModel, M.bjson).then(function(a) {
                    a.hasPaymentAuth && a.paymentAuthUrl ? (t.log(a.paymentAuthUrl), e.open(a.paymentAuthUrl, "_top")) : m.openHttpAlertDilalog(a)
                }, function(e) {
                    m.openHttpAlertDilalog(e)
                }), "VIETTELPAY" === M.paymentModel.paymentOption && d.gPaymentBooking(M.bookingModel, M.paymentModel, M.bjson).then(function(a) {
                    t.log("result_vtpayment"), t.log(a), a.hasPaymentAuth && a.paymentAuthUrl ? (t.log(a.paymentAuthUrl), e.open(a.paymentAuthUrl, "_top")) : m.openHttpAlertDilalog(a)
                }, function(e) {
                    m.openHttpAlertDilalog(e)
                }), "VNPAYQR" === M.paymentModel.paymentOption && d.gPaymentBooking(M.bookingModel, M.paymentModel, M.bjson).then(function(e) {
                    vnpay.open({
                        width: 900,
                        height: 800,
                        url: e.paymentAuthUrl
                    })
                }), "MOMO" === M.paymentModel.paymentOption && d.gPaymentBooking(M.bookingModel, M.paymentModel, M.bjson).then(function(a) {
                    t.log("MOMO call payment"), t.log(a), a.errors && a.errors.length > 0 && a.errors[0].code && "-4000" == a.errors[0].code ? m.openHttpAlertMessage(y("translate")("flight.booking.payment.momoLimitAmountTitle"), y("translate")("flight.booking.payment.momoLimitAmount")) : e.open(a.paymentAuthUrl, "_top")
                }), "PAYOO" === M.paymentModel.paymentOption && d.gPaymentBooking(M.bookingModel, M.paymentModel, M.bjson).then(function(e) {
                    t.log("PAYOO call payment"), t.log(e), e.errors && e.errors.length > 0 && e.errors[0].code && "-4000" == e.errors[0].code ? m.openHttpAlertMessage(y("translate")("flight.booking.payment.momoLimitAmountTitle"), y("translate")("flight.booking.payment.momoLimitAmount")) : M.openPayoo(e.returnUrlPayoo, M.paymentModel.isMobileApp)
                }), "VNPAYQR" !== M.paymentModel.paymentOption && "ATM_DEBIT" !== M.paymentModel.paymentOption && "VIETTELPAY" !== M.paymentModel.paymentOption && "MOMO" !== M.paymentModel.paymentOption && "PAYOO" !== M.paymentModel.paymentOption && "BALANCE" !== M.paymentModel.paymentOption && "ZALO" !== M.paymentModel.paymentOption && (M.openLoading(), d.paymentBooking(M.bookingModel, M.paymentModel, M.bjson).then(function(e) {
                    if (a.$broadcast("event-flight-load-completed", null), t.log("Payment::doConfirm - Get Flight.paymentBooking()"), t.log(e), e.hasPaymentAuth && e.paymentAuthUrl) t.log(e.paymentAuthUrl), M.open3DAuth(e.paymentAuthUrl, e.paReq, e.md, e.termUrl);
                    else {
                        if ("CREDIT" === M.paymentModel.paymentOption) c.isAuthenticated() && M.paymentModel.cardModel && M.paymentModel.cardModel.cardId == -1 && M.paymentModel.cardModel.checked && (u.createCreditCards(M.paymentModel.cardModel).then(function(e) {
                            t.log("success createCreditCards")
                        }, function(e) {
                            t.log("error createCreditCards"), t.log(e)
                        }), t.log("huyxx2"), t.log(e)), a.$broadcast("IssueTicket", null);
                        else if ("BALANCE" === M.paymentModel.paymentOption) {
                            var n;
                            n = M.profileBooking.voucher.discountAmount ? y("number")(M.bookingModel.bookingInfo.totalFare - M.profileBooking.voucher.discountAmount) : y("number")(M.bookingModel.bookingInfo.totalFare);
                            var o = {};
                            o.title = y("translate")("flight.booking.payment.conf"), o.message = y("translate")("flight.booking.payment.paymentBalance.popupPaymentBalance") + "<br><b>" + M.bookingModel.bookingInfo.supplierName + " - " + y("translate")("flight.booking.payment.paymentBalance.code") + " " + M.bookingModel.bookingInfo.airline + M.bookingModel.bookingInfo.carrierNo + " - " + y("translate")("flight.booking.payment.paymentBalance.totalAmount") + ": " + n + " VND?</b>";
                            var r = m.DialogBalance(o);
                            r.result.then(function(e) {
                                c.isAuthenticated() && M.paymentModel.cardModel && M.paymentModel.cardModel.cardId == -1 && M.paymentModel.cardModel.checked && u.createCreditCards(M.paymentModel.cardModel).then(function(e) {
                                    t.log("success createCreditCards")
                                }, function(e) {
                                    t.log("error createCreditCards"), t.log(e)
                                }), a.$broadcast("IssueTicket", null)
                            }, function(e) {})
                        } else M.paymentModel.payFailed = !e.success, g.setPaymentModel(M.paymentModel), i.go("booking-result/:booking_number/:is_mobile/:params", {
                            profileBooking: M.bookingModel,
                            booking_number: f.encodeString(g.getBookingModel().bookingNumber),
                            is_mobile: M.paymentModel.isMobileApp ? "mobile" : "",
                            params: ""
                        });
                        M.paymentModel.paToken = null
                    }
                }, function(e) {
                    a.$broadcast("event-flight-load-completed", null), t.log("error paymentBooking"), t.log(e), M.paymentModel.payFailed = !0, g.setPaymentModel(M.paymentModel), i.go("booking-result/:booking_number/:is_mobile/:params", {
                        profileBooking: M.bookingModel,
                        booking_number: f.encodeString(g.getBookingModel().bookingNumber),
                        is_mobile: M.paymentModel.isMobileApp ? "mobile" : "",
                        params: ""
                    })
                }))
            };
            var T = null,
                N = function() {
                    T = null
                },
                x = null,
                S = function() {
                    x = null
                },
                A = null;
            M.open = function(e, t) {
                n.payooUrl = e;
                var a = t ? "modal-fullscreen" : "modal-window-extension";
                null === x && (x = l.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/payment/flight.payment.external.html",
                    controller: "FlightPaymentExternalController",
                    controllerAs: "vm",
                    windowClass: a,
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        paymentUrl: function() {
                            return e
                        },
                        idOption: function() {
                            return "other"
                        },
                        isMobile: function() {
                            return t
                        }
                    }
                }), x.result.then(S, S))
            }, M.openVT = function(e, t) {
                var a = t ? "modal-fullscreen viettelPayModal" : "modal-window-extension viettelPayModal";
                null === x && (x = l.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/payment/flight.payment.external.html",
                    controller: "FlightPaymentExternalController",
                    controllerAs: "vm",
                    windowClass: a,
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        paymentUrl: function() {
                            return e
                        },
                        idOption: function() {
                            return "viettelPay"
                        },
                        booking_number: function() {
                            return o.booking_number
                        },
                        isMobile: function() {
                            return t
                        }
                    }
                }), x.result.then(S, S))
            }, M.openMomo = function(e, t) {
                var a = t ? "modal-fullscreen MomoModal" : "modal-window-extension MomoModal";
                null === x && (x = l.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/payment/flight.payment.external.html",
                    controller: "FlightPaymentExternalController",
                    controllerAs: "vm",
                    windowClass: a,
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        paymentUrl: function() {
                            return e
                        },
                        idOption: function() {
                            return "momo"
                        },
                        booking_number: function() {
                            return o.booking_number
                        },
                        isMobile: function() {
                            return t
                        }
                    }
                }), x.result.then(S, S))
            }, M.open3DAuth = function(e, t, a, n) {
                if (null === A) {
                    var i = k.trustAsResourceUrl(e);
                    $.redirectPayment3D(i, t, a, n)
                }
            }, M.openPayoo = function(e, t) {
                var a = t ? "modal-fullscreen" : "modal-window-extension";
                null === x && (x = l.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/dialogs/payoo-popup.html",
                    controller: "FlightPaymentExternalController",
                    controllerAs: "vm",
                    windowClass: a,
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("payment"), e.refresh()
                        }],
                        paymentUrl: function() {
                            return e
                        },
                        idOption: function() {
                            return "payoo"
                        },
                        booking_number: function() {},
                        isMobile: function() {}
                    }
                }), x.result.then(S, S))
            }, M.openLoading = function() {
                null === T && (T = l.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/flight.loading.html",
                    controller: "FlightLoadingController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }]
                    }
                }), T.result.then(N, N))
            }, M.doBack = function() {
                i.go("booking-confirm")
            };
            var D;
            M.checkTimeOut = function() {
                M.timeout = !h.checkBookingTimeout(g.getBookingModel(), g.getPaymentModel(), !0), M.timeout
            }, n.start = function() {
                n.stop(), D = s(M.checkTimeOut, 1e3)
            }, n.stop = function() {
                s.cancel(D)
            }, n.$on("$destroy", function() {
                n.stop()
            })
        }
        angular.module("B2B2CGatewayApp").controller("FlightBookingPaymentController", e), e.$inject = ["$window", "$log", "$rootScope", "$scope", "$state", "$stateParams", "$timeout", "$interval", "$uibModal", "Principal", "Flight", "Hotel", "DataService", "CustomerService", "DialogService", "ValidationUtils", "FlightUtils", "Base64", "$cookies", "$filter", "$sce", "gtdFormPayment3D", "PricingUtils", "AuthServerProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h) {
            var v = this;
            if (v.merchantList = ["VIETTEL", "TIKI", "TRUEMONEY", "FASTGO"], v.currentMerchant = m.get("merchant_code") || localStorage.getItem("merchant_code") || null, e.log("booking info - $stateParams - booking number:" + i.booking_number), v.departFlightModel = l.getDepartFlight(), v.returnFlightModel = l.getReturnFlight(), v.paymentModel = l.getPaymentModel(), v.bookingModel = {
                    voucher: {},
                    departGroupItem: {},
                    departPricedItinerary: {},
                    departItinTotalFare: {},
                    returnGroupItem: {},
                    returnPricedItinerary: {},
                    returnItinTotalFare: {}
                }, v.bookingModel.curStep = 1, v.bookingModel.biMobileCode = "84", v.bookingModel.tPCPhoneCode = "84", v._loadBookingInfo = function(i) {
                    g.getBookingByNumber(i).then(function(r) {
                        var c = u.convertBookingToVM(r);
                        if (c && c.orgBookingModel && c.orgBookingModel.bookingInfo) {
                            var d = c.orgBookingModel.bookingInfo.status,
                                g = c.orgBookingModel.bookingInfo.paymentStatus,
                                m = c.orgBookingModel.bookingInfo.issuedStatus,
                                h = c.orgBookingModel.bookingInfo.supplierBookingStatus;
                            if (e.log("bookingStatus=" + d + ", paymentStatus = " + g + ", issuedStatus = " + m + ", supplierBookingStatus = " + h), "PENDING" == d) e.log("VIEW - Booking Info");
                            else if ("BOOKED" == d)
                                if ("PENDING" == g || "FAILED" == g) {
                                    if (v.merchantList.indexOf(v.currentMerchant) > -1) {
                                        var f = p.encodeString(r.bookingInfo.bookingNumber);
                                        return void n.go("user-profile-booking-air/:booking_number/:mode", {
                                            booking_number: f,
                                            mode: "view"
                                        })
                                    }
                                    e.log("GOTO - booking-payment"), n.go("booking-info/:booking_number/:params", {
                                        searchOptions: v.searchOptions,
                                        searchResult: v.searchResult,
                                        booking_number: p.encodeString(c.orgBookingModel.bookingNumber),
                                        params: ""
                                    })
                                } else e.log("GOTO - booking-result"), n.go("booking-result/:booking_number/:params", {
                                    booking_number: p.encodeString(c.orgBookingModel.bookingNumber)
                                });
                            else e.log("GOTO - booking-result"), n.go("booking-result/:booking_number/:params", {
                                booking_number: p.encodeString(c.orgBookingModel.bookingNumber)
                            });
                            l.getBookingModel() && l.getBookingModel().bookingNumber ? (e.log("get booking from data-service"), v.bookingModel = l.getBookingModel(), v.bookingModel.curStep = 1, v.bookingModel.biMobileCode = "84", v.bookingModel.tPCPhoneCode = "84", v.bookingModel.bookingInfo = {}, c.orgBookingModel && c.orgBookingModel.bookingInfo && (v.bookingModel.bookingInfo = c.orgBookingModel.bookingInfo), v.searchOptions = l.getSearchOption()) : (e.log("get booking from BE"), v.bookingModel = c.orgBookingModel, v.bookingModel.curStep = 1, v.bookingModel.biMobileCode = "84", v.bookingModel.tPCPhoneCode = "84", v.searchOptions = c.searchOptions), s.getTicketSsr(i).then(function(e) {
                                v.searchOptions.ssrOfferItemsDepart = e.departSsrOfferItems, v.searchOptions.ssrOfferItemsReturn = e.returnSsrOfferItems
                            }, function(t) {
                                e.log("getTicketSsr - err: " + t)
                            }), l.setBookingModel(v.bookingModel), l.setSearchOption(v.searchOptions), o(function() {
                                t.$broadcast("gtd-load-booking-completed", null)
                            }, 1e3), a.start()
                        } else e.log("++++ Booking Not FOUND - GOTO - flight"), n.go("flight-search-home")
                    }, function(t) {
                        e.log("GOTO - flight-search"), n.go("flight-search", {
                            searchOptions: v.searchOptions,
                            searchResult: v.searchResult,
                            params: p.encodeJson(v.searchOptions)
                        })
                    })
                }, i.booking_number) {
                var f = p.decodeString(i.booking_number);
                e.log("flight.booking.info - LOADING - _booking_number_param: " + f), v._loadBookingInfo(f)
            } else e.log("++++ NO Booking Number - GOTO - flight"), n.go("flight-search-home");
            t.$on("authenticationSuccess", function() {
                var t = n.is("booking-info/:booking_number/:params");
                e.log("flight.booking.info - IS booking-info/:booking_number/:params: " + t);
                var a = l.getBookingModel().bookingNumber;
                t && a && (e.log("flight.booking.info - authenticationSuccess --- Checking.... "), e.log("flight.booking.info - CHANGE BOOKING OWNER - vm.bookingModel.bookingNumber: " + a), s.changeDraftBookingOwner(a).then(function(t) {
                    e.log("flight.booking.info - changeDraftBookingOwner result: " + t), e.log("flight.booking.info - RELOAD - vm.bookingModel.bookingNumber: " + a), v._loadBookingInfo(a)
                }, function(t) {
                    e.log("GOTO - flight-search"), n.go("flight-search", {
                        searchOptions: v.searchOptions,
                        searchResult: v.searchResult,
                        params: p.encodeJson(v.searchOptions)
                    })
                }))
            }), v.doConfirm = function(t) {
                return t.$valid ? (l.setBookingModel(v.bookingModel), e.log("GOTO - booking-confirm"), n.go("booking-confirm/:booking_number/:params", {
                    searchOptions: v.searchOptions,
                    searchResult: v.searchResult,
                    booking_number: p.encodeString(v.bookingModel.bookingNumber),
                    params: ""
                }), void 0) : (angular.element("[name='" + t.$name + "']").find(".ng-invalid:visible:first").focus(), !1)
            }, v.doBack = function(a) {
                var i = v.searchOptions,
                    r = v.departSearchOptions;
                a = "oneway" == i.searchType ? 1 : 2, e.log("isIE = " + d.isIE()), d.isIE() && (i = {}, a = 1);
                var s;
                e.log(s), 1 == a ? (i.returnDomestic = !1, s = l.getDepartSearchResult()) : 2 == a && ("international" != i.dtype && (i.returnDomestic = !0), s = l.getReturnSearchResult()), i.selectStep = a, "domestic" == i.dtype && 1 == i.selectStep && "roundtrip" == i.searchType && (i.searchId = r.searchId);
                var c;
                c = !!s.groupPricedItineraries, e.log("isIE = " + d.isIE()), d.isIE() && (c = !1, s = {}), e.log("GOTO - flight-search"), n.go("flight-search", {
                    searchOptions: i,
                    searchResult: s,
                    searchCompleted: c,
                    params: p.encodeJson(i)
                }), o(function() {
                    t.$broadcast("gtd-refresh-adv-search-result", null)
                }, 1e3)
            };
            var b;
            v.checkTimeOut = function() {
                v.timeout = !d.checkBookingTimeout(v.bookingModel, l.getPaymentModel()), v.timeout
            }, t.$on("$stateChangeSuccess", function() {
                h.dismissAll()
            }), a.start = function() {
                a.stop(), b = r(v.checkTimeOut, 1e3)
            }, a.stop = function() {
                r.cancel(b)
            }, a.$on("$destroy", function() {
                a.stop()
            }), v.checkShowBillingInfo = function() {
                return "FSOFT" != v.currentMerchant
            }
        }
        angular.module("B2B2CGatewayApp").controller("FlightBookingInfoController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$stateParams", "$timeout", "$interval", "Flight", "DataService", "Principal", "ValidationUtils", "Base64", "CustomerService", "FlightUtils", "$cookies", "$uibModalStack"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f, b, y, k) {
            function $(e, t) {
                switch (e) {
                    case "TIKI":
                        C.tikiPayment(t.bookingNumber);
                        break;
                    case "VIETTEL":
                        C.viettelPayment(t.bookingNumber);
                        break;
                    case "FSOFT":
                        C.fsoftPayment(t.bookingNumber)
                }
            }

            function w(e) {}

            function I(e) {
                var a = b.get("msisdn") || localStorage.getItem("msisdn");
                p.createOrderTiki(e, a).then(function(e) {
                    k.location.href = e.redirect_url
                }, function(e) {
                    t.log("errorCallback Create Tiki order")
                })
            }

            function M(e) {
                p.getViettelPaymentURL(e).then(function(e) {
                    k.location.href = e
                }, function(e) {
                    t.log("errorCallback Create viettel order")
                })
            }
            var C = this;
            C.viettelPayment = M, C.externalPayment = $, C.tikiPayment = I, C.fsoftPayment = w;
            var O = !1;
            if ((b.get("liteEmbed") || localStorage.getItem("liteEmbed")) && (O = "true" === (b.get("liteEmbed") || localStorage.getItem("liteEmbed"))), C.merchantList = ["VIETTEL", "TIKI", "FSOFT", "TRUEMONEY", "FASTGO"], C.currentMerchant = b.get("merchant_code") || localStorage.getItem("merchant_code") || null, t.log("booking confirm - $stateParams - booking number:" + r.booking_number), C._loadBookingInfo = function(e) {
                    u.getBookingByNumber(e).then(function(e) {
                        var a = v.convertBookingToVM(e);
                        if (a && a.orgBookingModel && a.orgBookingModel.bookingInfo) {
                            t.log("vm.orgBookingModel="), t.log(a.orgBookingModel);
                            var r = a.orgBookingModel.bookingInfo.status,
                                s = a.orgBookingModel.bookingInfo.paymentStatus,
                                c = a.orgBookingModel.bookingInfo.issuedStatus,
                                d = a.orgBookingModel.bookingInfo.supplierBookingStatus;
                            if (t.log("bookingStatus=" + r + ", paymentStatus = " + s + ", issuedStatus = " + c + ", supplierBookingStatus = " + d), "PENDING" == r) {
                                var u = g.getBookingModel();
                                null != u.contacts && u.contacts.length > 0 ? t.log("VIEW - booking-confirm") : (t.log("GOTO - booking-info"), o.go("booking-info/:booking_number/:params", {
                                    searchOptions: C.searchOptions,
                                    searchResult: C.searchResult,
                                    booking_number: f.encodeString(a.orgBookingModel.bookingNumber),
                                    params: ""
                                }))
                            } else if ("BOOKED" == r)
                                if ("PENDING" == s || "FAILED" == s) {
                                    if (C.merchantList.indexOf(C.currentMerchant) > -1) {
                                        var m = f.encodeString(e.bookingInfo.bookingNumber);
                                        return void o.go("user-profile-booking-air/:booking_number/:mode", {
                                            booking_number: m,
                                            mode: "view"
                                        })
                                    }
                                    t.log("GOTO - booking-payment"), o.go("booking-payment/:booking_number/:params", {
                                        searchOptions: C.searchOptions,
                                        searchResult: C.searchResult,
                                        booking_number: f.encodeString(a.orgBookingModel.bookingNumber),
                                        params: ""
                                    })
                                } else t.log("GOTO - booking-result"), o.go("booking-result/:booking_number/:params", {
                                    booking_number: f.encodeString(a.orgBookingModel.bookingNumber)
                                });
                            else t.log("GOTO - booking-result"), o.go("booking-result/:booking_number/:params", {
                                booking_number: f.encodeString(a.orgBookingModel.bookingNumber)
                            });
                            var h = b.get("aff_id");
                            switch ("accesstrade" == h && p.updateBookingTags(a.orgBookingModel.bookingInfo.id, h), l(function() {
                                n.$broadcast("gtd-load-booking-completed", null)
                            }, 1e3), C.bookingModel = g.getBookingModel(), C.searchOptions = g.getSearchOption(), C.bookingModel.curStep = 2, C.airline = {
                                term_condition_url: "",
                                airline_name: "",
                                show_airline: !0
                            }, C.bookingModel.departGroupItem.airline) {
                                case "BL":
                                    C.airline.term_condition_url = "https://www.jetstar.com/vn/vi/terms-and-conditions", C.airline.airline_name = "Jetstar Pacific";
                                    break;
                                case "VN":
                                    C.airline.term_condition_url = "https://www.vietnamairlines.com/vn/vi/terms-and-conditions/", C.airline.airline_name = "VietNam Airlines";
                                    break;
                                case "VJ":
                                    C.language = y.storage().get("NG_TRANSLATE_LANG_KEY"), "vi" == C.language && (C.airline.term_condition_url = "https://www.vietjetair.com/Sites/Web/vi-VN/News/thong-tin-chuyen-bay/619/dieu-le-van-chuyen", C.airline.airline_name = "Vietjet Air"), "en" == C.language && (C.airline.term_condition_url = "https://www.vietjetair.com/Sites/Web/en-US/News/flight-information/645/terms-and-conditions", C.airline.airline_name = "Vietjet Air");
                                    break;
                                case "QH":
                                    C.airline.term_condition_url = "https://www.bambooairways.com/vi/dieu-kien-gia-ve-bamboo-airways/", C.airline.airline_name = "Bamboo Airways";
                                    break;
                                default:
                                    C.airline.show_airline = !1
                            }
                            i.start()
                        } else t.log("++++ Booking Not FOUND - GOTO - flight"), o.go("flight-search-home")
                    }, function(e) {
                        t.log("flight-search"), o.go("flight-search", {
                            searchOptions: C.searchOptions,
                            searchResult: C.searchResult,
                            params: f.encodeJson(C.searchOptions)
                        })
                    })
                }, r.booking_number) {
                var P = f.decodeString(r.booking_number);
                t.log("flight.booking.confirm - LOADING - _booking_number_param: " + P), C._loadBookingInfo(P)
            } else t.log("++++ NO Booking Number - GOTO - flight"), o.go("flight-search-home");
            n.$on("authenticationSuccess", function() {
                var e = o.is("booking-confirm/:booking_number/:params");
                t.log("flight.booking.info - IS booking-confirm/:booking_number/:params: " + e);
                var a = g.getBookingModel().bookingNumber;
                e && a && (t.log("flight.booking.confirm - authenticationSuccess --- Checking.... "), t.log("flight.booking.confirm - CHANGE BOOKING OWNER - vm.bookingModel.bookingNumber: " + a), p.changeDraftBookingOwner(a).then(function(e) {
                    t.log("flight.booking.confirm - changeDraftBookingOwner result: " + e), t.log("flight.booking.confirm - RELOAD - vm.bookingModel.bookingNumber: " + a), C._loadBookingInfo(a)
                }, function(e) {
                    t.log("GOTO - flight-search"), o.go("flight-search", {
                        searchOptions: C.searchOptions,
                        searchResult: C.searchResult,
                        params: f.encodeJson(C.searchOptions)
                    })
                }))
            }), C.departFlightModel = g.getDepartFlight(), C.returnFlightModel = g.getReturnFlight(), C.paymentModel = g.getPaymentModel(), C.doConfirm = function() {
                function e(e) {
                    return C.closeLoading(), m.isResponseSuccess(e) ? (C.bookingModel.code = e, g.setBookingModel(C.bookingModel), void u.getBookingByNumber(P).then(function(e) {
                        if (C.currentMerchant && "FSOFT" === C.currentMerchant) {
                            var a = {};
                            a.orderId = e.bookingInfo.bookingNumber, a.roundInfo = [];
                            var n = {};
                            n.routeType = e.bookingInfo.roundType, n.conformance = "", n.explanation = "", a.roundInfo.push(n), a.roundInfo = n, a.reserveInfo = !1, k.parent.postMessage(a, "*")
                        }
                        var i = e.bookingInfo.status;
                        "BOOKED" === i ? C.currentMerchant && "FASTGO" === C.currentMerchant || O === !0 ? (t.log("GOTO - booking-payment"), o.go("booking-payment/:booking_number/:params", {
                            searchOptions: C.searchOptions,
                            searchResult: C.searchResult,
                            booking_number: f.encodeString(e.bookingNumber),
                            params: ""
                        })) : p.externalPayment(e.bookingNumber) : o.go("booking-result/:booking_number/:params", {
                            searchOptions: C.searchOptions,
                            searchResult: C.searchResult,
                            booking_number: f.encodeString(e.bookingNumber),
                            params: ""
                        })
                    })) : void o.go("booking-result/:booking_number/:params", {
                        searchOptions: C.searchOptions,
                        searchResult: C.searchResult,
                        booking_number: f.encodeString(g.getBookingModel().bookingNumber),
                        params: ""
                    })
                }

                function i(t) {
                    if (t.errors && t.errors.length > 0 && "403" === t.errors[0].code && m.openAlertDialog({
                            title: "KHÔNG THỰC HIỆN ĐẶT CHỔ",
                            message: t.errors[0].message
                        }), t.otpServiceRes && t.otpServiceRes.notFound && t.otpServiceRes.notFound) {
                        C.language = y.storage().get("NG_TRANSLATE_LANG_KEY");
                        var n = a.open({
                            animation: !0,
                            backdrop: !0,
                            templateUrl: "app/dialogs/otp.popup.html",
                            controller: "FlightPaymentOTPController",
                            controllerAs: "vm",
                            windowClass: "popupOtpModal",
                            resolve: {
                                translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                                    return t.addPart("flight"), e.refresh()
                                }],
                                bookingModel: function() {
                                    return C.bookingModel
                                },
                                searchOptions: function() {
                                    return C.searchOptions
                                },
                                searchResult: function() {
                                    return C.searchResult
                                },
                                bookingRes: function() {
                                    return t
                                },
                                Flight: function() {
                                    return p
                                },
                                language: function() {
                                    return C.language
                                }
                            }
                        });
                        n.result.then(function(a) {
                            a && e(t)
                        }, function(e) {
                            console.log(e)
                        })
                    } else e(t)
                }
                return C.checkedRuleVJ ? (C.open(), d.isAuthenticated() && u.addCustomerTravellers(C.bookingModel).then(function(e) {
                    t.log("Get addCustomerTravellers from customer.service"), t.log(e)
                }, function(e) {}), void("oneway" == C.searchOptions.searchType ? p.addTicketTravellers(C.searchOptions, C.bookingModel).then(function(e) {
                    t.log("Get Flight.addTicketTravellers"), t.log(e), C.closeLoading(), i(e)
                }, function(e) {
                    C.closeLoading(), o.go("booking-result/:booking_number/:params", {
                        searchOptions: C.searchOptions,
                        searchResult: C.searchResult,
                        booking_number: f.encodeString(g.getBookingModel().bookingNumber),
                        params: ""
                    })
                }) : p.addTicketTravellers(C.departSearchOptions, C.bookingModel).then(function(e) {
                    t.log("Get addTicketTravellers from flight.service"), t.log(e), i(e)
                }, function(e) {
                    n.$broadcast("event-flight-load-completed", null), o.go("booking-result/:booking_number/:params", {
                        searchOptions: C.searchOptions,
                        searchResult: C.searchResult,
                        booking_number: f.encodeString(g.getBookingModel().bookingNumber),
                        params: ""
                    })
                }))) : (t.log("vm.airline"), t.log(C.airline), m.openAlertDialog({
                    title: "Thông báo",
                    message: "Quý khách vui lòng đọc và xác nhận Đồng ý với điều kiện giá vé & điều lệ vận chuyển đối với các chuyến bay " + C.airline.airline_name
                }), !1)
            }, C.doBack = function() {
                o.go("booking-info/:booking_number/:params", {
                    searchOptions: C.searchOptions,
                    searchResult: C.searchResult,
                    booking_number: f.encodeString(g.getBookingModel().bookingNumber),
                    params: ""
                })
            };
            var T = null,
                N = function() {
                    T = null
                };
            C.closeLoading = function() {
                null !== T && T.close()
            }, C.open = function() {
                null === T && (T = a.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/flight.loading.html",
                    controller: "FlightLoadingController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }]
                    }
                }), T.result.then(N, N))
            };
            var x;
            C.checkTimeOut = function() {
                C.timeout = !h.checkBookingTimeout(g.getBookingModel(), g.getPaymentModel()), C.timeout
            }, i.start = function() {
                i.stop(), x = c(C.checkTimeOut, 1e3)
            }, i.stop = function() {
                c.cancel(x)
            }, i.$on("$destroy", function() {
                i.stop()
            })
        }
        angular.module("B2B2CGatewayApp").controller("FlightBookingConfirmController", e), e.$inject = ["$location", "$log", "$uibModal", "$rootScope", "$scope", "$state", "$stateParams", "$q", "$timeout", "$interval", "Principal", "Flight", "DataService", "CustomerService", "DialogService", "ValidationUtils", "FlightUtils", "Base64", "$cookies", "$translate", "$window"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            function i() {
                n.lienVietPayment(o.data, o.key, o.agent_site).then(function(e) {
                    e.success ? t.go("external-booking-detail", {
                        booking_number: o.bookingNumber,
                        partner_id: "LIENVIETBANK",
                        back_url: e.result.replace(/['"]+/g, "")
                    }) : t.go("external-booking-detail", {
                        booking_number: o.bookingNumber,
                        partner_id: "LIENVIETBANK",
                        back_url: e.result.replace(/['"]+/g, ""),
                        error_code: e.textMessage
                    })
                }, function(e) {})
            }
            var o = this;
            o.parram = t.params, o.bookingNumber = o.parram.bookingNumber, o.merchant = o.parram.merchant, o.backUrl = o.parram.backUrl, o.data = o.parram.data, o.key = o.parram.key, o.agent_site = o.parram.agent_site, o.initController = i, o.initController()
        }
        angular.module("B2B2CGatewayApp").controller("BookingPaymentExternalController", e), e.$inject = ["$log", "$state", "Base64", "Flight"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("entity", {
                abstract: !0,
                parent: "app"
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(), angular.module("B2B2CGatewayApp").directive("ngSpinnerBar", ["$rootScope", "$state", function(e, t) {
        return {
            link: function(a, n, i) {
                n.addClass("hide"), e.$on("$stateChangeStart", function() {
                    n.removeClass("hide"), Layout.closeMainMenu()
                }), e.$on("$stateChangeSuccess", function() {
                    n.addClass("hide"), $("body").removeClass("page-on-load"), Layout.setAngularJsMainMenuActiveLink("match", null, t), setTimeout(function() {
                        App.scrollTop(), "parentIFrame" in window && window.parentIFrame.scrollTo(0, 0)
                    }, e.settings.layout.pageAutoScrollOnLoad)
                }), e.$on("$stateNotFound", function() {
                    n.addClass("hide")
                }), e.$on("$stateChangeError", function() {
                    n.addClass("hide")
                })
            }
        }
    }]), angular.module("B2B2CGatewayApp").directive("a", function() {
        return {
            restrict: "E",
            link: function(e, t, a) {
                (a.ngClick || "" === a.href || "#" === a.href) && t.on("click", function(e) {
                    e.preventDefault()
                })
            }
        }
    }), angular.module("B2B2CGatewayApp").directive("dropdownMenuHover", function() {
        return {
            link: function(e, t) {
                t.dropdownHover()
            }
        }
    }),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            var l = this;
            l.error = r, l.cancel = function() {
                o.dismiss("cancel");
                var e = s.getSavedSearchOption();
                n.go("flight-search", {
                    searchOptions: e
                }, {
                    reload: !0
                }), i(function() {
                    t.$broadcast("gtd-reinit-search", null)
                }, 1e3)
            }
        }
        angular.module("B2B2CGatewayApp").controller("TimeoutDialogController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "$uibModalInstance", "error", "DataService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f) {
            var b = this;
            a.otpCode = "", a.checking = !1, a.verificationCode = "", a.phoneNumber = "", a.timeOut, a.showTimeOut = !1, a.showDiv = !0, a.alerts = [], a.expDate, a.doBack = function() {
                e.log("klasdjkjsada"), o.go("booking-info/:booking_number/:params", {
                    searchOptions: v,
                    searchResult: h,
                    booking_number: f.encodeString(d.bookingNumber),
                    params: ""
                })
            }, a.getOTP = function() {
                if (!a.checking) {
                    a.checking = !0;
                    var e = {
                        lang: u.toUpperCase()
                    };
                    g.flightBookingOTPService(d, e).then(function(e) {
                        var t = "vi" == m.storage().get("NG_TRANSLATE_LANG_KEY") ? "Quá nhiều mã xác thực đã gửi vào số điện thoại này hôm nay." : "This phone number have received too many OTP codes, please use another one.",
                            n = "vi" == m.storage().get("NG_TRANSLATE_LANG_KEY") ? "Gửi OTP không thành công." : "Unable to send OTP code, please try again.";
                        e.otpServiceRes ? e.otpServiceRes.success ? (a.verificationCode = e.otpServiceRes.verificationCode, a.startCountDown(e.otpServiceRes.lifeTimeInMin), a.expDate = e.otpServiceRes.expDate, a.showTimeOut = !0, a.phoneNumber = e.otpServiceRes.phoneNumber) : null !== e.otpServiceRes.fullQuota && e.otpServiceRes.fullQuota ? (a.showDiv = !1, a.addAlert(t, "noValidPhone"), r(function() {
                            b.ok(!1)
                        }, 1e4)) : (a.showDiv = !1, a.addAlert(n, "noValidPhone"), r(function() {
                            b.ok(!1)
                        }, 1e4)) : (a.showDiv = !1, a.addAlert(n, "noValidPhone"), r(function() {
                            b.ok(!1)
                        }, 5e3))
                    }), a.checking = !1
                }
            }, a.startCountDown = function(e) {
                var t = 60 * e;
                i(function() {
                    if (t--, a.timeOut = t, 0 === a.timeOut) {
                        a.showDiv = !1;
                        var e = "vi" == m.storage().get("NG_TRANSLATE_LANG_KEY") ? "Mã xác thực đã hết hạn" : "TThe OTP code has expired";
                        a.addAlert(e, "danger");
                        var n = {
                            otpCode: null,
                            verificationCode: a.verificationCode
                        };
                        g.flightBookingOTPService(d, n).then(function(e) {
                            r(function() {
                                b.ok(!1)
                            }, 1e4)
                        })
                    }
                }, 1e3, 0)
            }, a.verify = function() {
                if (!a.checking) {
                    $(".errorMessageOtp").hide(), a.checking = !0;
                    var e = "";
                    if ($(".otpVal").each(function() {
                            e += $(this).val()
                        }), a.otpCode = e, "" !== a.otpCode) {
                        var t = {
                            otpCode: a.otpCode,
                            verificationCode: a.verificationCode
                        };
                        g.flightBookingOTPService(d, t).then(function(e) {
                            if (e.otpServiceRes.success) b.ok(!0);
                            else {
                                var t = "vi" == m.storage().get("NG_TRANSLATE_LANG_KEY") ? "Mã xác thực không đúng!" : "OTP code is not correct!",
                                    n = "vi" == m.storage().get("NG_TRANSLATE_LANG_KEY") ? "Đã hết lượt nhập mã xác thực" : "The OTP code has ended",
                                    i = "vi" == m.storage().get("NG_TRANSLATE_LANG_KEY") ? "Mã xác thực đã hết hạn" : "TThe OTP code has expired";
                                a.verificationCode = e.otpServiceRes.verificationCode, null === e.otpServiceRes.matched || e.otpServiceRes.matched || a.addAlert(t, "danger"), null !== e.otpServiceRes.outOfSlot && e.otpServiceRes.outOfSlot && (a.showDiv = !1, a.showTimeOut = !1, a.addAlert(n, "danger"), r(function() {
                                    b.ok(!1)
                                }, 1e4)), null !== e.otpServiceRes.expired && e.otpServiceRes.expired && (a.showDiv = !1, a.addAlert(i, "danger"), a.showTimeOut = !1, r(function() {
                                    b.ok(!1)
                                }, 1e4))
                            }
                        })
                    } else $(".errorMessageOtp").show();
                    a.checking = !1
                }
            }, b.ok = function(e) {
                c.close(e)
            }, a.addAlert = function(e, t) {
                a.alerts.push({
                    type: t,
                    msg: e
                })
            }, a.closeAlert = function(e) {
                a.alerts.splice(e, 1)
            }, a.cancel = function() {
                c.dismiss("cancel")
            }
        }
        angular.module("B2B2CGatewayApp").controller("FlightPaymentOTPController", e), e.$inject = ["$log", "$rootScope", "$scope", "$window", "$interval", "$state", "$timeout", "$sce", "Auth", "$uibModalInstance", "bookingModel", "bookingRes", "Flight", "language", "$translate", "searchResult", "searchOptions", "Base64"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(e) {
                null === c && (c = t.open({
                    animation: !0,
                    templateUrl: "app/dialogs/alert.dialog.html",
                    controller: "AlertDialogController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("login"), e.refresh()
                        }],
                        error: function() {
                            return e
                        }
                    }
                }), c.result.then(d, d))
            }

            function i(e, a) {
                var n = "Hệ thống chưa xử lý được yêu cầu của Quý khách. Mời quý khách gửi lại yêu cầu.";
                if (e.success) return !1;
                if (e.status) switch (e.status) {
                    case 0:
                        n = "Server not reachable";
                        break;
                    case 400:
                        n = "Bad request";
                        break;
                    case 404:
                        n = "Not found";
                    case 200:
                        n = e.textMessage;
                    default:
                        e.data && e.data.message && (n = e.data.message)
                }
                n = "Hệ thống chưa xử lý được yêu cầu của Quý khách. Mời quý khách gửi lại yêu cầu.", e && e.errors && angular.forEach(e.errors, function(e) {
                    "24" == e.code && "SENDER_MOBILE_INCORRECT" == e.message ? n = "Bạn phải nhập số điện thoại nội địa để thanh toán." : "6_PAYER_CHECK_ENROLLMENT_ERROR" == e.code && (n = "Không thực hiện tạo thẻ được, mời bạn kiểm tra lại thông tin thẻ.")
                });
                var i = {
                    title: "Thông Báo",
                    message: n
                };
                if (a && (i = {
                        title: "Thông Báo",
                        message: "Hệ thống chưa xử lý được yêu cầu của Quý khách. Quý khách vui lòng tiến hành tìm kiếm lại chuyến bay và đặt lại vé."
                    }), null === c) return c = a ? t.open({
                    animation: !0,
                    templateUrl: "app/dialogs/timeout.dialog.html",
                    controller: "TimeoutDialogController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("login"), e.refresh()
                        }],
                        error: function() {
                            return i
                        }
                    }
                }) : t.open({
                    animation: !0,
                    templateUrl: "app/dialogs/alert.dialog.html",
                    controller: "AlertDialogController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("login"), e.refresh()
                        }],
                        error: function() {
                            return i
                        }
                    }
                }), c.result.then(d, d), !0
            }

            function o(e) {
                null === c && (c = t.open({
                    animation: !0,
                    templateUrl: "app/dialogs/merchant.alert.dialog.html",
                    controller: "AlertDialogController",
                    controllerAs: "vm",
                    backdrop: "static",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("login"), e.refresh()
                        }],
                        error: function() {
                            return e
                        }
                    }
                }), c.result.then(d, d))
            }

            function r(e) {
                if (null === c) return c = t.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/dialogs/b2b2c.dialog.html",
                    controller: "B2B2CDialogController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("global"), e.refresh()
                        }],
                        error: function() {
                            return e
                        }
                    }
                }), c.result.then(d, d), !0
            }

            function s(e) {
                return !!e.success
            }
            var l = {
                    openAlertDialog: n,
                    openHttpAlertDilalog: i,
                    openB2B2CDialog: r,
                    isResponseSuccess: s,
                    openNoActionDialog: o
                },
                c = null,
                d = function() {
                    c = null
                };
            return l
        }
        angular.module("B2B2CGatewayApp").factory("DialogService", e), e.$inject = ["$log", "$uibModal", "$translate"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            var l = this;
            l.error = s, l.cancel = function() {
                if (null !== s && null != s.redirectUrl) try {
                    t.location.href = s.redirectUrl
                } catch (t) {
                    e.log("B2B2CDialogController - " + t)
                }
                r.dismiss("cancel")
            }
        }
        angular.module("B2B2CGatewayApp").controller("B2B2CDialogController", e), e.$inject = ["$log", "$window", "$rootScope", "$scope", "$state", "$timeout", "$uibModalInstance", "error"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            var l = this;
            l.error = r, s.scrollToTopIframe(), l.cancel = function() {
                o.dismiss("cancel")
            }
        }
        angular.module("B2B2CGatewayApp").controller("AlertDialogController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "$uibModalInstance", "error", "MerchantService"]
    }(),
    function() {
        "use strict";

        function e() {
            return {
                TIKI: !1,
                SENDO: !1,
                LIENVIETBANK: !1,
                SEABANK: !1,
                FSOFT: !1,
                LOOPBACK: !1,
                TRUEMONEY: !1,
                VTCPAY: !1,
                SMARTPAY: !1,
                APEX: !1
            }
        }
        angular.module("B2B2CGatewayApp").factory("ThemeCfg", e), e.$inject = []
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                restrict: "A",
                require: "ngModel",
                link: function(e, t, a, n) {
                    function i(e) {
                        var t = e;
                        if (t) {
                            var a, i, l, p = !0;
                            if (null == p && (p = !0), l = t, l = l.replace(g, ""), a = l.length, !(o <= a && a <= r)) return n.$setValidity("phoneValidator", !1), h;
                            if (u.test(l)) return n.$setValidity("phoneValidator", !1), v;
                            l = l.replace(m, ""), "0" !== l[0] && (l = "0" + l), a = l.length;
                            var y = l.slice(0, 4),
                                k = l.slice(0, 3);
                            return angular.forEach(d, function(e) {
                                e == y && (i = 4)
                            }), i || angular.forEach(c, function(e) {
                                e == k && (i = 3)
                            }), i || (i = 0), 0 === i ? (n.$setValidity("phoneValidator", !1), f) : a - i !== s ? (n.$setValidity("phoneValidator", !1), b) : (n.$setValidity("phoneValidator", !0), l)
                        }
                        return n.$setValidity("phoneValidator", !0), t
                    }
                    var o = 10,
                        r = 14,
                        s = 7,
                        l = ["0084", "084", "84"],
                        c = ["090", "091", "092", "093", "094", "095", "096", "097", "098", "099"],
                        d = ["0120", "0121", "0122", "0123", "0124", "0125", "0126", "0127", "0128", "0129", "0162", "0163", "0164", "0165", "0166", "0167", "0168", "0169", "0186", "0188", "0199"],
                        p = ["\\(", "\\)", "\\-", "\\.", "\\s", "+"],
                        g = new RegExp("[" + p.join("") + "]", "g"),
                        u = /\D/,
                        m = new RegExp("^(" + l.join("|") + ")"),
                        h = "NOT_VN_PHONE",
                        v = "NOT_VN_PHONE",
                        f = "NOT_VN_PHONE",
                        b = "NOT_VN_PHONE";
                    n.$parsers.push(i)
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdVnPhone", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                restrict: "A",
                require: "ngModel",
                link: function(e, t, a, n) {
                    function i(e) {
                        var t = e,
                            a = !0,
                            i = 0;
                        return t && (a = /^[-\s\.0-9]+$/.test(t), i = t.length), a && i >= 9 && i <= 11 ? n.$setValidity("phoneValidator", !0) : n.$setValidity("phoneValidator", !1), t
                    }
                    n.$parsers.push(i)
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdPhone", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                require: "ngModel",
                restrict: "A",
                link: function(e, t, a, n) {
                    n.$validators.noNumber = function(e, t) {
                        var a = e || t;
                        if (a) {
                            var n = /^([^0-9]*)$/.test(a);
                            return n
                        }
                        return !0
                    }
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdNoNumber", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                restrict: "A",
                require: "ngModel",
                link: function(e, t, a, n) {
                    function i(e) {
                        var t = e;
                        if (t) {
                            var a = /^[a-zA-Z0-9][a-zA-Z0-9-_\.]+@([a-zA-Z]|[a-zA-Z0-9]?[a-zA-Z0-9-]+[a-zA-Z0-9])\.[a-zA-Z0-9]{2,10}(?:\.[a-zA-Z]{2,10})?$/.test(t);
                            a ? n.$setValidity("emailValidator", !0) : n.$setValidity("emailValidator", !1)
                        } else n.$setValidity("emailValidator", !0);
                        return t
                    }
                    n.$parsers.push(i)
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdEmail", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            function l() {
                var e = !1;
                return (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0, 4))) && (e = !0), e
            }

            function c() {
                var e = navigator.userAgent;
                return e.indexOf("MSIE ") > -1 || e.indexOf("Trident/") > -1 || e.indexOf("Edge/") > -1
            }

            function d(e, a, n) {
                var r = "Thông tin booking đã bị thay đổi. Quý khách vui lòng tiến hành tìm kiếm lại chuyến bay và đặt lại vé.",
                    s = moment.duration(moment(new Date).diff(moment(i.getStartTransactionTime()))),
                    l = s.asMinutes();
                if (e && e.bookingNumber && (l < o || n)) return !0;
                var c = {
                    title: "Trang hết hiệu lực",
                    message: r
                };
                return null === m ? (m = t.open({
                    animation: !0,
                    templateUrl: "app/dialogs/timeout.dialog.html",
                    controller: "TimeoutDialogController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("login"), e.refresh()
                        }],
                        error: function() {
                            return c
                        }
                    }
                }), m.result.then(h, h), !1) : void 0
            }

            function p(e, a) {
                var n = "Giá các chuyến bay thường xuyên thay đổi. Quý khách vui lòng load lại trang để chắc chắn rằng giá bạn đang thấy là mới nhất.",
                    r = moment.duration(moment(new Date).diff(moment(i.getStartTransactionTime()))),
                    s = r.asMinutes();
                if (e && e.searchType && s < o) return !0;
                var l = {
                    title: "Trang hết hiệu lực",
                    message: n
                };
                return null === m ? (m = t.open({
                    animation: !0,
                    templateUrl: "app/dialogs/timeout.dialog.html",
                    controller: "TimeoutDialogController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("login"), e.refresh()
                        }],
                        error: function() {
                            return l
                        }
                    }
                }), m.result.then(h, h), !1) : void 0
            }

            function g(t) {
                if ("roundtrip" == t.searchType && moment(t.departureDate, "DD-MM-YYYY").diff(moment(t.returnDate, "DD-MM-YYYY")) > 0) return r.openAlertDialog({
                    title: "Error",
                    message: "Ngày Đến phải sau Ngày Khởi Hành."
                }), !1;
                if (t.toAirPort == t.fromAirPort) return r.openAlertDialog({
                    title: "Error",
                    message: "Điểm Khởi Hành và Điểm Đến phải khác nhau."
                }), !1;
                var a = !1;
                if (e.log("searchOptions.adultNo=" + t.adultNo), e.log("searchOptions.childrenNo=" + t.childrenNo), e.log("searchOptions.newBornNo=" + t.newBornNo), 1 == parseInt(t.adultNo) ? parseInt(t.childrenNo) <= 4 && parseInt(t.newBornNo) <= parseInt(t.adultNo) && (a = !0) : parseInt(t.adultNo) <= 9 && parseInt(t.childrenNo) + parseInt(t.adultNo) <= 9 && parseInt(t.newBornNo) <= parseInt(t.adultNo) && (a = !0), !a) return r.openAlertDialog({
                    title: "Error",
                    message: "Số hành khách không thoả mãn qui định đặt vé!"
                }), !1;
                var n = s.getVnAirports(),
                    i = !1,
                    o = !1;
                return angular.forEach(n, function(e) {
                    t.toAirPort == e.code && (i = !0)
                }), angular.forEach(n, function(e) {
                    t.fromAirPort == e.code && (o = !0)
                }), "international" != t.dtype || !i || !o || (r.openAlertDialog({
                    title: "Error",
                    message: "Bạn phải nhập điểm khởi hành hoặc điểm đến quốc tế."
                }), !1)
            }
            var u = {
                    checkSearchTimeout: p,
                    checkBookingTimeout: d,
                    validateFlightSearch: g,
                    isMobileDevice: l,
                    isIE: c
                },
                m = null,
                h = function() {
                    m = null
                };
            return u
        }
        angular.module("B2B2CGatewayApp").factory("ValidationUtils", e), e.$inject = ["$log", "$uibModal", "$translate", "$state", "DataService", "TRANS_TIME_OUT", "DialogService", "GlobalSrv"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(e, t) {
                if (isNaN(t)) return e;
                if (t <= 0) return "";
                if (e) {
                    var a = e.split(/\s+/);
                    a.length > t && (e = a.slice(0, t).join(" ") + "...")
                }
                return e
            }
            return t
        }
        angular.module("B2B2CGatewayApp").filter("words", e), e.$inject = ["$log"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(e, t, a) {
                if (isNaN(t)) return e;
                if (t <= 0) return "";
                if (e && e.length > t) {
                    if (e = e.substring(0, t), a)
                        for (;
                            " " === e.charAt(e.length - 1);) e = e.substr(0, e.length - 1);
                    else {
                        var n = e.lastIndexOf(" ");
                        n !== -1 && (e = e.substr(0, n))
                    }
                    return e + "..."
                }
                return e
            }
            return t
        }
        angular.module("B2B2CGatewayApp").filter("characters", e), e.$inject = ["$log"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(e, t, a, n) {
                t.bind("click", function() {
                    n.sort(a.jhSortBy)
                })
            }
            var a = {
                restrict: "A",
                scope: !1,
                require: "^jhSort",
                link: t
            };
            return a
        }
        angular.module("B2B2CGatewayApp").directive("jhSortBy", e), e.$inject = ["$log"]
    }(),
    function() {
        "use strict";

        function e(e) {
            var a = {
                restrict: "A",
                scope: {
                    predicate: "=jhSort",
                    ascending: "=",
                    callback: "&"
                },
                controller: t,
                controllerAs: "vm",
                bindToController: !0
            };
            return a
        }

        function t(e, t) {
            function a(e) {
                var t = e.find("span.glyphicon"),
                    a = "glyphicon-sort",
                    n = "glyphicon-sort-by-attributes",
                    i = "glyphicon-sort-by-attributes-alt",
                    o = a + " " + i,
                    s = n;
                r.ascending || (o = a + " " + n, s = i), r.resetClasses(), t.removeClass(o), t.addClass(s)
            }

            function n() {
                var e = t.find("span.glyphicon"),
                    a = "glyphicon-sort",
                    n = "glyphicon-sort-by-attributes",
                    i = "glyphicon-sort-by-attributes-alt";
                e.removeClass(n + " " + i), e.addClass(a)
            }

            function i(t) {
                t !== r.predicate ? r.ascending = !0 : r.ascending = !r.ascending, r.predicate = t, e.$apply(), r.callback()
            }

            function o(e) {
                r.resetClasses(), e && "_score" !== e[0] && r.applyClass(t.find("th[jh-sort-by='" + e[0] + "']"))
            }
            var r = this;
            r.applyClass = a, r.resetClasses = n, r.sort = i, r.triggerApply = o, e.$watchGroup(["vm.predicate", "vm.ascending"], r.triggerApply), r.triggerApply()
        }
        angular.module("B2B2CGatewayApp").directive("jhSort", e), e.$inject = ["$log"], t.$inject = ["$scope", "$element"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(e, t) {
                return e + "?" + a(t)
            }
            var i = {
                buildUrl: n
            };
            return i
        }
        angular.module("B2B2CGatewayApp").factory("RequestUtils", e), e.$inject = ["$log", "$filter", "$httpParamSerializer"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e) {
                var t = 0;
                return e && angular.forEach(e.groupPricedItineraries, function(e) {
                    t += e.pricedItineraries[0].airItineraryPricingInfo.itinTotalFare.totalFare.amount
                }), t
            }

            function n(a) {
                var n = 0;
                return e.log("PricingUtils.getHotelTotalPricing: bookingModel="), e.log(a), a && (n = t("bookingPriceInfo")(a, "total_price")), n
            }
            var i = {
                getTotalPricing: a,
                getHotelTotalPricing: n
            };
            return i
        }
        angular.module("B2B2CGatewayApp").factory("PricingUtils", e), e.$inject = ["$log", "$filter"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(e) {
                if (e && 0 === e.length) throw new Error("input must not be of zero length");
                if (e && e.length > 0) {
                    var t = e.split(","),
                        a = {};
                    return angular.forEach(t, function(e) {
                        var t = e.split(">;");
                        if (2 !== t.length) throw new Error('section could not be split on ">;"');
                        var n = t[0].replace(/<(.*)/, "$1").trim(),
                            i = {};
                        n.replace(new RegExp("([^?=&]+)(=([^&]*))?", "g"), function(e, t, a, n) {
                            i[t] = n
                        });
                        var o = i.page;
                        angular.isString(o) && (o = parseInt(o));
                        var r = t[1].replace(/rel="(.*)"/, "$1").trim();
                        a[r] = o
                    }), a
                }
            }
            var a = {
                parse: t
            };
            return a
        }
        angular.module("B2B2CGatewayApp").factory("ParseLinks", e), e.$inject = ["$log"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(e) {
                var t = e.split(",");
                return !(t.length > 1) || "asc" === e.split(",").slice(-1)[0]
            }

            function a(e) {
                return parseInt(e)
            }

            function n(e) {
                var t = e.split(",");
                return t.length > 1 && t.pop(), t.join(",")
            }

            function i(t) {
                return e.log(t.pageNumber + ":" + t.nextPageNumber), t.nextPageNumber == -1
            }
            var o = {
                parseAscending: t,
                parsePage: a,
                parsePredicate: n,
                isLastPage: i
            };
            return o
        }
        angular.module("B2B2CGatewayApp").factory("PaginationUtil", e), e.$inject = ["$log"]
    }(),
    function() {
        "use strict";
        var e = {
            template: '<div class="info" data-translate="global.item-count" translate-value-first="{{(($ctrl.page - 1) * $ctrl.itemsPerPage) == 0 ? 1 : (($ctrl.page - 1) * $ctrl.itemsPerPage + 1)}}" translate-value-second="{{($ctrl.page * $ctrl.itemsPerPage) < $ctrl.queryCount ? ($ctrl.page * $ctrl.itemsPerPage) : $ctrl.queryCount}}" translate-value-total="{{$ctrl.queryCount}}">Showing {{(($ctrl.page - 1) * $ctrl.itemsPerPage) == 0 ? 1 : (($ctrl.page - 1) * $ctrl.itemsPerPage + 1)}} - {{($ctrl.page * $ctrl.itemsPerPage) < $ctrl.queryCount ? ($ctrl.page * $ctrl.itemsPerPage) : $ctrl.queryCount}} of {{$ctrl.queryCount}} items.</div>',
            bindings: {
                page: "<",
                queryCount: "<total",
                itemsPerPage: "<"
            }
        };
        angular.module("B2B2CGatewayApp").component("jhiItemCount", e)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            function l(e) {
                var t = {};
                if (t.returnBookingModel = {}, t.searchOptions = {}, e && e.bookingInfo) {
                    t.bjson = e, t.bookingModel = e.bookingInfo;
                    var a = e,
                        n = [];
                    a.bookingInfo && a.bookingInfo.contactInfos && angular.forEach(a.bookingInfo.contactInfos, function(e, t) {
                        var a = e;
                        n.push({
                            ciGender: a.gender,
                            ciEmail: a.email,
                            ciName: a.surName,
                            ciFName: a.firstName,
                            ciMobileCode: a.phoneCode1,
                            ciMobile: a.phoneNumber1
                        })
                    }), a.contacts = n;
                    var i = [];
                    a.travelerInfo && a.travelerInfo.airTravelers && angular.forEach(a.travelerInfo.airTravelers, function(e, t) {
                        var a = e,
                            n = {
                                cuPp: "Passport",
                                cuId: a.passport.passportNumber,
                                cuExpiredDate: a.passport.expiryDate,
                                cuNationality: a.passport.country,
                                type: a.passengerType,
                                cuName: a.passengerName.firstName,
                                cuFamilyName: a.passengerName.lastName,
                                cuGender: a.passengerName.title,
                                cuDob: a.dateOfBirth,
                                cuCardType: a.frequentFlyerType,
                                cuCardNo: a.frequentFlyerNumber,
                                ssrRequest: a.specialServiceRequest
                            };
                        a.specialServiceRequest && a.specialServiceRequest.ssrItems && (n.departServiceRequests = [], n.returnServiceRequests = [], angular.forEach(a.specialServiceRequest.ssrItems, function(e) {
                            if ("DEPARTURE" == e.direction) {
                                var t = e;
                                n.departServiceRequests.push(t)
                            } else if ("RETURN" == e.direction) {
                                var t = e;
                                n.returnServiceRequests.push(t)
                            }
                        })), i.push(n)
                    }), a.customers = i, a.biCompany = t.bookingModel.taxCompanyName, a.biMst = t.bookingModel.taxNumber, a.biMobile = t.bookingModel.taxAddress2, a.biAddress = t.bookingModel.taxAddress1, a.departPricedItinerary = a.groupPricedItineraries[0].pricedItineraries[0], a.departGroupItem = a.groupPricedItineraries[0], t.searchOptions.searchType = "oneway", a.groupPricedItineraries && a.groupPricedItineraries[1] ? (a.returnGroupItem = a.groupPricedItineraries[1], a.returnPricedItinerary = a.groupPricedItineraries[1].pricedItineraries[0], t.searchOptions.searchType = "roundtrip") : "RETURN" == a.groupPricedItineraries[0].pricedItineraries[0].directionInd && (a.returnGroupItem = a.groupPricedItineraries[0], a.returnPricedItinerary = a.groupPricedItineraries[0].pricedItineraries[0], t.searchOptions.searchType = "roundtrip"), "INTERNATIONAL" == a.departGroupItem.flightType ? (t.searchOptions.dtype = "international", t.flightModel = {}, t.bookingModel.checkIn = new Date(a.departPricedItinerary.originDestinationOptions[0].originDateTime), t.bookingModel.checkOut = new Date(a.departPricedItinerary.originDestinationOptions[0].destinationDateTime), t.bookingModel.noOfTransit = a.departPricedItinerary.originDestinationOptions[0].flightSegments.length, t.bookingModel.supplierName = a.departGroupItem.airlineName, t.bookingModel.airline = a.departGroupItem.airline, t.bookingModel.carrierNo = a.departGroupItem.fightNo, t.bookingModel.originLocationCode = a.departGroupItem.originLocationCode, t.bookingModel.destinationLocationCode = a.departGroupItem.destinationLocationCode, t.bookingModel.duration = a.departPricedItinerary.originDestinationOptions[0].journeyDuration, t.bookingModel.supplierCode = a.departPricedItinerary.airItineraryPricingInfo.fareSourceCode, t.bookingModel.cabinClassName = a.departPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName, t.bookingModel.flightIdx = 1, t.bookingModel.searchType = t.searchOptions.searchType, t.bookingModel.booking = {}, t.bookingModel.pricedItinerary = a.departPricedItinerary, t.bookingModel.flightSegments = a.departPricedItinerary.originDestinationOptions[0].flightSegments, a.returnPricedItinerary && a.returnGroupItem && (t.returnBookingModel.bookingNumber = t.bookingModel.bookingNumber, t.returnBookingModel.checkIn = new Date(a.returnPricedItinerary.originDestinationOptions[1].originDateTime), t.returnBookingModel.checkOut = new Date(a.returnPricedItinerary.originDestinationOptions[1].destinationDateTime), t.returnBookingModel.noOfTransit = a.returnPricedItinerary.originDestinationOptions[1].flightSegments.length, t.returnBookingModel.supplierName = a.returnGroupItem.airlineName, t.returnBookingModel.airline = a.returnGroupItem.airline, t.returnBookingModel.carrierNo = a.returnGroupItem.fightNo, t.returnBookingModel.originLocationCode = a.returnPricedItinerary.originDestinationOptions[1].originLocationCode, t.returnBookingModel.destinationLocationCode = a.returnPricedItinerary.originDestinationOptions[1].destinationLocationCode, t.returnBookingModel.duration = a.returnPricedItinerary.originDestinationOptions[1].journeyDuration, t.returnBookingModel.supplierCode = a.returnPricedItinerary.airItineraryPricingInfo.fareSourceCode, t.returnBookingModel.cabinClassName = a.returnPricedItinerary.originDestinationOptions[1].flightSegments[0].cabinClassName, t.returnBookingModel.flightIdx = 2, t.returnBookingModel.searchType = t.searchOptions.searchType, t.returnBookingModel.booking = {}, t.returnBookingModel.pricedItinerary = a.returnPricedItinerary, t.returnBookingModel.flightSegments = a.returnPricedItinerary.originDestinationOptions[1].flightSegments, t.returnBookingModel.passengerNameRecords = t.bookingModel.passengerNameRecords)) : (t.searchOptions.dtype = "domestic", t.bookingModel.checkIn = new Date(a.departPricedItinerary.originDestinationOptions[0].originDateTime), t.bookingModel.checkOut = new Date(a.departPricedItinerary.originDestinationOptions[0].destinationDateTime), t.bookingModel.noOfTransit = 1, t.bookingModel.supplierName = a.departGroupItem.airlineName, t.bookingModel.airline = a.departGroupItem.airline, t.bookingModel.carrierNo = a.departGroupItem.fightNo, t.bookingModel.originLocationCode = a.departGroupItem.originLocationCode, t.bookingModel.destinationLocationCode = a.departGroupItem.destinationLocationCode, t.bookingModel.duration = a.departPricedItinerary.originDestinationOptions[0].journeyDuration, t.bookingModel.supplierCode = a.departPricedItinerary.airItineraryPricingInfo.fareSourceCode, t.bookingModel.cabinClassName = a.departPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName, t.bookingModel.flightIdx = 1, t.bookingModel.searchType = t.searchOptions.searchType, t.bookingModel.booking = {}, t.bookingModel.pricedItinerary = a.departPricedItinerary, t.bookingModel.flightSegments = a.departPricedItinerary.originDestinationOptions[0].flightSegments, a.returnPricedItinerary && a.returnGroupItem && (t.returnBookingModel.bookingNumber = t.bookingModel.bookingNumber, t.returnBookingModel.checkIn = new Date(a.returnPricedItinerary.originDestinationOptions[0].originDateTime), t.returnBookingModel.checkOut = new Date(a.returnPricedItinerary.originDestinationOptions[0].destinationDateTime), t.returnBookingModel.noOfTransit = 1, t.returnBookingModel.supplierName = a.returnGroupItem.airlineName, t.returnBookingModel.airline = a.returnGroupItem.airline, t.returnBookingModel.carrierNo = a.returnGroupItem.fightNo, t.returnBookingModel.originLocationCode = a.returnGroupItem.originLocationCode, t.returnBookingModel.destinationLocationCode = a.returnGroupItem.destinationLocationCode, t.returnBookingModel.duration = a.returnPricedItinerary.originDestinationOptions[0].journeyDuration, t.returnBookingModel.supplierCode = a.returnPricedItinerary.airItineraryPricingInfo.fareSourceCode, t.returnBookingModel.cabinClassName = a.returnPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName, t.returnBookingModel.flightIdx = 2, t.returnBookingModel.searchType = t.searchOptions.searchType, t.returnBookingModel.booking = {}, t.returnBookingModel.pricedItinerary = a.returnPricedItinerary, t.returnBookingModel.flightSegments = a.returnPricedItinerary.originDestinationOptions[0].flightSegments, t.returnBookingModel.passengerNameRecords = t.bookingModel.passengerNameRecords)), t.orgBookingModel = a;
                    var o = t.orgBookingModel.departPricedItinerary.airItineraryPricingInfo.itinTotalFare,
                        r = {};
                    return t.orgBookingModel.returnPricedItinerary && t.orgBookingModel.returnPricedItinerary.airItineraryPricingInfo && (r = t.orgBookingModel.returnPricedItinerary.airItineraryPricingInfo.itinTotalFare), t.orgBookingModel.departItinTotalFare = o, t.orgBookingModel.returnItinTotalFare = r, t.orgBookingModel.isPerBookingType = t.bjson.isPerBookingType, t
                }
            }
            var c = {
                convertBookingToVM: l
            };
            return c
        }
        angular.module("B2B2CGatewayApp").factory("FlightUtils", e), e.$inject = ["$log", "$uibModal", "$translate", "$state", "DataService", "TRANS_TIME_OUT", "DialogService", "GlobalSrv"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e) {
                return e ? new Date(e) : null
            }

            function n(e) {
                if (e) {
                    var t = e.split("-");
                    return new Date(t[0], t[1] - 1, t[2])
                }
                return null
            }

            function i(e) {
                return e ? t("date")(e, "yyyy-MM-dd") : null
            }

            function o(e) {
                return moment(e, "DD-MM-YYYY").format("YYYY-MM-DD") + "T00:00:00.000Z"
            }

            function r(e) {
                return moment(e).format("DD-MM-YYYY")
            }

            function s() {
                return "yyyy-MM-dd"
            }

            function l(e, t) {
                var a = new Date(e),
                    n = new Date(t);
                return n - a
            }

            function c(e) {
                var t = new Date;
                return t.setDate(t.getDate() - e), t
            }

            function d(e, t) {
                var a = moment.utc(e);
                return a.subtract(t, "days")
            }

            function p(e) {
                return moment(c(e)).format("YYYY-MM-DD")
            }

            function g(e, t) {
                return d(e, t).format("YYYY-MM-DD")
            }

            function u(e) {
                var t = moment.utc(new Date);
                return e >= 0 ? moment(t.subtract(e, "years")).format("YYYY-MM-DD") : moment(t.add(-e, "years")).format("YYYY-MM-DD")
            }

            function m(e, t) {
                var a = moment.utc(e);
                return t >= 0 ? moment(a.subtract(t, "years")).format("YYYY-MM-DD") : moment(a.add(-t, "years")).format("YYYY-MM-DD")
            }

            function h(e, t) {
                var a = moment.utc(e);
                return t >= 0 ? moment(a.subtract(t, "months")).format("YYYY-MM-DD") : moment(a.add(-t, "months")).format("YYYY-MM-DD")
            }

            function v(e, t, a) {
                var n = moment.utc(e);
                return t >= 0 ? moment(n.subtract(t, "years").add(a, "days")).format("YYYY-MM-DD") : moment(n.add(-t, "years").add(a, "days")).format("YYYY-MM-DD")
            }

            function f(e, t, a) {
                var n = moment.utc(e);
                return t >= 0 ? moment(n.subtract(t, "years").subtract(a, "days")).format("YYYY-MM-DD") : moment(n.add(-t, "years").subtract(a, "days")).format("YYYY-MM-DD")
            }

            function b(e, t, a) {
                var n = moment.utc(e);
                return t >= 0 ? moment(n.subtract(t, "months").add(a, "days")).format("YYYY-MM-DD") : moment(n.add(-t, "months").add(a, "days")).format("YYYY-MM-DD")
            }
            var y = {
                convertDateTimeFromServer: a,
                convertLocalDateFromServer: n,
                convertLocalDateToServer: i,
                convertZoneDateToServer: o,
                convertZoneDateFromServer: r,
                dateformat: s,
                getDayAgo: c,
                getDayAgoInDefaultFormat: p,
                getDayAgoFromBaseInDefaultFormat: g,
                getYearAgoFromBasePlusDaysInDefaultFormat: v,
                getYearAgoFromBaseMinusDaysInDefaultFormat: f,
                getYearAgoInDefaultFormat: u,
                getYearAgoFromBaseInDefaultFormat: m,
                getMonthAgoFromBaseInDefaultFormat: h,
                getMonthAgoFromBasePlusDaysInDefaultFormat: b,
                timeDiff: l
            };
            return y
        }
        angular.module("B2B2CGatewayApp").factory("DateUtils", e), e.$inject = ["$log", "$filter"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(e) {
                return angular.isString(e) ? e.length < 30 ? e : e ? e.substring(0, 15) + "..." + e.slice(-10) : "" : ""
            }

            function i(e) {
                function t(e, t) {
                    return t.indexOf(e, t.length - e.length) !== -1
                }

                function a(e) {
                    return t("==", e) ? 2 : t("=", e) ? 1 : 0
                }

                function n(e) {
                    return e.length / 4 * 3 - a(e)
                }

                function i(e) {
                    return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ") + " bytes"
                }
                return angular.isString(e) ? i(n(e)) : ""
            }

            function o(e, a) {
                t.open("data:" + e + ";base64," + a, "_blank", "height=300,width=400")
            }

            function r(t) {
                try {
                    var n = angular.element("#token_key");
                    n[0].value = a.getToken();
                    var i = angular.element("#newibe_open_window_form");
                    i[0].action = t, i[0].submit()
                } catch (t) {
                    e.log("-----ibeOpenWindow=" + t)
                }
            }

            function s(e, t) {
                var a = new FileReader;
                a.readAsDataURL(e), a.onload = function(e) {
                    var a = e.target.result.substr(e.target.result.indexOf("base64,") + "base64,".length);
                    t(a)
                }
            }
            var l = {
                abbreviate: n,
                byteSize: i,
                openFile: o,
                toBase64: s,
                ibeOpenWindow: r
            };
            return l
        }
        angular.module("B2B2CGatewayApp").factory("DataUtils", e), e.$inject = ["$log", "$window", "AuthServerProvider"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(e) {
                return e ? e.split(" ").map(function(e) {
                    return e.charAt(0).toUpperCase() + e.substr(1).toLowerCase()
                }).join(" ") : ""
            }
            return t
        }
        angular.module("B2B2CGatewayApp").filter("capitalize", e), e.$inject = ["$log"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(e) {
                return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g, function(e, t) {
                    return String.fromCharCode("0x" + t)
                }))
            }

            function a(a) {
                try {
                    return t(JSON.stringify(a))
                } catch (t) {
                    e.log("encodeJson - err: " + t)
                }
                return ""
            }

            function n(a) {
                try {
                    return t(a)
                } catch (t) {
                    e.log("encodeString - err: " + t)
                }
                return ""
            }

            function i(e) {
                return decodeURIComponent(atob(e).split("").map(function(e) {
                    return "%" + ("00" + e.charCodeAt(0).toString(16)).slice(-2)
                }).join(""))
            }

            function o(t) {
                try {
                    return JSON.parse(i(t))
                } catch (t) {
                    e.log("decodeJson - err: " + t)
                }
                return {}
            }

            function r(t) {
                try {
                    return i(t)
                } catch (t) {
                    e.log("decodeString - err: " + t)
                }
                return ""
            }
            var s = {
                decode: i,
                decodeJson: o,
                decodeString: r,
                encode: t,
                encodeJson: a,
                encodeString: n
            };
            return s
        }
        angular.module("B2B2CGatewayApp").factory("Base64", e), e.$inject = ["$log"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l) {
            function c(e, t, a) {
                var n = document.createElement("canvas"),
                    i = n.getContext("2d");
                return n.width = t, n.height = a, i.drawImage(e, 0, 0, t, a), n.toDataURL()
            }
            var d = this,
                p = null,
                g = function() {
                    p = null
                };
            e.log("$ctrl.profileModel.mode=" + d.profileModel.mode), e.log("$ctrl.profileModel.socialUser=" + d.profileModel.socialUser), d.allCountries = o.getAllCountries(), d.allLookups = o.getAllLookups(), d.titleLookups = [], d.allCountries != [] && 0 != d.allCountries.length || i.getCountries().then(function(e) {
                d.allCountries = e
            }), d.allLookups != [] && 0 != d.allLookups.length || i.searchLookups("", "", !0).then(function(e) {
                d.allLookups = e
            }), $("#button").click(function() {
                $("html, body").animate({
                    scrollTop: $("#action-bar-mobile").offset().top
                }, 1e3)
            }), i.searchLookups("ota_customer", "passenger_gender").then(function(e) {
                d.titleLookups = [], angular.forEach(e, function(e) {
                    "traveller" != d.profileModel.type ? "MALE" != e.lookupValue && "FEMALE" != e.lookupValue || d.titleLookups.push(e) : d.titleLookups.push(e)
                })
            }), d.edit = function() {
                d.profileModel.mode = "edit"
            }, d.validAvatar = 0, d.selectImage = function() {
                var e = document.getElementById("fileAvatar");
                e.click()
            }, d.setAvatar = function(e) {
                var t = new FileReader;
                t.onload = d.imageIsLoaded, t.readAsDataURL(e)
            }, d.imageIsLoaded = function(e) {
                t.$apply(function() {
                    var a = new Image;
                    a.src = e.target.result, d.profileModel.avatar || (d.profileModel.avatar = {
                        avatarImage: "",
                        avatarImageContentType: "",
                        profileId: d.shortProfile.id,
                        inUsed: !0
                    }), a.onload = function() {
                        if (this.width > s) {
                            var e = c(this, s, l).split("data:image/png;base64,")[1];
                            t.$apply(function() {
                                d.profileModel.avatar.avatarImage = e, d.profileModel.avatar.avatarImageContentType = "image/png", d.profileModel.avatar.profileId = d.shortProfile.id, d.profileModel.avatar.inUsed = !0
                            })
                        }
                    }
                })
            }, d.addPhoneNumber = function() {
                if (d.profileModel.phoneNumbers.length >= 5) {
                    var e = {
                        title: "Error",
                        message: "Bạn không được nhập quá 5 số điện thoại!"
                    };
                    return void r.openAlertDialog(e)
                }
                d.profileModel.phoneNumbers.push({
                    text: ""
                })
            }, d.removePhoneNumber = function(e) {
                d.profileModel.phoneNumbers.splice(e, 1)
            }, d.changePass = function() {
                null === p && (p = n.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/account/password/password.dialog.html",
                    controller: "PasswordDialogController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("global"), e.refresh()
                        }]
                    }
                }), p.result.then(g, g))
            }
        }
        e.$inject = ["$log", "$scope", "$cookies", "$uibModal", "MetaData", "GlobalSrv", "DialogService", "LIMIT_WIDTH", "LIMIT_HEIGHT"];
        var t = {
            require: {
                form: "^^form"
            },
            templateUrl: "app/components/profile/profile-user-info.html",
            controller: e,
            bindings: {
                profileModel: "=",
                shortProfile: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdProfileUserInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            var o = this;
            o.$state = a, e.log("++++++ gtdProfileMenuController - profileModel"), e.log("data=" + o.profileModel), n.identity().then(function(t) {
                o.identity = t, e.log("+++++ gtdProfileMenuController - vm.identity = " + t)
            }), o.initControl = function() {
                $(".nav-tabs a").click(function(e) {
                    e.preventDefault(), $(this).tab("show")
                })
            }, o.initControl()
        }
        e.$inject = ["$log", "$scope", "$state", "Principal", "MetaData"];
        var t = {
            templateUrl: "app/components/profile/profile-menu.html",
            controller: e,
            bindings: {
                profileModel: "="
            },
            resolve: {
                translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                    return t.addPart("global"), e.refresh()
                }]
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdProfileMenu", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            var n = this;
            n.edit = function() {
                n.profileModel.mode = "edit"
            }
        }
        e.$inject = ["$log", "$scope", "MetaData"];
        var t = {
            require: {
                form: "^^form"
            },
            templateUrl: "app/components/profile/profile-invoice-info.html",
            controller: e,
            bindings: {
                profileModel: "=",
                shortProfile: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdProfileInvoiceInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            var r = this;
            r.cardTypeLookups = [], r.passportTypeLookups = [], r.allCountries = n.getAllCountries(), a.searchLookups("air_member_card", "").then(function(e) {
                r.cardTypeLookups = e
            }), a.searchLookups("ota_customer", "passport_type").then(function(e) {
                r.passportTypeLookups = [], angular.forEach(e, function(e) {
                    "PP" == e.lookupValue && r.passportTypeLookups.push(e)
                })
            }), r.edit = function() {
                r.profileModel.mode = "edit"
            }, r.addMoreCard = function(e) {
                r.profileModel.editMemberCards.push({
                    cardType: "",
                    cardNumber: ""
                })
            }, r.removeCard = function(e) {
                null === s && (s = o.open({
                    animation: !0,
                    scope: t,
                    backdrop: "static",
                    templateUrl: "app/account/profile/profile.membercard.delete.html",
                    controller: "ProfileMemberCardDeleteController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("global"), e.refresh()
                        }],
                        profileModel: function() {
                            return r.profileModel
                        },
                        item: function() {
                            return e
                        }
                    }
                }), s.result.then(l, l))
            };
            var s = null,
                l = function() {
                    s = null
                };
            r.removeEditMemberCards = function(e) {
                r.profileModel.editMemberCards.splice(e, 1)
            }
        }
        e.$inject = ["$log", "$scope", "MetaData", "GlobalSrv", "DialogService", "$uibModal"];
        var t = {
            require: {
                form: "^^form"
            },
            templateUrl: "app/components/profile/profile-doc-info.html",
            controller: e,
            bindings: {
                profileModel: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdProfileDocInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            function o() {
                null === l && (l = t.open({
                    animation: !0,
                    templateUrl: "app/components/login/login.html",
                    controller: "LoginController",
                    windowClass: "login-modal-window",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("login"), e.refresh()
                        }]
                    }
                }), l.result.then(c, c))
            }

            function r() {
                var t = a.getToken();
                e.log(t), t ? n.identity(!0).then(function() {
                    var e = n.isAuthenticated();
                    e ? i.$broadcast("authenticationSuccess") : o()
                }) : o()
            }
            var s = {
                    open: r
                },
                l = null,
                c = function() {
                    l = null
                };
            return s
        }
        angular.module("B2B2CGatewayApp").factory("LoginService", e), e.$inject = ["$log", "$uibModal", "AuthServerProvider", "Principal", "$rootScope"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r) {
            function s() {
                p.credentials = {
                    username: null,
                    password: null,
                    rememberMe: !0
                }, p.authenticationError = !1, o.dismiss("cancel")
            }

            function l(e) {
                e.preventDefault(), i.login({
                    username: p.username,
                    password: p.password,
                    rememberMe: p.rememberMe
                }).then(function() {
                    if (p.authenticationError = !1, o.close(), "register" !== a.current.name && "activate" !== a.current.name && "finishReset" !== a.current.name && "requestReset" !== a.current.name || a.go("home"), t.$broadcast("authenticationSuccess"), i.getPreviousState()) {
                        var e = i.getPreviousState();
                        i.resetPreviousState(), a.go(e.name, e.params)
                    }
                }).catch(function() {
                    p.authenticationError = !0
                })
            }

            function c() {
                o.dismiss("cancel"), r.open()
            }

            function d() {
                o.dismiss("cancel"), a.go("requestReset")
            }
            var p = this;
            p.authenticationError = !1, p.cancel = s, p.credentials = {}, p.login = l, p.password = null, p.register = c, p.rememberMe = !0, p.requestResetPassword = d, p.username = null, p.language = "vi", p.parent = o, n(function() {
                angular.element("#username").focus()
            })
        }
        angular.module("B2B2CGatewayApp").controller("LoginController", e), e.$inject = ["$log", "$rootScope", "$state", "$timeout", "Auth", "$uibModalInstance", "RegisterService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            function i() {
                var t = e.defer();
                return t.resolve(n), t.promise
            }

            function o() {
                var t = e.defer(),
                    n = a.storage().get("NG_TRANSLATE_LANG_KEY");
                return t.resolve(n), t.promise
            }
            var r = {
                getAll: i,
                getCurrent: o
            };
            return r
        }
        angular.module("B2B2CGatewayApp").factory("OtaLanguageService", e), e.$inject = ["$q", "$http", "$translate", "LANGUAGES"]
    }(),
    function() {
        "use strict";

        function e() {
            function e(e) {
                return a[e].name
            }
            return e
        }

        function t() {
            function e(e) {
                return a[e].rtl
            }
            return e
        }
        angular.module("B2B2CGatewayApp").filter("findLanguageFromKey", e).filter("findLanguageRtlFromKey", t);
        var a = {
            en: {
                name: "English"
            },
            vi: {
                name: "Tiếng Việt"
            }
        }
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(t) {
                e.use(t), a.set(t)
            }
            var i = this;
            i.changeLanguage = n, i.languages = null, t.getAll().then(function(e) {
                i.languages = e
            })
        }
        angular.module("B2B2CGatewayApp").controller("OtaLanguageController", e), e.$inject = ["$translate", "OtaLanguageService", "tmhDynamicLocale"]
    }(),
    function() {
        "use strict";
        angular.module("B2B2CGatewayApp").constant("LANGUAGES", ["vi", "en"])
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r) {
            var s = this,
                l = null,
                c = function() {
                    l = null
                };
            s.bookingClicked = function(e) {
                r.setSelectedHotel(e), a.go("hotel-detail")
            }, s.openFullMap = function() {
                null === l && (l = n.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/components/hotel/hotel-detail-map-full.html",
                    controller: "HotelDetailMapFullController",
                    controllerAs: "vm",
                    windowClass: "hotel-detail-map-full-window",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), t.addPart("hotel"), e.refresh()
                        }]
                    }
                }), l.result.then(c, c))
            }
        }
        e.$inject = ["$log", "$scope", "$state", "$uibModal", "MetaData", "Hotel", "DataService"];
        var t = {
            templateUrl: "app/components/hotel/hotel-search-result-cell-2.html",
            controller: e,
            bindings: {
                searchResult: "=",
                searchOptions: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelSearchResultCell2", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g) {
            function u() {
                h.modalInstance = null
            }

            function m() {
                null === h.modalInstance && (s.setHotelSearchOptions(h.searchOptions), h.modalInstance = n.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/components/hotel/hotel-place-around.html",
                    controller: "HotelPlaceAroundController",
                    controllerAs: "vm",
                    windowClass: "hotel-detail-map-full-window",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), t.addPart("hotel"), e.refresh()
                        }],
                        selectedHotel: function() {
                            return h.item
                        }
                    }
                }), h.modalInstance.result.then(h.resetModal, h.resetModal))
            }
            var h = this;
            h.resetModal = u, h.modalInstance = null, h.openMapPlaceAround = m, o.getFacilities(h.item), localStorage.setItem("ctrl.item.supplierSessionId", h.item.supplierSessionId), h.item && h.item.products[0] && h.item.products[0].promo && h.item.products[0].promoDescription && (h.item.products[0].promoPercen = h.item.products[0].promoDescription.match(new RegExp("\\d+%", "g"))), h.getFacility = function(e) {
                return o.getFacilityClass(e)
            }, h.bookingClicked = function(e) {
                p.goToDetail(e)
            }
        }
        e.$inject = ["$log", "$scope", "$state", "$uibModal", "MetaData", "HotelUtils", "Hotel", "DataService", "GlobalSrv", "DialogService", "Base64", "GtdHotelService", "$window"];
        var t = {
            templateUrl: "app/components/hotel/hotel-search-result-cell.html",
            controller: e,
            bindings: {
                item: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelSearchResultCell", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            var i = this;
            i.hotelStates = a.getStates(), i.selectedDestination = a.getSelectedDestination();
            var o = null,
                r = function() {
                    o = null
                };
            i.searchOptions = a.getSearchOptions(), i.paxSummary = a.getPaxSummary(), angular.forEach(i.searchResult.hotels, function(e) {
                e.hotelMeta && (e.hotelContent = e.hotelMeta)
            }), i.listener = t.$on(n, function(e, t) {
                if (t) switch (t.state) {
                    case i.hotelStates.HOTEL_ADVANCE_SEARCH_CHANGED:
                        i.searchOptions = a.getSearchOptions()
                }
            }), i.openFullMap = function() {
                null === o && (o = e.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/components/hotel/hotel-detail-map-full.html",
                    controller: "HotelDetailMapFullController",
                    controllerAs: "vm",
                    windowClass: "hotel-detail-map-full-window",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), t.addPart("hotel"), e.refresh()
                        }]
                    }
                }), o.result.then(r, r))
            }
        }
        e.$inject = ["$uibModal", "$rootScope", "GtdHotelService", "HOTEL_STATES"];
        var t = {
            templateUrl: "app/components/hotel/hotel-search-result.html",
            controller: e,
            bindings: {
                searchResult: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelSearchResult", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p) {
            var g = this,
                u = null,
                m = function() {
                    u = null
                };
            g.searchOptions || (g.searchOptions = {}, g.searchOptions.size = d, g.searchOptions.page = 0, g.searchOptions.adultNo = 1, g.searchOptions.pax = [{
                adultNo: 2,
                childrenNo: 0,
                paxDetails: []
            }]), g.getAdultNumberFromSo = function() {
                return p.getAdultNumberFromSo(g.searchOptions)
            }, g.getChildrenNumberFromSo = function() {
                return p.getChildrenNumberFromSo(g.searchOptions)
            };
            var h = null,
                v = function() {
                    h = null
                };
            g.openChooseRoomDetail = function() {
                null === h && (h = a.open({
                    animation: !0,
                    backdrop: !0,
                    templateUrl: "app/hotels/hotel.chooseroom.html",
                    controller: "HotelChooseroomController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("hotel"), t.addPart("flight"), e.refresh()
                        }],
                        searchOptions: function() {
                            return g.searchOptions
                        }
                    }
                }), h.result.then(v, v))
            }, g.searchDestinations = function(e) {
                return o.searchHotelMetaData(e)
            }, g.formatLabel = function(t) {
                var a = l.getLocalDestinations();
                for (var n in a)
                    if (a[n].code == t) return e.log("destination = "), e.log(a[n]), g.searchOptions.destinationType = a[n].type, g.searchOptions.destinationName = a[n].name.split(",")[0], a[n].name;
                return t
            }, g.doSearchImpl = function() {
                if (moment(g.searchOptions.checkindate, "DD-MM-YYYY").diff(moment(g.searchOptions.checkoutdate, "DD-MM-YYYY")) > 0) return void r.openAlertDialog({
                    title: "Error",
                    message: "Ngày Trả Phòng phải sau Ngày Nhận Phòng"
                });
                g.searchOptions.page = 0, g.searchOptions.size = d, this.open(), e.log("HotelHeaderDirectiveDoSearch: Search Options"), e.log(g.searchOptions), s.setHotelSavedSearchOption(jQuery.extend({}, g.searchOptions));
                var t = o.searchHotel(g.searchOptions);
                t.then(function(t) {
                    g.searchResult = t, g.searchOptions.searchId = t.searchId, e.log("Get result from hotel.search.service"), o.getAdvanceFilterOptions(g.searchOptions).then(function(e) {
                        g.searchOptions.advanceFilterOptions = e, s.setHotelSearchResult(g.searchResult), s.setHotelSearchOptions(g.searchOptions), g.doSearch({
                            $searchResult: g.searchResult,
                            $searchOptions: g.searchOptions
                        })
                    })
                }, function(e) {
                    r.openHttpAlertDilalog(e)
                })
            }, g.initControl = function() {}, g.open = function() {
                null === u && (u = a.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/hotels/search/hotel.search.loading.html",
                    controller: "HotelSearchLoadingController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("hotel"), t.addPart("flight"), e.refresh()
                        }],
                        searchOptions: function() {
                            return g.searchOptions
                        }
                    }
                }), u.result.then(m, m))
            }, g.$postLink = function() {
                c(function() {
                    g.initControl()
                }, 0), g.init && !g.searchCompleted && (e.log("+++++++++++++++ SEARCH AGAIN ++++++++++++++++"), e.log("ctrl.init:" + g.init + ", ctrl.searchCompleted:" + g.searchCompleted), g.doSearchImpl(), c(function() {
                    g.searchCompleted = !0
                }, 100))
            }, t.$on("gtd-hotel-reinit-search", function() {
                e.log("gtd-hotel-reinit-search"), g.doSearchImpl()
            })
        }
        e.$inject = ["$log", "$scope", "$uibModal", "$attrs", "MetaData", "Hotel", "DialogService", "DataService", "GlobalSrv", "$timeout", "DEFAULT_PAGE_SIZE", "HotelUtils"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            var n = this;
            n.popularPlaces = a.getPopularPlaces(), n.popularHotels = a.getPopularHotels(), n.popularHotels = a.getPopularHotels(), t.$on("$destroy", function() {
                n.popularPlaces = [], n.popularHotels = [], n.popularHotels = []
            })
        }
        var t = {
            templateUrl: "app/components/hotel/hotel-search-footer.html",
            controller: e
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelSearchFooter", t), e.$inject = ["$log", "$scope", "Hotel"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            var i = this,
                o = {
                    slidesToShow: 5,
                    slidesToScroll: 2,
                    infinite: !1,
                    responsive: [{
                        breakpoint: 1024,
                        settings: {
                            slidesToShow: 3,
                            slidesToScroll: 3
                        }
                    }, {
                        breakpoint: 600,
                        settings: {
                            slidesToShow: 2,
                            slidesToScroll: 2
                        }
                    }, {
                        breakpoint: 480,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1
                        }
                    }]
                };
            t.$on("ngRepeatDateOptionsFinished", function() {
                i.initControl()
            }), t.$on("gtd-hotel-search-date-paginator-init", function() {
                i.dateCarouselArrays = n.getDateAvailableOptions()
            }), i.initControl = function() {
                $(".hotel-search-paginator").slick("unslick"), $(".my-slide").remove(), $(".hotel-search-paginator").slick(o)
            }, $(".hotel-search-paginator").slick(o)
        }
        e.$inject = ["$log", "$scope", "MetaData", "Hotel"];
        var t = {
            templateUrl: "app/components/hotel/hotel-search-date-paginator.html",
            controller: e,
            bindings: {
                searchResult: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelSearchDatePaginator", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            function o() {
                m.hotelPriceArrays = i.getPriceOptions(), m.hotelRatingArrays = i.getStarRatingOptions();
                var o = n.getPagination();
                m.sort = o.sort, e.$watch(function() {
                    return m.sort
                }, function(e, t) {
                    e !== t && m.advanceSearch()
                }), m.listener = t.$on(a, function(e, t) {
                    if (t) switch (t.state) {
                        case m.hotelStates.HOTEL_ADVANCE_SEARCH_CHANGED:
                            m.resetFilter()
                    }
                })
            }

            function r() {
                p()
            }

            function s() {
                p()
            }

            function l() {
                p()
            }

            function c() {
                m.enableReset = !0
            }

            function d() {
                m.enableReset = !1
            }

            function p() {
                n.resetPage(), n.updateFilterAdvanceName(m.hotelName);
                var e = [];
                m.hotelPriceArrays.forEach(function(t) {
                    t.checked && e.push(t.from + ":" + t.to)
                }), n.updateFilterAdcancePrices(e);
                var t = [];
                m.hotelRatingArrays.forEach(function(e) {
                    e.checked && (t.push(e.text), e.text >= 1 && t.push(JSON.stringify(e.text - .5)))
                }), n.updateFilterAdcanceStarts(t), n.changeSort(m.sort), 0 === t.length && 0 === e.length && "" === m.hotelName.trim() ? d() : c(), n.smartSearch()
            }

            function g() {
                m.hotelPriceArrays.forEach(function(e) {
                    e.checked = !1
                }), m.hotelRatingArrays.forEach(function(e) {
                    e.checked = !1
                }), m.hotelName = "", m.sort = null
            }

            function u() {
                m.enableReset = !1, m.resetFilter(), m.advanceSearch()
            }
            var m = this;
            m.enableReset = !1, m.hotelPriceArrays = [], m.hotelRatingArrays = [], m.hotelName = "", m.sort = "", m.init = o, m.advanceSearch = p, m.resetFilter = g, m.resetClick = u, m.filterByName = r, m.filterByStar = s, m.filterByPrice = l, m.hotelStates = n.getStates(), m.init()
        }
        e.$inject = ["$scope", "$rootScope", "HOTEL_STATES", "GtdHotelService", "MetaData"];
        var t = {
            templateUrl: "app/components/hotel/hotel-search-adv.html",
            controller: e
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelSearchAdv", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c) {
            function d() {
                t.hideBodyScroll(), x.intMapInforWindow()
            }

            function p() {
                x.mouseoverInfoWindow = new google.maps.InfoWindow
            }

            function g() {
                x.makerDict = {}, x.hotelPosition = new google.maps.LatLng(c.hotelMeta.latitude, c.hotelMeta.longitude), x.map = new google.maps.Map(document.getElementById("gmap-full-zone"), {
                    center: x.hotelPosition,
                    zoom: 15,
                    gestureHandling: "greedy",
                    zoomControl: !1,
                    mapTypeControl: !1,
                    scaleControl: !1,
                    streetViewControl: !1,
                    rotateControl: !1,
                    fullscreenControl: !0
                });
                var e = new google.maps.Marker({
                    map: x.map,
                    icon: {
                        url: "/content/images/gtd-marker-9d5d946553.svg",
                        scaledSize: new google.maps.Size(48, 67.5)
                    },
                    optimized: !1,
                    title: c.hotelMeta.name,
                    position: {
                        lat: c.hotelMeta.latitude,
                        lng: c.hotelMeta.longitude
                    }
                });
                e.setAnimation(google.maps.Animation.BOUNCE), x.directionsService = new google.maps.DirectionsService, x.directionsDisplay = new google.maps.DirectionsRenderer, x.directionsDisplay.setMap(x.map), x.filterNearBy(x.filterOptions.restaurant)
            }

            function u(e, t) {
                x.directionsService.route({
                    origin: e,
                    destination: t,
                    travelMode: "DRIVING"
                }, function(e, t) {
                    "OK" === t ? (x.directionsDisplay.setDirections(e), x.selectedItemDistance = e.routes[0].legs[0].distance.text) : window.alert("Directions request failed due to " + t)
                })
            }

            function m(e) {
                var t = {
                    location: x.hotelPosition,
                    radius: "500",
                    query: e
                };
                x.selectedType = e, x.service = new google.maps.places.PlacesService(x.map), x.service.textSearch(t, h)
            }

            function h(t, a) {
                e(function() {
                    x.resultlst = t, console.log("RESULT"), console.log(x.resultlst)
                }, 0), x.clearMarkers(), f(t, x.selectedType)
            }

            function v() {
                Object.keys(x.makerDict).forEach(function(e) {
                    x.makerDict[e].setMap(null), delete x.makerDict[e]
                })
            }

            function f(e, t) {
                var a = new google.maps.LatLngBounds,
                    n = null;
                switch (t) {
                    case x.filterOptions.bar:
                        n = "/content/images/marker-maps-gtd-bar-42973502cb.svg";
                        break;
                    case x.filterOptions.restaurant:
                        n = "/content/images/marker-maps-gtd-restaurant-f8d095c7a6.svg";
                        break;
                    case x.filterOptions.coffee:
                        n = "/content/images/marker-maps-gtd-coffee-766024c852.svg";
                        break;
                    case x.filterOptions.groceries:
                        n = "/content/images/marker-maps-shop-5a32f409fe.svg";
                        break;
                    default:
                        n = null
                }
                for (var i, o = 0; i = e[o]; o++) {
                    var r = {
                            url: n ? n : i.icon,
                            scaledSize: new google.maps.Size(40, 40)
                        },
                        s = new google.maps.Marker({
                            map: x.map,
                            icon: r,
                            title: i.name,
                            position: i.geometry.location,
                            optimized: !1,
                            place_id: i.place_id
                        });
                    x.makerDict[i.place_id] = s, google.maps.event.addListener(s, "click", b.bind(void 0, s, o)), a.extend(i.geometry.location)
                }
                x.map.fitBounds(a)
            }

            function b(e, t) {
                x.markerClick(e.place_id)
            }

            function y(e) {
                var t = $("#hotel_template_hover").html();
                x.mouseoverInfoWindow.setContent(t), x.mouseoverInfoWindow.open(x.map, e)
            }

            function k() {
                x.mouseoverInfoWindow.close()
            }

            function w(e) {
                e.setAnimation(null)
            }

            function I(e) {
                e.setAnimation(google.maps.Animation.BOUNCE)
            }

            function M(e, t) {
                x.startMarkerBounce(x.makerDict[e.place_id])
            }

            function C(t) {
                e(function() {
                    var e = x.resultlst.findIndex(function(e) {
                        return e.place_id === t
                    });
                    O(x.resultlst[e], x.selectedType)
                }, 0)
            }

            function O(t, a) {
                x.displayDetail = !1, e.cancel(x.timer), x.timer = e(function() {
                    x.selectedPlaceType = a, x.displayDetail = !0, x.selectedPlace = t, x.selectedPlaceImage = t.photos[0].getUrl(), u(x.hotelPosition, x.selectedPlace.geometry.location)
                }, 500)
            }

            function P(e) {
                x.endMarkerBounce(x.makerDict[e.place_id])
            }

            function T() {
                x.displayDetail = !1, x.selectedPlace = null
            }

            function N() {
                return A(x.hotelPosition, x.selectedPlace.geometry.location)
            }
            var x = this;
            x.map, x.service, x.makerDict = {}, x.restaurantsLst = [], x.storesLst = [], x.resultlst = [], x.displayDetail = !1, x.filterOptions = {
                restaurant: "Restaurant",
                coffee: "Coffee",
                bar: "Bar",
                groceries: "Groceries"
            }, x.timer, x.selectedPlace = {}, x.selectedPlaceImage = "", x.initMap = g, x.intMapInforWindow = p, x.onInit = d, x.openMapInfoWindow = y, x.closeMapInfoWindow = k, x.startMarkerBounce = I, x.endMarkerBounce = w, x.onHoverHotelItem = M, x.outHoverHotelItem = P, x.calDistance = N, x.closeDetail = T, x.onClickHotelItem = O, x.filterNearBy = m, x.clearMarkers = v, x.markerClick = C, x.cancel = function() {
                t.showBodyScroll(), n.dismiss("cancel")
            }, x.close = function() {
                $("#hotel_template_click").hide()
            }, n.opened.then(function() {
                e(function() {
                    x.onInit(), x.initMap()
                }, 0)
            });
            var S = function(e) {
                    return e * Math.PI / 180
                },
                A = function(e, t) {
                    var a = 6378137,
                        n = S(t.lat() - e.lat()),
                        i = S(t.lng() - e.lng()),
                        o = Math.sin(n / 2) * Math.sin(n / 2) + Math.cos(S(e.lat())) * Math.cos(S(t.lat())) * Math.sin(i / 2) * Math.sin(i / 2),
                        r = 2 * Math.atan2(Math.sqrt(o), Math.sqrt(1 - o)),
                        s = a * r;
                    return s / 1e3
                }
        }
        angular.module("B2B2CGatewayApp").controller("HotelPlaceAroundController", e), e.$inject = ["$timeout", "UIService", "Auth", "$uibModalInstance", "DataService", "Hotel", "DialogService", "Base64", "GtdHotelService", "selectedHotel"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            function o() {
                return Array.apply(null, {
                    length: g.currentPagination.totalPages
                }).map(Number.call, Number)
            }

            function r(e) {
                n.chageSmartSearchPage(e), n.smartSearch()
            }

            function s(e) {
                g.currentpage = e, 0 === e ? g.disablePrevious = !0 : (g.siblingPage = e - 1, g.disablePrevious = !1), e === g.currentPagination.totalPages - 1 ? g.disableNext = !0 : g.disableNext = !1
            }

            function l() {
                n.chageSmartSearchPage(0), n.smartSearch()
            }

            function c() {
                n.chageSmartSearchPage(g.currentPagination.totalPages - 1), n.smartSearch()
            }

            function d() {
                n.chageSmartSearchPage(g.currentPagination.page + 1), n.smartSearch()
            }

            function p() {
                n.chageSmartSearchPage(g.currentPagination.page - 1), n.smartSearch()
            }
            var g = this;
            g.getNumber = o, g.changePage = r, g.toLast = c, g.toFirst = l, g.nextPage = d, g.previousPage = p, g.disableNext = !1, g.disablePrevious = !1, g.siblingPage = -1, g.currentpage = -1, g.currentPagination = n.getPagination(), g.hotelStates = n.getStates(), g.listener = t.$on(i, function(e, t) {
                if (t) switch (t.state) {
                    case g.hotelStates.PAGEABLE_CHANGED:
                        g.currentPagination = t.payload
                }
            }), a.$on("$viewContentLoaded", function(e) {}), this.$onInit = function() {
                s(g.currentPagination.page), e.debug("gtdHotelPaginationComponent Init")
            }, this.$onDestroy = function() {
                e.debug("gtdHotelPaginationComponent Destroy"), g.listener = null
            }
        }
        e.$inject = ["$log", "$rootScope", "$scope", "GtdHotelService", "HOTEL_STATES"];
        var t = {
            templateUrl: "app/components/hotel/hotel-pagination.component.html",
            controller: e,
            controllerAs: "vm"
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelPagination", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {}
        e.$inject = ["$log", "$scope", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/hotel/hotel-info.html",
            controller: e,
            bindings: {
                selectedHotel: "=",
                selectedHotelRoom: "=",
                selectedHotelProduct: "=",
                bookingModel: "=",
                jsonmodel: "=?"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {}
        e.$inject = ["$log", "$scope", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/hotel/hotel-detail-view.html",
            controller: e,
            bindings: {
                hotelModel: "=",
                searchOptions: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelDetailView", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {}
        e.$inject = ["$log", "$scope", "MetaData", "Hotel"];
        var t = {
            templateUrl: "app/components/hotel/hotel-detail-simillar.html",
            controller: e,
            bindings: {
                hotelModel: "=",
                searchOptions: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelDetailSimillar", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p) {
            function g(e, t) {
                m.tooltipInstanceAllowHold || (m.tooltipInstanceAllowHold = tippy(".hotel-tippy-allow-hold", {
                    animation: "scale",
                    theme: "hotel",
                    arrow: !0
                }));
                var a = "";
                e.allowHold ? (a = o("translate")("hotel.search.result.refundable"), a = a.replace("{rate}", e.listDeadline ? 100 * e.listDeadline[0].ratio : "100")) : a = o("translate")("hotel.search.result.non-refundable"), m.tooltipInstanceAllowHold[t].setContent(a)
            }

            function u(e, t) {
                m.surcharges = e;
                var a = "<div>",
                    n = e[0].date;
                e.forEach(function(e) {
                    if ("base_rate" !== e.id && e.date === n) {
                        a += '<div class="row" style="margin:7px; width:300px"><div class="col-xs-7 text-left"><strong>' + o("translate")("hotel.search.surcharges." + e.id) + '</strong></div><div class="col-xs-5">' + o("number")(e.amount) + " VNĐ</div></div>";
                        var t = document.createElement("span");
                        t.innerHTML = e.description + " " + e.amount
                    }
                });
                var i = r(a)(m);
                m.tooltipSurcharge || (m.tooltipSurcharge = tippy(".hotel-surcharge-tippy", {
                    animation: "scale",
                    theme: "hotel",
                    arrow: !0,
                    interactive: !0,
                    placement: "left"
                })), m.tooltipSurcharge[t].setContent(i[0].innerHTML)
            }
            var m = this;
            m.showTooltipAllowHold = g, m.showSurchargesTooltip = u, m.tooltipSurcharge, m.tooltipInstanceAllowHold;
            var h = null,
                v = function() {
                    h = null
                };
            m.searchResult = l.getHotelSearchResult(), m.searchOptions = l.getHotelSearchOptions(), m.getFacility = function(e) {
                var t = p.getFacilityText(e);
                return p.getFacilityClass(t)
            }, m.bookingClicked = function(t, a) {
                if (t.quantityAvaliable && !(t.quantityAvaliable <= 0)) {
                    var o = l.getHotelSearchOptions();
                    l.setSelectedHotelProduct(t), l.setSelectedHotelRoom(a), s.createDraftBooking(o, m.hotelModel, t, a).then(function(t) {
                        e.log("Get createDraftBooking from hotel.service"), e.log(t), c.isResponseSuccess(t) ? (l.setHotelBookingModel(t.bookingCode), n.go("hotel-booking/:booking_number/:params", {
                            booking_number: d.encodeString(t.bookingCode.bookingNumber),
                            params: "",
                            hotelId: i.hotel_id
                        })) : c.openHttpAlertDilalog(t)
                    }, function(e) {
                        c.openHttpAlertDilalog(e)
                    })
                }
            }, m.openFullHotelImages = function(e) {
                null === h && (h = a.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/components/hotel/hotel-detail-image-full.html",
                    controller: "HotelDetailImageFullController",
                    controllerAs: "vm",
                    windowClass: "hotel-detail-image-full-window",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), t.addPart("hotel"), e.refresh()
                        }],
                        hotelModel: function() {
                            return m.hotelModel
                        },
                        productModel: function() {
                            return e
                        }
                    }
                }), h.result.then(v, v))
            }
        }
        e.$inject = ["$log", "$scope", "$uibModal", "$state", "$stateParams", "$filter", "$compile", "Hotel", "DataService", "DialogService", "Base64", "HotelUtils"];
        var t = {
            templateUrl: "app/components/hotel/hotel-detail-room.html",
            controller: e,
            bindings: {
                hotelModel: "=",
                searchOptions: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelDetailRoom", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            var o = this;
            o.recentHotels = n.getRecentViewHotels()
        }
        e.$inject = ["$log", "$scope", "MetaData", "GlobalSrv", "Hotel"];
        var t = {
            templateUrl: "app/components/hotel/hotel-detail-recent.html",
            controller: e,
            bindings: {
                hotelModel: "=",
                searchOptions: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelDetailRecent", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f, b) {
            function y() {
                b.use(x.language), tmhDynamicLocale.set(x.language)
            }

            function k() {
                r.hideBodyScroll(), x.intMapInforWindow(), u.smartSearch(), x.listener = t.$on(h, function(e, t) {
                    if (t) switch (t.state) {
                        case x.hotelStates.SHOW_LOADING:
                        case x.hotelStates.SEARCH_ERROR:
                        case x.hotelStates.HIDE_LOADING:
                            x.displayState = t.state;
                            break;
                        case x.hotelStates.FINISH_SEARCH:
                            x.displayState = t.state, x.hotels = t.payload.hotels, x.initMap();
                            break;
                        case x.hotelStates.CHANGE_SEARCH_FILTER:
                            x.searchOptions = t.payload
                    }
                })
            }

            function w() {
                x.mouseoverInfoWindow = new google.maps.InfoWindow
            }

            function I(e) {
                a.hotelModel = e.meta, a.$apply();
                var t = $("#hotel_template_hover").html();
                x.mouseoverInfoWindow.setContent(t), x.mouseoverInfoWindow.open(x.map, e)
            }

            function M() {
                x.mouseoverInfoWindow.close()
            }

            function C() {
                x.selectedhotel = x.hotels[0], x.selectedhoteldetail = x.hotels[0], x.makerDict = {}, x.map = new google.maps.Map(document.getElementById("gmap-full-zone"), {
                    gestureHandling: "greedy",
                    zoomControl: !1,
                    mapTypeControl: !1,
                    scaleControl: !1,
                    streetViewControl: !1,
                    rotateControl: !1,
                    fullscreenControl: !0
                });
                var e = new google.maps.LatLngBounds;
                angular.forEach(x.hotels, function(t) {
                    if (t.hotelMeta && t.hotelMeta.latitude && t.hotelMeta.longitude) {
                        var a = new google.maps.Marker({
                            map: x.map,
                            position: {
                                lat: t.hotelMeta.latitude,
                                lng: t.hotelMeta.longitude
                            },
                            title: t.hotelMeta.name,
                            meta: t,
                            icon: {
                                url: "/content/images/gtd-marker-9d5d946553.svg",
                                scaledSize: new google.maps.Size(32, 45)
                            }
                        });
                        a.addListener("mouseover", function() {
                            x.openMapInfoWindow(a)
                        }), a.addListener("mouseout", function() {
                            x.closeMapInfoWindow()
                        }), a.addListener("click", function() {
                            u.goToDetail(t)
                        }), e.extend(a.getPosition()), x.makerDict[t.id] = a
                    }
                }), x.map.fitBounds(e)
            }

            function O(e) {
                e.setAnimation(null);
                var t = new google.maps.MarkerImage("/content/images/gtd-marker-9d5d946553.svg", null, null, null, new google.maps.Size(32, 45));
                e.setIcon(t)
            }

            function P(e) {
                e.setAnimation(google.maps.Animation.BOUNCE);
                var t = new google.maps.MarkerImage("/content/images/gtd-marker-9d5d946553.svg", null, null, null, new google.maps.Size(40, 55));
                e.setIcon(t)
            }

            function T(e) {
                x.startMarkerBounce(x.makerDict[e.id])
            }

            function N(e) {
                x.endMarkerBounce(x.makerDict[e.id])
            }
            var x = this;
            x.makerDict = {}, x.changeLanguage = y, x.initMap = C, x.intMapInforWindow = w, x.onInit = k, x.openMapInfoWindow = I, x.closeMapInfoWindow = M, x.startMarkerBounce = P, x.endMarkerBounce = O, x.onHoverHotelItem = T, x.outHoverHotelItem = N, x.displayState = null, x.hotelStates = u.getStates(), x.onInit(), x.cancel = function() {
                r.showBodyScroll(), x.listener(), l.dismiss("cancel")
            }, x.close = function() {
                $("#hotel_template_click").hide()
            }, x.clickedContent = function(e) {
                var t = document.createElement("div");
                if (t.innerHTML = $("#hotel_template_click").html(), e.products && e.products.length > 0 && e.products[0].rooms && e.products[0].rooms[0]) {
                    var a = t.appendChild(document.createElement("input"));
                    a.type = "button", a.value = "Chọn phòng", a.className = "booking-text gtd-btn-medium pull-right", a.style = "float: left !important", google.maps.event.addDomListener(a, "click", function() {
                        x.bookingClicked(e), x.cancel()
                    })
                }
                return t
            }, x.clickIdx = 0, x.bookingClicked = function(e) {
                u.goToDetail(e)
            }
        }
        angular.module("B2B2CGatewayApp").controller("HotelDetailMapFullController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "$compile", "UIService", "Auth", "$uibModalInstance", "DataService", "Hotel", "DialogService", "Base64", "GtdHotelService", "SEARCH_BY_HOTEL_NAME", "HOTEL_STATES", "GlobalSrv", "$window", "$translate"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {}
        e.$inject = ["$log", "$scope", "MetaData", "Hotel"];
        var t = {
            templateUrl: "app/components/hotel/hotel-detail-info.html",
            controller: e,
            bindings: {
                hotelModel: "=",
                searchOptions: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelDetailInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c) {
            var d = this;
            e.log("hotel="), e.log(s), e.log("product="), e.log(l), d.hotelModel = s, d.productModel = l, angular.forEach(d.productModel.images, function(e, t) {
                if ("E" == d.productModel.supplierType) {
                    var a = e.lastIndexOf("."),
                        n = e.substring(a),
                        i = e.substring(0, a - 1);
                    d.productModel.images[t] = i + "z" + n
                }
            }), d.cancel = function() {
                c.showBodyScroll(), r.dismiss("cancel")
            }, d.initMap = function() {}, r.opened.then(function() {
                i(function() {
                    d.initMap()
                }, 0), c.hideBodyScroll()
            })
        }
        angular.module("B2B2CGatewayApp").controller("HotelDetailImageFullController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "Auth", "$uibModalInstance", "hotelModel", "productModel", "UIService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            function r(e) {
                l.swiper.slideTo(e), l.currentImage = e
            }

            function s() {
                l.isShowingMoreImage = !l.isShowingMoreImage, l.isShowingMoreImage ? l.limitImage = l.hotelModel.hotelImages.length : l.limitImage = 10
            }
            var l = this,
                c = null,
                d = function() {
                    c = null
                };
            l.currentImage, l.changeImage = r, l.toggleShowMoreImage = s, t.$on("gtd-load-details-completed", function() {
                l.hotelModel.hotelImages.forEach(function(e) {
                    l.swiper.appendSlide('<div class="swiper-slide"><img data-src="' + e.orginal + '" class="swiper-lazy"><div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div></div>')
                }), l.changeImage(1)
            }), l.limitImage = 10, l.isShowingMoreImage = !1, this.$postLink = function() {
                l.swiper = new Swiper(".swiper-container", {
                    lazy: !0,
                    loop: !0,
                    pagination: {
                        el: ".swiper-pagination",
                        clickable: !0,
                        dynamicBullets: !0
                    },
                    navigation: {
                        nextEl: ".swiper-button-next",
                        prevEl: ".swiper-button-prev"
                    }
                }), l.swiper.on("transitionEnd", function() {
                    a(function() {
                        l.currentImage = l.swiper.activeIndex
                    }, 0)
                })
            }, l.openFullMap = function() {
                null === c && (c = n.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/components/hotel/hotel-detail-map-full.html",
                    controller: "HotelDetailMapFullController",
                    controllerAs: "vm",
                    windowClass: "hotel-detail-map-full-window",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), t.addPart("hotel"), e.refresh()
                        }],
                        selectedhotel: this.hotelModel
                    }
                }), c.result.then(d, d))
            }
        }
        e.$inject = ["$log", "$scope", "$timeout", "$uibModal", "MetaData", "Hotel"];
        var t = {
            templateUrl: "app/components/hotel/hotel-detail-image.html",
            controller: e,
            bindings: {
                hotelModel: "=",
                searchOptions: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelDetailImage", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c) {
            function d() {
                m.modalInstance = null
            }

            function p() {
                null === m.modalInstance && (s.setHotelSearchOptions(m.searchOptions), m.modalInstance = n.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/components/hotel/hotel-place-around.html",
                    controller: "HotelPlaceAroundController",
                    controllerAs: "vm",
                    windowClass: "hotel-detail-map-full-window",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), t.addPart("hotel"), e.refresh()
                        }],
                        selectedHotel: function() {
                            return m.hotelModel
                        }
                    }
                }), m.modalInstance.result.then(m.resetModal, m.resetModal))
            }

            function g() {
                var e = document.createElement("textarea");
                $(e).val(m.shareUrl), e.setAttribute("readonly", ""), e.style = {
                    position: "absolute",
                    left: "-9999px"
                }, document.body.appendChild(e), e.select(), document.execCommand("copy"), document.body.removeChild(e)
            }

            function u() {
                m.shareUrl = window.location.href, $("#modal-share").modal()
            }
            var m = this;
            m.modalInstance = null, m.resetModal = d, m.openMapPlaceAround = p, m.openShareModal = u, m.copyStringToClipboard = g, m.getFacility = function(e) {
                return o.getFacilityClass(e)
            }, m.goToReserve = function() {
                var e = 0;
                $(window).width() >= 991 && (e = 200), $("html, body").animate({
                    scrollTop: $("#hotel-detail-zone").offset().top - e
                }, 1e3)
            }, m.bookingClicked = function(t, n) {
                var i = s.getHotelSearchOptions();
                s.setSelectedHotelProduct(t), s.setSelectedHotelRoom(n), r.createDraftBooking(i, m.hotelModel, t, n).then(function(t) {
                    e.log("Get createDraftBooking from hotel.service"), e.log(t), l.isResponseSuccess(t) ? (s.setHotelBookingModel(t.bookingCode), a.go("hotel-booking/:booking_number/:params", {
                        booking_number: c.encodeString(t.bookingCode.bookingNumber),
                        params: ""
                    })) : l.openHttpAlertDilalog(t)
                }, function(e) {
                    l.openHttpAlertDilalog(e)
                })
            }
        }
        e.$inject = ["$log", "$scope", "$state", "$uibModal", "MetaData", "HotelUtils", "Hotel", "DataService", "DialogService", "Base64"];
        var t = {
            templateUrl: "app/components/hotel/hotel-detail-header.html",
            controller: e,
            bindings: {
                hotelModel: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelDetailHeader", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r) {
            function s() {
                c.searchOptions = n.getSearchOptions(), c.paxDetail = n.getPaxSummary();
                e.$on(r, function(e, t) {
                    if (t) switch (t.state) {
                        case c.hotelStates.CHANGE_SEARCH_FILTER:
                            c.searchOptions = t.payload, c.paxDetail = n.getPaxSummary()
                    }
                })
            }

            function l() {
                n.openModalUpdateRoomDetail()
            }
            var c = this;
            c.initControl = s, c.openChooseRoomDetail = l, c.hotelStates = n.getStates(), c.initControl(), c.doSearchImpl = function() {
                if (moment(c.searchOptions.hotelSearchFilter.checkindate, "DD-MM-YYYY").diff(moment(c.searchOptions.hotelSearchFilter.checkout_date, "DD-MM-YYYY")) > 0) return void i.openAlertDialog({
                    title: "Error",
                    message: "Ngày Trả Phòng phải sau Ngày Nhận Phòng"
                });
                n.updateSearchOptions(c.searchOptions);
                var e = localStorage.getItem("ctrl.item.supplierSessionId");
                n.checkHotelAvailability({
                    id: c.hotelId,
                    supplierSessionId: e
                })
            }
        }
        e.$inject = ["$rootScope", "$state", "MetaData", "GtdHotelService", "DialogService", "Base64", "HOTEL_STATES"];
        var t = {
            templateUrl: "app/components/hotel/hotel-detail-change.html",
            controller: e,
            controllerAs: "$ctrl",
            bindings: {
                hotelId: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelDetailChange", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f, b, y, k) {
            function $(e) {
                return "wifi" == e ? "fa-wifi" : "bar" == e ? "fa-glass" : "breakfast" == e ? "fa-coffee" : "car" == e ? "fa-car" : "pool" == e ? "fa-swimming-pool" : e
            }

            function w(e) {
                if (e && (e.displayAmentities = [], e.selectedAmentities = [], e.hotelMeta.amentities)) {
                    var t = 0;
                    e.hotelMeta.amentities.forEach(function(a) {
                        l.indexOf(a.id) !== -1 && e.displayAmentities.indexOf("wifi") == -1 && (e.displayAmentities[t] = "wifi", e.selectedAmentities[t] = a.name, t++), c.indexOf(a.id) !== -1 && e.displayAmentities.indexOf("car") == -1 && (e.displayAmentities[t] = "car", e.selectedAmentities[t] = a.name, t++), d.indexOf(a.id) !== -1 && e.displayAmentities.indexOf("pool") == -1 && (e.displayAmentities[t] = "pool", e.selectedAmentities[t] = a.name, t++), p.indexOf(a.id) !== -1 && e.displayAmentities.indexOf("gym") == -1 && (e.displayAmentities[t] = "gym", e.selectedAmentities[t] = a.name, t++), g.indexOf(a.id) !== -1 && e.displayAmentities.indexOf("breakfast") == -1 && (e.displayAmentities[t] = "breakfast", e.selectedAmentities[t] = a.name, t++, e.hasBreakfast = !0)
                    })
                }
            }

            function I(e) {
                if (e) {
                    if (v.indexOf(e) !== -1) return "bar";
                    if (u.indexOf(e) !== -1) return "breakfast";
                    if (m.indexOf(e) !== -1) return "car-black";
                    if (h.indexOf(e) !== -1) return "wifi";
                    var t = null;
                    return f.forEach(function(a) {
                        if (e.toUpperCase().indexOf(a.toUpperCase()) !== -1) return t = "breakfast"
                    }), k.forEach(function(a) {
                        if (e.toUpperCase().indexOf(a.toUpperCase()) !== -1) return t = "bar"
                    }), b.forEach(function(a) {
                        if (e.toUpperCase().indexOf(a.toUpperCase()) !== -1) return t = "car-black"
                    }), y.forEach(function(a) {
                        if (e.toUpperCase().indexOf(a.toUpperCase()) !== -1) return t = "wifi"
                    }), t
                }
            }

            function M(e) {
                var t = 0;
                return angular.forEach(e.pax, function(e) {
                    t += parseInt(e.adultNo)
                }), t
            }

            function C(e) {
                var t = 0;
                return angular.forEach(e.pax, function(e) {
                    t += parseInt(e.childrenNo)
                }), t
            }
            var O = {
                getFacilityClass: $,
                getFacilityText: I,
                getFacilities: w,
                getAdultNumberFromSo: M,
                getChildrenNumberFromSo: C
            };
            return O
        }
        angular.module("B2B2CGatewayApp").factory("HotelUtils", e), e.$inject = ["$log", "$uibModal", "$translate", "$state", "DataService", "TRANS_TIME_OUT", "DialogService", "GlobalSrv", "FREE_WIFI_IDS", "FREE_PARKING_IDS", "HAS_SWIMMING_POOL_IDS", "FREE_GYM", "FREE_BREAKFAST", "FREE_BREAKFAST_TEXT", "FREE_PARKING_TEXT", "FREE_WIFI_TEXT", "FREE_DRINK_TEXT", "FREE_BREAKFAST_TEXT_KEY", "FREE_PARKING_TEXT_KEY", "FREE_WIFI_TEXT_KEY", "FREE_DRINK_TEXT_KEY"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m) {
            function h() {
                y.searchOptions = l.getSearchOptions(), y.paxDetail = l.getPaxSummary()
            }

            function v() {
                l.openModalUpdateRoomDetail()
            }

            function f() {
                y.previousHotelCode = y.searchOptions.hotelSearchFilter.hotel_code, y.searchOptions.hotelSearchFilter.hotel_code = ""
            }

            function b() {
                "" === y.searchOptions.hotelSearchFilter.hotel_code && "" === y.searchOptions.hotelSearchFilter.hotel_code.trim() && (y.searchOptions.hotelSearchFilter.hotel_code = y.previousHotelCode)
            }
            var y = this;
            y.paxDetail = {
                roomQuantity: 0,
                adultQuantity: 0,
                childQuantity: 0
            }, y.hotelStates = l.getStates(), y.init = h, y.openChooseRoomDetail = v, y.onFocusInputName = f, y.onBlurInputName = b;
            var k = (n.$on(p, function(e, t) {
                    if (t) switch (t.state) {
                        case y.hotelStates.CHANGE_SEARCH_FILTER:
                            y.searchOptions = t.payload;
                            break;
                        case y.hotelStates.HOTEL_PAX_CHANGED:
                            y.paxDetail = l.getPaxSummary(), y.searchOptions.hotelSearchBody = t.payload
                    }
                }), ""),
                $ = "";
            if (i.search().merchant_code) {
                var w = new Date;
                w.setDate(w.getDate() + 30), k = String(i.search().merchant_code).toUpperCase(), u.merchant_code = k, localStorage.setItem("merchant_code", k), m.put("merchant_code", k, {
                    expires: w
                }), i.search().msisdn && ($ = i.search().msisdn, u.msisdn = i.search().msisdn, m.put("msisdn", $, {
                    expires: w
                }), localStorage.setItem("msisdn", $))
            }
            y.isSignleLayout = g.isSingleLayout(), y.flight_tab_url = "flight", y.hotel_tab_url = "hotel", k = m.get("merchant_code") || localStorage.getItem("merchant_code"), k && (y.flight_tab_url += "?merchant_code=" + k, y.hotel_tab_url += "?merchant_code=" + k, y.merchant_code = k), $ = m.get("msisdn") || localStorage.getItem("msisdn"), $ && (y.flight_tab_url += "&msisdn=" + $, y.hotel_tab_url += "&msisdn=" + $), y.init(), y.searchDestinations = function(e) {
                return r.searchHotelMetaData(e)
            }, y.formatLabel = function(e) {
                var t = l.getSelectedDestination();
                return t && t.code === e ? t.name : e
            }, y.typeAHeadOnSelect = function(e, t, a, n) {
                l.updateSelectedDestination(e)
            }, y.doSearchImpl = function() {
                return moment(y.searchOptions.hotelSearchFilter.checkin_date, "DD-MM-YYYY").diff(moment(y.searchOptions.hotelSearchFilter.checkout_date, "DD-MM-YYYY")) > 0 ? void s.openAlertDialog({
                    title: "Error",
                    message: "Ngày Trả Phòng phải sau Ngày Nhận Phòng"
                }) : l.validateDateRange(y.searchOptions.hotelSearchFilter.checkin_date, y.searchOptions.hotelSearchFilter.checkout_date) ? (l.updateSearchOptions(y.searchOptions), void("hotel-search" !== a.current.name ? l.backToResult() : l.search())) : void s.openAlertDialog({
                    title: "Error",
                    message: "Ngày Trả Phòng và Ngày Nhận Phòng không quá 30 ngày"
                })
            }
        }
        e.$inject = ["$log", "$uibModal", "$state", "$rootScope", "$location", "GlobalSrv", "Hotel", "DialogService", "GtdHotelService", "HotelUtils", "Base64", "HOTEL_STATES", "MerchantService", "$scope", "$cookies"];
        var t = {
            templateUrl: "app/components/hotel/home/hotel-home-search-header.html",
            controller: e
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelHomeSearchHeader", t);
        var a = {
            templateUrl: "app/components/hotel/hotel-search-header.html",
            controller: e
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelSearchHeader", a)
    }(),
    function() {
        "use strict";

        function e() {
            function e(e, t, a, n) {
                t.find(".form-group").each(function() {
                    var t = angular.element(this),
                        a = t.find("input[ng-model],textarea[ng-model],select[ng-model]");
                    a.length > 0 && a.each(function() {
                        var a = angular.element(this),
                            i = a.attr("name");
                        e.$watch(function() {
                            return n[i] && n[i].$invalid && n[i].$dirty
                        }, function(e) {
                            t.toggleClass("has-error", e)
                        })
                    })
                })
            }
            var t = {
                restrict: "A",
                require: "form",
                link: e
            };
            return t
        }
        angular.module("B2B2CGatewayApp").directive("showValidation", e)
    }(),
    function() {
        "use strict";
        angular.module("B2B2CGatewayApp").constant("paginationConstants", {
            itemsPerPage: 20
        })
    }(),
    function() {
        "use strict";

        function e() {
            function e(e, t, a, i) {
                i && (i.$validators.minbytes = function(e) {
                    return i.$isEmpty(e) || n(e) >= a.minbytes
                })
            }

            function t(e, t) {
                return t.indexOf(e, t.length - e.length) !== -1
            }

            function a(e) {
                return t("==", e) ? 2 : t("=", e) ? 1 : 0
            }

            function n(e) {
                return e.length / 4 * 3 - a(e)
            }
            var i = {
                restrict: "A",
                require: "?ngModel",
                link: e
            };
            return i
        }
        angular.module("B2B2CGatewayApp").directive("minbytes", e)
    }(),
    function() {
        "use strict";

        function e() {
            function e(e, t, a, i) {
                i && (i.$validators.maxbytes = function(e) {
                    return i.$isEmpty(e) || n(e) <= a.maxbytes
                })
            }

            function t(e, t) {
                return t.indexOf(e, t.length - e.length) !== -1
            }

            function a(e) {
                return t("==", e) ? 2 : t("=", e) ? 1 : 0
            }

            function n(e) {
                return e.length / 4 * 3 - a(e)
            }
            var i = {
                restrict: "A",
                require: "?ngModel",
                link: e
            };
            return i
        }
        angular.module("B2B2CGatewayApp").directive("maxbytes", e)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f) {
            var b = this;
            b.iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream, b.liteEmbed = !1, (v.get("liteEmbed") || localStorage.getItem("liteEmbed")) && (b.liteEmbed = "true" === (v.get("liteEmbed") || localStorage.getItem("liteEmbed"))), s.setNewStartTransactionTime();
            var y = "",
                k = "";
            if (h.search().merchant_code) {
                var w = new Date;
                w.setDate(w.getDate() + 30), y = String(h.search().merchant_code).toUpperCase(), t.merchant_code = y, localStorage.setItem("merchant_code", y), v.put("merchant_code", y, {
                    expires: w
                }), h.search().msisdn && (k = h.search().msisdn, t.msisdn = h.search().msisdn, v.put("msisdn", k, {
                    expires: w
                }), localStorage.setItem("msisdn", k))
            }
            b.isSignleLayout = f.isSingleLayout(), b.flight_tab_url = "flight", b.hotel_tab_url = "hotel", y = v.get("merchant_code") || localStorage.getItem("merchant_code"), y && (b.flight_tab_url += "?merchant_code=" + y, b.hotel_tab_url += "?merchant_code=" + y, b.merchant_code = y), k = v.get("msisdn") || localStorage.getItem("msisdn"), k && (b.flight_tab_url += "&msisdn=" + k, b.hotel_tab_url += "&msisdn=" + k), b.checkShowInternationalFlight = function() {
                return "FSOFT" != y
            }, b.adultQtt = [], b.childQtt = [], b.infantQtt = [];
            for (var I = 1; I <= 9; I++) b.adultQtt.push(I);
            e.log(b.searchOptions.searchType), e.log("ctrl.searchOptions.searchType");
            var M = null,
                C = function() {
                    M = null
                };
            b.airlineDataSource = [], b.domesticAirlines = {
                VIETJET: !1,
                VNA: !1,
                JETSTAR: !1,
                BAMBOO: !1
            };
            var O = !1;
            b.switchTypeAhead = function() {
                if (!O) {
                    O = !0;
                    var e = b.searchOptions.toAirPort,
                        t = b.searchOptions.fromAirPort;
                    b.searchOptions.fromAirPort = e, d(function() {
                        b.searchOptions.toAirPort = t, d(function() {
                            O = !1
                        }, 100)
                    }, 100)
                }
            }, b.switchDtype = function() {
                "domestic" == b.searchOptions.dtype ? b.searchOptions.searchType = "oneway" : b.searchOptions.searchType = "roundtrip", e.log("ctrl.searchOptions.searchType"), e.log(b.searchOptions.searchType), b.searchOptions.fromAirPort = "", b.searchOptions.toAirPort = ""
            }, b.searchAirports = function(e, t) {
                return "domestic" == b.searchOptions.dtype ? r.searchAirportsLocal("VN") : r.searchAirportsWithout(e, b.searchOptions, t)
            }, b.formatLabel = function(e) {
                var t = o.getLocalAirports();
                for (var a in t)
                    if (t[a].code == e) return t[a].city + " (" + t[a].code + "), " + t[a].country;
                return e
            }, b.doSearchImpl = function() {
                if (p.validateFlightSearch(b.searchOptions)) {
                    var t = (b.searchOptions.searchType, b.getSearchSpecialType());
                    b.searchOptions.searchSpecialType = t, b.searchOptions.selectStep = 1, b.searchOptions.returnDomestic = !1, b.searchOptions.departureItinerary = {}, b.searchOptions.returnSearchId = null,
                        b.searchOptions.searchId = null, b.searchOptions.ssrOfferItemsDepart = [], b.searchOptions.ssrOfferItemsReturn = [], this.open(), s.setSearchOption(b.searchOptions), s.setSearchResult(b.searchResult), s.setSavedSearchOption(jQuery.extend({}, b.searchOptions));
                    var a = jQuery.extend({}, b.searchOptions),
                        n = jQuery.extend({}, b.searchResult);
                    if (a.departureDate = b.searchOptions.departureDate, "international" != b.searchOptions.dtype && (a.suppliers = b.searchOptions.selectAirlines, e.log("departSearchOptions.suppliers = " + a.suppliers)), a.fromAirPort = b.searchOptions.fromAirPort, a.toAirPort = b.searchOptions.toAirPort, "international" == a.dtype) {
                        var i = c.searchFlightInternational(a);
                        i.then(function(e) {
                            b.searchResult = e, n = e, b.searchOptions.searchId = e.searchId, a.searchId = e.searchId, c.getAdvanceFilterOptions(b.searchOptions).then(function(e) {
                                s.setAdvanceSearchFilterOptions(e), b.searchOptions.advanceFilterOptions = e, a.advanceFilterOptions = e, s.setDepartSearchResult(n), s.setDepartSearchOption(a);
                                var t = jQuery.extend({}, n),
                                    i = jQuery.extend({}, a);
                                s.setReturnSearchResult(t), s.setReturnSearchOption(i), b.doSearch({
                                    $searchResult: b.searchResult,
                                    $searchOptions: b.searchOptions
                                })
                            })
                        }, function(e) {
                            l.openHttpAlertDilalog(e)
                        })
                    } else {
                        var i = c.searchFlight(a);
                        i.then(function(e) {
                            if (b.searchResult = e, n = e, b.searchOptions.searchId = e.searchId, b.searchOptions.returnSearchId = e.returnSearchId, a.searchId = e.searchId, c.getAdvanceFilterOptions(b.searchOptions).then(function(e) {
                                    s.setAdvanceSearchFilterOptions(e), b.searchOptions.advanceFilterOptions = e, a.advanceFilterOptions = e, s.setDepartSearchResult(n), s.setDepartSearchOption(a), b.doSearch({
                                        $searchResult: b.searchResult,
                                        $searchOptions: b.searchOptions
                                    })
                                }), "roundtrip" == b.searchOptions.searchType) {
                                var t = jQuery.extend({}, b.searchOptions);
                                jQuery.extend({}, b.searchResult);
                                t.departureDate = b.searchOptions.returnDate, t.returnDate = b.searchOptions.returnDate, t.fromAirPort = b.searchOptions.toAirPort, t.toAirPort = b.searchOptions.fromAirPort, t.searchId = e.returnSearchId, s.setReturnSearchOption(t)
                            }
                        }, function(e) {
                            l.openHttpAlertDilalog(e)
                        })
                    }
                }
            }, b.initControl = function() {
                d(function() {
                    $("#fromAirPort").trigger("change"), $("#toAirPort").trigger("change"), $("#fAdtQttIdx").trigger("change"), d(function() {
                        $("#fChdQttIdx").trigger("change")
                    }, 100)
                }, 1e3)
            }, b.open = function() {
                null === M && (M = n.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/search/flight.search.loading.html",
                    controller: "FlightSearchLoadingController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        searchOptions: function() {
                            return b.searchOptions
                        }
                    }
                }), M.result.then(C, C))
            }, b.getSearchSpecialType = function() {
                var e = (b.searchOptions.searchType, b.searchOptions.dtype);
                return "roundtrip" != b.searchOptions.searchType ? "oneway" : e
            }, b.$postLink = function() {
                d(function() {
                    b.initControl()
                }, 0)
            }, b.clickAirline1 = "0", b.searchOptions.selectAirlines = [], t.selectAirline = function(e) {
                if ("0" === b.clickAirline1 && (b.searchOptions.selectAirlines = ["BL", "VJ", "VN", "QH"]), $(".select-airlines ." + e + " .itemAirline").is(":checked")) b.searchOptions.selectAirlines.indexOf(e) == -1 && b.searchOptions.selectAirlines.push(e);
                else {
                    var t = b.searchOptions.selectAirlines.indexOf(e);
                    b.searchOptions.selectAirlines.splice(t, 1)
                }
                b.clickAirline1 = "1"
            }
        }
        e.$inject = ["$log", "$scope", "$q", "$uibModal", "$attrs", "GlobalSrv", "MetaData", "DataService", "DialogService", "Flight", "$timeout", "ValidationUtils", "DEFAULT_PAGE_SIZE", "DEFAULT_DATE_FORMAT", "DEFAULT_MOMENT_DATE_FORMAT", "$location", "$cookies", "MerchantService"];
        var t = {
            templateUrl: "app/components/flight/home/flight-home-search-header.html",
            controller: e,
            bindings: {
                searchType: "=",
                doSearch: "&",
                searchResult: "=?searchResult",
                searchOptions: "=?searchOptions"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightHomeSearchHeader", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h) {
            function v(e, t) {
                var a = {},
                    n = c.getReturnSearchOption(),
                    i = c.getDepartSearchOption();
                n.departureItinerary = {
                    airlineCode: e.airline,
                    fareSourceCode: t.airItineraryPricingInfo.fareSourceCode,
                    groupId: e.groupId,
                    searchId: i.searchId,
                    supplierCode: e.airSupplier
                }, n.returnDomestic = !0, k.searchOptions.departureItinerary = n.departureItinerary, k.searchOptions.returnDomestic = n.returnDomestic, d.searchFlightInCache(n).then(function(i) {
                    a = i, n.searchId = i.searchId, d.getAdvanceFilterOptions(n).then(function(i) {
                        c.setAdvanceSearchFilterOptions(i), n.advanceFilterOptions = i, n.returnSearchCompleted = !0, c.setReturnSearchResult(a), c.setReturnSearchOption(n), k.searchOptions.advanceFilterOptions = n.advanceFilterOptions, k.searchOptions.returnSearchCompleted = n.returnSearchCompleted, k.moveToStep2(e, t)
                    }, function(e) {
                        n.returnSearchCompleted = !0, c.setReturnSearchOption(n), g.openHttpAlertDilalog(i)
                    })
                })
            }

            function f(e) {
                if (1 == M && C > 0) {
                    var t = 0;
                    e && e.length > 0 && (t = parseFloat(k.airlineCarouselArrays[0].price));
                    var a = [];
                    return angular.forEach(e, function(e) {
                        "VN" != e.id && "VJ" != e.id && "0V" != e.id || (0 == t || e.price <= t + t * C / 100) && a.push(e)
                    }), a
                }
                if (2 == M) {
                    var a = [];
                    return angular.forEach(e, function(e) {
                        "VN" != e.id && "VJ" != e.id && "0V" != e.id || a.push(e)
                    }), a
                }
                if (1 == M && 0 == C) {
                    var a = [];
                    return angular.forEach(e, function(e) {
                        "VN" != e.id && "0V" != e.id || a.push(e)
                    }), a
                }
                return e
            }

            function b(e) {
                var t = [];
                if (e && e.length > 0) {
                    var a = e;
                    if (1 == M && C > 0) {
                        var n = 0;
                        k.airlineCarouselArrays.length > 0 && (n = parseFloat(k.airlineCarouselArrays[0].price)), angular.forEach(k.airlineCarouselArrays, function(e) {
                            "VJ" != e.id && "VN" != e.id && "0V" != e.id || (0 == n || 0 != parseFloat(e.price) && parseFloat(e.price) < n) && (n = parseFloat(e.price))
                        });
                        for (var i = n + n * C / 100, o = 0; o < a.length; o++) {
                            var r = a[o].pricedItineraries[0].airItineraryPricingInfo.itinTotalFare.totalFare.amount;
                            r <= i && ("VJ" != a[o].airSupplier && "VN" != a[o].airSupplier && "0V" != a[o].airSupplier || t.push(a[o]))
                        }
                        return t
                    }
                    if (2 == M) {
                        for (var o = 0; o < a.length; o++) "VJ" != a[o].airSupplier && "VN" != a[o].airSupplier && "0V" != a[o].airSupplier || t.push(a[o]);
                        return t
                    }
                    if (1 == M && 0 == C) {
                        for (var o = 0; o < a.length; o++) {
                            var s = a[o].airSupplier;
                            "VN" != s && "0V" != s || t.push(a[o])
                        }
                        return t
                    }
                }
                return t
            }

            function y(e) {
                return e
            }
            var k = this;
            k.merchantCode = h.getMerchant(), i.ibeKeys = u, k.chieuBay = 0, k.filterAirline = f, k.filterFlight = b, k.filterpricedItineraries = y;
            var w = null,
                I = function() {
                    w = null
                };
            k.airlineIdx = 1, k.busy = !1, k.showCarousel = !0, k.searchOptions.departureDateDir = "desc", k.searchOptions.arrivalDateDir = "desc", k.searchOptions.durationDir = "desc", k.searchOptions.priceDir = "asc";
            var M = +k.searchOptions.RoleLevel,
                C = +k.searchOptions.NCRange;
            k.returnSearchOptions = c.getReturnSearchOption(), k.returnSearchResult = c.getReturnSearchResult(), k.departSearchOptions = c.getDepartSearchOption(), k.departSearchResult = c.getDepartSearchResult(), k.departPricedItinerary = c.getDepartPricedItinerary(), k.departGroupItem = c.getDepartGroupItem(), k.orgDepartPricedItinerary = c.getOrgDepartPricedItinerary(), k.orgDepartGroupItem = c.getOrgDepartGroupItem(), k.slickConfig = {
                enabled: !0,
                slidesToShow: 4,
                slidesToScroll: 1,
                prevArrow: "<button type='button' class='slick-prev pull-left'><i class='fa fa-angle-left' aria-hidden='true'></i></button>",
                nextArrow: "<button type='button' class='slick-next pull-right'><i class='fa fa-angle-right' aria-hidden='true'></i></button>",
                infinite: !1,
                method: {},
                event: {
                    init: function(e, t) {}
                }
            }, k.searchOptions.selectStep || (k.searchOptions.selectStep = 1), i.$watch(function(e) {
                return k.searchOptions.advanceFilterOptions
            }, function(e, t) {
                k.airlineCarouselArrays = d.getAirlineAvailableOptions(), angular.forEach(k.airlineCarouselArrays, function(e) {
                    k.searchOptions.selectAirlines && k.searchOptions.selectAirlines.indexOf(e.id) != -1 && (e.checked = !0)
                }), r(k.initControl(), 1e3)
            }), i.$watch(function(e) {
                return k.searchResult
            }, function(e, t) {
                t !== e && t.searchId == e.searchId || r(function() {
                    n.$broadcast("gtd-refresh-airline-carousel", null)
                }, 1e3)
            }), k.initControl = function() {
                a.log("3")
            }, i.$on("gtd-refresh-airline-carousel", function() {
                k.refreshCarousel()
            }), i.$on("gtd-search-domestic-return-completed", function() {
                a.log("On event: gtd-search-domestic-return-completed")
            }), k.refreshCarousel = function() {
                k.showCarousel = !1, r(function() {
                    r(function() {
                        k.showCarousel = !0, r(function() {
                            $(".slick-slider").on("click", ".slick-slide", function(e, t) {
                                var a = $(e.currentTarget).find("div.airline-code-hid").html();
                                n.$broadcast("gtd-select-airline", a)
                            })
                        }, 1e3)
                    }, 100)
                }, 100)
            }, k.moveToStep2 = function(e, t) {
                if (n.$broadcast("gtd-filter-completed-off", null), k.currentGroupItem = e, k.currentPricedItinerary = t, k.searchOptions.searchId = c.getReturnSearchOption().searchId, k.searchOptions.advanceFilterOptions = c.getReturnSearchOption().advanceFilterOptions, k.searchResult = c.getReturnSearchResult(), k.searchOptions.advanceFilters && (k.searchOptions.advanceFilters.stopOptions = [], k.searchOptions.advanceFilters.airlineOptions = [], k.searchOptions.advanceFilters.cabinClassOptions = [], k.searchOptions.advanceFilters.ticketPolicyOptions = [], k.searchOptions.advanceFilters.departureDateTimeOptions = [], k.searchOptions.advanceFilters.arrivalDateTimeOptions = [], k.searchOptions.advanceFilters.departureDateTimeReturnOptions = [], k.searchOptions.advanceFilters.arrivalDateTimeReturnOptions = []), c.setDepartGroupItem(e), c.setDepartPricedItinerary(t), c.setOrgDepartGroupItem(e), c.setOrgDepartPricedItinerary(t), k.departGroupItem = e, k.departPricedItinerary = t, k.orgDepartGroupItem = e, k.orgDepartPricedItinerary = t, k.returnSearchOptions = c.getReturnSearchOption(), "international" == k.searchOptions.searchSpecialType) {
                    k.searchOptions.groupId = e.groupId, k.searchOptions.minPrice = t.airItineraryPricingInfo.itinTotalFare.totalFare.amount, k.searchOptions.priceItineraryId = t.sequenceNumber, k.searchResult && (k.searchResult.groupPricedItineraries = []);
                    var a = d.searchGroupDetail(k.searchOptions);
                    a.then(function(e) {
                        var t = c.getReturnSearchResult();
                        t.groupPricedItineraries = [], t.groupPricedItineraries.push(e.groupPricedItinerary), k.searchResult = t, c.setReturnSearchResult(t)
                    })
                }
                k.searchOptions.selectStep = 2, r(function() {
                    n.$broadcast("gtd-refresh-adv-search-result", null)
                }, 1e3), k.refreshCarousel(), s()
            }, k.bookingClicked = function(e, t) {
                if (k.chieuBay = 1, k.currentGroupItem = e, k.currentPricedItinerary = t, "oneway" == k.searchOptions.searchSpecialType) c.setDepartGroupItem(e), c.setDepartPricedItinerary(t), k.confirmBooking();
                else if ("international-fake" == k.searchOptions.searchSpecialType) c.setDepartGroupItem(e), c.setDepartPricedItinerary(t), c.setReturnGroupItem(e), c.setReturnPricedItinerary(t), k.confirmBooking();
                else if (1 == k.searchOptions.selectStep) "domestic" == k.searchOptions.searchSpecialType ? v(e, t) : k.moveToStep2(e, t);
                else {
                    var a = e,
                        n = t;
                    "international" == k.searchOptions.searchSpecialType && (a = jQuery.extend({}, e), n = jQuery.extend({}, t), a.originLocationCode = e.destinationLocationCode, a.originLocationName = e.destinationLocationName, a.originCity = e.destinationCity, a.departureDateTime = e.arrivalDateTime, a.destinationLocationCode = e.originLocationCode, a.destinationLocationName = e.originLocationName, a.destinationCity = e.originCity, a.arrivalDateTime = e.departureDateTime), c.setReturnGroupItem(a), c.setReturnPricedItinerary(n), "international" == k.searchOptions.searchSpecialType && c.setDepartPricedItinerary(n), k.returnGroupItem = a, k.returnPricedItinerary = n, k.confirmBooking()
                }
            };
            var O = !1;
            k.changeFlight = function() {
                O || (O = !0, r(function() {
                    n.$broadcast("gtd-filter-completed-off", null), k.searchOptions.selectStep = 1, k.searchOptions.returnDomestic = !1, k.searchOptions.advanceFilterOptions = c.getDepartSearchOption().advanceFilterOptions, k.searchOptions.searchId = c.getDepartSearchOption().searchId, k.searchResult = c.getDepartSearchResult(), c.setAdvanceSearchFilterOptions(k.searchOptions.advanceFilterOptions), k.refreshCarousel(), r(function() {
                        k.filterCompleted = !1, n.$broadcast("gtd-search-completed-on", null), r(function() {
                            n.$broadcast("gtd-refresh-adv-search-result", null), O = !1
                        }, 100)
                    }, 1e3), s()
                }, 1e3))
            }, k.confirmBooking = function() {
                if (null === w) {
                    var e = "app/flights/search/flight.search.confirmbooking.html";
                    "international" == k.searchOptions.dtype && (e = "app/flights/search/flight.search.confirmbooking.international.html"), w = o.open({
                        animation: !0,
                        backdrop: "static",
                        templateUrl: e,
                        controller: "FlightSearchConfirmBookingController",
                        controllerAs: "vm",
                        windowClass: "tiki-hidden-modal",
                        resolve: {
                            translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                                return t.addPart("flight"), e.refresh()
                            }],
                            searchOptions: function() {
                                return k.searchOptions
                            },
                            currentGroupItem: function() {
                                return k.currentGroupItem
                            },
                            currentPricedItinerary: function() {
                                return k.currentPricedItinerary
                            }
                        }
                    }), w.result.then(I, I)
                }
            }, k.nextPage = function() {
                if (!(k.busy || "international" == k.searchOptions.dtype && 2 == k.searchOptions.selectStep || p.isLastPage(k.searchResult.page))) {
                    k.busy = !0, k.searchOptions.page++;
                    var e = d.searchFlightInCache(k.searchOptions);
                    e.then(function(e) {
                        angular.forEach(e.groupPricedItineraries, function(e) {
                            k.searchResult.groupPricedItineraries.push(e)
                        }), k.searchResult.page = e.page, k.busy = !1
                    })
                }
            }, k.setSort = function(e, t) {
                k.searchOptions.sortField = e, "departureDate" == e ? ("asc" == k.searchOptions.departureDateDir ? k.searchOptions.departureDateDir = "desc" : k.searchOptions.departureDateDir = "asc", k.searchOptions.sortDir = k.searchOptions.departureDateDir) : "arrivalDate" == e ? ("asc" == k.searchOptions.arrivalDateDir ? k.searchOptions.arrivalDateDir = "desc" : k.searchOptions.arrivalDateDir = "asc", k.searchOptions.sortDir = k.searchOptions.arrivalDateDir) : "duration" == e ? ("asc" == k.searchOptions.durationDir ? k.searchOptions.durationDir = "desc" : k.searchOptions.durationDir = "asc", k.searchOptions.sortDir = k.searchOptions.durationDir) : "price" == e && ("asc" == k.searchOptions.priceDir ? k.searchOptions.priceDir = "desc" : k.searchOptions.priceDir = "asc", k.searchOptions.sortDir = k.searchOptions.priceDir)
            }, k.showSFlight = function(e) {
                $(e.target).toggleClass("clicked"), $(e.target).parent().find(".list-search-item").slideToggle(0)
            }, k.sort = function() {
                if ("international" == k.searchOptions.dtype && 2 == k.searchOptions.selectStep) {
                    k.searchOptions.page = 0;
                    var e = d.searchGroupDetail(k.searchOptions);
                    return void e.then(function(e) {
                        var t = c.getReturnSearchResult();
                        t.groupPricedItineraries = [], t.groupPricedItineraries.push(e.groupPricedItinerary), k.searchResult = t, c.setReturnSearchResult(t)
                    })
                }
                k.searchOptions.page = 0;
                var e = d.searchFlightInCache(k.searchOptions);
                e.then(function(e) {
                    k.searchResult = e, k.searchResult.page = e.page, k.searchOptions.searchId = e.searchId, k.busy = !1
                })
            }, k.loadMore = function(e, t) {
                if (!k.busy) {
                    k.busy = !0, k.searchOptions.groupId = t.groupId, k.searchOptions.loadMore = !0;
                    var a = d.searchGroupDetail(k.searchOptions);
                    a.then(function(t) {
                        k.searchOptions.loadMore = !1, angular.element(e.target).closest(".search-result-item").find(".list-search-item.multiple").addClass("showed"), k.busy = !1
                    }, function(e) {
                        k.searchOptions.loadMore = !1
                    })
                }
            }, k.loadLess = function(e, t) {
                k.searchOptions.groupId = t.groupId, t.pricedItineraries = [t.pricedItineraries[0]], angular.element(e.target).closest(".search-result-item").find(".list-search-item.multiple").removeClass("showed")
            }, $(document).ready(function() {
                r(k.initControl(), 1e3)
            })
        }
        e.$inject = ["$location", "$cookies", "$log", "$rootScope", "$scope", "$uibModal", "$timeout", "$anchorScroll", "MetaData", "DataService", "Flight", "PaginationUtil", "DialogService", "IBE_KEYS", "$window", "MerchantService"];
        var t = {
            templateUrl: "app/components/flight/fsoft-flight-search-result.html",
            controller: e,
            bindings: {
                searchResult: "=",
                searchOptions: "=",
                filterCompleted: "=",
                searchCompleted: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFsoftFlightSearchResult", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m) {
            function h(e) {
                angular.forEach(e, function(e) {
                    return "MF" == e.airSupplier ? (b.classCarouselArrays = l.getClassInterAvailableOptions(), !0) : void(b.classCarouselArrays = l.getClassAvailableOptions())
                })
            }

            function v(e) {
                if (1 == k && w > 0) {
                    var t = [];
                    return angular.forEach(e, function(e) {
                        "economy" != e.id && "promo" != e.id || t.push(e)
                    }), t
                }
                if (2 == k) {
                    var t = [];
                    return angular.forEach(e, function(e) {
                        "economy" != e.id && "promo" != e.id || t.push(e)
                    }), t
                }
                return 1 == k && 0 == w ? b.classCarouselArrays : b.classCarouselArrays
            }

            function f(e) {
                if (1 == k && w > 0) {
                    var t = 0;
                    e && e.length > 0 && (t = parseFloat(b.airlineCarouselArrays[0].price));
                    var a = [];
                    return angular.forEach(e, function(e) {
                        "VN" != e.id && "VJ" != e.id && "0V" != e.id || (0 == t || e.price <= t + t * w / 100) && a.push(e)
                    }), a
                }
                if (2 == k) {
                    var a = [];
                    return angular.forEach(e, function(e) {
                        "VN" != e.id && "VJ" != e.id && "0V" != e.id || a.push(e)
                    }), a
                }
                if (1 == k && 0 == w) {
                    var a = [];
                    return angular.forEach(e, function(e) {
                        "VN" != e.id && "0V" != e.id || a.push(e)
                    }), a
                }
                return e
            }
            var b = this;
            b.chieuBay = 0, i.ibeKeys = d;
            var y = m.getMerchant(),
                k = +b.searchOptions.RoleLevel,
                w = +b.searchOptions.NCRange;
            b.filterClass = v, b.filterAirline = f, b.loadMore = !1, b.showAdv = !0, b.isMobile = p.isMobileDevice(), b.class_single_web = "", y && (b.class_single_web += y, g[y] ? b.enable_template = !1 : b.enable_template = !0), b.init = function() {
                "E" != b.searchOptions.class && "B" != b.searchOptions.class || ("E" == b.searchOptions.class && (b.searchOptions.className = "economy"), "B" == b.searchOptions.class && (b.searchOptions.className = "business"), h(b.searchResult.groupPricedItineraries), b.airlineCarouselArrays || (b.airlineCarouselArrays = l.getAirlineAvailableOptions()), angular.forEach(b.classCarouselArrays, function(e) {
                    e.id == b.searchOptions.className && (e.checked = !0), e.checked = !0
                }), b.searchOptions.sortField = "price", b.searchOptions.sortDir = "asc", b.doFilter(), b.needSetupClass = !0)
            }, i.$on("gtd-refresh-adv-search-result", function() {
                b.resetFilter()
            }), i.$watch(function(e) {
                return b.searchOptions.selectStep
            }, function(e, t) {
                2 == b.searchOptions.selectStep ? angular.forEach(b.classCarouselArrays, function(e) {
                    e.checked = !1
                }) : angular.forEach(b.classCarouselArrays, function(e) {
                    e.id == b.searchOptions.className && (e.checked = !0)
                })
            }), i.$watch(function(e) {
                return b.searchOptions.advanceFilterOptions
            }, function(e, t) {
                b.transitCarouselArrays = l.getTransitAvailableOptions(), b.airlineCarouselArrays = l.getAirlineAvailableOptions(), angular.forEach(b.airlineCarouselArrays, function(e) {
                    b.searchOptions.selectAirlines && b.searchOptions.selectAirlines.indexOf(e.id) != -1 && (e.checked = !0)
                }), b.fromTimeCarouselArrays = l.getTimeAvailableOptions(), b.toTimeCarouselArrays = l.getTimeAvailableOptions(), b.fromTimeReturnCarouselArrays = l.getTimeAvailableOptions(), b.toTimeReturnCarouselArrays = l.getTimeAvailableOptions(), b.policyArrays = l.getTicketPolicyOptions(), b.setupAdvFilter()
            }), i.$on("gtd-select-airline", function(e, t) {
                b.airlineCarouselArrays = l.getAirlineAvailableOptions(), angular.forEach(b.airlineCarouselArrays, function(e) {
                    e.id == t.trim() && (e.checked = !0)
                }), b.searchOptions.sortField = "departureDate", b.searchOptions.sortDir = "asc", b.doFilter()
            }), b.resetFilter = function() {
                angular.forEach(b.transitCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(b.airlineCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(b.classCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(b.fromTimeCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(b.toTimeCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(b.fromTimeReturnCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(b.toTimeReturnCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(b.policyArrays, function(e) {
                    e.checked = !1
                }), b.doFilter()
            }, b.setupAdvFilter = function() {
                var e = [],
                    t = [],
                    a = [],
                    n = [],
                    i = [],
                    o = [],
                    r = [],
                    s = [];
                angular.forEach(b.transitCarouselArrays, function(t) {
                    1 == t.checked && e.push(t.id)
                }), angular.forEach(b.fromTimeCarouselArrays, function(e) {
                    1 == e.checked && n.push(e.val)
                }), angular.forEach(b.toTimeCarouselArrays, function(e) {
                    1 == e.checked && i.push(e.val)
                }), angular.forEach(b.fromTimeReturnCarouselArrays, function(e) {
                    1 == e.checked && o.push(e.val)
                }), angular.forEach(b.toTimeReturnCarouselArrays, function(e) {
                    1 == e.checked && r.push(e.val)
                }), angular.forEach(b.airlineCarouselArrays, function(e) {
                    1 == e.checked && t.push(e.id)
                }), angular.forEach(b.classCarouselArrays, function(e) {
                    1 == e.checked && a.push(e.id)
                }), angular.forEach(b.policyArrays, function(e) {
                    1 == e.checked && s.push(e.id)
                }), b.searchOptions.advanceFilters = {
                    stopOptions: e,
                    airlineOptions: t,
                    cabinClassOptions: a,
                    ticketPolicyOptions: s,
                    departureDateTimeOptions: n,
                    arrivalDateTimeOptions: i,
                    departureDateTimeReturnOptions: o,
                    arrivalDateTimeReturnOptions: r,
                    flightType: b.searchOptions.dtype
                }
            }, b.doFilter = function() {
                if ($(".formFilter").removeClass("show"), $(".sm-form-filter").hide(), b.filterCompleted = !1, r.$broadcast("gtd-filter-completed-off", null), r.$broadcast("gtd-adv-do-filter", null), b.searchCompleted) {
                    if (b.setupAdvFilter(), "international" == b.searchOptions.dtype && 2 == b.searchOptions.selectStep) {
                        b.searchOptions.page = 0;
                        var e = l.searchGroupDetail(b.searchOptions);
                        return void e.then(function(e) {
                            var t = c.getReturnSearchResult();
                            t.groupPricedItineraries = [], t.groupPricedItineraries.push(e.groupPricedItinerary), t.page = e.page, b.searchResult = t, c.setReturnSearchResult(t), o(function() {
                                b.filterCompleted = !0, r.$broadcast("gtd-filter-completed-on", null)
                            }, 1e3)
                        })
                    }
                    b.searchOptions.page = 0;
                    var e = l.searchFlightInCache(b.searchOptions);
                    e.then(function(e) {
                        b.searchResult = e, b.searchResult.page = e.page, e.searchId && (b.searchOptions.searchId = e.searchId), b.busy = !1, o(function() {
                            b.filterCompleted = !0, r.$broadcast("gtd-filter-completed-on", null)
                        }, 1e3)
                    })
                }
            }, b.init()
        }
        e.$inject = ["$localStorage", "$location", "$cookies", "$log", "$scope", "$timeout", "$rootScope", "MetaData", "Flight", "DataService", "IBE_KEYS", "ValidationUtils", "ThemeCfg", "TEMPLATE_URL", "MerchantService"];
        var t = {
            templateUrl: "app/components/flight/fsoft-flight-search-adv.html",
            controller: e,
            bindings: {
                searchResult: "=",
                searchOptions: "=",
                filterCompleted: "=",
                searchCompleted: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFsoftFlightSearchAdv", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m) {
            function h() {
                var e = y.searchOptions.RoleLevel,
                    t = y.searchOptions.NCRange;
                if (1 == e && t > 0) {
                    var a = [],
                        n = [];
                    angular.forEach(y.airlineCarouselArrays, function(e) {
                        "VN" != e.id && "VJ" != e.id && "0V" != e.id || a.push(e)
                    }), angular.forEach(y.classCarouselArrays, function(e) {
                        "economy" != e.id && "promo" != e.id || n.push(e)
                    }), y.airlineCarouselArrays = a, y.classCarouselArrays = n
                }
                if (2 == e) {
                    var a = [],
                        n = [];
                    angular.forEach(y.airlineCarouselArrays, function(e) {
                        "VN" != e.id && "VJ" != e.id && "0V" != e.id || a.push(e)
                    }), angular.forEach(y.classCarouselArrays, function(e) {
                        "economy" != e.id && "promo" != e.id || n.push(e)
                    }), y.airlineCarouselArrays = a, y.classCarouselArrays = n
                }
                if (1 == e && 0 == t) {
                    var a = [];
                    angular.forEach(y.airlineCarouselArrays, function(e) {
                        "VN" != e.id && "0V" != e.id || a.push(e)
                    }), y.airlineCarouselArrays = a
                }
            }

            function v(e, t) {
                var a = {},
                    n = c.getReturnSearchOption(),
                    i = c.getDepartSearchOption();
                n.departureItinerary = {
                    airlineCode: e.airline,
                    fareSourceCode: t.airItineraryPricingInfo.fareSourceCode,
                    groupId: e.groupId,
                    searchId: i.searchId,
                    supplierCode: e.airSupplier
                }, n.returnDomestic = !0, y.searchOptions.departureItinerary = n.departureItinerary, y.searchOptions.returnDomestic = n.returnDomestic, d.searchFlightInCache(n).then(function(i) {
                    a = i, n.searchId = i.searchId, d.getAdvanceFilterOptions(n).then(function(i) {
                        c.setAdvanceSearchFilterOptions(i), n.advanceFilterOptions = i, n.returnSearchCompleted = !0, c.setReturnSearchResult(a), c.setReturnSearchOption(n), y.searchOptions.advanceFilterOptions = n.advanceFilterOptions, y.searchOptions.returnSearchCompleted = n.returnSearchCompleted, y.moveToStep2(e, t)
                    }, function(e) {
                        n.returnSearchCompleted = !0, c.setReturnSearchOption(n), g.openHttpAlertDilalog(i)
                    })
                })
            }

            function f(e, t, a) {
                if (a && a.page && a.page.totalElements > 0) {
                    var n = a.groupPricedItineraries,
                        i = [];
                    if (1 == e && t > 0) {
                        var o = 0;
                        1 == y.airlineCarouselArrays.length ? o = parseFloat(y.airlineCarouselArrays[0].price) : angular.forEach(y.airlineCarouselArrays, function(e) {
                            "VJ" == e.id && (o = parseFloat(e.price))
                        });
                        var r = o + o * t / 100;
                        angular.forEach(y.airlineCarouselArrays, function(e, t) {
                            parseFloat(e.price) > r && y.airlineCarouselArrays.splice(t, 1)
                        });
                        for (var s = 0; s < n.length; s++) {
                            var l = n[s].pricedItineraries[0].airItineraryPricingInfo.itinTotalFare.totalFare.amount;
                            l <= r && ("VJ" != n[s].airSupplier && "VN" != n[s].airSupplier && "0V" != n[s].airSupplier || i.push(n[s]))
                        }
                        a.groupPricedItineraries = i
                    }
                    if (2 == e && ("VJ" != n[s].airSupplier && "VN" != n[s].airSupplier && "0V" != n[s].airSupplier || i.push(n[s]), a.groupPricedItineraries = i), 1 == e && 0 == t) {
                        for (var s = 0; s < n.length; s++) {
                            var c = n[s].airSupplier;
                            "VN" != c && "0V" != c || i.push(n[s])
                        }
                        a.groupPricedItineraries = i
                    }
                }
            }

            function b(e, t, a) {
                if (1 == e && t > 0) {
                    var n = 0;
                    1 == y.airlineCarouselArrays.length ? n = parseFloat(y.airlineCarouselArrays[0].price) : angular.forEach(y.airlineCarouselArrays, function(e) {
                        "VJ" == e.id && (n = parseFloat(e.price))
                    });
                    var i = n + n * t / 100,
                        o = a.airItineraryPricingInfo.itinTotalFare.totalFare.amount;
                    return o <= i
                }
                return 2 == e || (1 == e && 0 == t || void 0)
            }
            var y = this;
            y.merchantCode = e.search().merchant_code, y.merchantCode || (y.merchantCode = t.get("merchant_code") || localStorage.getItem("merchant_code")), i.ibeKeys = u;
            var k = null,
                w = function() {
                    k = null
                };
            y.airlineIdx = 1, y.busy = !1, y.showCarousel = !0, y.searchOptions.departureDateDir = "desc", y.searchOptions.arrivalDateDir = "desc", y.searchOptions.durationDir = "desc", y.searchOptions.priceDir = "asc", y.returnSearchOptions = c.getReturnSearchOption(), y.returnSearchResult = c.getReturnSearchResult(), y.departSearchOptions = c.getDepartSearchOption(), y.departSearchResult = c.getDepartSearchResult(), y.departPricedItinerary = c.getDepartPricedItinerary(), y.departGroupItem = c.getDepartGroupItem(), y.orgDepartPricedItinerary = c.getOrgDepartPricedItinerary(), y.orgDepartGroupItem = c.getOrgDepartGroupItem(), y.slickConfig = {
                enabled: !0,
                slidesToShow: 4,
                slidesToScroll: 1,
                prevArrow: "<button type='button' class='slick-prev pull-left'><i class='fa fa-angle-left' aria-hidden='true'></i></button>",
                nextArrow: "<button type='button' class='slick-next pull-right'><i class='fa fa-angle-right' aria-hidden='true'></i></button>",
                infinite: !1,
                method: {},
                event: {
                    init: function(e, t) {}
                }
            }, y.searchOptions.selectStep || (y.searchOptions.selectStep = 1), i.$watch(function(e) {
                return y.searchOptions.advanceFilterOptions
            }, function(e, t) {
                y.airlineCarouselArrays = d.getAirlineAvailableOptions(), y.merchantCode && "FSOFT" == y.merchantCode && h(), angular.forEach(y.airlineCarouselArrays, function(e) {
                    y.searchOptions.selectAirlines && y.searchOptions.selectAirlines.indexOf(e.id) != -1 && (a.log("101Danhnc" + e.id), e.checked = !0)
                }), r(y.initControl(), 1e3)
            }), i.$watch(function(e) {
                return y.searchResult
            }, function(e, t) {
                a.log("ICOMEHERE searchResult for carousel change"), a.log(t), a.log(e), t !== e && t.searchId == e.searchId || (a.log("REFRESH CAROUSEL ++++++++ "), r(function() {
                    n.$broadcast("gtd-refresh-airline-carousel", null)
                }, 1e3))
            }), y.initControl = function() {
                a.log("3")
            }, i.$on("gtd-refresh-airline-carousel", function() {
                a.log("On event: gtd-refresh-airline-carousel"), y.refreshCarousel()
            }), i.$on("gtd-search-domestic-return-completed", function() {
                a.log("On event: gtd-search-domestic-return-completed")
            }), y.refreshCarousel = function() {
                y.showCarousel = !1, r(function() {
                    r(function() {
                        a.log("Refresh carousel: ctrl.airlineCarouselArrays = "), a.log(y.airlineCarouselArrays), y.showCarousel = !0, r(function() {
                            $(".slick-slider").on("click", ".slick-slide", function(e, t) {
                                var a = $(e.currentTarget).find("div.airline-code-hid").html();
                                n.$broadcast("gtd-select-airline", a)
                            })
                        }, 1e3)
                    }, 100)
                }, 100)
            }, y.moveToStep2 = function(e, t) {
                if (n.$broadcast("gtd-filter-completed-off", null), y.currentGroupItem = e, y.currentPricedItinerary = t, y.searchOptions.searchId = c.getReturnSearchOption().searchId, y.searchOptions.advanceFilterOptions = c.getReturnSearchOption().advanceFilterOptions, y.searchResult = c.getReturnSearchResult(), y.searchOptions.advanceFilters && (y.searchOptions.advanceFilters.stopOptions = [], y.searchOptions.advanceFilters.airlineOptions = [], y.searchOptions.advanceFilters.cabinClassOptions = [], y.searchOptions.advanceFilters.ticketPolicyOptions = [], y.searchOptions.advanceFilters.departureDateTimeOptions = [], y.searchOptions.advanceFilters.arrivalDateTimeOptions = [], y.searchOptions.advanceFilters.departureDateTimeReturnOptions = [], y.searchOptions.advanceFilters.arrivalDateTimeReturnOptions = []), c.setDepartGroupItem(e), c.setDepartPricedItinerary(t), c.setOrgDepartGroupItem(e), c.setOrgDepartPricedItinerary(t), y.departGroupItem = e, y.departPricedItinerary = t, y.orgDepartGroupItem = e, y.orgDepartPricedItinerary = t, y.returnSearchOptions = c.getReturnSearchOption(), a.log("moveToStep2 - searchOptions.searchSpecialType=" + y.searchOptions.searchSpecialType), "international" == y.searchOptions.searchSpecialType) {
                    y.searchOptions.groupId = e.groupId, y.searchOptions.minPrice = t.airItineraryPricingInfo.itinTotalFare.totalFare.amount, y.searchOptions.priceItineraryId = t.sequenceNumber, y.searchResult && (y.searchResult.groupPricedItineraries = []), a.log("moveToStep2 - Flight.searchGroupDetail...");
                    var i = d.searchGroupDetail(y.searchOptions);
                    i.then(function(e) {
                        if (y.merchantCode && "FSOFT" == y.merchantCode) {
                            var t = y.searchOptions.RoleLevel,
                                n = y.searchOptions.NCRange;
                            f(t, n, e)
                        }
                        var i = e;
                        a.log(i);
                        var o = c.getReturnSearchResult();
                        o.groupPricedItineraries = [], o.groupPricedItineraries.push(e.groupPricedItinerary), y.searchResult = o, c.setReturnSearchResult(o)
                    })
                }
                y.searchOptions.selectStep = 2, r(function() {
                    n.$broadcast("gtd-refresh-adv-search-result", null)
                }, 1e3), y.refreshCarousel(), s()
            }, y.bookingClicked = function(e, t) {
                if (y.currentGroupItem = e, y.currentPricedItinerary = t, "oneway" == y.searchOptions.searchSpecialType) c.setDepartGroupItem(e), c.setDepartPricedItinerary(t), y.confirmBooking();
                else if ("international-fake" == y.searchOptions.searchSpecialType) c.setDepartGroupItem(e), c.setDepartPricedItinerary(t), c.setReturnGroupItem(e), c.setReturnPricedItinerary(t), y.confirmBooking();
                else if (1 == y.searchOptions.selectStep) "domestic" == y.searchOptions.searchSpecialType ? v(e, t) : y.moveToStep2(e, t);
                else {
                    var a = e,
                        n = t;
                    "international" == y.searchOptions.searchSpecialType && (a = jQuery.extend({}, e), n = jQuery.extend({}, t), a.originLocationCode = e.destinationLocationCode, a.originLocationName = e.destinationLocationName, a.originCity = e.destinationCity, a.departureDateTime = e.arrivalDateTime, a.destinationLocationCode = e.originLocationCode, a.destinationLocationName = e.originLocationName, a.destinationCity = e.originCity, a.arrivalDateTime = e.departureDateTime), c.setReturnGroupItem(a), c.setReturnPricedItinerary(n), "international" == y.searchOptions.searchSpecialType && c.setDepartPricedItinerary(n), y.returnGroupItem = a, y.returnPricedItinerary = n, y.confirmBooking()
                }
            };
            var I = !1;
            y.changeFlight = function() {
                I || (I = !0, r(function() {
                    n.$broadcast("gtd-filter-completed-off", null), y.searchOptions.selectStep = 1, y.searchOptions.returnDomestic = !1, y.searchOptions.advanceFilterOptions = c.getDepartSearchOption().advanceFilterOptions, y.searchOptions.searchId = c.getDepartSearchOption().searchId, y.searchResult = c.getDepartSearchResult(), a.log("DataService.getDepartSearchResult() = "), a.log(y.searchResult), c.setAdvanceSearchFilterOptions(y.searchOptions.advanceFilterOptions), y.refreshCarousel(), r(function() {
                        y.filterCompleted = !1, n.$broadcast("gtd-search-completed-on", null), r(function() {
                            n.$broadcast("gtd-refresh-adv-search-result", null), I = !1
                        }, 100)
                    }, 1e3), s()
                }, 1e3))
            }, y.confirmBooking = function() {
                if (null === k) {
                    var e = "app/flights/search/flight.search.confirmbooking.html";
                    "international" == y.searchOptions.dtype && (e = "app/flights/search/flight.search.confirmbooking.international.html"), k = o.open({
                        animation: !0,
                        backdrop: "static",
                        templateUrl: e,
                        controller: "FlightSearchConfirmBookingController",
                        controllerAs: "vm",
                        windowClass: "hidden-modal",
                        resolve: {
                            translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                                return t.addPart("flight"), e.refresh()
                            }],
                            searchOptions: function() {
                                return y.searchOptions
                            },
                            currentGroupItem: function() {
                                return y.currentGroupItem
                            },
                            currentPricedItinerary: function() {
                                return y.currentPricedItinerary
                            }
                        }
                    }), k.result.then(w, w)
                }
            }, y.nextPage = function() {
                if (a.log("Go to Next Page: "), !(y.busy || "international" == y.searchOptions.dtype && 2 == y.searchOptions.selectStep || p.isLastPage(y.searchResult.page))) {
                    y.busy = !0, y.searchOptions.page++;
                    var e = d.searchFlightInCache(y.searchOptions);
                    e.then(function(e) {
                        if (y.merchantCode && "FSOFT" == y.merchantCode) {
                            var t = y.searchOptions.RoleLevel,
                                n = y.searchOptions.NCRange;
                            f(t, n, e)
                        }
                        angular.forEach(e.groupPricedItineraries, function(e) {
                            y.searchResult.groupPricedItineraries.push(e)
                        }), y.searchResult.page = e.page, a.log("Get result from flight.search.service"), a.log(y.searchResult), y.busy = !1
                    })
                }
            }, y.setSort = function(e, t) {
                y.searchOptions.sortField = e, "departureDate" == e ? ("asc" == y.searchOptions.departureDateDir ? y.searchOptions.departureDateDir = "desc" : y.searchOptions.departureDateDir = "asc", y.searchOptions.sortDir = y.searchOptions.departureDateDir) : "arrivalDate" == e ? ("asc" == y.searchOptions.arrivalDateDir ? y.searchOptions.arrivalDateDir = "desc" : y.searchOptions.arrivalDateDir = "asc",
                    y.searchOptions.sortDir = y.searchOptions.arrivalDateDir) : "duration" == e ? ("asc" == y.searchOptions.durationDir ? y.searchOptions.durationDir = "desc" : y.searchOptions.durationDir = "asc", y.searchOptions.sortDir = y.searchOptions.durationDir) : "price" == e && ("asc" == y.searchOptions.priceDir ? y.searchOptions.priceDir = "desc" : y.searchOptions.priceDir = "asc", y.searchOptions.sortDir = y.searchOptions.priceDir)
            }, y.showSFlight = function(e) {
                $(e.target).toggleClass("clicked"), $(e.target).parent().find(".list-search-item").slideToggle(0)
            }, y.sort = function() {
                if (a.log("sort - searchOptions.searchSpecialType=" + y.searchOptions.searchSpecialType), "international" == y.searchOptions.dtype && 2 == y.searchOptions.selectStep) {
                    y.searchOptions.page = 0, a.log("sort - Flight.searchGroupDetail...");
                    var e = d.searchGroupDetail(y.searchOptions);
                    return void e.then(function(e) {
                        if (y.merchantCode && "FSOFT" == y.merchantCode) {
                            var t = y.searchOptions.RoleLevel,
                                n = y.searchOptions.NCRange;
                            f(t, n, e)
                        }
                        var i = e;
                        a.log(i);
                        var o = c.getReturnSearchResult();
                        o.groupPricedItineraries = [], o.groupPricedItineraries.push(e.groupPricedItinerary), y.searchResult = o, c.setReturnSearchResult(o)
                    })
                }
                y.searchOptions.page = 0;
                var e = d.searchFlightInCache(y.searchOptions);
                e.then(function(e) {
                    if (y.merchantCode && "FSOFT" == y.merchantCode) {
                        var t = y.searchOptions.RoleLevel,
                            n = y.searchOptions.NCRange;
                        f(t, n, e)
                    }
                    y.searchResult = e, y.searchResult.page = e.page, y.searchOptions.searchId = e.searchId, a.log("Get result from flight.search.service"), a.log(y.searchResult), y.busy = !1
                })
            }, y.loadMore = function(e, t) {
                if (!y.busy) {
                    a.log("groupItem: "), a.log(t), y.busy = !0, y.searchOptions.groupId = t.groupId, y.searchOptions.loadMore = !0, a.log("loadMore - searchOptions.searchSpecialType=" + y.searchOptions.searchSpecialType + " - Flight.searchGroupDetail...");
                    var n = d.searchGroupDetail(y.searchOptions);
                    n.then(function(n) {
                        y.searchOptions.loadMore = !1, angular.forEach(n.groupPricedItinerary.pricedItineraries, function(e) {
                            if (e.sequenceNumber != t.pricedItineraries[0].sequenceNumber)
                                if (y.merchantCode && "FSOFT" == y.merchantCode) {
                                    var a = b(y.searchOptions.RoleLevel, y.searchOptions.NCRange, e);
                                    a && t.pricedItineraries.push(e)
                                } else t.pricedItineraries.push(e)
                        }), a.log("Get result from flight.search.service"), a.log(y.searchResult), angular.element(e.target).closest(".search-result-item").find(".list-search-item.multiple").addClass("showed"), y.busy = !1
                    }, function(e) {
                        y.searchOptions.loadMore = !1
                    })
                }
            }, y.loadLess = function(e, t) {
                y.searchOptions.groupId = t.groupId, t.pricedItineraries = [t.pricedItineraries[0]], angular.element(e.target).closest(".search-result-item").find(".list-search-item.multiple").removeClass("showed")
            }, $(document).ready(function() {
                r(y.initControl(), 1e3)
            })
        }
        e.$inject = ["$location", "$cookies", "$log", "$rootScope", "$scope", "$uibModal", "$timeout", "$anchorScroll", "MetaData", "DataService", "Flight", "PaginationUtil", "DialogService", "IBE_KEYS", "$window"];
        var t = {
            templateUrl: "app/components/flight/flight-search-result.html",
            controller: e,
            bindings: {
                searchResult: "=",
                searchOptions: "=",
                filterCompleted: "=",
                searchCompleted: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightSearchResult", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m) {
            var h = this;
            h.iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream, o.setNewStartTransactionTime();
            var v = null,
                f = function() {
                    v = null
                };
            h.searchOptions || (h.searchOptions = o.getSearchOption(), h.searchOptions.searchType || (h.searchOptions.searchType = "oneway"), h.searchOptions.dtype || (h.searchOptions.dtype = "domestic"), h.searchOptions.size = g, h.searchOptions.page = 0, h.searchOptions.adultNo || (h.searchOptions.adultNo = 1)), h.initControl = function() {
                d(function() {
                    $("#fromAirPort").trigger("change"), $("#toAirPort").trigger("change"), angular.element($("#adultNo")).triggerHandler("change"), angular.element($("#childrenNo")).triggerHandler("change")
                }, 1e3)
            }, h.doSearchImpl = function() {
                if ($("#roundtrip").hasClass("selected") && (h.searchOptions.searchType = "roundtrip"), $("#oneway").hasClass("selected") && (h.searchOptions.searchType = "oneway"), a.$broadcast("event-close-confirm-booking", null), o.setNewStartTransactionTime(), p.validateFlightSearch(h.searchOptions)) {
                    h.searchOptions.page = 0, h.searchOptions.size = g;
                    var t = (h.searchOptions.searchType, h.getSearchSpecialType());
                    h.searchOptions.searchSpecialType = t, h.searchOptions.selectStep = 1, h.searchOptions.returnDomestic = !1, h.searchOptions.departureItinerary = {}, h.searchOptions.returnSearchId = null, h.searchOptions.searchId = null, h.searchOptions.ssrOfferItemsDepart = [], h.searchOptions.ssrOfferItemsReturn = [], h.searchOptions.airLine = [], this.open(), e.log("$ctrl.searchOptions.toAirPort =" + h.searchOptions.toAirPort), e.log("$ctrl.searchOptions.fromAirPort =" + h.searchOptions.fromAirPort), o.setSearchOption(h.searchOptions), o.setSearchResult(h.searchResult), o.setSavedSearchOption(jQuery.extend({}, h.searchOptions));
                    var n = jQuery.extend({}, h.searchOptions),
                        i = jQuery.extend({}, h.searchResult);
                    if (n.departureDate = h.searchOptions.departureDate, n.fromAirPort = h.searchOptions.fromAirPort, n.toAirPort = h.searchOptions.toAirPort, "international" == n.dtype) {
                        var r = c.searchFlightInternational(n);
                        r.then(function(t) {
                            h.searchResult = t, i = t, h.searchOptions.searchId = t.searchId, n.searchId = t.searchId, e.log("Get result from flight.search.service"), c.getAdvanceFilterOptions(h.searchOptions).then(function(e) {
                                o.setAdvanceSearchFilterOptions(e), h.searchOptions.advanceFilterOptions = e, n.advanceFilterOptions = e, o.setDepartSearchResult(i), o.setDepartSearchOption(n);
                                var t = jQuery.extend({}, i),
                                    a = jQuery.extend({}, n);
                                o.setReturnSearchResult(t), o.setReturnSearchOption(a), h.doSearch({
                                    $searchResult: h.searchResult,
                                    $searchOptions: h.searchOptions
                                })
                            })
                        }, function(e) {
                            l.openHttpAlertDilalog(e)
                        })
                    } else {
                        var s = m.getMerchant();
                        "FSOFT" == s && (n.suppliers = m.filterArraySupplier());
                        var r = c.searchFlight(n);
                        r.then(function(t) {
                            if (h.searchResult = t, i = t, h.searchOptions.searchId = t.searchId, h.searchOptions.returnSearchId = t.returnSearchId, n.searchId = t.searchId, e.log("Get result from flight.search.service"), c.getAdvanceFilterOptions(h.searchOptions).then(function(e) {
                                    o.setAdvanceSearchFilterOptions(e), h.searchOptions.advanceFilterOptions = e, n.advanceFilterOptions = e, o.setDepartSearchResult(i), o.setDepartSearchOption(n), h.doSearch({
                                        $searchResult: h.searchResult,
                                        $searchOptions: h.searchOptions
                                    })
                                }), "roundtrip" == h.searchOptions.searchType) {
                                var a = jQuery.extend({}, h.searchOptions);
                                jQuery.extend({}, h.searchResult);
                                a.departureDate = h.searchOptions.returnDate, a.returnDate = h.searchOptions.returnDate, a.fromAirPort = h.searchOptions.toAirPort, a.toAirPort = h.searchOptions.fromAirPort, a.searchId = t.returnSearchId, o.setReturnSearchOption(a)
                            }
                        }, function(e) {
                            l.openHttpAlertDilalog(e)
                        })
                    }
                }
            }, h.open = function() {
                null === v && (v = n.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/search/flight.search.loading.html",
                    controller: "FlightSearchLoadingController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        searchOptions: function() {
                            return h.searchOptions
                        }
                    }
                }), v.result.then(f, f))
            }, h.getSearchSpecialType = function() {
                var e = (h.searchOptions.searchType, h.searchOptions.dtype);
                return "roundtrip" != h.searchOptions.searchType ? "oneway" : e
            };
            var b = !1;
            h.switchTypeAhead = function() {
                if (!b) {
                    b = !0;
                    var e = h.searchOptions.toAirPort,
                        t = h.searchOptions.fromAirPort;
                    h.searchOptions.fromAirPort = e, d(function() {
                        h.searchOptions.toAirPort = t, d(function() {
                            b = !1
                        }, 100)
                    }, 100)
                }
            }, h.searchAirports = function(e, t) {
                return "domestic" == h.searchOptions.dtype ? s.searchAirportsLocal("VN") : s.searchAirportsWithout(e, h.searchOptions, t)
            }, h.formatLabel = function(e) {
                var t = r.getLocalAirports();
                for (var a in t)
                    if (t[a].code == e) return t[a].city + " (" + t[a].code + "), " + t[a].country;
                return e
            }, h.$postLink = function() {
                d(function() {
                    h.initControl()
                }, 0), h.init && !h.searchCompleted && (e.log("+++++++++++++++ SEARCH AGAIN ++++++++++++++++"), e.log("ctrl.init:" + h.init + ", ctrl.searchCompleted:" + h.searchCompleted), h.doSearchImpl(), d(function() {
                    h.searchCompleted = !0, a.$broadcast("gtd-flight-search-header-serch-completed", null)
                }, 100))
            }, t.changeSelect = function(e) {
                $(".flight-search-header .selectType").removeClass("selected"), $(".flight-search-header .select-" + e).addClass("selected"), "roundtrip" == e ? $(".flight-search-header .itemDatetime").removeClass("disable") : $(".flight-search-header .itemDatetime").addClass("disable")
            }, t.$on("gtd-reinit-search", function() {
                e.log("gtd-reinit-search"), h.doSearchImpl()
            })
        }
        e.$inject = ["$log", "$scope", "$rootScope", "$uibModal", "$attrs", "DataService", "GlobalSrv", "MetaData", "DialogService", "Flight", "$timeout", "ValidationUtils", "DEFAULT_PAGE_SIZE", "DEFAULT_DATE_FORMAT", "MerchantService"];
        var t = {
            templateUrl: "app/components/flight/flight-search-header.html",
            controller: e,
            bindings: {
                searchType: "=",
                init: "=",
                searchCompleted: "=",
                doSearch: "&",
                searchResult: "=?searchResult",
                searchOptions: "=?searchOptions"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightSearchHeader", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            var n = this;
            n.popularPlaces = a.getPopularPlaces(), n.popularFlights = a.getPopularFlights(), n.popularHotels = a.getPopularHotels(), t.$on("$destroy", function() {
                n.popularPlaces = [], n.popularFlights = [], n.popularHotels = []
            })
        }
        var t = {
            templateUrl: "app/components/flight/flight-search-footer.html",
            controller: e
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightSearchFooter", t), e.$inject = ["$log", "$scope", "Flight"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            var o = this;
            o.activeDateIdx = 1, t.$watch(function(e) {
                return o.searchOptions.advanceFilterOptions
            }, function(t, a) {
                e.log("1d"), o.dateCarouselArrays = i.getDateAvailableOptions()
            })
        }
        e.$inject = ["$log", "$scope", "$timeout", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/flight/flight-search-date-paginator.html",
            controller: e,
            bindings: {
                searchResult: "=",
                searchOptions: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightSearchDatePaginator", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u) {
            function m() {
                var e = f.searchOptions.RoleLevel,
                    t = f.searchOptions.NCRange;
                if (1 == e && t > 0) {
                    var a = [],
                        n = [];
                    angular.forEach(f.airlineCarouselArrays, function(e) {
                        "VN" != e.id && "VJ" != e.id && "0V" != e.id || a.push(e)
                    }), angular.forEach(f.classCarouselArrays, function(e) {
                        "economy" != e.id && "promo" != e.id || n.push(e)
                    }), f.airlineCarouselArrays = a, f.classCarouselArrays = n
                }
                if (2 == e) {
                    var a = [],
                        n = [];
                    angular.forEach(f.airlineCarouselArrays, function(e) {
                        "VN" != e.id && "VJ" != e.id && "0V" != e.id || a.push(e)
                    }), angular.forEach(f.classCarouselArrays, function(e) {
                        "economy" != e.id && "promo" != e.id || n.push(e)
                    }), f.airlineCarouselArrays = a, f.classCarouselArrays = n
                }
                if (1 == e && 0 == t) {
                    var a = [];
                    angular.forEach(f.airlineCarouselArrays, function(e) {
                        "VN" != e.id && "0V" != e.id || a.push(e)
                    }), f.airlineCarouselArrays = a
                }
            }

            function h(e) {
                angular.forEach(e, function(e) {
                    return "MF" == e.airSupplier ? (f.classCarouselArrays = l.getClassInterAvailableOptions(), !0) : void(f.classCarouselArrays = l.getClassAvailableOptions())
                })
            }

            function v(e, t, a) {
                if (a && a.page && a.page.totalElements > 0) {
                    var n = a.groupPricedItineraries,
                        i = [];
                    if (1 == e && t > 0) {
                        var o = 0;
                        1 == f.airlineCarouselArrays.length ? o = parseFloat(f.airlineCarouselArrays[0].price) : angular.forEach(f.airlineCarouselArrays, function(e) {
                            "VJ" == e.id && (o = parseFloat(e.price))
                        });
                        var r = o + o * t / 100;
                        angular.forEach(f.airlineCarouselArrays, function(e, t) {
                            parseFloat(e.price) > r && f.airlineCarouselArrays.splice(t, 1)
                        });
                        for (var s = 0; s < n.length; s++) {
                            var l = n[s].pricedItineraries[0].airItineraryPricingInfo.itinTotalFare.totalFare.amount;
                            l <= r && ("VJ" != n[s].airSupplier && "VN" != n[s].airSupplier && "0V" != n[s].airSupplier || i.push(n[s]))
                        }
                        a.groupPricedItineraries = i
                    }
                    if (2 == e && ("VJ" != n[s].airSupplier && "VN" != n[s].airSupplier && "0V" != n[s].airSupplier || i.push(n[s]), a.groupPricedItineraries = i), 1 == e && 0 == t) {
                        for (var s = 0; s < n.length; s++) {
                            var c = n[s].airSupplier;
                            "VN" == c && i.push(n[s])
                        }
                        a.groupPricedItineraries = i
                    }
                }
            }
            var f = this;
            i.ibeKeys = d;
            var b = t.search().merchant_code;
            b || (b = a.get("merchant_code") || localStorage.getItem("merchant_code")), f.loadMore = !1, f.showAdv = !0, f.isMobile = p.isMobileDevice(), f.class_single_web = "";
            var y = a.get("merchant_code") || localStorage.getItem("merchant_code");
            y && (f.class_single_web += y, g[y] ? f.enable_template = !1 : f.enable_template = !0), f.init = function() {
                "E" != f.searchOptions.class && "B" != f.searchOptions.class || ("E" == f.searchOptions.class && (f.searchOptions.className = "economy"), "B" == f.searchOptions.class && (f.searchOptions.className = "business"), "MF" == f.searchResult.groupPricedItineraries[0].airSupplier ? f.classCarouselArrays = l.getClassInterAvailableOptions() : f.classCarouselArrays = l.getClassAvailableOptions(), f.airlineCarouselArrays = l.getAirlineAvailableOptions(), b && "FSOFT" == b && m(), angular.forEach(f.classCarouselArrays, function(e) {
                    e.id == f.searchOptions.className && (e.checked = !0), e.checked = !0
                }), f.searchOptions.sortField = "price", f.searchOptions.sortDir = "asc", f.doFilter(), f.needSetupClass = !0)
            }, i.$on("gtd-refresh-adv-search-result", function() {
                f.resetFilter()
            }), i.$watch(function(e) {
                return f.searchOptions.selectStep
            }, function(e, t) {
                2 == f.searchOptions.selectStep ? angular.forEach(f.classCarouselArrays, function(e) {
                    e.checked = !1
                }) : angular.forEach(f.classCarouselArrays, function(e) {
                    e.id == f.searchOptions.className && (e.checked = !0)
                })
            }), i.$watch(function(e) {
                return f.searchOptions.advanceFilterOptions
            }, function(e, t) {
                f.transitCarouselArrays = l.getTransitAvailableOptions(), f.airlineCarouselArrays = l.getAirlineAvailableOptions(), f.needSetupClass ? f.needSetupClass = !1 : h(f.searchResult.groupPricedItineraries), b && "FSOFT" == b && m(), angular.forEach(f.airlineCarouselArrays, function(e) {
                    f.searchOptions.selectAirlines && f.searchOptions.selectAirlines.indexOf(e.id) != -1 && (e.checked = !0)
                }), f.fromTimeCarouselArrays = l.getTimeAvailableOptions(), f.toTimeCarouselArrays = l.getTimeAvailableOptions(), f.fromTimeReturnCarouselArrays = l.getTimeAvailableOptions(), f.toTimeReturnCarouselArrays = l.getTimeAvailableOptions(), f.policyArrays = l.getTicketPolicyOptions(), n.log("ctrl.fromTimeCarouselArrays"), n.log(f.fromTimeCarouselArrays), f.setupAdvFilter()
            }), i.$on("gtd-select-airline", function(e, t) {
                f.airlineCarouselArrays = l.getAirlineAvailableOptions(), b && "FSOFT" == b && m(), angular.forEach(f.airlineCarouselArrays, function(e) {
                    e.id == t.trim() && (e.checked = !0)
                }), f.searchOptions.sortField = "departureDate", f.searchOptions.sortDir = "asc", f.doFilter()
            }), f.resetFilter = function() {
                angular.forEach(f.transitCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(f.airlineCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(f.classCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(f.fromTimeCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(f.toTimeCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(f.fromTimeReturnCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(f.toTimeReturnCarouselArrays, function(e) {
                    e.checked = !1
                }), angular.forEach(f.policyArrays, function(e) {
                    e.checked = !1
                }), f.doFilter()
            }, f.setupAdvFilter = function() {
                var e = [],
                    t = [],
                    a = [],
                    n = [],
                    i = [],
                    o = [],
                    r = [],
                    s = [];
                angular.forEach(f.transitCarouselArrays, function(t) {
                    1 == t.checked && e.push(t.id)
                }), angular.forEach(f.fromTimeCarouselArrays, function(e) {
                    1 == e.checked && n.push(e.val)
                }), angular.forEach(f.toTimeCarouselArrays, function(e) {
                    1 == e.checked && i.push(e.val)
                }), angular.forEach(f.fromTimeReturnCarouselArrays, function(e) {
                    1 == e.checked && o.push(e.val)
                }), angular.forEach(f.toTimeReturnCarouselArrays, function(e) {
                    1 == e.checked && r.push(e.val)
                }), angular.forEach(f.airlineCarouselArrays, function(e) {
                    1 == e.checked && t.push(e.id)
                }), angular.forEach(f.classCarouselArrays, function(e) {
                    1 == e.checked && a.push(e.id)
                }), angular.forEach(f.policyArrays, function(e) {
                    1 == e.checked && s.push(e.id)
                }), f.searchOptions.advanceFilters = {
                    stopOptions: e,
                    airlineOptions: t,
                    cabinClassOptions: a,
                    ticketPolicyOptions: s,
                    departureDateTimeOptions: n,
                    arrivalDateTimeOptions: i,
                    departureDateTimeReturnOptions: o,
                    arrivalDateTimeReturnOptions: r,
                    flightType: f.searchOptions.dtype
                }
            }, f.doFilter = function() {
                if ($(".formFilter").removeClass("show"), $(".sm-form-filter").hide(), f.filterCompleted = !1, r.$broadcast("gtd-filter-completed-off", null), r.$broadcast("gtd-adv-do-filter", null), f.searchCompleted) {
                    if (f.setupAdvFilter(), "international" == f.searchOptions.dtype && 2 == f.searchOptions.selectStep) {
                        f.searchOptions.page = 0;
                        var e = l.searchGroupDetail(f.searchOptions);
                        return void e.then(function(e) {
                            var t = c.getReturnSearchResult();
                            if (t.groupPricedItineraries = [], b && "FSOFT" == b) {
                                var a = f.searchOptions.RoleLevel,
                                    n = f.searchOptions.NCRange;
                                v(a, n, e)
                            }
                            t.groupPricedItineraries.push(e.groupPricedItinerary), t.page = e.page, f.searchResult = t, c.setReturnSearchResult(t), o(function() {
                                f.filterCompleted = !0, r.$broadcast("gtd-filter-completed-on", null)
                            }, 1e3)
                        })
                    }
                    f.searchOptions.page = 0;
                    var e = l.searchFlightInCache(f.searchOptions);
                    e.then(function(e) {
                        if (b && "FSOFT" == b) {
                            var t = f.searchOptions.RoleLevel,
                                a = f.searchOptions.NCRange;
                            v(t, a, e)
                        }
                        f.searchResult = e, f.searchResult.page = e.page, e.searchId && (f.searchOptions.searchId = e.searchId), f.busy = !1, o(function() {
                            f.filterCompleted = !0, r.$broadcast("gtd-filter-completed-on", null)
                        }, 1e3)
                    })
                }
            }, f.init()
        }

        function t(e, t, a) {
            return console.log("TEMPLATE_URL"), console.log(t[e]), t[e] && t[e][a] ? t[e][a] : t.DEFAULT[a]
        }
        e.$inject = ["$localStorage", "$location", "$cookies", "$log", "$scope", "$timeout", "$rootScope", "MetaData", "Flight", "DataService", "IBE_KEYS", "ValidationUtils", "ThemeCfg", "TEMPLATE_URL"];
        var a = {
            templateUrl: ["TEMPLATE_URL", function(e) {
                var a = String(Cookies.get("merchant_code") || localStorage.getItem("merchant_code")).toUpperCase();
                return t(a, e, "flight_search_adv")
            }],
            controller: e,
            bindings: {
                searchResult: "=",
                searchOptions: "=",
                filterCompleted: "=",
                searchCompleted: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightSearchAdv", a)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            t.ibeKeys = i
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight", "IBE_KEYS"];
        var t = {
            templateUrl: "app/components/flight/flight-info.html",
            controller: e,
            bindings: {
                flightModel: "=",
                gtdShowHeader: "@",
                gtdShowCustomer: "@"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            t.ibeKeys = i
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight", "IBE_KEYS"];
        var t = {
            templateUrl: "app/components/flight/flight-detail-view.html",
            controller: e,
            bindings: {
                flightModel: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightDetailView", t)
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(a, n) {
                return e.log("++++++++++"), e.log(a), e.log(t.trustAsHtml(a)), e.log("++++++++++"), t.trustAsHtml(a)
            }
            return a
        }
        angular.module("B2B2CGatewayApp").filter("unsafe", e), e.$inject = ["$log", "$sce"]
    }(),
    function() {
        "use strict";

        function e() {
            function e(e, t) {
                var a = "" + e;
                return a ? a.indexOf("Z") != -1 ? a : new Date(1e3 * e) : a
            }
            return e
        }
        angular.module("B2B2CGatewayApp").filter("unixtime", e)
    }(),
    function() {
        "use strict";

        function e() {
            function e(e, t) {
                return e ? e.filter(function(e) {
                    return e.adultType ? e.adultType == t : "ADT" == t ? "FEMALE" == e.gender || "MALE" == e.gender : "BOY" == e.gender || "GIRL" == e.gender
                }) : e
            }
            return e
        }
        angular.module("B2B2CGatewayApp").filter("traveller", e), e.$inject = []
    }(),
    function() {
        "use strict";

        function e() {
            return function(e, t) {
                if (e) {
                    var a = e.split("::");
                    return a[t]
                }
                return e
            }
        }
        angular.module("B2B2CGatewayApp").filter("split", e), e.$inject = []
    }(),
    function() {
        "use strict";

        function e() {
            function e(e) {
                var t, a;
                switch (e.length) {
                    case 1:
                        t = 0, a = parseInt(e[0]) - 1;
                        break;
                    case 2:
                        t = parseInt(e[0]), a = parseInt(e[1]);
                        break;
                    default:
                        return e
                }
                for (var n = [], i = t; i <= a; i++) n.push(i);
                return n
            }
            return e
        }
        angular.module("B2B2CGatewayApp").filter("makeRange", e)
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e, t) {
                var a;
                return "adult" === t ? (a = 0, angular.forEach(e, function(e) {
                    a += parseInt(e.adultNo)
                })) : "child" === t ? (a = 0, angular.forEach(e, function(e) {
                    a += e.paxDetails.length
                })) : a = e.length, a
            }
            return a
        }
        angular.module("B2B2CGatewayApp").filter("pax", e), e.$inject = ["$log", "GlobalSrv"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(e, t, a) {
                var n = e;
                return e && (moment().locale("vi"), n = a ? "date" == t ? moment.utc(e, a).locale("vi").format("dddd, DD-MM-YYYY") : "hourdate" == t ? moment.utc(e, a).locale("vi").format("HH:mm, dddd, DD-MM-YYYY") : "hour" == t ? moment.utc(e, a).locale("vi").format("HH:mm") : "datehour0" == t ? moment.utc(e, a).locale("vi").format("DD-MM-YYYY HH:mm") : "localdate" == t ? moment.utc(e, a).locale("vi").format("dddd, DD-MM-YYYY") : "localhourdate" == t ? moment(e, a).locale("vi").format("HH:mm, dddd, DD-MM-YYYY") : moment.utc(e, a).locale("vi").format("DD-MM-YYYY") : "load-date" == t ? moment.utc(e, "DD-MM-YYYY").locale("vi").format("dddd, DD-MM") : "date" == t ? moment.utc(e).locale("vi").format("dddd, DD-MM-YYYY") : "hourdate" == t ? moment.utc(e).locale("vi").format("HH:mm, dddd, DD-MM-YYYY") : "hour" == t ? moment.utc(e).locale("vi").format("HH:mm") : "datehour0" == t ? moment.utc(e).locale("vi").format("DD-MM-YYYY HH:mm") : "localdate" == t ? moment.utc(e).locale("vi").format("dddd, DD-MM-YYYY") : "localhourdate" == t ? moment(e).locale("vi").format("HH:mm, dddd, DD-MM-YYYY") : moment.utc(e).locale("vi").format("DD-MM-YYYY")), n
            }
            return t
        }
        angular.module("B2B2CGatewayApp").filter("momentdate", e), e.$inject = ["$log"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e, t) {
                var a = 0,
                    n = e;
                return n && n.customers && angular.forEach(n.customers, function(e) {
                    "depart" == t ? e.departServiceRequests && angular.forEach(e.departServiceRequests, function(e) {
                        a += e.amount
                    }) : "return" == t ? e.returnServiceRequests && angular.forEach(e.returnServiceRequests, function(e) {
                        a += e.amount
                    }) : (e.departServiceRequests && angular.forEach(e.departServiceRequests, function(e) {
                        a += e.amount
                    }), e.returnServiceRequests && angular.forEach(e.returnServiceRequests, function(e) {
                        a += e.amount
                    }))
                }), a
            }
            return a
        }
        angular.module("B2B2CGatewayApp").filter("luggageprice", e), e.$inject = ["$log", "GlobalSrv"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            function o(e, t, a) {
                var o = e;
                return e ? o = a ? n.instant(i("lowercase")(t + "." + a + "." + e)) : n.instant(i("lowercase")(t + "." + e)) : ""
            }
            return o
        }
        angular.module("B2B2CGatewayApp").filter("lookupt", e), e.$inject = ["$log", "GlobalSrv", "DataService", "$translate", "$filter"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(e, a) {
                var n = e,
                    i = t.getAllLookups();
                return i.forEach(function(t) {
                    t.lookupValue == e && t.objectName == a && (n = t.lang)
                }), n
            }
            return n
        }
        angular.module("B2B2CGatewayApp").filter("lookups", e), e.$inject = ["$log", "GlobalSrv", "DataService"]
    }(),
    function() {
        "use strict";

        function e() {
            function e(e, t, a) {
                for (var n = 0, i = 0; i < e.length; i++) e[i].flightDirection == a && (n += e[i].journeyDuration);
                var o = 1e3,
                    r = 60 * o,
                    s = 60 * r,
                    l = 24 * s,
                    c = Math.floor(n % r / o),
                    d = Math.floor(n % s / r),
                    p = Math.floor(n % l / s),
                    g = Math.floor(n / l),
                    u = "";
                return "short" == t ? (0 !== g && (u += 1 !== g ? g + "d" : g + "d"), 0 !== p && (u += 1 !== p ? p + "h" : p + "h"), 0 !== d && (u += 1 !== d ? d + "m" : d + "m"), (0 !== c || n < 1e3) && (u += 1 !== c ? c + "s" : c + "s"), u) : (0 !== g && (u += 1 !== g ? g + " days " : g + " day "), 0 !== p && (u += 1 !== p ? p + " hours " : p + " hour "), 0 !== d && (u += 1 !== d ? d + " minutes " : d + " minute "), (0 !== c || n < 1e3) && (u += 1 !== c ? c + " seconds " : c + " second "), u)
            }
            return e
        }
        angular.module("B2B2CGatewayApp").filter("interduration", e)
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e) {
                var t = 0;
                return e && (t = Math.min.apply(Math, e.map(function(e) {
                    return e.price
                }))), t
            }
            return a
        }
        angular.module("B2B2CGatewayApp").filter("hotelprice", e), e.$inject = ["$log", "GlobalSrv"]
    }(),
    function() {
        "use strict";

        function e() {
            function e(e) {
                var t = [];
                return angular.forEach(e, function(e) {
                    e && e.toString().includes(".5") && t.push(1)
                }), t
            }
            return e
        }
        angular.module("B2B2CGatewayApp").filter("halfRange", e)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            function r(e, t) {
                var a = e,
                    n = "";
                return "cabinclass" == t && (n = "ota_air.cabin_class"), a = i.instant(o("lowercase")(n + "." + e))
            }
            return r
        }
        angular.module("B2B2CGatewayApp").filter("gender", e), e.$inject = ["$log", "GlobalSrv", "DataService", "MetaData", "$translate", "$filter"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(e) {
                var t = "",
                    a = moment.utc(e.originDateTime.substr(0, 10), "YYYY-MM-DD"),
                    n = moment.utc(e.destinationDateTime.substr(0, 10), "YYYY-MM-DD"),
                    i = n.diff(a, "days");
                return i > 0 && (t = "+" + i), t
            }
            return t
        }
        angular.module("B2B2CGatewayApp").filter("flightdatediff", e), e.$inject = ["$log"]
    }(),
    function() {
        "use strict";

        function e() {
            function e(e, t) {
                var a = 1,
                    n = 1 * a,
                    i = 60 * n,
                    o = 24 * i,
                    r = (Math.floor(e % n / a), Math.floor(e % i / n)),
                    s = Math.floor(e % o / i),
                    l = Math.floor(e / o),
                    c = "";
                return "short" == t ? (0 !== l && (c += 1 !== l ? l + "d" : l + "d"), 0 !== s && (c += 1 !== s ? s + "h" : s + "h"), 0 !== r && (c += 1 !== r ? r + "m" : r + "m"), c) : "defvn" == t ? (0 !== l && (c += 1 !== l ? l + "d" : l + "d"), 0 !== s && (c += 1 !== s ? s + "h" : s + "h"), 0 !== r && (c += 1 !== r ? r + "m" : r + "m"), c) : (0 !== l && (c += 1 !== l ? l + " ngày " : l + " ngày "), 0 !== s && (c += 1 !== s ? s + " giờ " : s + " giờ "), 0 !== r && (c += 1 !== r ? r + " phút " : r + " phút "), c)
            }
            return e
        }
        angular.module("B2B2CGatewayApp").filter("duration", e)
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e, t) {
                var a = 0;
                return t || (t = 0), a = e - t
            }
            return a
        }
        angular.module("B2B2CGatewayApp").filter("diffprice", e), e.$inject = ["$log", "GlobalSrv"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e, a) {
                var n = e,
                    i = t.getLocalDestinations();
                return i.forEach(function(t) {
                    t.code == e && (n = t.name)
                }), n
            }
            return a
        }
        angular.module("B2B2CGatewayApp").filter("destination", e), e.$inject = ["$log", "GlobalSrv"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(e) {
                var a = e,
                    n = t.getAllCountries();
                return n.forEach(function(t) {
                    t.code == e && (a = t.name)
                }), a
            }
            return n
        }
        angular.module("B2B2CGatewayApp").filter("country", e), e.$inject = ["$log", "GlobalSrv", "DataService"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(e) {
                var t = e,
                    a = e,
                    n = a;
                return t = n.slice(4).replace(/\d/g, "x") + n.slice(-4)
            }
            return t
        }
        angular.module("B2B2CGatewayApp").filter("cc", e), e.$inject = ["$log"]
    }(),
    function() {
        "use strict";

        function e(e) {
            return function(e, t) {
                if (e) {
                    var a = e.split("::"),
                        n = a[1],
                        i = n.split("-");
                    if ("F" == t) return i[0];
                    if ("T" == t) return i[1]
                }
                return e
            }
        }
        angular.module("B2B2CGatewayApp").filter("bookingtoairport", e), e.$inject = ["$log"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e, t, a) {
                var p = e;
                if (p) {
                    if ("total_fare" == t) return i(p);
                    if ("total_tax" == t) return o(p);
                    if ("total_netprice" == t) return r(p);
                    if ("total_service_fee" == t) return s(p);
                    if ("luggage_price" == t) return c(p, a);
                    if ("discount" == t) return l(p);
                    if ("total_price" == t) return n(p, a);
                    if ("meal_price" == t) return d(p, a)
                }
                return 0
            }

            function n(e, t) {
                var a = 0;
                return a += i(e), a += o(e), a += s(e), a += c(e, t), a += d(e, t), a -= l(e)
            }

            function i(e) {
                return e && e.bookingInfo && e.bookingInfo.displayPriceInfo ? e.bookingInfo.displayPriceInfo.baseFare : 0
            }

            function o(e) {
                var t = 0;
                return e && e.bookingInfo && e.bookingInfo.displayPriceInfo && (t += e.bookingInfo.displayPriceInfo.serviceTax), t
            }

            function r(e) {
                var t = 0;
                return e && e.bookingInfo && e.bookingInfo.displayPriceInfo && (t += e.bookingInfo.displayPriceInfo.baseFare, t += e.bookingInfo.displayPriceInfo.serviceTax), t
            }

            function s(e) {
                var t = 0;
                return e && e.bookingInfo && e.bookingInfo.displayPriceInfo && (t += e.bookingInfo.displayPriceInfo.markupValue, t += e.bookingInfo.displayPriceInfo.paymentFee), t
            }

            function l(e) {
                var t = 0;
                return e && (e.voucher && e.voucher.discountAmount && e.voucher.discountAmount > 0 ? t += e.voucher.discountAmount : e.bookingInfo && e.bookingInfo.displayPriceInfo && (t += e.bookingInfo.displayPriceInfo.discountAmount)), t
            }

            function c(e, t) {
                var a = 0;
                if (e)
                    if (e.bookingInfo && e.bookingInfo.travelerInfos && e.bookingInfo.travelerInfos.length > 0)
                        if ("return" == t || "depart" == t) {
                            var n = "return" == t ? "RETURN" : "DEPARTURE";
                            angular.forEach(e.bookingInfo.travelerInfos, function(e, t) {
                                e.serviceRequests && angular.forEach(e.serviceRequests, function(e, t) {
                                    e && e.ssrAmount && e.bookingDirection == n && "BAGGAGE" == e.serviceType && (a += e.ssrAmount)
                                })
                            })
                        } else e.bookingInfo && e.bookingInfo.displayPriceInfo && e.bookingInfo.displayPriceInfo.totalSsrValue && angular.forEach(e.customers, function(e) {
                            e.departServiceRequests && angular.forEach(e.departServiceRequests, function(e) {
                                "BAGGAGE" == e.serviceType && (a += e.amount)
                            }), e.returnServiceRequests && angular.forEach(e.returnServiceRequests, function(e) {
                                "BAGGAGE" == e.serviceType && (a += e.amount)
                            })
                        });
                else e.customers && angular.forEach(e.customers, function(e) {
                    "depart" == t ? e.departServiceRequests && angular.forEach(e.departServiceRequests, function(e) {
                        "BAGGAGE" == e.serviceType && (a += e.amount)
                    }) : "return" == t ? e.returnServiceRequests && angular.forEach(e.returnServiceRequests, function(e) {
                        "BAGGAGE" == e.serviceType && (a += e.amount)
                    }) : (e.departServiceRequests && angular.forEach(e.departServiceRequests, function(e) {
                        "BAGGAGE" == e.serviceType && (a += e.amount)
                    }), e.returnServiceRequests && angular.forEach(e.returnServiceRequests, function(e) {
                        "BAGGAGE" == e.serviceType && (a += e.amount)
                    }))
                });
                return a
            }

            function d(e, t) {
                var a = 0;
                if (e)
                    if (e.bookingInfo && e.bookingInfo.travelerInfos && e.bookingInfo.travelerInfos.length > 0)
                        if ("return" == t || "depart" == t) {
                            var n = "return" == t ? "RETURN" : "DEPARTURE";
                            angular.forEach(e.bookingInfo.travelerInfos, function(e, t) {
                                e.serviceRequests && angular.forEach(e.serviceRequests, function(e, t) {
                                    e && e.ssrAmount && e.bookingDirection == n && "MEAL" == e.serviceType && (a += e.ssrAmount)
                                })
                            })
                        } else e.bookingInfo && e.bookingInfo.displayPriceInfo && e.bookingInfo.displayPriceInfo.totalSsrValue && angular.forEach(e.customers, function(e) {
                            e.departServiceRequests && angular.forEach(e.departServiceRequests, function(e) {
                                "MEAL" == e.serviceType && (a += e.amount)
                            }), e.returnServiceRequests && angular.forEach(e.returnServiceRequests, function(e) {
                                "MEAL" == e.serviceType && (a += e.amount)
                            })
                        });
                else e.customers && angular.forEach(e.customers, function(e) {
                    "depart" == t ? e.departServiceRequests && angular.forEach(e.departServiceRequests, function(e) {
                        "MEAL" == e.serviceType && (a += e.amount)
                    }) : "return" == t ? e.returnServiceRequests && angular.forEach(e.returnServiceRequests, function(e) {
                        "MEAL" == e.serviceType && (a += e.amount)
                    }) : (e.departServiceRequests && angular.forEach(e.departServiceRequests, function(e) {
                        "MEAL" == e.serviceType && (a += e.amount)
                    }), e.returnServiceRequests && angular.forEach(e.returnServiceRequests, function(e) {
                        "MEAL" == e.serviceType && (a += e.amount)
                    }))
                });
                return a
            }
            return a
        }
        angular.module("B2B2CGatewayApp").filter("bookingPriceInfo", e), e.$inject = ["$log", "GlobalSrv"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e, t, a) {
                var r = 0,
                    s = e,
                    l = null;
                if (s && s.airItineraryPricingInfo && ("adult" == t ? l = s.airItineraryPricingInfo.adultFare : "child" == t ? l = s.airItineraryPricingInfo.childFare : "infant" == t && (l = s.airItineraryPricingInfo.infantFare)), l) {
                    var c = l.passengerFare,
                        d = l.passengerTypeQuantities;
                    if ("fare" == a) return r += n(c);
                    if ("tax" == a) return r += i(t, c, s.displayPriceInfo);
                    if ("netprice" == a) {
                        r += n(c), r += i(t, c, s.displayPriceInfo);
                        var p = o(d);
                        return r * (0 == p ? 1 : p)
                    }
                    if ("quantities" == a) return r += o(d)
                }
                return r
            }

            function n(e) {
                var t = 0,
                    a = e;
                return a && a.baseFare && a.baseFare.amount ? t += a.baseFare.amount : a && a.baseFair && a.baseFair.amount && (t += a.baseFair.amount), t
            }

            function i(e, t, a) {
                var n = 0,
                    i = t;
                return i && i.serviceTax && i.serviceTax.amount && (n += i.serviceTax.amount), n
            }

            function o(e) {
                var t = 0;
                return e && e.quantity && (t += e.quantity), t
            }
            return a
        }
        angular.module("B2B2CGatewayApp").filter("bookingAirPricedItinerary", e), e.$inject = ["$log", "GlobalSrv"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e, a) {
                var n = e,
                    i = t.getLocalAirports();
                return i.forEach(function(t) {
                    t.code == e && (n = "city" == a ? t.city : "name" == a ? t.name : "city-code" == a ? t.city + " (" + t.code + ")" : "name-code" == a ? t.name + " (" + t.code + ")" : t.code)
                }), n
            }
            return a
        }
        angular.module("B2B2CGatewayApp").filter("airport", e), e.$inject = ["$log", "GlobalSrv"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            function i(t, i) {
                var o = t,
                    r = a.getAllAirlines();
                return (null == r || void 0 == r || r) && n.getAirlines().then(function() {
                    r = a.getAllAirlines()
                }), e.log(r), r.forEach(function(e) {
                    e.code == t && (o = e.name)
                }), o
            }
            return i
        }
        angular.module("B2B2CGatewayApp").filter("airline", e), e.$inject = ["$log", "GlobalSrv", "DataService", "MetaData"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                require: "ngModel",
                link: function(e, a, n, i) {
                    a.bind("click", function() {
                        var e = i.$viewValue;
                        i.$setViewValue(e ? e + " " : " "), t(function() {
                            i.$setViewValue(e ? e : "")
                        }, 10)
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdTypeaheadFocus", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                restrict: "A",
                scope: {
                    gtdMin: "=",
                    gtdMax: "=?"
                },
                link: function(e, t, a) {
                    $(t).TouchSpin({
                        verticalbuttons: !0,
                        min: a.gtdMin ? a.gtdMin : 0,
                        max: a.gtdMax ? a.gtdMax : 9
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdTouchSpinner", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                restrict: "A",
                scope: {
                    gtdFrom: "=",
                    gtdTo: "="
                },
                link: function(e, a, n) {
                    alert(1), $(a).click(function() {
                        var e = $("#" + n.gtdFrom).val(),
                            a = $("#" + n.gtdTo).val();
                        t(function() {
                            $("#" + n.gtdFrom).val(a).trigger("change"), $("#" + n.gtdTo).val(e).trigger("change"), alert($("#" + n.gtdFrom).val() + ":" + $("#" + n.gtdTo).val())
                        })
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdSwapTypeAhead", e), e.$inject = ["$log", "$timeout"];
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            return {
                restrict: "A",
                scope: {
                    gtdFrom: "=",
                    gtdTo: "="
                },
                link: function(e, t, n) {
                    $(t).click(function() {
                        var e = $("#" + n.gtdFrom).val(),
                            t = $("#" + n.gtdTo).val(),
                            i = a.getLocalAirports(),
                            o = "";
                        for (var r in i) i[r].code == e && (o = i[r].city + " (" + i[r].code + ")");
                        var s = $("<option selected>" + o + "</option>").val(e);
                        $("#" + n.gtdTo).append(s).trigger("change");
                        for (var r in i) i[r].code == t && (o = i[r].city + " (" + i[r].code + ")");
                        var s = $("<option selected>" + o + "</option>").val(t);
                        $("#" + n.gtdFrom).append(s).trigger("change")
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdSwapSelect2Inter", e), e.$inject = ["$log", "$timeout", "GlobalSrv"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                restrict: "A",
                scope: {
                    gtdFrom: "=",
                    gtdTo: "="
                },
                link: function(a, n, i) {
                    var o = !1;
                    $(n).click(function() {
                        if (e.log(o), o) return void e.log("wait");
                        o = !0;
                        var a = $("#" + i.gtdFrom).val(),
                            n = $("#" + i.gtdTo).val();
                        t(function() {
                            $("#" + i.gtdFrom).val(null).trigger("change"), t(function() {
                                $("#" + i.gtdTo).val(a).trigger("change"), t(function() {
                                    $("#" + i.gtdFrom).val(n).trigger("change"), t(function() {
                                        o = !1
                                    }, 100)
                                }, 1)
                            }, 1)
                        }, 1)
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdSwapSelect2", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                restrict: "A",
                scope: {
                    searchOptions: "="
                },
                link: function(e, t, a) {
                    $("#adultNo").on("change", function() {
                        var t = 9 - parseInt(e.searchOptions.adultNo);
                        1 == parseInt(e.searchOptions.adultNo) && (t = 4), $("#childrenNo").trigger("touchspin.updatesettings", {
                            max: t
                        }), $("#newBornNo").trigger("touchspin.updatesettings", {
                            max: parseInt(e.searchOptions.adultNo)
                        })
                    }), $("#childrenNo").on("change", function() {})
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdSpinnerPassengerQuantity", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            var r = function(t, a, n, i, o) {
                try {
                    e.log("refresh source - refactor");
                    var r = i.slice(0);
                    e.log(r);
                    var s = $("#" + a).val();
                    $("#" + a).data("select2") && $("#" + a).select2("destroy").empty().select2({
                        data: r,
                        containerCssClass: "home-select2",
                        matcher: function(e, t) {
                            if ("" === jQuery.trim(e.term)) return t;
                            var a = jQuery.trim(e.term);
                            return t.text.toLowerCase().indexOf(a.toLowerCase()) > -1 ? t : null
                        }
                    });
                    for (var l = !1, c = r.length - 1; c >= 0; c--) r[c].code == s && (l = !0);
                    l ? $("#" + a).val(s).trigger("change.select2") : $("#" + a).val(null).trigger("change.select2"), t.$apply()
                } catch (t) {
                    e.log("Handle expected exception"), e.log(t)
                }
            };
            return {
                restrict: "A",
                require: "ngModel",
                scope: {
                    gtdData: "=",
                    gtdValue: "=",
                    ngModel: "=",
                    gtdMode: "=",
                    gtdSearchOptions: "=",
                    gtdDirection: "="
                },
                link: function(a, n, s, l) {
                    e.log("ngmodel=" + a.ngModel + "::" + a[s.ngModel] + ":" + l.$viewValue), "domestic" == a.gtdMode && o.searchAirportsLocal("VN").then(function(t) {
                        e.log("MetaData.searchAirportsLocal from flight.service");
                        var i = t;
                        if (i)
                            for (var o = 0; o < i.length; o++) i[o].id = i[o].code, i[o].text = i[o].city + " (" + i[o].code + ")";
                        $(n).select2({
                            data: i,
                            containerCssClass: "home-select2",
                            placeholder: function() {
                                $(this).data("placeholder")
                            },
                            matcher: function(e, t) {
                                if ("" === jQuery.trim(e.term)) return t;
                                var a = jQuery.trim(e.term);
                                return t.text.toLowerCase().indexOf(a.toLowerCase()) > -1 ? t : null
                            }
                        }).on("change", function() {
                            e.log(a.gtdDirection), "FROM" == a.gtdDirection ? r(a, "toAirPort", "FROM", i, a.ngModel) : "TO" == a.gtdDirection && r(a, "fromAirPort", "TO", i, a.ngModel)
                        })
                    }), t(function() {
                        var e = i.getLocalAirports(),
                            t = "";
                        for (var o in e) e[o].code == a.ngModel && (t = e[o].city + " (" + e[o].code + ")");
                        var r = $("<option selected>" + t + "</option>").val(a.ngModel);
                        $(n).append(r).trigger("change")
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdSelect2", e), e.$inject = ["$log", "$timeout", "$parse", "META_SEARCH_AIRPORT_URL", "GlobalSrv", "MetaData"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            var r = function(e) {
                var t = i.defer(),
                    a = "";
                return a = n.get(e), "undefined" == typeof a ? o.get(e).success(function(a) {
                    n.put(e, a), t.resolve(a)
                }) : t.resolve(a), t.promise
            };
            return {
                restrict: "A",
                scope: {
                    argument: "=",
                    argument2: "=",
                    argument3: "@?",
                    argument4: "@?",
                    ibeKeys: "=?"
                },
                link: function(e, t, n) {
                    r(n.gtdTemplatePath).then(function(n) {
                        var i = {
                            content: a($(n))(e),
                            placement: "bottom",
                            html: !0,
                            trigger: "click"
                        };
                        $(t).popover(i)
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdPopoverClick", e), e.$inject = ["$log", "$timeout", "$compile", "$templateCache", "$q", "$http"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            var r = function(e) {
                var t = i.defer(),
                    a = "";
                return a = n.get(e), "undefined" == typeof a ? o.get(e).success(function(a) {
                    n.put(e, a), t.resolve(a)
                }) : t.resolve(a), t.promise
            };
            return {
                restrict: "A",
                scope: {
                    argument: "=",
                    argument2: "=",
                    argument3: "@?",
                    argument4: "@?",
                    ibeKeys: "="
                },
                link: function(e, t, n) {
                    r(n.gtdTemplatePath).then(function(i) {
                        n.placement || (n.placement = "bottom");
                        var o = {
                            content: a($(i))(e),
                            placement: n.placement,
                            html: !0,
                            trigger: "focus"
                        };
                        $(t).popover(o)
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdPopover", e), e.$inject = ["$log", "$timeout", "$compile", "$templateCache", "$q", "$http"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                restrict: "A",
                scope: {
                    gtdAdultQtt: "=",
                    gtdChildQtt: "=",
                    gtdInfantQtt: "=",
                    gtdCurAdultQtt: "=",
                    gtdCurChildQtt: "=",
                    gtdCurInfantQtt: "=",
                    searchOptions: "=",
                    gtdQtt: "="
                },
                link: function(e, t, a) {
                    e.gtdQtt, e.gtdAdultQtt, e.gtdChildQtt, e.gtdInfantQtt, e.gtdCurAdultQtt, e.gtdCurChildQtt, e.gtdCurInfantQtt;
                    $(".adultSelect .groupSelect .btn-select").on("click", function(t) {
                        var a = $(this),
                            n = parseInt(a.parent().find(".numberItem").text());
                        if (n >= 1 && n <= 9) {
                            a.hasClass("increase") ? (e.searchOptions.adultNo = 9 == n ? n : n + 1, a.parent().find(".numberItem").html(e.searchOptions.adultNo)) : (e.searchOptions.adultNo = 1 == n ? n : n - 1, a.parent().find(".numberItem").html(e.searchOptions.adultNo));
                            var i = 9 - e.searchOptions.adultNo;
                            e.gtdChildQtt = [], e.gtdInfantQtt = [], 1 == e.searchOptions.adultNo && (i = 4);
                            for (var o = 0; o <= i; o++) e.$apply(function() {
                                e.gtdChildQtt.push(o)
                            });
                            for (var o = 0; o <= e.searchOptions.adultNo; o++) e.$apply(function() {
                                e.gtdInfantQtt.push(o)
                            });
                            i < e.gtdCurChildQtt && (e.gtdCurChildQtt = 0, $("#fChdQttIdx").trigger("change")), e.gtdCurInfantQtt > e.searchOptions.adultNo && (e.gtdCurInfantQtt = 0, $("#fInfQttIdx").trigger("change")), $("#fChdQttIdx").trigger("change"), $("#fInfQttIdx").trigger("change");
                            var r = $(".childrenSelect select option:selected").attr("value");
                            $(".childrenSelect .numberItem").html(r)
                        }
                    }), $(".childrenSelect .groupSelect .btn-select").on("click", function(t) {
                        var a = $(this),
                            n = parseInt(a.parent().find(".numberItem").text()),
                            i = a.closest(".selectNumber").find("select option:first").val(),
                            o = a.closest(".selectNumber").find("select option:last").val();
                        n >= i && n <= o && (a.hasClass("increase") ? e.searchOptions.childrenNo = n == o ? n : n + 1 : e.searchOptions.childrenNo = n == i ? n : n - 1, a.parent().find(".numberItem").html(e.searchOptions.childrenNo))
                    }), $(".infSelect .groupSelect .btn-select").on("click", function(t) {
                        var a = $(this),
                            n = parseInt(a.parent().find(".numberItem").text()),
                            i = a.closest(".selectNumber").find("select option:first").val(),
                            o = a.closest(".selectNumber").find("select option:last").val();
                        n >= i && n <= o ? (a.hasClass("increase") ? e.searchOptions.newBornNo = n == o ? n : n + 1 : e.searchOptions.newBornNo = n == i ? n : n - 1, a.parent().find(".numberItem").html(e.searchOptions.newBornNo)) : a.parent().find(".numberItem").html(o)
                    }), $("#fAdtQttIdx").on("change", function(t) {
                        var a = 9 - parseInt(e.searchOptions.adultNo);
                        e.gtdChildQtt = [], e.gtdInfantQtt = [], 1 == parseInt(e.searchOptions.adultNo) && (a = 4);
                        for (var n = 0; n <= a; n++) e.$apply(function() {
                            e.gtdChildQtt.push(n)
                        });
                        for (var n = 0; n <= e.searchOptions.adultNo; n++) e.$apply(function() {
                            e.gtdInfantQtt.push(n)
                        });
                        a < e.gtdCurChildQtt && (e.gtdCurChildQtt = 0, $("#fChdQttIdx").trigger("change")), e.gtdCurInfantQtt > e.searchOptions.adultNo && (e.gtdCurInfantQtt = 0, $("#fInfQttIdx").trigger("change")), $("#fChdQttIdx").trigger("change"), $("#fInfQttIdx").trigger("change")
                    }), $("#fChdQttIdx").on("change", function(e) {})
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdPassengerQuantity", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                require: "ngModel",
                scope: {
                    gtdCapitalize: "=?"
                },
                restrict: "A",
                link: function(e, t, a, n) {
                    n.$parsers.push(function(t) {
                        if (null == t) return "";
                        var a = latinize(t);
                        return a = a.replace(/[^\w\s]/gi, ""), e.gtdCapitalize && (a = a.toUpperCase()), a != t && (n.$setViewValue(a), n.$render()), a
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdNoSpecialChar", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                require: "ngModel",
                restrict: "AE",
                scope: {
                    ngModel: "="
                },
                link: function(e, t, a) {
                    var n = e.ngModel,
                        i = n;
                    e.ngModel = i.slice(4).replace(/\d/g, "x") + i.slice(-4), t.bind("blur", function() {
                        var e;
                        n = t.val(), e = t.val(), t.val(e.slice(4).replace(/\d/g, "x") + e.slice(-4))
                    }), t.bind("focus", function() {
                        t.val(n)
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdMaskInput", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                restrict: "A",
                link: function(e, t, a) {
                    e.$last && t.parent().lightSlider({
                        gallery: !0,
                        item: 1,
                        loop: !1,
                        autoWidth: !1,
                        slideMargin: 0,
                        thumbItem: 5
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdLightGallery", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                restrict: "A",
                scope: {
                    gtdEmitEvent: "&"
                },
                link: function(e, a, n) {
                    e.$parent.$last && t(function() {
                        e.$emit(n.gtdEmitEvent)
                    }, 0)
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdFinishRenderNgRepeat", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r) {
            return {
                restrict: "A",
                scope: {
                    argument: "=?",
                    argument2: "=?",
                    argument3: "=?",
                    argument4: "@?",
                    ibeKeys: "=?"
                },
                link: function(e, t, a) {
                    e.init = !1, $(t).bind("click", function() {
                        if (!e.init) {
                            e.init = !0;
                            var a = r.getFareRules(e.argument, e.argument2, e.argument3);
                            a.then(function(a) {
                                e.argument4 = "", angular.forEach(a.fareRules, function(t) {
                                    angular.forEach(t.fareRuleItems, function(t) {
                                        e.argument4 += "<strong>" + t.title + "</strong>", e.argument4 += "<p>" + t.detail + "</p>"
                                    })
                                }), "" == e.argument4 && (e.argument4 = "<b>Điều kiện vé đang được cập nhật</b>");
                                var n = {
                                    content: e.argument4,
                                    placement: "bottom",
                                    html: !0,
                                    trigger: "focus"
                                };
                                $(t).popover(n).popover("show"), e.init = !0
                            })
                        }
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdFareRulesPopover", e), e.$inject = ["$log", "$timeout", "$compile", "$templateCache", "$q", "$http", "Flight"]
    }(),
    function() {
        function e(e, t, a, n) {
            function o(e, t, a, n, i) {
                this.day = e, this.month = t, this.year = a, this.leap = n, this.jd = i
            }

            function r(e) {
                return Math.floor(e)
            }

            function s(e, t, a) {
                var n = r((14 - t) / 12),
                    i = a + 4800 - n,
                    o = t + 12 * n - 3,
                    s = e + r((153 * o + 2) / 5) + 365 * i + r(i / 4) - r(i / 100) + r(i / 400) - 32045;
                return s
            }

            function l(e, t) {
                var a, n, r, l, c, d, p, g, u, m = new Array;
                for (a = new Array(29, 30), n = new Array(12), r = t >> 17, l = 15 & t, c = a[t >> 16 & 1], d = s(1, 1, e), p = d + r, g = t >> 4, i = 0; i < 12; i++) n[12 - i - 1] = a[1 & g], g >>= 1;
                if (0 == l)
                    for (u = 1; u <= 12; u++) m.push(new o(1, u, e, 0, p)), p += n[u - 1];
                else {
                    for (u = 1; u <= l; u++) m.push(new o(1, u, e, 0, p)), p += n[u - 1];
                    for (m.push(new o(1, l, e, 1, p)), p += c, u = l + 1; u <= 12; u++) m.push(new o(1, u, e, 0, p)), p += n[u - 1]
                }
                return m
            }

            function c(e) {
                var t;
                return t = e < 1900 ? m[e - 1800] : e < 2e3 ? h[e - 1900] : e < 2100 ? v[e - 2e3] : f[e - 2100], l(e, t)
            }

            function d(e, t) {
                if (e > k || e < b || t[0].jd > e) return new o(0, 0, 0, 0, e);
                for (var a = t.length - 1; e < t[a].jd;) a--;
                var n = e - t[a].jd;
                return ret = new o(t[a].day + n, t[a].month, t[a].year, t[a].leap, e), ret
            }

            function p(e, t, a) {
                var n, i;
                return n = c(a), i = s(e, t, a), i < n[0].jd && (n = c(a - 1)), d(i, n)
            }

            function g() {
                this.fontSize = "13pt", this.tableWidth = "420px"
            }

            function u() {
                setTimeout(function() {
                    var e;
                    $.each($(".ui-datepicker-calendar td"), function(t, a) {
                        if ($(this).attr("data-month") && $(this).attr("data-year")) return e = parseInt($(this).attr("data-month")) + 1, y = parseInt($(this).attr("data-year")), !1
                    }), $.each($(".ui-datepicker-calendar td"), function(t, a) {
                        var n = $(this).text(),
                            i = parseInt(n);
                        if (/\d/.test(n) && $(this).attr("data-month") && $(this).attr("data-year")) {
                            var o = parseInt($(this).attr("data-month")) + 1,
                                r = parseInt($(this).attr("data-year")),
                                s = p(i, o, r);
                            1 == s.day ? ($(this).find("a").attr("data-custom", s.day + "/" + s.month), $(this).find("a").addClass("m1al")) : $(this).find("a").attr("data-custom", s.day)
                        } else {
                            var s = p(i, e, y);
                            1 == s.day ? $(this).find("span").attr("data-custom", s.day + "/" + s.month) : $(this).find("span").attr("data-custom", s.day)
                        }
                    })
                }, 0)
            }
            var m = new Array(3193507, 5679952, 4336544, 2927457, 5415792, 3953128, 6345056, 4908208, 3631398, 5823136, 4479824, 3217106, 5647072, 4104928, 2679506, 5163344, 3724630, 6075680, 4634256, 3300772, 5789136, 4335056, 2926003, 5415600, 4040887, 6334800, 4895904, 3519141, 5942608, 4478384, 3156852, 5645680, 4215545, 6574768, 5138768, 3698006, 6183584, 4631376, 3299028, 5786336, 4367728, 2966867, 5296800, 3926183, 6346064, 4872864, 3452325, 5936592, 4606688, 3058356, 5547216, 4117176, 6599312, 5027152, 3692375, 6172064, 4756944, 3296629, 5786032, 4367536, 2991283, 5270160, 3845528, 6318928, 4991840, 3511141, 5935984, 4606320, 3172708, 5432480, 3992170, 6478480, 5135056, 3746518, 6171360, 4756192, 3328725, 5687632, 4248736, 2872483, 5289616, 3823527, 6313392, 4990416, 3577269, 5935792, 4499792, 3070292, 5551264, 3978576, 2648914, 5133744, 3811190, 6169968, 4739760, 3320485, 5695824, 4221600, 2800291, 5286736),
                h = new Array(3951576, 6441696, 5023088, 3691733, 6083168, 4512080, 3233108, 5658272, 4233936, 2774482, 5262048, 3843510, 6333648, 4772432, 3396181, 5813568, 4380320, 2928034, 5412272, 4147575, 6572400, 5022896, 3585205, 6056528, 4615504, 3222356, 5647200, 4232560, 2904818, 5261680, 3827046, 6214816, 4778576, 3369621, 5790416, 4467552, 3114723, 5411552, 4049111, 6474064, 5035168, 3528870, 5944656, 4609696, 3253684, 5645776, 4231888, 2806450, 5286224, 3716439, 6188192, 4765008, 3494741, 5787040, 4367792, 3097971, 5526192, 3975592, 6351184, 5008032, 3583654, 5942096, 4606816, 3189476, 5678448, 4215392, 2683491, 5167424, 3726151, 6084256, 4757200, 3427797, 5917392, 4367568, 2938036, 5419600, 3986776, 6337856, 4896160, 3626406, 6067632, 4606384, 3189108, 5678256, 4237904, 2730578, 5139744, 3779911, 6204256, 4756336, 3427061, 5917040, 4482224, 2913443, 5302864, 4024920, 6444704, 4893392, 3577557, 6066912),
                v = new Array(4639072, 3070292, 5559456, 4119120, 2782546, 5133984, 3712935, 6202832, 4887216, 3320501, 5810512, 4371616, 2931364, 5287248, 3954137, 6441888, 5023152, 3625334, 6050416, 4614448, 3176756, 5532320, 4107600, 2775890, 5262176, 3712742, 6202592, 4772448, 3336805, 5690656, 4250272, 2971299, 5396176, 3951355, 6441424, 5022928, 3657910, 5943888, 4502816, 3071269, 5551520, 4085200, 2774450, 5261744, 3843447, 6202544, 4762192, 3387989, 5795104, 4238688, 2968419, 5395312, 4082152, 6343024, 5002416, 3631270, 5954128, 4479648, 3122852, 5548752, 4215520, 2675427, 5163344, 3724631, 6214816, 4643152, 3300693, 5789344, 4368080, 2905556, 5395120, 3975608, 6465840, 4895888, 3454630, 5942608, 4609440, 3058532, 5547376, 4215472, 2797939, 5138736, 3697463, 6187680, 4762960, 3353301, 5778272, 4367728, 3035876, 5296480, 3860824, 6346016, 4905616, 3496614, 5920464, 4598496, 3189204, 5546704, 4116816, 2681170),
                f = new Array(5158176, 3725095, 6204832, 4871600, 3550645, 5916080, 4498096, 3060404, 5548368, 3978585, 6449952, 5025104, 3692390, 6050672, 4736368, 3302772, 5788336, 4221264, 2783571, 5266080, 3910311, 6203088, 4868832, 3515109, 5940560, 4379296, 3007140, 5428560, 4086459, 6444704, 5019344, 3754422, 6179504, 4630736, 3200181, 5681808, 4240720, 2780498, 5262752, 3904871, 6329712, 4868528, 3451253, 5924016, 4483728, 2931348, 5401424, 4074336, 2665313, 5018992, 3689190, 6082912, 4646048, 3075365, 5560976, 4217680, 2897619, 5253856, 3838935, 6329040, 4901200, 3331414, 5813408, 4372112, 3038612, 5395888, 4072954, 6563248, 5149360, 3582646, 6056272, 4617376, 3256997, 5549392, 4216224, 2796403, 5383536, 3822455, 6312624, 4876624, 3435862, 5790368, 4369232, 3036884, 5524192, 3974512, 2647250, 5034592, 3599014, 5952848, 4610720, 3190181, 5674448, 4213456, 2795955, 5285072, 3855031, 6206032, 4764992, 3396950),
                b = (new Array("Giáp", "Ất", "Bính", "Đinh", "Mậu", "Kỷ", "Canh", "Tân", "Nhâm", "Quý"), new Array("Tý", "Sửu", "Dần", "Mão", "Thìn", "Tỵ", "Ngọ", "Mùi", "Thân", "Dậu", "Tuất", "Hợi"), new Array("Chủ nhật", "Thứ hai", "Thứ ba", "Thứ tư", "Thứ năm", "Thứ sáu", "Thứ bảy"), new Array("110100101100", "001101001011", "110011010010", "101100110100", "001011001101", "010010110011"), new Array("Xuân phân", "Thanh minh", "Cốc vũ", "Lập hạ", "Tiểu mãn", "Mang chủng", "Hạ chí", "Tiểu thử", "Đại thử", "Lập thu", "Xử thử", "Bạch lộ", "Thu phân", "Hàn lộ", "Sương giáng", "Lập đông", "Tiểu tuyết", "Đại tuyết", "Đông chí", "Tiểu hàn", "Đại hàn", "Lập xuân", "Vũ Thủy", "Kinh trập"), Math.PI, s(25, 1, 1800)),
                k = s(31, 12, 2199),
                w = new Date;
            p(w.getDate(), w.getMonth() + 1, w.getFullYear()), w.getMonth() + 1, w.getFullYear(), new Array("CN", "T2", "T3", "T4", "T5", "T6", "T7"), new g, new Array("9pt", "13pt", "17pt"), new Array("180px", "420px", "600px");
            return {
                restrict: "A",
                require: "ngModel",
                scope: {
                    ngModel: "=",
                    startId: "=",
                    endId: "=",
                    isStart: "=",
                    isEnd: "=",
                    maxDate: "=?",
                    minDate: "=?"
                },
                link: function(a, i, o) {
                    var r = n.SCREEN_XS,
                        s = window.innerWidth,
                        l = 2;
                    if (s < r && (l = 1), jQuery().datepicker) {
                        var c = "+365D",
                            d = (new Date).getFullYear() + 1;
                        o.maxDate && (c = o.isStart ? new Date(d, 11, 30) : new Date(d, 11, 31)), o.isStart ? $(i).datepicker({
                            dateFormat: "dd-mm-yy",
                            monthNames: ["Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5", "Tháng 6", "Tháng 7", "Tháng 8", "Tháng 9", "Tháng 10", "Tháng 11", "Tháng 12"],
                            monthNamesShort: ["T1", "T2", "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12"],
                            dayNamesShort: ["CN", "T2", "T3", "T4", "T5", "T6", "T7"],
                            dayNamesMin: ["CN", "T2", "T3", "T4", "T5", "T6", "T7"],
                            dayNames: ["CN", "Thứ 2", "Thứ 3", "Thứ 4", "Thứ 5", "Thứ 6", "Thứ 7"],
                            numberOfMonths: l,
                            minDate: 0,
                            maxDate: c,
                            showButtonPanel: !1,
                            allowInputToggle: !0,
                            onChangeMonthYear: u,
                            beforeShow: function() {
                                u(), setTimeout(function() {
                                    $(".ui-datepicker").css("z-index", 99999999999999)
                                }, 0)
                            },
                            onSelect: function(t, a) {
                                e.log(t), o.maxDate ? $("#" + o.endId).datepicker("option", "minDate", moment(t, "DD-MM-YYYY").add(1, "days").format("DD-MM-YYYY")) : $("#" + o.endId).datepicker("option", "minDate", t), $(i).trigger("change"), $("#" + o.endId).trigger("change")
                            }
                        }) : (o.minDate, $(i).datepicker({
                            dateFormat: "dd-mm-yy",
                            monthNames: ["Tháng 1", "Tháng 2", "Tháng 3", "Tháng 4", "Tháng 5", "Tháng 6", "Tháng 7", "Tháng 8", "Tháng 9", "Tháng 10", "Tháng 11", "Tháng 12"],
                            monthNamesShort: ["T1", "T2", "T3", "T4", "T5", "T6", "T7", "T8", "T9", "T10", "T11", "T12"],
                            dayNamesShort: ["CN", "T2", "T3", "T4", "T5", "T6", "T7"],
                            dayNamesMin: ["CN", "T2", "T3", "T4", "T5", "T6", "T7"],
                            dayNames: ["CN", "Thứ 2", "Thứ 3", "Thứ 4", "Thứ 5", "Thứ 6", "Thứ 7"],
                            numberOfMonths: l,
                            minDate: 0,
                            maxDate: c,
                            showButtonPanel: !1,
                            allowInputToggle: !0,
                            onChangeMonthYear: u,
                            beforeShow: function() {
                                u(), setTimeout(function() {
                                    $(".ui-datepicker").css("z-index", 99999999999999)
                                }, 0)
                            }
                        }), t(function() {
                            var t = $("#" + o.startId).datepicker("getDate");
                            t && ("hotel" === o.minDate && t.setDate(t.getDate() + 1), e.log(t), $(i).datepicker("option", "minDate", t), $(i).trigger("change"))
                        }, 1e3)), a.ngModel
                    }
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdDualDatePicker", e), e.$inject = ["$log", "$timeout", "$parse", "DEFAULT_SETTING"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            return {
                restrict: "A",
                require: "?ngModel",
                link: function(e, t, a, n) {
                    n.$parsers.push(function(e) {
                        if (void 0 == e) return "";
                        var t = e.replace(/[^0-9]/g, "");
                        return t !== e && (n.$setViewValue(t), n.$render()), t
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdDigitOnly", e), e.$inject = ["$log", "$timeout"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            return {
                restrict: "A",
                require: "ngModel",
                scope: {
                    ngModel: "=",
                    startId: "=",
                    endId: "=",
                    isStart: "=",
                    isEnd: "=",
                    minDt: "@",
                    maxDt: "@"
                },
                link: function(t, a, n) {
                    n.isStart ? ($(a).bootstrapDP({
                        rtl: App.isRTL(),
                        orientation: "left",
                        autoclose: !0,
                        format: "dd-mm-yyyy",
                        language: "vi"
                    }).on("changeDate", function(t) {
                        if (e.log("changeDate"), t.date) {
                            var i = new Date(t.date.valueOf()),
                                o = $("#" + n.endId).bootstrapDP("getDate");
                            i > o && $("#" + n.endId).bootstrapDP("setDate", null), $("#" + n.endId).bootstrapDP("setStartDate", i), $(a).trigger("change"), $("#" + n.endId).trigger("change")
                        } else i || $("#" + n.endId).bootstrapDP("setStartDate", null), $(a).trigger("change"), $("#" + n.endId).trigger("change")
                    }).on("clearDate", function() {
                        e.log("clearDate");
                        var t = $(a).bootstrapDP("getDate");
                        $("#" + n.endId).bootstrapDP("getDate");
                        t || $("#" + n.endId).bootstrapDP("setStartDate", null)
                    }).on("change", function() {}), t.ngModel && ($(a).bootstrapDP("setDate", t.ngModel), $(a).bootstrapDP("update"))) : n.minDt ? ($(a).bootstrapDP({
                        rtl: App.isRTL(),
                        orientation: "left",
                        autoclose: !0,
                        startDate: new Date((new Date).getTime() + 864e5),
                        format: "dd-mm-yyyy",
                        language: "vi"
                    }), t.ngModel && ($(a).bootstrapDP("setDate", t.ngModel), $(a).bootstrapDP("update"))) : n.maxDt ? ($(a).bootstrapDP({
                        rtl: App.isRTL(),
                        orientation: "left",
                        autoclose: !0,
                        endDate: new Date((new Date).getTime() - 864e5),
                        format: "dd-mm-yyyy",
                        language: "vi"
                    }), t.ngModel && ($(a).bootstrapDP("setDate", t.ngModel), $(a).bootstrapDP("update"))) : ($(a).bootstrapDP({
                        rtl: App.isRTL(),
                        orientation: "left",
                        autoclose: !0,
                        format: "dd-mm-yyyy",
                        language: "vi"
                    }), t.ngModel && ($(a).bootstrapDP("setDate", t.ngModel), $(a).bootstrapDP("update")))
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdDatePicker", e), e.$inject = ["$log", "$timeout", "$parse"]
    }(),
    function() {
        "use strict";

        function gtdComboDate($log, $timeout, $parse) {
            function maxDate(e, t) {
                var a = 31;
                return null != e && (4 != e && 6 != e && 9 != e && 11 != e || (a = 30), null != t && 2 == e && (a = t % 4 == 0 && t % 100 != 0 || t % 400 == 0 ? 29 : 28)), a
            }

            function adjustTimezone(e, t) {
                var a = isNaN(t) ? (new Date).getTimezoneOffset() : 60 * parseFloat(t);
                return a = 0, new Date(e.getTime() + 60 * a * 1e3)
            }

            function parseDate(e, t) {
                var a = null;
                return void 0 !== e && null !== e && (e instanceof Date ? a = e : "number" != typeof e && "string" != typeof e || (a = new Date(isNaN(e) ? e : parseInt(e, 10)), a = adjustTimezone(a, t))), a
            }

            function parseIntStrict(e) {
                return null !== e && "" !== e && NaN != parseInt(e) ? parseInt(e) : null
            }

            function parseJsonPlus(e) {
                var t = null;
                if (null != e) {
                    try {
                        t = JSON.parse(e)
                    } catch (e) {}
                    if (null == t) try {
                        t = JSON.parse(e.replace(/'/g, '"'))
                    } catch (e) {}
                }
                return t
            }
            return {
                restrict: "AEC",
                scope: {
                    ngModel: "=",
                    ngDate: "@",
                    ngMinDate: "@",
                    ngMaxDate: "@",
                    ngMonths: "@",
                    ngOrder: "@",
                    ngAttrsDate: "@",
                    ngAttrsMonth: "@",
                    ngAttrsYear: "@",
                    ngYearOrder: "@",
                    ngTimezone: "@",
                    ngPlaceholder: "@",
                    ngPlaceholderEnabled: "@",
                    ngRequired: "@",
                    name: "@",
                    index: "="
                },
                require: "ngModel",
                controller: ["$scope", function(e) {
                    e.ngModel = parseDate(e.ngModel, e.ngTimezone), e.ngAttrsDate = parseJsonPlus(e.ngAttrsDate), e.ngAttrsMonth = parseJsonPlus(e.ngAttrsMonth), e.ngAttrsYear = parseJsonPlus(e.ngAttrsYear);
                    var t = parseDate(e.ngDate, e.ngTimezone);
                    if (null != t && (e.ngModel = t), "string" != typeof e.ngOrder ? e.ngOrder = "dmy" : e.ngOrder = e.ngOrder.toLowerCase(), e.minDate = parseDate(e.ngMinDate, e.ngTimezone), null == e.minDate) {
                        var a = new Date;
                        e.minDate = new Date(a.getFullYear() - 100, a.getMonth(), a.getDate(), a.getHours(), a.getMinutes(), a.getSeconds(), a.getMilliseconds())
                    }
                    if (e.maxDate = parseDate(e.ngMaxDate, e.ngTimezone), null == e.maxDate && (e.maxDate = new Date), (e.ngModel < e.minDate || e.ngModel > e.maxDate) && (e.ngModel = null, e.date = null, e.month = null, e.year = null), e.placeHolders = null, void 0 !== e.ngPlaceholder && null !== e.ngPlaceholder && ("string" == typeof e.ngPlaceholder || Array.isArray(e.ngPlaceholder))) {
                        var n = "string" == typeof e.ngPlaceholder ? e.ngPlaceholder.split(",") : e.ngPlaceholder;
                        if (3 == n.length) {
                            e.placeHolders = [];
                            for (var i = 0; i < n.length; i++) e.placeHolders.push({
                                value: "",
                                name: n[i],
                                disabled: !1
                            })
                        }
                    }
                    e.years = [];
                    for (var o = e.minDate.getFullYear(); o <= e.maxDate.getFullYear(); o++) e.years.push({
                        value: o,
                        name: o
                    });
                    "string" == typeof e.ngYearOrder && 0 == e.ngYearOrder.indexOf("des") && e.years.reverse(), e.placeHolders && e.years.unshift(e.placeHolders[0]);
                    var r = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"];
                    if (void 0 !== e.ngMonths && null !== e.ngMonths) {
                        if ("string" == typeof e.ngMonths) {
                            var s = e.ngMonths.split(",");
                            12 == s.length && (r = s)
                        }
                        Array.isArray(e.ngMonths) && 12 == e.ngMonths.length && (r = e.ngMonths)
                    }
                    e.updateMonthList = function(t) {
                        t = parseIntStrict(t);
                        var a = null !== t && t == e.minDate.getFullYear() ? e.minDate.getMonth() : 0,
                            n = null !== t && t == e.maxDate.getFullYear() ? e.maxDate.getMonth() : 11;
                        e.months = [], e.placeHolders && e.months.push(e.placeHolders[1]);
                        for (var i = a; i <= n; i++) e.months.push({
                            value: i,
                            name: r[i]
                        })
                    }, e.updateDateList = function(t, a) {
                        t = parseIntStrict(t), a = parseIntStrict(a);
                        var n = 1;
                        null !== t && t == e.minDate.getMonth() && null !== a && a == e.minDate.getFullYear() && (n = e.minDate.getDate());
                        var i = maxDate(null !== t ? t + 1 : null, a);
                        null !== t && t == e.maxDate.getMonth() && null !== a && a == e.maxDate.getFullYear() && (i = e.maxDate.getDate()), e.dates = [], e.placeHolders && e.dates.push(e.placeHolders[2]);
                        for (var o = n; o <= i; o++) e.dates.push({
                            value: o,
                            name: o
                        })
                    }
                }],
                link: function(e, t, a, n) {
                    for (var i = angular.element, o = i(t[0]).children(), r = e.ngOrder.split(""), s = 0; s < r.length; s++) "d" == r[s] && i(t[0]).append(o[0]), "m" == r[s] && i(t[0]).append(o[1]), "y" == r[s] && i(t[0]).append(o[2]);
                    n.$formatters.push(function(t) {
                        var a = {
                            date: null,
                            month: null,
                            year: null
                        };
                        return t ? (a.date = t.getDate(), a.month = t.getMonth(), a.year = t.getFullYear()) : (a.date = "", a.month = "", a.year = "", e.placeHolders && (e.placeHolders[0].disabled = !1, e.placeHolders[1].disabled = !1, e.placeHolders[2].disabled = !1)), (null != t && t < e.minDate || t > e.maxDate) && (a.date = "", a.month = "", a.year = "", e.placeHolders && (e.placeHolders[0].disabled = !1, e.placeHolders[1].disabled = !1, e.placeHolders[2].disabled = !1)), e.updateMonthList(a.year), e.updateDateList(a.month, a.year), a
                    }), n.$render = function() {
                        e.date = n.$viewValue.date, e.month = n.$viewValue.month, e.year = n.$viewValue.year
                    }, e.$watch('date + "-" + month + "-" + year', function(t, a) {
                        t != a && n.$setViewValue({
                            date: e.date,
                            month: e.month,
                            year: e.year
                        })
                    }), n.$isEmpty = function(e) {
                        return null == e.date || "" == e.date || isNaN(parseInt(e.month)) || null == e.year || "" == e.year
                    }, n.$parsers.push(function(t) {
                        var a = null;
                        if (null != t.date && "" != t.date && !isNaN(parseInt(t.month)) && null != t.year && "" != t.year) {
                            var n = maxDate(t.month + 1, t.year),
                                i = 0,
                                o = 0,
                                r = 0,
                                s = 0;
                            null != e.ngModel && (i = e.ngModel.getHours(), o = e.ngModel.getMinutes(), r = e.ngModel.getSeconds(), s = e.ngModel.getMilliseconds()), a = new Date(t.year, t.month, t.date > n ? n : t.date, i, o, r, s), a = new Date(Date.UTC(t.year, t.month, t.date > n ? n : t.date, 0, 0, 0)), $log.log("gtdcombo ngModelCtrl.$parsers res = ------ "), $log.log(a)
                        }
                        return e.placeHolders && angular.isUndefined(e.ngPlaceholderEnabled) && ("" != e.year && (e.placeHolders[0].disabled = !0), "" != e.month && (e.placeHolders[1].disabled = !0), "" != e.date && (e.placeHolders[2].disabled = !0)), e.updateMonthList(t.year), e.updateDateList(t.month, t.year), a
                    })
                },
                template: function(element, attrs) {
                    for (var strAttrs = ["", "", ""], attrNames = ["ngAttrsDate", "ngAttrsMonth", "ngAttrsYear"], i = 0; i < 3; i++) try {
                        if (attrs && attrs[attrNames[i]]) {
                            eval("var attrsAux= " + attrs[attrNames[i]]);
                            for (var key in attrsAux) {
                                var value = attrsAux[key];
                                "boolean" == typeof value ? value && (strAttrs[i] += key + " ") : ("string" == typeof value && value.indexOf('"') > 0 && (value = value.replace(/"/g, "&quot;")), strAttrs[i] += key + '="' + value + '" ')
                            }
                        }
                    } catch (e) {
                        $log.log(e)
                    }
                    var html = '<div class="table-cell-date" ><select class="form-control" required name="' + attrs.name + '{{index}}Date" ng-model="date" ' + strAttrs[0] + ' ng-options="date.value as date.name disable when date.disabled for date in dates"><option value="" disabled selected hidden>Ngày</option></select></div><div class="table-cell-date"><select class="form-control" required name="' + attrs.name + '{{index}}Month" ng-model="month" ' + strAttrs[1] + ' ng-options="month.value as month.name disable when month.disabled for month in months"><option value="" disabled selected hidden>Tháng</option></select></div><div class="table-cell-date"><select class="form-control" required name="' + attrs.name + '{{index}}Year" ng-model="year" ' + strAttrs[2] + ' ng-options="year.value as year.name disable when year.disabled for year in years"><option value="" disabled selected hidden>Năm</option></select></div>';
                    return html
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdComboDate", gtdComboDate), gtdComboDate.$inject = ["$log", "$timeout", "$parse"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            var r = function(e) {
                var t = i.defer(),
                    a = "";
                return a = n.get(e), "undefined" == typeof a ? o.get(e).success(function(a) {
                    n.put(e, a), t.resolve(a)
                }) : t.resolve(a), t.promise
            };
            return {
                restrict: "A",
                scope: {
                    argument: "=",
                    argument2: "=",
                    argument3: "@?",
                    argument4: "@?",
                    ibeKeys: "=?"
                },
                link: function(e, t, n) {
                    r(n.gtdTemplatePath).then(function(n) {
                        var i = a($(n))(e);
                        $(t).append(i)
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdCollapseClick", e), e.$inject = ["$log", "$timeout", "$compile", "$templateCache", "$q", "$http"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r) {
            var s = function(t, a, n, i, o) {
                e.log("refresh source - refactor");
                var r = i.slice(0);
                e.log(r);
                var s = $("#" + a).val();
                $("#" + a).data("select2") && $("#" + a).select2("destroy").empty().select2({
                    language: "vi",
                    data: r,
                    dropdownCssClass: "select2-search-width",
                    matcher: function(e, t) {
                        if ("" === jQuery.trim(e.term)) return t;
                        var a = jQuery.trim(e.term);
                        return t.text.toLowerCase().indexOf(a.toLowerCase()) > -1 ? t : null
                    }
                });
                for (var l = !1, c = r.length - 1; c >= 0; c--) r[c].code == s && (l = !0);
                l ? $("#" + a).val(s).trigger("change.select2") : $("#" + a).val(null).trigger("change.select2"), t.$apply()
            };
            return {
                restrict: "A",
                require: "ngModel",
                scope: {
                    gtdData: "=",
                    gtdValue: "=",
                    ngModel: "=",
                    gtdMode: "=",
                    gtdSearchOptions: "=",
                    gtdDirection: "="
                },
                link: function(a, l, c, d) {
                    e.log("ngmodel=" + a.ngModel + "::" + a[c.ngModel] + ":" + d.$viewValue), "domestic" == a.gtdMode ? o.searchAirportsLocal("VN").then(function(t) {
                        e.log("MetaData.searchAirportsLocal from flight.service"), i.setVnAirports(t);
                        var n = t;
                        if (n)
                            for (var o = 0; o < n.length; o++) n[o].id = n[o].code, n[o].text = n[o].city + " (" + n[o].code + ")";
                        $(l).select2({
                            language: "vi",
                            data: n,
                            dropdownCssClass: "select2-search-width"
                        }).on("change", function() {
                            e.log(a.gtdDirection), "FROM" == a.gtdDirection ? s(a, "toAirPort", "FROM", n, a.ngModel) : "TO" == a.gtdDirection && s(a, "fromAirPort", "TO", n, a.ngModel)
                        })
                    }) : $(l).select2({
                        language: "vi",
                        minimumInputLength: 1,
                        templateResult: function(e) {
                            return e.id ? e.city + " (" + e.code + " - " + e.name + "), " + e.country : e.text
                        },
                        ajax: {
                            url: r + n,
                            minimumInputLength: 1,
                            dataType: "json",
                            delay: 250,
                            data: function(e) {
                                return {
                                    query: e.term
                                }
                            },
                            processResults: function(e, t) {
                                var n = e,
                                    o = [],
                                    r = "";
                                "FROM" == a.gtdDirection ? r = a.gtdSearchOptions.toAirPort : "TO" == a.gtdDirection && (r = a.gtdSearchOptions.fromAirPort);
                                var s = !1,
                                    l = i.getVnAirports();
                                return angular.forEach(l, function(e) {
                                    r && e.code.toLowerCase() == r.toLowerCase() && "VN" == e.countryCode && (s = !0)
                                }), angular.forEach(n, function(e) {
                                    "domestic" == a.gtdSearchOptions.dtype ? e.code != r && o.push(e) : s ? e.code != r && "VN" != e.countryCode && o.push(e) : e.code != r && o.push(e)
                                }), angular.forEach(o, function(e) {
                                    e.id = e.code, e.text = e.city + " (" + e.code + ")"
                                }), i.addLocalAirports(o), {
                                    results: o
                                }
                            },
                            cache: !0
                        },
                        dropdownCssClass: "select2-search-width",
                        matcher: function(e, t) {
                            if ("" === jQuery.trim(e.term)) return t;
                            var a = jQuery.trim(e.term);
                            return t.text.toLowerCase().indexOf(a.toLowerCase()) > -1 ? t : ""
                        }
                    }), t(function() {
                        var e = i.getLocalAirports(),
                            t = "";
                        for (var n in e) e[n].code == a.ngModel && (t = e[n].city + " (" + e[n].code + ")");
                        var o = $("<option selected>" + t + "</option>").val(a.ngModel);
                        $(l).append(o).trigger("change")
                    })
                }
            }
        }
        angular.module("B2B2CGatewayApp").directive("gtdAirportSelect", e), e.$inject = ["$log", "$timeout", "$parse", "META_SEARCH_AIRPORT_URL", "GlobalSrv", "MetaData", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {}
        e.$inject = ["$log", "$scope", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/booking/hotel-profile-booking-customer-info-view.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                selectedHotel: "=",
                selectedHotelProduct: "=",
                selectedHotelRoom: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelProfileBookingCustomerInfoView", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            function i() {
                r.nightlyFee = {}, r.room.ratesPerNight.forEach(function(e) {
                    r.nightlyFee[e.date] || (r.nightlyFee[e.date] = {}), r.nightlyFee[e.date][e.id] = e.amount
                }), e.log("ctrl.nightlyFee"), e.log(r.nightlyFee)
            }

            function o() {
                for (var t in r.nightlyFee) r.orderedDate.push(t);
                r.orderedDate.sort(function(e, t) {
                    return moment(e, "DD-MM-YYYY").diff(moment(t, "DD-MM-YYYY"))
                }), e.log(r.orderedDate)
            }
            var r = this;
            r.BASE_RATE = "base_rate", r.ORTHER_RATE = "orther_rate", r.nightlyFee = {}, r.orderedDate = [], r.feeTypes = ["tax_and_service_fee", "extra_person_fee", "compensation", "property_fee", "sales_tax", "adjustment", "recovery_charges_and_fees", "mandatory_fee", "resort_fee", "mandatory_tax"], r.reOrderFee = i, r.reOrderNight = o, this.$onInit = function() {
                r.reOrderFee(), r.reOrderNight()
            }
        }
        e.$inject = ["$log", "$scope", "MetaData", "Hotel"];
        var t = {
            templateUrl: "app/components/booking/hotel-booking-summary-details-item.html",
            controller: e,
            bindings: {
                room: "=",
                index: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelBookingSummaryDetailsItem", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            var o = this;
            e.log("ctrl.bookingModel="), e.log(o.bookingModel), o.searchOptions = a.getHotelSearchOptions(), t.$on("update-promo-select-success", function(t, a) {
                e.log("update-promo-select-success"), o.promoSelect = !0, "PERCENT" == a ? o.typePriceDiscount = "%" : o.typePriceDiscount = "VNĐ"
            }), t.$on("update-promo-remove-success", function(t, a) {
                e.log("update-promo-remove-success"), o.promoSelect = !1
            })
        }
        e.$inject = ["$log", "$scope", "DataService", "MetaData", "Hotel"];
        var t = {
            templateUrl: "app/components/booking/hotel-booking-summary-details.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                bjson: "=",
                paymentModel: "=",
                selectedHotel: "=",
                selectedHotelProduct: "=",
                selectedHotelRoom: "=",
                showCoupon: "=?"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelBookingSummaryDetails", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l) {
            var c = this;
            e.log("ctrl.bookingModel="), e.log(c.bookingModel), e.log(c.selectedHotelProduct), e.log("step = " + c.bookingModel.step), c.selectedHotelProduct && (c.selectedHotelProduct.totalPerson = 0, c.selectedHotelProduct.totalAdultQuantity = 0, c.selectedHotelProduct.rooms && c.selectedHotelProduct.rooms.forEach(function(e) {
                e.productCode = e.id, c.selectedHotelProduct.totalPerson += e.pax.adultQuantity + e.pax.childQuantity, c.selectedHotelProduct.totalAdultQuantity += e.pax.adultQuantity
            })), a.$on("vali-payment-promo", function(e, t) {
                c.promoDiscount = t
            }), c.validateVoucher = function() {
                if (null != c.bookingModel.voucher.voucherCode && !r.isAuthenticated()) {
                    var a = {};
                    a.title = "Rất tiếc", a.message = "Khuyến mãi này chỉ áp dụng cho thành viên của Gotadi. Vui lòng đăng nhập hoặc đăng ký để hưởng khuyến mãi và nhiều ưu đãi khác.";
                    var n = s.openDialogForceLogin(a);
                    return void n.closed.then(function() {
                        l.open()
                    })
                }
                c.wrongVoucher = !1;
                var i = o.validateVoucher(c.bookingModel);
                i.then(function(a) {
                    var n = a;
                    c.bookingModel.voucher = n, c.bjson.voucher = n, e.log("voucher.voucherValid = " + n.voucherValid), t.$broadcast("event-payment-voucher-redeem-succeeded", n), n.voucherValid || (c.wrongVoucher = !0)
                }, function(t) {
                    c.bookingModel.voucher = {}, c.bjson.voucher = {}, e.log(t), c.wrongVoucher = !0
                })
            }, a.$on("update-promo-select-success", function(t, a) {
                e.log("update-promo-select-success"), c.promoSelect = !0, c.bookingModel.voucher = {}, c.bjson.voucher = {}, "PERCENT" == a ? c.typePriceDiscount = "%" : c.typePriceDiscount = "VNĐ"
            }), a.$on("update-promo-remove-success", function(t, a) {
                e.log("update-promo-remove-success"), c.promoSelect = !1, c.promoDiscount = 0, c.bookingModel.voucher = {}, c.bjson.voucher = {}, c.beyondQuota = !1
            }), a.$on("event-payment-voucher-redeem-invalid", function(e, t) {
                return "PC1406" === t.textMessage ? void(c.beyondQuota = !0) : (c.beyondQuota = !1, void(c.wrongVoucher = !0))
            }), a.$on("event-payment-voucher-reset", function(e, t) {
                c.wrongVoucher = !1, c.beyondQuota = !1
            }), a.$on("event-payment-voucher-pre-send-data", function(e, t) {
                c.wrongVoucher = !1, c.beyondQuota = !1
            })
        }
        e.$inject = ["$log", "$rootScope", "$scope", "MetaData", "Hotel", "Flight", "Principal", "DialogService", "LoginService"];
        var t = {
            templateUrl: "app/components/booking/hotel-booking-summary.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                bjson: "=",
                paymentModel: "=",
                selectedHotel: "=",
                selectedHotelProduct: "=",
                selectedHotelRoom: "=",
                showCoupon: "=?",
                showPriceCoupon: "=?",
                promoSelect: "=?"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelBookingSummary", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            var i = this;
            e.log("ctrl.bookingModel4 : "), i.bookingModel && (i.bookingModel.bookingInfo.taxPersonalInfoContact = angular.fromJson(i.bookingModel.bookingInfo.taxPersonalInfoContact)), e.log(i.bookingModel)
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/booking/hotel-booking-history-billing-info-view.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                selectedHotel: "=",
                selectedHotelProduct: "=",
                selectedHotelRoom: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelBookingHistoryBillingInfoView", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            var i = this;
            a(function() {
                angular.forEach(i.bookingModel.customers, function(e) {
                    e.show = !0
                })
            }, 10), i.hideCust = function(e) {
                e.show = !1
            }, i.showCust = function(e) {
                e.show = !0
            }, i.doBack = function() {
                i.bookingModel.curStep = 1
            }
        }
        e.$inject = ["$log", "Base64", "$timeout", "$state"];
        var t = {
            templateUrl: "app/components/booking/hotel-booking-customer-info-view.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                selectedHotel: "=",
                selectedHotelProduct: "=",
                selectedHotelRoom: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelBookingCustomerInfoView", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d) {
            var p = this;
            if (e.log(p.bookingModel), p.allLookups = r.getAllLookups(), p.titleLookups = [], p.searchOptions = d.getSearchOptions(), p.isAuthenticated = c.isAuthenticated, p.customerTravellers = [], c.identity().then(function(e) {
                    p.identity = e
                }), a.$watch(function(e) {
                    return p.isAuthenticated()
                }, function(t, a) {
                    c.isAuthenticated() && o.getCustomerTravellersForBoth().then(function(t) {
                        p.customerTravellers = [], angular.forEach(t, function(e) {
                            p.customerTravellers.push(e)
                        }), e.log(p.customerTravellers)
                    })
                }), c.isAuthenticated() && o.getCustomerTravellersForBoth().then(function(t) {
                    p.customerTravellers = [], angular.forEach(t, function(e) {
                        p.customerTravellers.push(e)
                    }), e.log(p.customerTravellers)
                }), e.log("Search ALL lookups"), e.log("ctrl.allLookups = " + p.allLookups), p.allLookups != [] && 0 != p.allLookups.length || (e.log("Search ALL lookups"), n.searchLookups("", "", !0).then(function(t) {
                    p.allLookups = t, e.log("ctrl.allLookups = " + p.allLookups)
                })), n.searchLookups("ota_customer", "passenger_gender").then(function(e) {
                    p.titleLookups = e
                }), n.searchLookups("ota_customer", "passenger_gender").then(function(e) {
                    p.titleLookups = e, p.adultTitleLookups = [], angular.forEach(p.titleLookups, function(e) {
                        "MALE" != e.lookupValue && "FEMALE" != e.lookupValue || p.adultTitleLookups.push(e)
                    })
                }), void 0 == p.bookingModel.customers) {
                p.bookingModel.customers = [];
                for (var g = 0; g < p.searchOptions.hotelSearchBody.length; g++) p.bookingModel.customers.push({
                    checked: !1,
                    type: "ADT",
                    gid: g,
                    cuPp: "PP"
                });
                e.log(p.bookingModel.customers), e.log("++++++++++++++++++++++++++"), e.log(p.searchOptions.pax), angular.forEach(p.bookingModel.customers, function(e) {
                    e.cuGender = "MR", e.cuNationality = "vn"
                })
            }
            p.addBlankCustomer = function() {
                p.bookingModel.customers.push({
                    checked: !1
                }), angular.forEach(p.bookingModel.customers, function(e) {
                    e.cuGender = "MR", e.cuNationality = "vn"
                })
            }, p.removeCustomer = function(e) {
                p.bookingModel.customers.splice(e, 1)
            }, p.chooseCustomer = function(t) {
                if (e.log("item = " + t), t.id = void 0, t.cuGender = void 0, t.cuFamilyName = void 0, t.cuName = void 0, t.cuCardType = void 0, t.cuCardNo = void 0, t.cuCardId = void 0, t.cuDob = void 0, t.selectedTraveller) {
                    if (t.id = t.selectedTraveller.id, t.cuGender = t.selectedTraveller.gender, t.cuFamilyName = t.selectedTraveller.surName, t.cuName = t.selectedTraveller.firstName, t.selectedTraveller.dob && (t.cuDob = new Date(t.selectedTraveller.dob)), t.cuPp = t.selectedTraveller.documentType, t.cuPp || (t.cuPp = "PP"), t.cuId = t.selectedTraveller.documentNumber, t.cuNationality = t.selectedTraveller.nationality, null != t.selectedTraveller.memberCards && void 0 != t.selectedTraveller.memberCards && t.selectedTraveller.memberCards != []) {
                        var a = t.selectedTraveller.memberCards[0];
                        a && (t.cuCardType = a.cardType, t.cuCardNo = a.cardNumber)
                    }
                } else t.id = null
            }, p.updateSelection = function(e, a) {
                angular.forEach(a, function(a, n) {
                    e != n ? a.checked = !1 : a.checked && t.$broadcast("gtd-update-contact-info", {
                        model: a
                    })
                })
            }, p.syncContactInfo = function(e) {
                angular.forEach(e, function(e, a) {
                    e.checked && t.$broadcast("gtd-update-contact-info", {
                        model: e
                    })
                })
            }, e.log(p.bookingModel.requestOptions), p.bookingModel.requestOptions = [{
                id: "0",
                text: "Phòng yên tĩnh",
                selected: !1
            }, {
                id: "1",
                text: "Phòng không hút thuốc",
                selected: !1
            }, {
                id: "2",
                text: "Phòng tầng trệt",
                selected: !1
            }, {
                id: "3",
                text: "Phòng tầng cao",
                selected: !1
            }]
        }
        e.$inject = ["$log", "$rootScope", "$scope", "MetaData", "Flight", "CustomerService", "GlobalSrv", "DataService", "DateUtils", "Principal", "GtdHotelService"];
        var t = {
            require: {
                form: "^^form"
            },
            templateUrl: "app/components/booking/hotel-booking-customer-info.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                selectedHotel: "=",
                selectedHotelProduct: "=",
                selectedHotelRoom: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelBookingCustomerInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            var i = this;
            t.$on("gtd-load-booking-completed", function() {
                e.log("gtd-load-booking-completed: "), "flight" == i.mode && angular.forEach(i.bookingModel.contacts, function(e) {
                    e.show = !0
                })
            }), i.hideCust = function(e) {
                e.show = !1
            }, i.showCust = function(e) {
                e.show = !0
            }
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/booking/hotel-booking-contact-info-view.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                selectedHotel: "=",
                selectedHotelProduct: "=",
                selectedHotelRoom: "=",
                mode: "@?"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelBookingContactInfoView", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            var l = this;
            l.isAuthenticated = a.isAuthenticated, l.allCountries = r.getAllCountries(), n.searchLookups("ota_customer", "passenger_gender").then(function(e) {
                l.titleLookups = e, l.adultTitleLookups = [], angular.forEach(l.titleLookups, function(e) {
                    "MALE" != e.lookupValue && "FEMALE" != e.lookupValue || l.adultTitleLookups.push(e)
                })
            }), t.$watch(function(e) {
                return l.isAuthenticated()
            }, function(e, t) {
                a.isAuthenticated() ? s.getCustomerTravellersForBoth().then(function(e) {
                    l.customerTravellers = e
                }) : l.customerTravellers = []
            }), t.$on("gtd-update-contact-info", function(t, a) {
                e.log(a), angular.forEach(l.bookingModel.contacts, function(e) {
                    e.ciFName = a.model.cuFamilyName, e.ciName = a.model.cuName
                })
            }), a.isAuthenticated() ? s.getCustomerTravellersForBoth().then(function(e) {
                l.customerTravellers = e
            }) : l.customerTravellers = [], t.$on("gtd-load-booking-completed", function() {
                e.log(l.bookingModel.contacts), null == l.allCountries || void 0 == l.allCountries || 0 == l.allCountries.length ? n.getCountries().then(function(e) {
                    l.allCountries = e, e && angular.forEach(l.bookingModel.contacts, function(e) {
                        e.ciMobileCode || (e.ciMobileCode = "84")
                    })
                }, function(e) {}) : l.bookingModel.contacts && angular.forEach(l.bookingModel.contacts, function(e) {
                    e.ciMobileCode || (e.ciMobileCode = "84")
                }), void 0 != l.bookingModel.contacts && 0 != l.bookingModel.contacts.length || (l.bookingModel.contacts = [{
                    checked: !1
                }], l.allCountries && l.allCountries.length > 0 && angular.forEach(l.bookingModel.contacts, function(e) {
                    e.ciMobileCode || (e.ciMobileCode = "84")
                })), a.identity().then(function(e) {
                    l.identity = e;
                    a.hasAnyAuthority(["ROLE_B2B"])
                })
            }), l.addBlankContacts = function() {
                l.bookingModel.contacts.push({
                    checked: !1
                }), angular.forEach(l.bookingModel.contacts, function(e) {
                    e.ciMobileCode = "84"
                })
            }, l.removeContact = function(e) {
                l.bookingModel.contacts.splice(e, 1)
            }, l.chooseContact = function(t) {
                e.log("item = " + t), t.ciGender = void 0, t.id = void 0, t.ciFName = void 0, t.ciName = void 0, t.ciEmail = void 0, t.ciMobile = void 0, t.ciMobileCode = "84", t.selectedTraveller ? ("MALE" != t.selectedTraveller.gender && "FEMALE" != t.selectedTraveller.gender || (t.ciGender = t.selectedTraveller.gender), t.id = t.selectedTraveller.id, t.ciFName = t.selectedTraveller.surName ? t.selectedTraveller.surName.toUpperCase() : "", t.ciName = t.selectedTraveller.firstName ? t.selectedTraveller.firstName.toUpperCase() : "", t.ciEmail = t.selectedTraveller.email, t.ciMobile = t.selectedTraveller.phoneNumber1, t.ciMobileCode = t.selectedTraveller.postalCode, t.ciMobileCode || (t.ciMobileCode = "84")) : t.id = null
            }
        }
        e.$inject = ["$log", "$scope", "Principal", "MetaData", "Flight", "DataService", "GlobalSrv", "CustomerService"];
        var t = {
            require: {
                form: "^^form"
            },
            templateUrl: "app/components/booking/hotel-booking-contact-info.html",
            controller: e,
            bindings: {
                bookingModel: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelBookingContactInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {}
        e.$inject = ["$log", "$scope", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/booking/hotel-booking-billing-info-view.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                selectedHotel: "=",
                selectedHotelProduct: "=",
                selectedHotelRoom: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelBookingBillingInfoView", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            var l = this;
            l.isAuthenticated = s.isAuthenticated, l.allCountries = o.getAllCountries(), t.$watch(function(e) {
                return l.isAuthenticated()
            }, function(e, t) {
                s.isAuthenticated() ? r.getCustomerTravellersForBoth().then(function(e) {
                    l.customerTravellers = e
                }) : l.customerTravellers = []
            }), t.$on("gtd-load-booking-completed", function() {
                e.log("gtd-load-booking-completed: "), l.bookingModel.showForm || (l.bookingModel.showForm = !1)
            }), l.allCountries || a.getCountries().then(function(e) {
                l.allCountries = e
            }), l.doShowForm = function() {
                l.bookingModel.showForm || (l.bookingModel.biCompany = void 0, l.bookingModel.biMst = void 0, l.bookingModel.biMobileCode = "84", l.bookingModel.biMobile = void 0, l.bookingModel.biAddress = void 0, l.bookingModel.tPCfName = void 0, l.bookingModel.tPCName = void 0, l.bookingModel.tPCPhoneCode = "84", l.bookingModel.tPCPhone = void 0, l.bookingModel.tPCemail = void 0, l.bookingModel.tPCNote = void 0)
            }, l.chooseContact = function(t) {
                e.log("item = " + t), t.ciGender = void 0, t.id = void 0, l.bookingModel.tPCfName = void 0, l.bookingModel.tPCName = void 0, l.bookingModel.tPCPhone = void 0, l.bookingModel.tPCemail = void 0, l.bookingModel.tPCPhoneCode = "84", t.postcode = void 0, t.selectedTraveller ? ("MALE" != t.selectedTraveller.gender && "FEMALE" != t.selectedTraveller.gender || (t.ciGender = t.selectedTraveller.gender), t.id = t.selectedTraveller.id, l.bookingModel.tPCfName = t.selectedTraveller.surName ? t.selectedTraveller.surName.toUpperCase() : "", l.bookingModel.tPCName = t.selectedTraveller.firstName ? t.selectedTraveller.firstName.toUpperCase() : "", l.bookingModel.tPCemail = t.selectedTraveller.email, l.bookingModel.tPCPhone = t.selectedTraveller.phoneNumber1, l.bookingModel.tPCPhoneCode = t.selectedTraveller.postalCode, l.bookingModel.postcode = t.selectedTraveller.postCode, l.bookingModel.tPCPhoneCode || (l.bookingModel.tPCPhoneCode = "84")) : t.id = null, e.log(t)
            }, l.updateBillingInfo = function() {
                l.bookingModel.biChecked && (l.bookingModel.biFName = l.bookingModel.contacts[0].ciFName, l.bookingModel.biLName = l.bookingModel.contacts[0].ciName, l.bookingModel.biMobileCode = l.bookingModel.contacts[0].ciMobileCode, l.bookingModel.biMobile = l.bookingModel.contacts[0].ciMobile, l.bookingModel.biEmail = l.bookingModel.contacts[0].ciEmail)
            }
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight", "DataService", "GlobalSrv", "CustomerService", "Principal"];
        var t = {
            require: {
                form: "^^form"
            },
            templateUrl: "app/components/booking/hotel-booking-billing-info.html",
            controller: e,
            bindings: {
                bookingModel: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdHotelBookingBillingInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            var i = this;
            i.pricedItinerary && i.bookingModel && i.bookingModel.bookingInfo && i.bookingModel.bookingInfo.displayPriceInfo && (i.pricedItinerary.displayPriceInfo = i.bookingModel.bookingInfo.displayPriceInfo)
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/booking/flight-booking-summary-details-item.html",
            controller: e,
            bindings: {
                groupItem: "=",
                pricedItinerary: "=",
                itinTotalFareInfo: "=",
                searchOptions: "=?",
                flightIdx: "@?",
                bookingModel: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightBookingSummaryDetailsItem", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            var o = this;
            e.log("ctrl.bookingModel="), e.log(o.bookingModel), o.searchOptions || (o.searchOptions = a.getSearchOption())
        }
        e.$inject = ["$log", "$scope", "DataService", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/booking/flight-booking-summary-details.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                paymentModel: "=?",
                searchOptions: "=?",
                showCoupon: "=?"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightBookingSummaryDetails", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            var r = this;
            r.searchOptions || (r.searchOptions = o.getSearchOption()), r.validateVoucher = function() {
                r.wrongVoucher = !1;
                var a = i.validateVoucher(r.bookingModel);
                a.then(function(a) {
                    var n = a;
                    r.bookingModel.voucher = n, e.log("voucher.voucherValid = " + n.voucherValid), t.$broadcast("event-payment-voucher-redeem-succeeded", n), n.voucherValid || (r.wrongVoucher = !0)
                }, function(t) {
                    r.bookingModel.voucher = {}, e.log(t), r.wrongVoucher = !0
                })
            }, a.$on("event-payment-voucher-redeem-invalid", function(e, t) {
                r.wrongVoucher = !0
            }), a.$on("event-payment-voucher-reset", function(e, t) {
                r.wrongVoucher = !1
            }), a.$on("event-payment-voucher-pre-send-data", function(e, t) {
                r.wrongVoucher = !1
            })
        }
        e.$inject = ["$log", "$rootScope", "$scope", "MetaData", "Flight", "DataService"];
        var t = {
            templateUrl: "app/components/booking/flight-booking-summary.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                paymentModel: "=?",
                searchOptions: "=?",
                bjson: "=",
                showCoupon: "=?",
                showPriceCoupon: "=?"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightBookingSummary", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            var i = this;
            e.info("mode = " + i.mode)
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/booking/flight-booking-progress.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                mode: "=?"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightBookingProgress", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            var i = this;
            e.log("ctrl.bookingModel4 : "), i.bookingModel && (i.bookingModel.bookingInfo.taxPersonalInfoContact = angular.fromJson(i.bookingModel.bookingInfo.taxPersonalInfoContact)), e.log(i.bookingModel)
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/booking/flight-booking-history-billing-info-view.html",
            controller: e,
            bindings: {
                bookingModel: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightBookingHistoryBillingInfoView", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r) {
            var s = this;
            e.log(a.mode + ":" + s.mode), s.searchOptions || (s.searchOptions = o.getSearchOption()), a.$on("gtd-load-booking-completed", function() {
                e.log("gtd-load-booking-completed: "), e.log(s.bookingModel.customers), "flight" == s.mode && angular.forEach(s.bookingModel.customers, function(e) {
                    e.show = !0
                })
            }), s.hideCust = function(e) {
                e.show = !1
            }, s.showCust = function(e) {
                e.show = !0
            }, s.doBack = function() {
                t.go("booking-info/:booking_number/:params", {
                    searchOptions: s.searchOptions,
                    searchResult: s.searchResult,
                    booking_number: r.encodeString(o.getBookingModel().bookingNumber),
                    params: ""
                })
            }
        }
        e.$inject = ["$log", "$state", "$scope", "MetaData", "Flight", "DataService", "Base64"];
        var t = {
            templateUrl: "app/components/booking/flight-booking-customer-info-view.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                mode: "@?",
                searchOptions: "=?"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightBookingCustomerInfoView", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p) {
            function g() {
                setTimeout(function() {
                    $(".selectGender-meal").select2(), $("#selectGender-meal,#selectGender-meal").on("select2:opening select2:closing", function(e) {
                        var t = $(this).parent().find(".select2-search__field");
                        t.prop("disabled", !0)
                    })
                }, 100)
            }

            function u(e) {
                m.bookingModel.customers[e].serviceRequests = [], m.bookingModel.customers[e].departServiceRequests = [], m.bookingModel.customers[e].returnServiceRequests = [], m.departBaggageServiceRequests[e] && (m.bookingModel.customers[e].serviceRequests = m.bookingModel.customers[e].serviceRequests.concat(m.departBaggageServiceRequests[e]), m.bookingModel.customers[e].departServiceRequests = m.bookingModel.customers[e].departServiceRequests.concat(m.departBaggageServiceRequests[e])), m.returnBaggageServiceRequests[e] && (m.bookingModel.customers[e].serviceRequests = m.bookingModel.customers[e].serviceRequests.concat(m.returnBaggageServiceRequests[e]), m.bookingModel.customers[e].returnServiceRequests = m.bookingModel.customers[e].returnServiceRequests.concat(m.returnBaggageServiceRequests[e])), m.departMealServiceRequests[e] && (m.bookingModel.customers[e].serviceRequests = m.bookingModel.customers[e].serviceRequests.concat(m.departMealServiceRequests[e]), m.bookingModel.customers[e].departServiceRequests = m.bookingModel.customers[e].departServiceRequests.concat(m.departMealServiceRequests[e])), m.returnMealServiceRequests[e] && (m.bookingModel.customers[e].serviceRequests = m.bookingModel.customers[e].serviceRequests.concat(m.returnMealServiceRequests[e]), m.bookingModel.customers[e].returnServiceRequests = m.bookingModel.customers[e].returnServiceRequests.concat(m.returnMealServiceRequests[e]))
            }
            var m = this;
            e.log("gtdFlightBookingCustomerInfoController:" + m.bookingModel), m.liteEmbed = !1, (p.get("liteEmbed") || localStorage.getItem("liteEmbed")) && (m.liteEmbed = "true" === (p.get("liteEmbed") || localStorage.getItem("liteEmbed"))), m.allCountries = s.getAllCountries(), m.allLookups = s.getAllLookups(), m.titleLookups = [], m.cardTypeLookups = [], m.passportTypeLookups = [], m.customerTravellers = [], m.setMeal = g, m.mergeSSr = u, console.log(m), m.merchantCode = d.search().merchant_code, m.merchantCode || (m.merchantCode = p.get("merchant_code") || localStorage.getItem("merchant_code")), t.$on("gtd-load-booking-completed", function() {
                if (e.log("gtd-load-booking-completed: "), e.log(m.bookingModel.customers), m.searchOptions || (m.searchOptions = r.getSearchOption()), h = m.bookingModel.departPricedItinerary.originDestinationOptions[0].flightSegments[0].departureDateTime, m.minExp = c.getMonthAgoFromBaseInDefaultFormat(h, -6), m.maxExp = c.getMonthAgoFromBasePlusDaysInDefaultFormat(h, -6, 7300), void 0 == m.bookingModel.customers || 0 == m.bookingModel.customers.length) {
                    m.bookingModel.customers = [];
                    for (var t = m.bookingModel.departPricedItinerary.airItineraryPricingInfo.adultFare && m.bookingModel.departPricedItinerary.airItineraryPricingInfo.adultFare.passengerTypeQuantities ? m.bookingModel.departPricedItinerary.airItineraryPricingInfo.adultFare.passengerTypeQuantities.quantity : 0, a = m.bookingModel.departPricedItinerary.airItineraryPricingInfo.childFare && m.bookingModel.departPricedItinerary.airItineraryPricingInfo.childFare.passengerTypeQuantities ? m.bookingModel.departPricedItinerary.airItineraryPricingInfo.childFare.passengerTypeQuantities.quantity : 0, n = m.bookingModel.departPricedItinerary.airItineraryPricingInfo.infantFare && m.bookingModel.departPricedItinerary.airItineraryPricingInfo.infantFare.passengerTypeQuantities ? m.bookingModel.departPricedItinerary.airItineraryPricingInfo.infantFare.passengerTypeQuantities.quantity : 0, i = 0; i < t; i++) m.bookingModel.customers.push({
                        checked: !1,
                        type: "ADT",
                        gid: i,
                        cuPp: "PP",
                        min: c.getYearAgoFromBaseInDefaultFormat(h, 90),
                        max: c.getYearAgoFromBaseInDefaultFormat(h, 12)
                    });
                    a ? m.searchOptions.childrenNo = a : m.searchOptions.childrenNo = 0;
                    for (var i = 0; i < m.searchOptions.childrenNo; i++) m.bookingModel.customers.push({
                        checked: !1,
                        type: "CHD",
                        gid: i,
                        cuPp: "PP",
                        min: c.getYearAgoFromBasePlusDaysInDefaultFormat(h, 12, 0),
                        max: c.getYearAgoFromBaseInDefaultFormat(h, 2)
                    });
                    n ? m.searchOptions.newBornNo = n : m.searchOptions.newBornNo = 0;
                    for (var i = 0; i < m.searchOptions.newBornNo; i++) m.bookingModel.customers.push({
                        checked: !1,
                        type: "INF",
                        gid: i,
                        cuPp: "PP",
                        min: c.getYearAgoFromBasePlusDaysInDefaultFormat(h, 2, 0),
                        max: c.getYearAgoFromBaseMinusDaysInDefaultFormat(h, 0, 14)
                    });
                    angular.forEach(m.bookingModel.customers, function(e) {
                        e.cuNationality = "vn"
                    })
                }
            }), m.checkListBaggage = function(e) {
                return "BAGGAGE" == e.serviceType && ("FSOFT" != m.merchantCode || ("Goi (Bag) 15kgs" == e.code || "Goi (Bag) 20kgs" == e.code || "BG15" == e.code || "BG20" == e.code || "Goi (Bag) 15 kg" == e.code))
            };
            var h;
            m.isAuthenticated = n.isAuthenticated, n.identity().then(function(e) {
                m.identity = e
            }), n.isAuthenticated() && l.getCustomerTravellersForBoth().then(function(e) {
                e && e.length > 0 && angular.forEach(e, function(e, t) {
                    0 != t && m.customerTravellers.push(e)
                })
            }), m.allCountries != [] && 0 != m.allCountries.length || i.getCountries().then(function(e) {
                m.allCountries = e
            }), e.log("Search ALL lookups"), e.log("ctrl.allLookups = " + m.allLookups), m.allLookups != [] && 0 != m.allLookups.length || (e.log("Search ALL lookups"), i.searchLookups("", "", !0).then(function(t) {
                m.allLookups = t, e.log("ctrl.allLookups = " + m.allLookups)
            })), i.searchLookups("ota_customer", "passenger_gender").then(function(e) {
                m.titleLookups = e, m.adultTitleLookups = [], angular.forEach(m.titleLookups, function(e) {
                    "MALE" != e.lookupValue && "FEMALE" != e.lookupValue || m.adultTitleLookups.push(e)
                }), m.childTitleLookups = [], angular.forEach(m.titleLookups, function(e) {
                    "BOY" != e.lookupValue && "GIRL" != e.lookupValue || m.childTitleLookups.push(e)
                })
            }), i.searchLookups("air_member_card", "").then(function(e) {
                if ("FSOFT" == m.merchantCode)
                    for (var t in e) "DL" == e[t].lookupType && m.cardTypeLookups.push(e[t]);
                else m.cardTypeLookups = e
            }), i.searchLookups("ota_customer", "passport_type").then(function(e) {
                m.passportTypeLookups = [], angular.forEach(e, function(e) {
                    "PP" == e.lookupValue && m.passportTypeLookups.push(e)
                })
            }), m.checkPassportForVNToEastSouthAsia = function() {
                var e = r.getSavedSearchOption(),
                    t = this.checkAirPortHasZoneInGroupName(e.fromAirPort, "Vietnam"),
                    a = this.checkAirPortHasZoneInGroupName(e.toAirPort, "SouthEastAsia");
                return t && a
            }, m.flightInternalfn = function() {
                var e = !1,
                    t = m.bookingModel.departGroupItem;
                return "VJ" != t.airSupplier && "BL" != t.airSupplier && "VN" != t.airSupplier && "QH" != t.airSupplier || (e = !0), e
            }, m.getGroupNameByAirPortCode = function(e) {
                var t = s.getLocalAirports(),
                    a = t.find(function(t) {
                        return t.code === e
                    }).groupName;
                return a
            }, m.checkAirPortHasZoneInGroupName = function(e, t) {
                var a = this.getGroupNameByAirPortCode(e),
                    n = a.split(",");
                if (1 == n.length) return a == t;
                for (var i = 0; i < n.length; i++)
                    if (t == n[i]) return !0;
                return !1
            }, m.addBlankCustomer = function() {
                m.bookingModel.customers.push({
                    checked: !1
                }), angular.forEach(m.bookingModel.customers, function(e) {
                    e.cuNationality = "vn"
                })
            }, m.removeCustomer = function(e) {
                m.bookingModel.customers.splice(e, 1)
            }, m.chooseCustomer = function(t) {
                if (e.log("item = " + t), t.id = void 0, t.cuGender = void 0, t.cuFamilyName = void 0, t.cuName = void 0, t.cuCardType = void 0, t.cuCardNo = void 0, t.cuCardId = void 0, t.cuDob = void 0, "international" == m.searchOptions.dtype && (t.cuDob = void 0, t.cuExpiredDate = void 0, t.cuPp = "PP", t.cuId = void 0, t.cuNationality = "vn"), t.selectedTraveller) {
                    if (t.id = t.selectedTraveller.id, "ADT" == t.type ? "MALE" != t.selectedTraveller.gender && "FEMALE" != t.selectedTraveller.gender || (t.cuGender = t.selectedTraveller.gender) : "CHD" != t.type && "INF" != t.type || ("BOY" != t.selectedTraveller.gender && "GIRL" != t.selectedTraveller.gender || (t.cuGender = t.selectedTraveller.gender), t.selectedTraveller.dob && (t.cuDob = new Date(t.selectedTraveller.dob))), t.cuFamilyName = t.selectedTraveller.surName ? t.selectedTraveller.surName.toUpperCase() : "", t.cuName = t.selectedTraveller.firstName ? t.selectedTraveller.firstName.toUpperCase() : "", null != t.selectedTraveller.memberCards && void 0 != t.selectedTraveller.memberCards && t.selectedTraveller.memberCards != []) {
                        var a = t.selectedTraveller.memberCards[0];
                        a && (t.cuCardType = a.cardType, t.cuCardNo = a.cardNumber, t.cuCardId = a.id)
                    }
                    "international" == m.searchOptions.dtype && (t.selectedTraveller.dob && (t.cuDob = new Date(t.selectedTraveller.dob)), t.selectedTraveller.expiredDate && (t.cuExpiredDate = new Date(t.selectedTraveller.expiredDate)), "PP" == t.selectedTraveller.documentType && (t.cuPp = t.selectedTraveller.documentType, t.cuPp || (t.cuPp = "PP"), t.cuId = t.selectedTraveller.documentNumber), t.cuNationality = t.selectedTraveller.nationality)
                } else t.id = null
            }, m.chooseMeal = function(e) {}, m.departBaggageServiceRequests = [], m.returnBaggageServiceRequests = [], m.departMealServiceRequests = [], m.returnMealServiceRequests = [], m.chooseLuggagePackage = function(t, a) {
                if ("depart" == t && (m.departBaggageServiceRequests[a] = [], m.searchOptions.ssrOfferItemsDepart)) {
                    var n = m.searchOptions.ssrOfferItemsDepart[0].ssrItems;
                    angular.forEach(n, function(e) {
                        e.fareSourceCode = m.bookingModel.departPricedItinerary.airItineraryPricingInfo.fareSourceCode, m.bookingModel.customers[a].cuLuggageDeparture == e.id && (m.departBaggageServiceRequests[a] = e)
                    }), e.log("departBaggageServiceRequests"), e.log(m.departBaggageServiceRequests)
                }
                if ("return" == t) {
                    if (m.returnBaggageServiceRequests[a] = [], m.searchOptions.ssrOfferItemsReturn) {
                        var i = m.searchOptions.ssrOfferItemsReturn[0].ssrItems;
                        angular.forEach(i, function(e) {
                            e.fareSourceCode = m.bookingModel.returnPricedItinerary.airItineraryPricingInfo.fareSourceCode, m.bookingModel.customers[a].cuLuggageReturn == e.id && (m.returnBaggageServiceRequests[a] = e)
                        })
                    }
                    e.log("returnServiceRequests"), e.log(m.returnBaggageServiceRequests)
                }
                m.mergeSSr(a)
            }, m.chooseMealPackage = function(t, a) {
                if ("depart" == t && m.searchOptions.ssrOfferItemsDepart) {
                    m.departMealServiceRequests[a] = [];
                    var n = m.searchOptions.ssrOfferItemsDepart[0].ssrItems;
                    angular.forEach(n, function(e) {
                        e.fareSourceCode = m.bookingModel.departPricedItinerary.airItineraryPricingInfo.fareSourceCode, angular.forEach(m.bookingModel.customers[a].cuMealDeparture, function(t) {
                            t == e.id && m.departMealServiceRequests[a].push(e)
                        })
                    }), e.log("departMealServiceRequests"), e.log(m.departMealServiceRequests)
                }
                if ("return" == t && m.searchOptions.ssrOfferItemsDepart) {
                    m.returnMealServiceRequests[a] = [];
                    var i = m.searchOptions.ssrOfferItemsReturn[0].ssrItems;
                    angular.forEach(i, function(e) {
                        e.fareSourceCode = m.bookingModel.returnPricedItinerary.airItineraryPricingInfo.fareSourceCode, angular.forEach(m.bookingModel.customers[a].cuMealReturn, function(t) {
                            t == e.id && m.returnMealServiceRequests[a].push(e)
                        })
                    }), e.log("returnMealServiceRequests"), e.log(m.returnMealServiceRequests)
                }
                m.mergeSSr(a)
            }, m.chooseMemberCard = function(e) {
                e.cuCardNo = "", e.cuCardId = null, e.selectedTraveller && e.selectedTraveller.memberCards && angular.forEach(e.selectedTraveller.memberCards, function(t) {
                    e.cuCardType == t.cardType && (e.cuCardNo = t.cardNumber, e.cuCardId = t.id)
                })
            }, m.updateSelection = function(e, t) {
                angular.forEach(t, function(t, n) {
                    e != n ? t.checked = !1 : t.checked && a.$broadcast("gtd-update-contact-info", {
                        model: t
                    })
                })
            }, t.fooChanged = function(e) {
                $(".checkedSelectContact").not(".selectContact" + e).prop("checked", !1);
                var t = $("#cuFamilyName" + e).val(),
                    n = $("#cuName" + e).val(),
                    i = $("#bookingCuGender" + e).val(),
                    o = {
                        ciFName: t,
                        ciName: n,
                        gender: i
                    };
                a.$broadcast("gtd-update-contact-info", {
                    model: o
                })
            }, t.changeInput = function(e, t, n) {
                if ($(".selectContact" + e).is(":checked")) {
                    var i = $("#cuFamilyName" + e).val(),
                        o = $("#cuName" + e).val(),
                        r = $("#bookingCuGender" + e).val(),
                        s = {
                            ciFName: i,
                            ciName: o,
                            gender: r
                        };
                    a.$broadcast("gtd-update-contact-info", {
                        model: s
                    })
                }
            }, t.changeSelect = function(e, t) {
                if ($(".selectContact" + e).is(":checked")) {
                    var n = $("#cuFamilyName" + e).val(),
                        i = $("#cuName" + e).val(),
                        o = $("#bookingCuGender" + e).val(),
                        r = {
                            ciFName: n,
                            ciName: i,
                            gender: o
                        };
                    a.$broadcast("gtd-update-contact-info", {
                        model: r
                    })
                }
            }
        }
        e.$inject = ["$log", "$scope", "$rootScope", "Principal", "MetaData", "Flight", "DataService", "GlobalSrv", "CustomerService", "DateUtils", "$location", "$cookies"];
        var t = {
            require: {
                form: "^^form"
            },
            templateUrl: "app/components/booking/flight-booking-customer-info.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                searchOptions: "=?"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightBookingCustomerInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            var i = this;
            t.$on("gtd-load-booking-completed", function() {
                e.log("gtd-load-booking-completed: "), "flight" == i.mode && angular.forEach(i.bookingModel.contacts, function(e) {
                    e.show = !0
                })
            }), i.hideCust = function(e) {
                e.show = !1
            }, i.showCust = function(e) {
                e.show = !0
            }
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/booking/flight-booking-contact-info-view.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                mode: "@?"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightBookingContactInfoView", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            var l = this;
            l.isAuthenticated = a.isAuthenticated, l.customerTravellers = [], l.allCountries = r.getAllCountries(), n.searchLookups("ota_customer", "passenger_gender").then(function(e) {
                l.titleLookups = e, console.log("resultSearchLookups: "), console.log(e), l.adultTitleLookups = [], angular.forEach(l.titleLookups, function(e) {
                    "MALE" != e.lookupValue && "FEMALE" != e.lookupValue || l.adultTitleLookups.push(e)
                })
            }), a.isAuthenticated() ? s.getCustomerTravellersForBoth().then(function(e) {
                e && e.length > 0 && angular.forEach(e, function(e, t) {
                    0 != t && l.customerTravellers.push(e)
                })
            }) : l.customerTravellers = [], t.$on("gtd-load-booking-completed", function() {
                null == l.allCountries || void 0 == l.allCountries || 0 == l.allCountries.length ? n.getCountries().then(function(e) {
                    l.allCountries = e, e && angular.forEach(l.bookingModel.contacts, function(e) {
                        e.ciMobileCode || (e.ciMobileCode = "84")
                    })
                }, function(e) {}) : l.bookingModel.contacts && angular.forEach(l.bookingModel.contacts, function(e) {
                    e.ciMobileCode || (e.ciMobileCode = "84")
                }), void 0 != l.bookingModel.contacts && 0 != l.bookingModel.contacts.length || (l.bookingModel.contacts = [{
                    checked: !1
                }], l.allCountries && l.allCountries.length > 0 && angular.forEach(l.bookingModel.contacts, function(e) {
                    e.ciMobileCode || (e.ciMobileCode = "84")
                })), a.identity().then(function(e) {
                    l.identity = e;
                    a.hasAnyAuthority(["ROLE_B2B"])
                })
            }), t.$on("gtd-update-contact-info", function(e, t) {
                angular.forEach(l.bookingModel.contacts, function(e) {
                    e.ciFName = t.model.ciFName, e.ciName = t.model.ciName, e.ciGender = t.model.gender
                })
            }), l.addBlankContacts = function() {
                l.bookingModel.contacts.push({
                    checked: !1
                }), angular.forEach(l.bookingModel.contacts, function(e) {
                    e.ciMobileCode = "84"
                })
            }, l.removeContact = function(e) {
                l.bookingModel.contacts.splice(e, 1)
            }, l.chooseContact = function(t) {
                e.log("item = " + t), t.ciGender = void 0, t.id = void 0, t.ciFName = void 0, t.ciName = void 0, t.ciEmail = void 0,
                    t.ciMobile = void 0, t.ciMobileCode = "84", t.postcode = void 0, t.selectedTraveller ? ("MALE" != t.selectedTraveller.gender && "FEMALE" != t.selectedTraveller.gender || (t.ciGender = t.selectedTraveller.gender), t.id = t.selectedTraveller.id, t.ciFName = t.selectedTraveller.surName ? t.selectedTraveller.surName.toUpperCase() : "", t.ciName = t.selectedTraveller.firstName ? t.selectedTraveller.firstName.toUpperCase() : "", t.ciEmail = t.selectedTraveller.email, t.ciMobile = t.selectedTraveller.phoneNumber1, t.ciMobileCode = t.selectedTraveller.postalCode, t.postcode = t.selectedTraveller.postCode, t.ciMobileCode || (t.ciMobileCode = "84")) : t.id = null
            }
        }
        e.$inject = ["$log", "$scope", "Principal", "MetaData", "Flight", "DataService", "GlobalSrv", "CustomerService"];
        var t = {
            require: {
                form: "^^form"
            },
            templateUrl: "app/components/booking/flight-booking-contact-info.html",
            controller: e,
            bindings: {
                bookingModel: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightBookingContactInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            var i = this;
            e.log("ctrl.bookingModel4 : "), i.bookingModel && (i.bookingModel.bookingInfo.taxPersonalInfoContact = angular.fromJson(i.bookingModel.bookingInfo.taxPersonalInfoContact)), e.log(i.bookingModel)
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight"];
        var t = {
            templateUrl: "app/components/booking/flight-booking-billing-info-view.html",
            controller: e,
            bindings: {
                bookingModel: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightBookingBillingInfoView", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            var l = this;
            l.isAuthenticated = r.isAuthenticated, l.allCountries = o.getAllCountries(), e.log("ctrl.bookingModel4 : "), l.bookingModel && (l.bookingModel.bookingInfo = angular.fromJson(l.bookingModel.bookingInfo)), e.log(l.bookingModel), t.$watch(function(e) {
                return l.isAuthenticated()
            }, function(e, t) {
                r.isAuthenticated() ? s.getCustomerTravellersForBoth().then(function(e) {
                    l.customerTravellers = e
                }) : l.customerTravellers = []
            }), t.$on("gtd-load-booking-completed", function() {
                e.log("gtd-load-booking-completed: "), l.bookingModel.showForm || (l.bookingModel.showForm = !1)
            }), l.allCountries || a.getCountries().then(function(e) {
                l.allCountries = e
            }), void 0 != l.bookingModel.contacts && 0 != l.bookingModel.contacts.length || (l.bookingModel.contacts = [{
                checked: !1
            }], l.allCountries && l.allCountries.length > 0 && angular.forEach(l.bookingModel.contacts, function(e) {
                e.ciMobileCode || (e.ciMobileCode = "84")
            })), l.chooseContact = function(t) {
                e.log("itemChooseContact = " + t), t.ciGender = void 0, t.id = void 0, l.bookingModel.tPCfName = void 0, l.bookingModel.tPCName = void 0, l.bookingModel.tPCPhone = void 0, l.bookingModel.tPCemail = void 0, l.bookingModel.tPCPhoneCode = "84", t.postcode = void 0, t.selectedTraveller ? ("MALE" != t.selectedTraveller.gender && "FEMALE" != t.selectedTraveller.gender || (t.ciGender = t.selectedTraveller.gender), t.id = t.selectedTraveller.id, l.bookingModel.tPCfName = t.selectedTraveller.surName ? t.selectedTraveller.surName.toUpperCase() : "", l.bookingModel.tPCName = t.selectedTraveller.firstName ? t.selectedTraveller.firstName.toUpperCase() : "", l.bookingModel.tPCemail = t.selectedTraveller.email, l.bookingModel.tPCPhone = t.selectedTraveller.phoneNumber1, l.bookingModel.tPCPhoneCode = t.selectedTraveller.postalCode, l.bookingModel.postcode = t.selectedTraveller.postCode, l.bookingModel.tPCPhoneCode || (l.bookingModel.tPCPhoneCode = "84")) : t.id = null, e.log(t)
            }, l.doShowForm = function() {
                l.bookingModel.showForm || (l.bookingModel.biCompany = void 0, l.bookingModel.biMst = void 0, l.bookingModel.biMobileCode = "84", l.bookingModel.biMobile = void 0, l.bookingModel.biAddress = void 0, l.bookingModel.tPCfName = void 0, l.bookingModel.tPCName = void 0, l.bookingModel.tPCPhoneCode = "84", l.bookingModel.tPCPhone = void 0, l.bookingModel.tPCemail = void 0, l.bookingModel.tPCNote = void 0)
            }
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight", "DataService", "GlobalSrv", "Principal", "CustomerService"];
        var t = {
            require: {
                form: "^^form"
            },
            templateUrl: "app/components/booking/flight-booking-billing-info.html",
            controller: e,
            bindings: {
                bookingModel: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdFlightBookingBillingInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h) {
            function v(e) {
                $.paymentModel.cardModel.chosenCardNumber == -1 && ($.paymentModel.cardModel.cardId = -1), $.paymentModel.cardModel.chosenCardNumber = e.cardNumber, $.paymentModel.cardModel.cardId = e.id
            }

            function f() {
                $.bookingModel.bookingInfo.promotionID > 0 && o.voidPromo($.bookingModel.bookingNumber, $.bookingModel.bookingInfo.promotionID[0]).then(function(e) {}), $.paymentModel.promotions = null, $.promotionAirName = null, $.paymentModel.paymentOption = $.selectTypePayment, t.$broadcast("update-promo-remove-success", null), $.tempPromo2 = 0, $.tempPromo = 0, $.calcPaymentFee(), $.promoSelect = !1
            }

            function b() {
                o.gPaymentPromotion("HOTEL", "PUBLISHING", 0, 20).then(function(e) {
                    var t = e.content.findIndex(function(e) {
                        return e.id == +$.bookingModel.bookingInfo.promotionID[0]
                    });
                    t == -1 && o.voidPromo($.bookingModel.bookingNumber, $.bookingModel.bookingInfo.promotionID[0]).then(function(e) {
                        $.calcPaymentFee(), $.promotionAirName = null
                    }), null !== $.paymentModel.paymentPromo[t].bankCode && "CREDIT_CARD" === $.paymentModel.paymentPromo[t].promotionType && ($.selectTypePayment = "_" + $.bookingModel.bookingInfo.promotionID[0], $.tempPromo = $.bookingModel.bookingInfo.displayPriceInfo.discountAmount, "_" === $.selectTypePayment.charAt(0) && ($.paymentModel.paymentOption = "CREDIT")), $.calcPaymentFee()
                })
            }

            function y() {
                o.gPaymentPromotion("AIR", "PUBLISHING", 0, 20).then(function(e) {
                    $.bookingModel.bookingInfo.promotionID.length > 0 && ($.discountType = I);
                    var t = e.content.findIndex(function(e) {
                        return e.id == +$.bookingModel.bookingInfo.promotionID[0]
                    });
                    t == -1 ? o.voidPromo($.bookingModel.bookingNumber, $.bookingModel.bookingInfo.promotionID[0]).then(function(e) {
                        $.calcPaymentFee(), $.promotionAirName = null
                    }) : null !== $.paymentModel.paymentPromo[t].bankCode && "CREDIT_CARD" === $.paymentModel.paymentPromo[t].promotionType ? ($.selectTypePayment = "_" + $.bookingModel.bookingInfo.promotionID[0], $.tempPromo = $.bookingModel.bookingInfo.displayPriceInfo.discountAmount, "_" === $.selectTypePayment.charAt(0) && ($.paymentModel.paymentOption = "CREDIT")) : "AIR" === $.paymentModel.paymentPromo[t].productType[0] && $.paymentModel.paymentPromo[t].bankCode && 0 === $.paymentModel.paymentPromo[t].bankCode.length && ($.promotionAirName = $.paymentModel.paymentPromo[t].description, $.disAmount = $.paymentModel.paymentPromo[t].discountAmount, $.selectTypePayment = $.bookingModel.bookingInfo.paymentType, $.paymentModel.paymentOption = $.bookingModel.bookingInfo.paymentType, $.tempPromo2 = $.bookingModel.bookingInfo.displayPriceInfo.discountAmount, "PERCENT" == $.paymentModel.paymentPromo[t].discountValueType ? ("%" == $.paymentModel.paymentPromo[t].discountValueType, $.discountvalue = $.paymentModel.paymentPromo[t].discountValueType) : ("VNĐ" == $.paymentModel.paymentPromo[t].discountValueType, $.discountvalue = $.paymentModel.paymentPromo[t].discountValueType)), "OTHER" !== $.paymentModel.paymentOption && $.calcPaymentFee()
                })
            }

            function k(e) {
                u(function() {
                    $.bookingModel.bookingInfo.displayPriceInfo.discountAmount = e
                }, 0)
            }
            var $ = this,
                w = "VOUCHER",
                I = "PROMO";
            $.tempPromo = 0, $.tempPromo2 = 0, $.tempDiscountAmount = 0, $.chosenCardNumber = "", $.getAir = y, $.getHotel = b, $.deletePromoAir = f, $.updateDiscountAmount = k, $.discountType, $.selectedCardChanged = v, $.currentMerchant = h.get("merchant_code") || localStorage.getItem("merchant_code") || null, e.log("--->>> ctrl.paymentModel.paymentOption: " + $.paymentModel.paymentOption), e.log("--->>> ctrl.bookingModel.bookingInfo.showPayLaterOption: " + $.bookingModel.bookingInfo.showPayLaterOption), e.log("--->>> ctrl.bookingModel.bookingInfo.showPayNowOption: " + $.bookingModel.bookingInfo.showPayNowOption), $.isAuthenticated = n.isAuthenticated, $.listPaymentType = [];
            var M = new Date;
            $.currentMonth = M.getMonth() + 1, $.currentYear = M.getFullYear(), $.maxYear = $.currentYear + 20, $.allCountries = l.getAllCountries(), $.allCountries != [] && 0 != $.allCountries.length || i.getCountries().then(function(e) {
                $.allCountries = e
            }), s.getAvailablePaymentType().then(function(e) {
                $.listPaymentType = e
            }), i.getAtmDebitOptions().then(function(e) {
                $.allDebitOptions = e, $.allDebitOptions.sort()
            }), "HOTEL" == $.bookingModel.bookingInfo.supplierType && r.gPaymentPromotion("HOTEL", "PUBLISHING", 0, 20).then(function(e) {
                e.content && ($.paymentModel.paymentPromo = e.content)
            }), "AIR" == $.bookingModel.bookingInfo.supplierType && o.gPaymentPromotion("AIR", "PUBLISHING", 0, 20).then(function(e) {
                e.content && ($.paymentModel.paymentPromo = e.content)
            }), $.creditCards = [], n.identity().then(function(e) {
                $.identity = e
            }), a.$watch(function(e) {
                return $.isAuthenticated()
            }, function(e, t) {
                n.isAuthenticated() ? s.getCustomerTravellersForBoth().then(function(e) {
                    $.customerTravellers = e
                }) : $.customerTravellers = []
            }), a.$watch(function(e) {
                return $.isAuthenticated()
            }, function(e, t) {}), t.$on("changeVoucher", function(e, t) {
                $.discountType = w, $.previousPromotionAirName = $.promotionAirName, $.promotionAirName = null, $.tempVoucher && $.tempVoucher.discountAmount && ($.tempPromo2 = 0, $.tempDiscountAmount = $.tempVoucher.discountAmount, $.updateDiscountAmount($.tempVoucher.discountAmount))
            }), $.selectTypePaymentAir, $.previousSelectTypePaymentAir, $.previousSelectTypePaymentVoucherAir, t.$on("changePromo", function(e, t) {
                $.discountType = I, $.tempVoucher = null, 0 != $.tempPromo2 && ($.tempPromo = 0, $.tempVoucher = null, $.updateDiscountAmount($.tempPromo2), $.tempDiscountAmount = $.tempPromo2), $.openingPopup || ($.tempVoucher = null, $.selectTypePayment = $.previousSelectTypePayment, $.selectTypePaymentAir = $.previousSelectTypePaymentAir, $.changeRadio())
            }), a.$on("dismissPromo", function(e, t) {
                $.selectTypePayment = $.previousSelectTypePaymentVoucher
            }), $.previousSelectTypePayment, $.previousSelectTypePaymentVoucher, $.changePromotion = function() {
                if ($.discountType = I, null !== $.bookingModel.bookingInfo.discountVoucherCode || $.tempVoucher) {
                    var e = {};
                    e.title = g("translate")("flight.booking.payment.conf"), e.message = g("translate")("flight.booking.payment.mess-conf");
                    d.PromoMessagge(e, m);
                    $.previousSelectTypePayment = $.selectTypePayment, $.previousSelectTypePaymentAir = $.selectTypePaymentAir, $.selectTypePayment = "", $.selectTypePaymentAir = ""
                } else $.tempVoucher = null, $.changeRadio()
            }, $.changeRadio = function() {
                if ($.previousSelectTypePaymentVoucher = $.selectTypePayment, $.bookingModel.bookingInfo.promotionID > 0 && "_" === $.selectTypePayment.charAt(0) && o.voidPromo($.bookingModel.bookingNumber, $.bookingModel.bookingInfo.promotionID[0]).then(function(e) {}), 0 == $.selectTypePayment.indexOf("_") && !n.isAuthenticated()) {
                    var e = {};
                    e.title = "Rất tiếc", e.message = "Khuyến mãi này chỉ áp dụng cho thành viên của Gotadi. Vui lòng đăng nhập hoặc đăng ký để hưởng khuyến mãi và nhiều ưu đãi khác.";
                    var a = d.openDialogForceLogin(e);
                    a.closed.then(function() {
                        p.open()
                    }), $.selectTypePayment = ""
                }
                if ($.tempPromo = 0, $.DatapromoAir || ($.paymentModel.promotions = null), "_" === $.selectTypePayment.charAt(0)) {
                    $.promotionAirName = null, $.paymentModel.paymentOption = "CREDIT";
                    var i = $.selectTypePayment.split("_");
                    $.tempVoucher = null, i.length >= 1 ? ($.promoSelect = !0, t.$broadcast("select-payment-promo-succeeded", i[1]), $.bookingModel && $.bookingModel.bookingInfo && $.bookingModel.bookingInfo.displayPriceInfo ? o.gPaymentPromoDiscount($.bookingModel.bookingNumber, $.bookingModel.bookingCode, parseInt(i[1]), "CREDIT_CARD").then(function(e) {
                        e.discountAmount && ($.updateDiscountAmount(e.discountAmount), $.tempPromo = e.discountAmount), $.calcPaymentFee()
                    }) : ($.calcPaymentFee(), $.promoSelect = !1)) : (t.$broadcast("update-promo-remove-success", null), $.promoSelect = !1, $.calcPaymentFee())
                } else $.paymentModel.paymentOption = $.selectTypePayment, t.$broadcast("update-promo-remove-success", null), $.tempPromo = 0, $.promoSelect = !1, $.calcPaymentFee(), $.bookingModel.bookingInfo.promotionID > 0 && "_" !== $.selectTypePayment.charAt(0) && $.calcPaymentFee();
                $.bookingModel.bookingInfo.promotionID > 0 && "_" === $.selectTypePayment.charAt(0) && ($.tempPromo = 0, $.tempPromo2 = 0, $.calcPaymentFee()), t.$broadcast("event-payment-voucher-reset", null), $.calcPaymentFee()
            }, $.selectCheckbox = function(e) {
                $.selectTypePayment = null, $.previousSelectTypePaymentVoucherAir = $.selectTypePaymentAir, $.bookingModel.bookingInfo.promotionID > 0 && o.voidPromo($.bookingModel.bookingNumber, $.bookingModel.bookingInfo.promotionID[0]).then(function(e) {}), $.tempVoucher = null, $.tempPromo2 = 0, $.paymentModel.promotions = null, $.paymentModel.paymentOption = "CREDIT", $.selectTypePayment = "CREDIT", $.promoSelect = !0, t.$broadcast("select-payment-promo-succeeded-2", e), $.bookingModel && $.bookingModel.bookingInfo && $.bookingModel.bookingInfo.displayPriceInfo ? o.gPaymentPromoDiscount($.bookingModel.bookingNumber, $.bookingModel.bookingCode, e, "AIRLINES_CODE").then(function(e) {
                    e.discountAmount && ($.updateDiscountAmount(e.discountAmount), $.tempPromo2 = e.discountAmount), $.calcPaymentFee()
                }) : (t.$broadcast("update-promo-remove-success", null), $.promoSelect = !1, $.calcPaymentFee())
            }, a.$on("select-payment-promo-succeeded-2", function(e, a) {
                console.log(a), angular.forEach($.paymentModel.paymentPromo, function(e, n) {
                    e.id == a && ($.paymentModel.promotions = e, t.$broadcast("update-promo-select-success", e.discountValueType))
                })
            }), a.$on("event-payment-voucher-redeem-succeeded", function(e, t) {
                t ? $.tempVoucher = t : $.tempVoucher = {}, $.calcPaymentFee()
            }), $.chooseContact = function(t) {
                e.log("item = " + t), t.ciGender = void 0, t.id = void 0, $.paymentModel.cardModel.firstName = void 0, $.paymentModel.cardModel.lastName = void 0, $.paymentModel.cardModel.email = void 0, $.paymentModel.cardModel.phoneNumber = void 0, t.postcode = void 0, t.selectedTraveller ? ("MALE" != t.selectedTraveller.gender && "FEMALE" != t.selectedTraveller.gender || (t.ciGender = t.selectedTraveller.gender), t.id = t.selectedTraveller.id, $.paymentModel.cardModel.firstName = t.selectedTraveller.surName ? t.selectedTraveller.surName.toUpperCase() : "", $.paymentModel.cardModel.lastName = t.selectedTraveller.firstName ? t.selectedTraveller.firstName.toUpperCase() : "", $.paymentModel.cardModel.email = t.selectedTraveller.email, $.paymentModel.cardModel.phoneNumber = t.selectedTraveller.phoneNumber1, $.bookingModel.tPCPhoneCode || ($.bookingModel.tPCPhoneCode = "84")) : t.id = null, e.log(t)
            }, this.$onChanges = function(e) {
                null !== e.bookingModelOneWay.currentValue.bookingInfo.discountVoucherCode && ($.selectTypePayment = e.bookingModelOneWay.currentValue.bookingInfo.paymentType), e.bookingModelOneWay.currentValue.bookingInfo.promotionID && e.bookingModelOneWay.currentValue.bookingInfo.promotionID > 0 && ("HOTEL" === e.bookingModelOneWay.currentValue.bookingInfo.supplierType && $.getHotel(), "AIR" === e.bookingModelOneWay.currentValue.bookingInfo.supplierType && $.getAir()), $.paymentModel = {
                    cardModel: {
                        firstName: e.bookingModelOneWay.currentValue.travelerInfo.contactInfos[0].firstName,
                        lastName: e.bookingModelOneWay.currentValue.travelerInfo.contactInfos[0].lastName,
                        address: "194 Nguyễn Thị Minh Khai, Phường 6, Quận 3",
                        city: "HCMC",
                        state: "HCMC",
                        phoneNumber: e.bookingModelOneWay.currentValue.travelerInfo.contactInfos[0].phoneNumber1,
                        email: e.bookingModelOneWay.currentValue.travelerInfo.contactInfos[0].email,
                        postalCode: e.bookingModelOneWay.currentValue.travelerInfo.contactInfos[0].postCode ? e.bookingModelOneWay.currentValue.travelerInfo.contactInfos[0].postCode : "700000"
                    }
                }
            }, $.validatePaymentPromo = function(t, a) {
                $.wrongPromo = !1;
                var n = o.validatePromo($.bookingModel, a);
                n.then(function(t) {
                    var a = t;
                    $.bookingModel.voucher = a, e.log("voucher.voucherValid = " + a.voucherValid), e.log(a), a.voucherValid || ($.wrongPromo = !0)
                }, function(t) {
                    $.bookingModel.voucher = {}, e.log(t), $.wrongPromo = !0
                })
            }, a.$on("event-payment-promo-redeem-invalid", function(e, t) {
                $.wrongPromo = !0
            }), a.$on("select-payment-promo-succeeded", function(e, a) {
                angular.forEach($.paymentModel.paymentPromo, function(e, n) {
                    e.id == a && ($.paymentModel.promotions = e, t.$broadcast("update-promo-select-success", e.discountValueType))
                })
            }), a.$on("remove-payment-promo-succeeded", function(e, t) {
                t ? $.tempPromo = t : $.tempPromo = 0, $.calcPaymentFee()
            }), a.$on("remove-payment-promo-succeeded-2", function(e, t) {
                t ? $.tempPromo2 = t : $.tempPromo2 = 0, $.calcPaymentFee()
            }), $.calcPaymentFee = function() {
                if ($.bookingModel && $.bookingModel.bookingInfo && $.bookingModel.bookingInfo.displayPriceInfo && ($.bookingModel.bookingInfo.displayPriceInfo.paymentFee = 0, $.updateDiscountAmount(0), "CREDIT" === $.paymentModel.paymentOption || "ATM_DEBIT" === $.paymentModel.paymentOption || "VNPAYQR" === $.paymentModel.paymentOption || "VIETTELPAY" === $.paymentModel.paymentOption || "MOMO" === $.paymentModel.paymentOption)) {
                    var e = 0;
                    $.discountType === w && (e = $.tempVoucher.discountAmount, $.updateDiscountAmount($.tempVoucher.discountAmount)), $.discountType === I && (0 != $.tempPromo ? ($.tempPromo2 = 0, $.tempVoucher = null, e = $.tempPromo, $.updateDiscountAmount($.tempPromo)) : 0 != $.tempPromo2 && ($.tempPromo = 0, $.tempVoucher = null, e = $.tempPromo2, $.updateDiscountAmount($.tempPromo2))), o.gPaymentFeeOpt($.bookingModel.bookingNumber, $.paymentModel.paymentOption, e, $.bookingModel.bookingInfo.totalFare, $.bookingModel.bookingInfo.totalSsrValue).then(function(e) {
                        var t = e.peymentFees;
                        angular.forEach(t, function(e, t) {
                            e.paymentType == $.paymentModel.paymentOption && ($.bookingModel.bookingInfo.displayPriceInfo.paymentFee = e.amount)
                        })
                    })
                }
            };
            var C = null,
                O = function() {
                    C = null
                };
            $.open = function(e) {
                $.tempPromo = 0, null === C && ($.openingPopup = !0, C = c.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/components/booking/flight-booking-promotion-air.html",
                    controller: "flightBookingPromotionAirController",
                    controllerAs: "$ctrl",
                    windowClass: "modal-window-extension",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        paymentUrl: function() {
                            return e
                        },
                        bookingInfo: function() {
                            return $.bookingModel.bookingInfo
                        },
                        paymentModel: function() {
                            return $.paymentModel
                        },
                        bookingModel: function() {
                            return $.bookingModel
                        },
                        previousSelectedPromoId: function() {
                            return $.selectTypePayment
                        },
                        voucher: function() {
                            return $.tempVoucher
                        }
                    }
                }), C.result.then(function(e) {
                    $.discountType = I, $.selectTypePayment = e.id, $.selectTypePaymentAir = e.id, $.promotionAirName = e.description, $.previousPromotionAirName = $.promotionAirName, $.disAmount = e.discountAmount, $.discountvalue = e.discountValueType, $.DatapromoAir = e, $.promotionTypeAir = e.promotionType, $.selectCheckbox(e.id), $.calcPaymentFee(), $.openingPopup = !1, O()
                }), O())
            }, $.classValid = "", $.expireMonthYear = function() {
                var e = new RegExp("(0[123456789]|10|11|12)([/])(1[89]|2[0123456789])");
                if (e.test($.monthYear)) {
                    $.dateCardClass = "";
                    var t = $.monthYear.split("/");
                    $.paymentModel.cardModel.expireMonth = parseInt(t[0]), $.paymentModel.cardModel.expireYear = parseInt(t[1])
                } else $.dateCardClass = "errorMessageDate", $.paymentModel.cardModel.expireMonth = "", $.paymentModel.cardModel.expireYear = ""
            }
        }
        e.$inject = ["$log", "$rootScope", "$scope", "Principal", "MetaData", "Flight", "Hotel", "CustomerService", "GlobalSrv", "$uibModal", "DialogService", "LoginService", "$filter", "$timeout", "PROMO_EVENT", "$cookies"];
        var t = {
            templateUrl: "app/components/booking/booking-payment.html",
            controller: e,
            bindings: {
                paymentModel: "=",
                bookingModel: "=",
                bookingModelOneWay: "<"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdBookingPayment", t)
    }(),
    function() {
        "use strict";

        function e(e) {
            function t() {
                var t = (e.use(), window.open("/#/terms", "_blank"));
                t.focus()
            }

            function a() {
                n.changeHook(n.checkedTerm)
            }
            var n = this;
            n.redirectToTerm = t, n.termCheckedChanged = a, n.checkedTerm = !1, n.changeHook(n.checkedTerm)
        }
        e.$inject = ["$translate"];
        var t = {
            templateUrl: "app/components/booking/booking-important-info.html",
            controller: e,
            bindings: {
                selectedHotelProduct: "=",
                changeHook: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdBookingImportantInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            var r = this;
            r.isAuthenticated = o.isAuthenticated, r.openLogin = function() {
                i.open()
            }
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight", "LoginService", "Principal"];
        var t = {
            templateUrl: "app/components/booking/booking-hotel-info.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                selectedHotel: "=",
                selectedHotelProduct: "=",
                selectedHotelRoom: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdBookingHotelInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            var r = this;
            r.departFlightModel.expand = !1, r.returnFlightModel.expand = !1, r.isAuthenticated = o.isAuthenticated, r.openLogin = function() {
                i.open()
            }
        }
        e.$inject = ["$log", "$scope", "MetaData", "Flight", "LoginService", "Principal"];
        var t = {
            templateUrl: "app/components/booking/booking-flight-info-details.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                departFlightModel: "=",
                returnFlightModel: "="
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdBookingFlightInfoDetails", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u) {
            var m = this;
            m.departFlightModel.expand = !1, m.returnFlightModel.expand = !1, a.ibeKeys = p, m.searchOptions = o.getSearchOption(), m.isAuthenticated = c.isAuthenticated, c.identity().then(function(t) {
                m.identity = t, e.log("ctrl.identity = " + t)
            }), m.openLogin = function() {
                l.open()
            }, m.logout = function() {
                d.logout()
            }, m.changeFlight = function(a) {
                var r = o.getSearchOption(),
                    s = o.getDepartSearchOption();
                e.log("isIE = " + u.isIE()), u.isIE() && (r = {});
                var l;
                e.log(l), 1 == a ? (r.returnDomestic = !1, l = o.getDepartSearchResult()) : 2 == a && ("international" != r.dtype && (r.returnDomestic = !0), l = o.getReturnSearchResult()), r.selectStep = a, "domestic" == r.dtype && 1 == r.selectStep && "roundtrip" == r.searchType && (r.searchId = s.searchId);
                var c;
                c = !!l.groupPricedItineraries, e.log("isIE = " + u.isIE()), u.isIE() && (c = !1, l = {}), t.go("flight-search", {
                    searchOptions: r,
                    searchResult: l,
                    searchCompleted: c,
                    params: g.encodeJson(r)
                }), n(function() {
                    i.$broadcast("gtd-refresh-adv-search-result", null)
                }, 5e3)
            }
        }
        e.$inject = ["$log", "$state", "$scope", "$timeout", "$rootScope", "DataService", "MetaData", "Flight", "LoginService", "Principal", "Auth", "IBE_KEYS", "Base64", "ValidationUtils"];
        var t = {
            templateUrl: "app/components/booking/booking-flight-info.html",
            controller: e,
            bindings: {
                bookingModel: "=",
                departFlightModel: "=",
                returnFlightModel: "=",
                showChangeFlight: "@?",
                notShowLoginSection: "@?"
            }
        };
        angular.module("B2B2CGatewayApp").component("gtdBookingFlightInfo", t)
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            function o(e, a, n) {
                a = a ? a : e, r.alerts.push(t.add({
                    type: "danger",
                    msg: a,
                    params: n,
                    timeout: 5e3,
                    toast: t.isToast(),
                    scoped: !0
                }, r.alerts))
            }
            var r = this;
            r.alerts = [];
            var s = a.$on("B2B2CGatewayApp.httpError", function(e, t) {
                var a;
                switch (e.stopPropagation(), i.info("--->>> INFO: B2B2CGatewayApp.httpError: " + t.status), t.status) {
                    case 0:
                        o("Server not reachable", "error.server.not.reachable");
                        break;
                    case 400:
                        var r = Object.keys(t.headers()).filter(function(e) {
                                return e.indexOf("app-error", e.length - "app-error".length) !== -1 || e.indexOf("app-params", e.length - "app-params".length) !== -1
                            }).sort(),
                            s = t.headers(r[0]),
                            l = t.headers(r[1]);
                        if (angular.isString(s)) {
                            var c = n.instant("global.menu.entities." + l);
                            o(s, s, {
                                entityName: c
                            })
                        } else if (t.data && t.data.fieldErrors)
                            for (a = 0; a < t.data.fieldErrors.length; a++) {
                                var d = t.data.fieldErrors[a],
                                    p = d.field.replace(/\[\d*\]/g, "[]"),
                                    g = n.instant("B2B2CGatewayApp." + d.objectName + "." + p);
                                o("Field " + g + " cannot be empty", "error." + d.message, {
                                    fieldName: g
                                })
                            } else t.data && t.data.message ? o(t.data.message, t.data.message, t.data) : o(t.data);
                        break;
                    case 404:
                        o("Not found", "error.url.not.found");
                        break;
                    default:
                        o(t.data && t.data.message ? t.data.message : angular.toJson(t))
                }
            });
            e.$on("$destroy", function() {
                angular.isDefined(s) && null !== s && (s(), r.alerts = [])
            })
        }
        var t = {
            template: '<div class="alerts" ng-cloak="" role="alert"><div ng-repeat="alert in $ctrl.alerts" ng-class="[alert.position, {\'toast\': alert.toast}]"><uib-alert ng-cloak="" type="{{alert.type}}" close="alert.close($ctrl.alerts)"><pre>{{ alert.msg }}</pre></uib-alert></div></div>',
            controller: e
        };
        angular.module("B2B2CGatewayApp").component("jhiAlertError", t), e.$inject = ["$scope", "AlertService", "$rootScope", "$translate", "$log"]
    }(),
    function() {
        "use strict";

        function e() {
            function e(e, t, a) {
                function n() {
                    return m
                }

                function i() {
                    v = []
                }

                function o() {
                    return v
                }

                function r(e, t, a) {
                    return this.add({
                        type: "success",
                        msg: e,
                        params: t,
                        timeout: f,
                        toast: m,
                        position: a
                    })
                }

                function s(e, t, a) {
                    return this.add({
                        type: "danger",
                        msg: e,
                        params: t,
                        timeout: f,
                        toast: m,
                        position: a
                    })
                }

                function l(e, t, a) {
                    return this.add({
                        type: "warning",
                        msg: e,
                        params: t,
                        timeout: f,
                        toast: m,
                        position: a
                    })
                }

                function c(e, t, a) {
                    return this.add({
                        type: "info",
                        msg: e,
                        params: t,
                        timeout: f,
                        toast: m,
                        position: a
                    })
                }

                function d(e) {
                    var a = {
                        type: e.type,
                        msg: t.trustAsHtml(e.msg),
                        id: e.alertId,
                        timeout: e.timeout,
                        toast: e.toast,
                        position: e.position ? e.position : "top right",
                        scoped: e.scoped,
                        close: function(e) {
                            return g(this.id, e)
                        }
                    };
                    return a.scoped || v.push(a), a
                }

                function p(t, n) {
                    t.alertId = h++, t.msg = a.instant(t.msg, t.params);
                    var i = this,
                        o = this.factory(t);
                    return t.timeout && t.timeout > 0 && e(function() {
                        i.closeAlert(t.alertId, n)
                    }, t.timeout), o
                }

                function g(e, t) {
                    var a = t ? t : v;
                    return u(a.map(function(e) {
                        return e.id
                    }).indexOf(e), a)
                }

                function u(e, t) {
                    return t.splice(e, 1)
                }
                var m = this.toast,
                    h = 0,
                    v = [],
                    f = 5e3;
                return {
                    factory: d,
                    isToast: n,
                    add: p,
                    closeAlert: g,
                    closeAlertByIndex: u,
                    clear: i,
                    get: o,
                    success: r,
                    error: s,
                    info: c,
                    warning: l
                }
            }
            this.toast = !1, this.$get = e, this.showAsToast = function(e) {
                this.toast = e
            }, e.$inject = ["$timeout", "$sce", "$translate"]
        }
        angular.module("B2B2CGatewayApp").provider("AlertService", e)
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = this;
            a.alerts = t.get(), e.$on("$destroy", function() {
                a.alerts = []
            })
        }
        var t = {
            template: '<div class="alerts" ng-cloak="" role="alert"><div ng-repeat="alert in $ctrl.alerts" ng-class="[alert.position, {\'toast\': alert.toast}]"><uib-alert ng-cloak="" type="{{alert.type}}" close="alert.close($ctrl.alerts)"><pre ng-bind-html="alert.msg"></pre></uib-alert></div></div>',
            controller: e
        };
        angular.module("B2B2CGatewayApp").component("jhiAlert", t), e.$inject = ["$scope", "AlertService"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e) {
                var a = Object.keys(e.headers()).filter(function(e) {
                        return e.indexOf("app-alert", e.length - "app-alert".length) !== -1 || e.indexOf("app-params", e.length - "app-params".length) !== -1
                    }).sort(),
                    n = e.headers(a[0]);
                return angular.isString(n) && t.success(n, {
                    param: e.headers(a[1])
                }), e
            }
            var n = {
                response: a
            };
            return n
        }
        angular.module("B2B2CGatewayApp").factory("notificationInterceptor", e), e.$inject = ["$q", "AlertService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(n) {
                return a.info("+++>>> errorHandlerInterceptor - response.status: " + n.status), n.status < 0 || 500 === n.status || 501 === n.status || 502 === n.status || 503 === n.status ? t.$emit("B2B2CGatewayApp.http5xxError", n) : 401 === n.status && ("" === n.data || n.data.path && 0 === n.data.path.indexOf("/api/account")) || t.$emit("B2B2CGatewayApp.httpError", n), e.reject(n)
            }
            var i = {
                responseError: n
            };
            return i
        }
        angular.module("B2B2CGatewayApp").factory("errorHandlerInterceptor", e), e.$inject = ["$q", "$rootScope", "$log"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            function o(e) {
                if (401 === e.status || 417 === e.status) {
                    delete n.authenticationToken, delete i.authenticationToken;
                    var o = a.get("Principal");
                    if (o.isAuthenticated()) {
                        var r = a.get("Auth");
                        r.authorize(!0)
                    }
                }
                return t.reject(e)
            }
            var r = {
                responseError: o
            };
            return r
        }
        angular.module("B2B2CGatewayApp").factory("authExpiredInterceptor", e), e.$inject = ["$rootScope", "$q", "$injector", "$localStorage", "$sessionStorage"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            function o(e) {
                if (e.noAuth) return e;
                e.headers["x-gtd-agency"] = "GOTADI", e.headers["x-hotel-client-ip"] = localStorage.getItem("client-ip"), e.headers = e.headers || {};
                var t = n.authenticationToken || i.authenticationToken;
                return t && (e.headers.Authorization = "Bearer " + t), e
            }
            var r = {
                request: o
            };
            return r
        }
        angular.module("B2B2CGatewayApp").factory("authInterceptor", e), e.$inject = ["$rootScope", "$q", "$location", "$localStorage", "$sessionStorage"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            function i() {
                var t = e.$on("$translateChangeSuccess", function() {
                    o()
                });
                e.$on("$destroy", function() {
                    angular.isDefined(t) && null !== t && t()
                })
            }

            function o(e) {
                !e && a.$current.data && a.$current.data.pageTitle && (e = a.$current.data.pageTitle), n(e || "global.title").then(function(e) {
                    t.document.title = e
                })
            }
            return {
                initialize: i,
                updateTitle: o
            }
        }
        angular.module("B2B2CGatewayApp").factory("translationHandler", e), e.$inject = ["$rootScope", "$window", "$state", "$translate"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c) {
            function d() {
                e.VERSION = c;
                var t = e.$on("$stateChangeStart", function(t, a, o, c) {
                        e.toState = a, e.toStateParams = o, e.fromState = c, a.external && (t.preventDefault(), r.open(a.url, "_self")), l.isIdentityResolved() && s.authorize(), i.getCurrent().then(function(e) {
                            n.use(e)
                        })
                    }),
                    a = e.$on("$stateChangeSuccess", function(e, t, a, n, i) {
                        var r = "global.title";
                        t.data.pageTitle && (r = t.data.pageTitle), o.updateTitle(r)
                    });
                e.$on("$destroy", function() {
                    angular.isDefined(t) && null !== t && t(), angular.isDefined(a) && null !== a && a()
                })
            }
            return {
                initialize: d
            }
        }
        angular.module("B2B2CGatewayApp").factory("stateHandler", e), e.$inject = ["$rootScope", "$state", "$sessionStorage", "$translate", "OtaLanguageService", "translationHandler", "$window", "Auth", "Principal", "VERSION"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            e.itemsPerPage = t.itemsPerPage, e.maxSize = 5, e.boundaryLinks = !0, e.firstText = "«", e.previousText = "‹", e.nextText = "›", e.lastText = "»"
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["uibPaginationConfig", "paginationConstants"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            e.itemsPerPage = t.itemsPerPage, e.previousText = "«", e.nextText = "»"
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["uibPagerConfig", "paginationConstants"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(n) {
                return a.indexOf(e.getObject(n)) === -1 && (t.info('Resetting invalid cookie language "' + e.getObject(n) + '" to preferred language "vi"'), e.putObject(n, "vi")), e.getObject(n)
            }

            function i(t, a) {
                e.putObject(t, a)
            }
            return {
                get: n,
                put: i
            }
        }
        angular.module("B2B2CGatewayApp").factory("translationStorageProvider", e), e.$inject = ["$cookies", "$log", "LANGUAGES"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            e.useLoader("$translatePartialLoader", {
                urlTemplate: "i18n/{lang}/{part}.json" + (a ? "?build=" + a : "")
            }), e.preferredLanguage("vi"), e.useStorage("translationStorageProvider"), e.useSanitizeValueStrategy("escaped"), e.addInterpolation("$translateMessageFormatInterpolation"), t.localeLocationPattern("i18n/angular-locale_{{locale}}.js"), t.useCookieStorage(), t.storageKey("NG_TRANSLATE_LANG_KEY")
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$translateProvider", "tmhDynamicLocaleProvider", "BUILD_TIMESTAMP"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            e.setKeyPrefix("jhi-"), t.setKeyPrefix("jhi-")
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$localStorageProvider", "$sessionStorageProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            a.setMatchlist([/.*api.*/, /.*protected.*/], !0), e.otherwise("/"), t.interceptors.push("errorHandlerInterceptor"), t.interceptors.push("authExpiredInterceptor"), t.interceptors.push("authInterceptor"), t.interceptors.push("notificationInterceptor"), n.type("boolean", {
                name: "boolean",
                decode: function(e) {
                    return e === !0 || "true" === e
                },
                encode: function(e) {
                    return e ? 1 : 0
                },
                equals: function(e, t) {
                    return this.is(e) && e === t
                },
                is: function(e) {
                    return [!0, !1, 0, 1].indexOf(e) >= 0
                },
                pattern: /bool|true|0|1/
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$urlRouterProvider", "$httpProvider", "httpRequestInterceptorCacheBusterProvider", "$urlMatcherFactoryProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            e.debugInfoEnabled(t)
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$compileProvider", "DEBUG_INFO_ENABLED"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.showAsToast(!0)
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["AlertServiceProvider"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("default", {
                parent: "app",
                url: "/",
                data: {
                    authorities: [],
                    pageTitle: "GOTADI Template"
                },
                views: {
                    "content@": {
                        templateUrl: "app/home/home.html",
                        controller: "HomeController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("hotel"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            function i() {
                t.identity().then(function(e) {
                    r.account = e, r.isAuthenticated = t.isAuthenticated
                })
            }

            function o() {
                n.go("register")
            }
            var r = this;
            r.account = null, r.isAuthenticated = null, r.login = a.open, r.register = o, e.$on("authenticationSuccess", function() {
                i()
            }), i()
        }
        angular.module("B2B2CGatewayApp").controller("BlankController", e), e.$inject = ["$scope", "Principal", "LoginService", "$state"]
    }(),
    function() {
        "use strict";
        angular.module("B2B2CGatewayApp").constant("TEMPLATE_URL", {
            VIETTEL: {
                navbar: "app/layouts/navbar/viettel_navbar.html",
                footer: "app/layouts/common/viettel_footer.html",
                home: "app/home/viettel_home.html",
                flight_search: "app/flights/search/viettel.flight.search.home.html",
                hotel_search: "app/hotels/search/viettel.hotel.search.home.html",
                profile_booking: "app/account/profile/booking/viettel.profile.booking.html"
            },
            FASTGO: {
                flight_search: "app/flights/search/fastgo.flight.search.home.html",
                navbar: "app/layouts/navbar/fastgo_navbar.html",
                hotel_search: "app/hotels/search/fastgo.hotel.search.home.html",
                footer: "app/layouts/common/viettel_footer.html",
                home: "app/home/fastgo_home.html"
            },
            TIKI: {
                flight_search_adv: "app/components/flight/tiki-flight-search-adv.html"
            },
            LIENVIETBANK: {},
            VTCPAY: {},
            SMARTPAY: {},
            LOOPBACK: {},
            SENDO: {},
            SEABANK: {},
            TRUEMONEY: {},
            DEFAULT: {
                navbar: "app/layouts/navbar/navbar.html",
                footer: "app/layouts/common/footer.html",
                home: "app/home/home.html",
                flight_search: "app/flights/search/flight.search.home.html",
                hotel_search: "app/hotels/search/hotel.search.home.html",
                flight_search_adv: "app/components/flight/flight-search-adv.html",
                flight_search_result: "app/flights/search/flight.search.html",
                profile_booking: "app/account/profile/booking/profile.booking.html"
            }
        })
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = String(Cookies.get("merchant_code") || localStorage.getItem("merchant_code")).toUpperCase();
            return e[a] && e[a][t] ? e[a][t] : e.DEFAULT[t]
        }

        function t(t, a, n) {
            t.state("app", {
                abstract: !0,
                views: {
                    "navbar@": {
                        templateUrl: function() {
                            return e(n, "navbar")
                        },
                        controller: "NavbarController",
                        controllerAs: "vm"
                    },
                    "pagehead@": {
                        templateUrl: "app/layouts/common/page-head.html"
                    },
                    "footer@": {
                        templateUrl: function() {
                            return e(n, "footer")
                        },
                        controller: "FooterController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    authorize: ["Auth", "$rootScope", function(e, t) {
                        try {
                            $ibe.hasTokenKey() && (e.logout(), e.loginWithToken($ibe.getTokenKey(), !1).then(function() {
                                e.authorize(!0).then(function() {
                                    console.log("App.State: $broadcast('authenticationSuccess')"), t.$broadcast("authenticationSuccess")
                                })
                            }))
                        } catch (e) {
                            console.log("uth.loginWithToken() -- Error: " + e)
                        }
                    }],
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        t.addPart("global"), t.addPart("lookup")
                    }]
                }
            })
        }
        var a = angular.module("B2B2CGatewayApp");
        a.config(t), t.$inject = ["$stateProvider", "$urlRouterProvider", "TEMPLATE_URL"]
    }(),
    function() {
        "use strict";
        angular.module("B2B2CGatewayApp").constant("VERSION", "0.0.1-SNAPSHOT").constant("DEBUG_INFO_ENABLED", !1).constant("BUILD_TIMESTAMP", 1631601569440).constant("API_URL", "https://api.gotadi.com/vendor").constant("API_URL_CALLBACK", "https://api.gotadi.com")
    }();
var $ibe = {};
$ibe._$token_key = null, $ibe._$sale_channel = "B2C", $ibe._$b2b_app_url = null, $ibe.setTokenKey = function(e) {
        return !angular.isUndefined(e) && null !== e && (this._$token_key = e, !0)
    }, $ibe.getTokenKey = function() {
        return this._$token_key
    }, $ibe.hasTokenKey = function() {
        return !angular.isUndefined(this._$token_key) && null !== this._$token_key
    }, $ibe.resetTokenKey = function() {
        this._$token_key = null
    }, $ibe.setSaleChannel = function(e) {
        return !angular.isUndefined(e) && null !== e && (this._$sale_channel = e, !0)
    }, $ibe.getSaleChannel = function() {
        return this._$sale_channel
    }, $ibe.isB2B2C = function() {
        return !angular.isUndefined(this._$sale_channel) && "B2B2C" === this._$sale_channel
    }, $ibe.isB2C = function() {
        return !angular.isUndefined(this._$sale_channel) && "B2C" === this._$sale_channel
    }, $ibe.setB2BAppUrl = function(e) {
        return !angular.isUndefined(e) && null !== e && (this._$b2b_app_url = e, !0)
    }, $ibe.getB2BAppUrl = function() {
        return this._$b2b_app_url
    },
    function() {
        "use strict";
        angular.module("B2B2CGatewayApp").constant("TRANS_TIME_OUT", 15).constant("TICKET_SRV_BASE_URL", "/ticketsrv/api").constant("TICKET_SEARCH_URL", "/api/air-tickets/low-fare-search-async").constant("TICKET_SEARCH_INTERNATIONAL_URL", "/api/air-tickets/low-fare-search-international-async").constant("TICKET_SEARCH_CACHE_URL", "/api/air-tickets/filter-availability").constant("TICKET_GET_FARE_RULES_URL", "/api/air-tickets/farerules").constant("TICKET_GET_GROUP_DETAIL_URL", "/api/air-tickets/group-itinerary/").constant("TICKET_GET_FILTER_OPTIONS_URL", "/api/air-tickets/filter-options").constant("TICKET_AIR_REVALIDATE_URL", "/api/air-tickets/revalidate").constant("TICKET_CREATE_DRAFT_BOOKING_URL", "/api/air-tickets/draft-booking").constant("TICKET_UPDATE_BOOKING_TAGS_URL", "/api/air-tickets/draft-booking").constant("TICKET_CHANGE_DRAFT_BOOKING_OWNER_URL", "/api/air-tickets/change-draft-booking-owner").constant("TICKET_ADD_TRAVELLER_URL", "/api/air-tickets/add-booking-traveller").constant("TICKET_PAYMENT_BOOKING_URL", "/api/air-tickets/payment-booking").constant("TICKET_ORDER_TICKET_URL", "/api/air-tickets/order-tickets").constant("TICKET_AIR_GET_SSR_URL", "/api/air-tickets/ssr-offer/").constant("PROFILE_SHORT_URL", "/api/profile/short").constant("META_AIRPORT_URL", "/metasrv/api/_search/airports").constant("META_SEARCH_AIRPORT_URL", "/metasrv/api/_search/airports").constant("META_SEARCH_LOOKUP_URL", "/api/_search/lookups").constant("META_AIRLINE_URL", "/metasrv/api/airlines").constant("META_COUNTRY_CODE_URL", "/metasrv/api/country-codes").constant("META_DESTINATION_URL", "/metasrv/api/_search/destinations").constant("CUSTOMER_PROFILE_URL", "/customersrv/api/customer-profiles").constant("B2B_AGENT_PROFILE_URL", "/agentsrv/api/agent-profiles/login-name").constant("CUSTOMER_PROFILE_AVATAR_URL", "/customersrv/api/customer-avatars/profile").constant("CUSTOMER_PROFILE_AVATAR_COMMON_URL", "/customersrv/api/customer-avatars").constant("CUSTOMER_TRAVELLERS_URL", "/customersrv/api/customer-travellers").constant("CUSTOMER_TRAVELLERS_FOR_BOTH_URL", "/api/customers/travellers").constant("CUSTOMER_TRAVELLERS_DETAIL_URL", "/customersrv/api/customer-travellers").constant("CUSTOMER_TRAVELLERS_COLLECTION_CREATE_URL", "/customersrv/api/customer-travellers-collection").constant("AIR_CUSTOMER_TRAVELLERS_COLLECTION_CREATE_URL", "/api/customers/air-customer-travellers-collection").constant("PRICING_CREDIT_CARDS_URL", "/pricingsrv/api/credit-cards").constant("PRICING_CREDIT_CARDS_DELETE_ALL_URL", "/pricingsrv/api/credit-cards/delete-all").constant("PRICING_VOUCHER_VALIDATE_URL", "/api/payments/voucher/validate").constant("PRICING_VOUCHER_REDEEM_URL", "/api/payments/voucher/redeem").constant("PAYMENT_SUB_CARD_URL", "/api/payment/card-subscription").constant("PAYMENT_UNSUB_CARD_URL", "/pricingsrv/api/payment/card-unsubscription").constant("PAYMENT_ATM_DEBIT_OPTIONS", "/api/air-tickets/payment-debit-options").constant("BOOKING_SEARCH_URL", "/bookingsrv/api/bookings/search").constant("BOOKING_DETAILS_URL", "/bookingsrv/api/bookings").constant("PRODUCT_BOOKING_DETAILS_URL", "/api/products/booking-detail").constant("PRODUCT_FINAL_BOOKING_DETAILS_URL", "/api/products/final-booking-detail").constant("HOTEL_SEARCH_METADATA_URL", "/api/hotel/meta-keyword-search").constant("HOTEL_SEARCH_URL", "/api/hotel/low-fare-search-async").constant("HOTEL_SEARCH_CACHE_URL", "/api/hotel/filter-availability").constant("HOTEL_CHECK_AVAILABILITY_URL", "/api/hotel/check-hotel-availability").constant("HOTEL_FILTER_OPTIONS_URL", "/api/hotel/filter-options").constant("HOTEL_DRAFT_BOOKING_URL", "/api/hotel/draft-booking").constant("HOTEL_ADD_BOOKING_TRAVELLER_URL", "/api/hotel/add-booking-traveller").constant("HOTEL_PAYMENT_BOOKING_URL", "/api/hotel/payment-booking").constant("HOTEL_ORDER_HOTEL_URL", "/api/hotel/order-hotel").constant("HOTEL_STATES", "hotelStates").constant("PAYMENT_PAYMENT_BOOKING_URL", "/api/payments/payment-booking").constant("PAYMENT_FEE_OPTIONS_URL", "/api/payments/payment-fee-options").constant("SUBSCRIBED_URL", "/api/users/subscribed").constant("PAYMENT_PROMO_OPTIONS_URL", "/api/_search/promotion-credit-card").constant("PAYMENT_PROMO_DISCOUNT_URL", "/api/payments/promotion/discount").constant("PRICING_PROMO_REDEEM_URL", "/api/payments/promotion/redeem").constant("PRICING_PROMO_VOID_URL", "/api/payments/promotion/void").constant("TIKI_ORDER_URL", "/tiki-ipn/api").constant("VIETTEL_URL", "/api/viettel").constant("LIENVIET_URL", "/api/lienviet").constant("SEA_URL", "/api/sea/").constant("FSOFT_URL", "/api/fsoft").constant("GET_AVAILABLE_PAYMENT_TYPE", "/api/payment/get-available-payment-type").constant("DEFAULT_DATE_FORMAT", "mm-dd-yyyy").constant("DEFAULT_MOMENT_DATE_FORMAT", "MM-DD-YYYY").constant("DATE_DDMMYYYY_FORMAT", "dd/mm/yyyy").constant("DEFAULT_PAGE_SIZE", 15).constant("IBE_KEYS", {
            cdn: {
                airlines: {
                    logoUrl: "https://booking.gotadi.com/Booking/AirBooking/images/AirLogos"
                }
            },
            booking: {
                directionType: {
                    departure: "DEPARTURE",
                    return: "RETURN",
                    trip: "TRIP"
                },
                issuedStatus: {
                    pending: "PENDING",
                    ticketOnProcess: "TICKET_ON_PROCESS",
                    succeeded: "SUCCEEDED",
                    failed: "FAILED",
                    partlyConfirmed: "PARTLY_CONFIRMED",
                    partlyFailed: "PARTLY_FAILED"
                },
                paymentStatus: {
                    pending: "PENDING",
                    succeeded: "SUCCEEDED",
                    failed: "FAILED",
                    refunded: "REFUNDED"
                },
                bookStatus: {
                    pending: "PENDING",
                    bookingOnProcess: "BOOKING_ON_PROCESS",
                    booked: "BOOKED",
                    failed: "FAILED",
                    cancelled: "CANCELLED",
                    expired: "EXPIRED",
                    tentative: "TENTATIVE",
                    partlyBooked: "PARTLY_BOOKED",
                    partlyFailed: "PARTLY_FAILED"
                },
                supplierStatus: {
                    pending: "PENDING",
                    bookingOnProcess: "BOOKING_ON_PROCESS",
                    ticketOnProcess: "TICKET_ON_PROCESS",
                    booked: "BOOKED",
                    failed: "FAILED",
                    cancelled: "CANCELLED",
                    expired: "EXPIRED",
                    tentative: "TENTATIVE",
                    partlyBooked: "PARTLY_BOOKED",
                    partlyFailed: "PARTLY_FAILED"
                }
            },
            airTicket: {
                flightType: {
                    domestic: "DOMESTIC",
                    international: "INTERNATIONAL"
                },
                flightDirection: {
                    departure: "DEPARTURE",
                    return: "RETURN"
                }
            }
        }).constant("DEFAULT_SETTING", {
            SCREEN_XS: 768
        }).constant("FREE_WIFI_IDS", [2390, 2392, 2403, 2405, 2407, 1073743392, 1073743393, 1073743394, 1073743396, 1073743397, 1073743398]).constant("FREE_PARKING_IDS", [3861, 3863, 4452, 4450, 2554, 3761]).constant("HAS_SWIMMING_POOL_IDS", [14, 24, 2014, 2138, 2859, 2860, 4174, 1073743549]).constant("FREE_BREAKFAST", [2001]).constant("FREE_GYM", [2048]).constant("FREE_DRINK_TEXT", ["Đồ uống miễn phí chào đón khách"]).constant("FREE_BREAKFAST_TEXT", ["Bữa sáng miễn phí", "Bữa sáng buffet"]).constant("FREE_PARKING_TEXT", ["Đậu xe miễn phí"]).constant("FREE_WIFI_TEXT", ["Wifi miễn phí", "Internet tốc độ cao miễn phí"]).constant("FREE_DRINK_TEXT_KEY", ["Đồ uống", "Minibar"]).constant("FREE_BREAKFAST_TEXT_KEY", ["Bữa sáng", "breakfast"]).constant("FREE_PARKING_TEXT_KEY", ["Đậu xe", "Parking"]).constant("FREE_WIFI_TEXT_KEY", ["Wifi", "Internet"]).constant("PREFIX_DEFAULT_POLICY_STRING", "Chúng tôi hiểu rằng đôi khi có những thay đổi trong kế hoạch của quý vị. Chúng tôi không tính phí thay đổi hoặc hủy bỏ. Tuy nhiên, khách sạn này ({0}) áp dụng khoản phạt với khách hàng như sau và chúng tôi được yêu cầu thông báo cùng quý vị: Hủy hoặc thay đổi thực hiện sau ").constant("AFTER_DEFAULT_POLICY_STRING", ", hoặc không nhận phòng sẽ chịu phí phạt tương đương \\d+% chi phí thời gian lưu trú.  ").constant("SEARCH_BY_HOTEL_NAME", "::H::").constant("LIMIT_WIDTH", 114).constant("LIMIT_HEIGHT", 114).constant("VOUCHER_EVENT", "VOUCHER_EVENT").constant("PROMO_EVENT", "PROMO_EVENT")
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            function o() {
                t.dismiss("cancel")
            }

            function r(e) {
                c.isSaving = !1, t.close(e)
            }

            function s() {
                c.isSaving = !1
            }

            function l() {
                c.isSaving = !0, null !== c.user.id ? n.update(c.user, r, s) : n.save(c.user, r, s)
            }
            var c = this;
            c.authorities = ["ROLE_USER", "ROLE_ADMIN"], c.clear = o, c.languages = null, c.save = l, c.user = a, i.getAll().then(function(e) {
                c.languages = e
            })
        }
        angular.module("B2B2CGatewayApp").controller("UserManagementDialogController", e), e.$inject = ["$stateParams", "$uibModalInstance", "entity", "User", "OtaLanguageService"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e) {
                t.get({
                    login: e
                }, function(e) {
                    n.user = e
                })
            }
            var n = this;
            n.load = a, n.user = {}, n.load(e.login)
        }
        angular.module("B2B2CGatewayApp").controller("UserManagementDetailController", e), e.$inject = ["$stateParams", "User"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n() {
                e.dismiss("cancel")
            }

            function i(t) {
                a.delete({
                    login: t
                }, function() {
                    e.close(!0)
                })
            }
            var o = this;
            o.user = t, o.clear = n, o.confirmDelete = i
        }
        angular.module("B2B2CGatewayApp").controller("UserManagementDeleteController", e), e.$inject = ["$uibModalInstance", "entity", "User"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("user-management", {
                parent: "admin",
                url: "/user-management?page&sort",
                data: {
                    authorities: ["ROLE_ADMIN"],
                    pageTitle: "userManagement.home.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/admin/user-management/user-management.html",
                        controller: "UserManagementController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    page: {
                        value: "1",
                        squash: !0
                    },
                    sort: {
                        value: "id,asc",
                        squash: !0
                    }
                },
                resolve: {
                    pagingParams: ["$stateParams", "PaginationUtil", function(e, t) {
                        return {
                            page: t.parsePage(e.page),
                            sort: e.sort,
                            predicate: t.parsePredicate(e.sort),
                            ascending: t.parseAscending(e.sort)
                        }
                    }],
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("user-management"), e.refresh()
                    }]
                }
            }).state("user-management.new", {
                url: "/new",
                data: {
                    authorities: ["ROLE_ADMIN"]
                },
                onEnter: ["$stateParams", "$state", "$uibModal", function(e, t, a) {
                    a.open({
                        templateUrl: "app/admin/user-management/user-management-dialog.html",
                        controller: "UserManagementDialogController",
                        controllerAs: "vm",
                        backdrop: "static",
                        size: "lg",
                        resolve: {
                            entity: function() {
                                return {
                                    id: null,
                                    login: null,
                                    firstName: null,
                                    lastName: null,
                                    email: null,
                                    activated: !0,
                                    langKey: null,
                                    createdBy: null,
                                    createdDate: null,
                                    lastModifiedBy: null,
                                    lastModifiedDate: null,
                                    resetDate: null,
                                    resetKey: null,
                                    authorities: null
                                }
                            }
                        }
                    }).result.then(function() {
                        t.go("user-management", null, {
                            reload: !0
                        })
                    }, function() {
                        t.go("user-management")
                    })
                }]
            }).state("user-management.edit", {
                url: "/{login}/edit",
                data: {
                    authorities: ["ROLE_ADMIN"]
                },
                onEnter: ["$stateParams", "$state", "$uibModal", function(e, t, a) {
                    a.open({
                        templateUrl: "app/admin/user-management/user-management-dialog.html",
                        controller: "UserManagementDialogController",
                        controllerAs: "vm",
                        backdrop: "static",
                        size: "lg",
                        resolve: {
                            entity: ["User", function(t) {
                                return t.get({
                                    login: e.login
                                }).$promise
                            }]
                        }
                    }).result.then(function() {
                        t.go("user-management", null, {
                            reload: !0
                        })
                    }, function() {
                        t.go("^")
                    })
                }]
            }).state("user-management-detail", {
                parent: "user-management",
                url: "/{login}",
                data: {
                    authorities: ["ROLE_ADMIN"],
                    pageTitle: "user-management.detail.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/admin/user-management/user-management-detail.html",
                        controller: "UserManagementDetailController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("user-management"), e.refresh()
                    }]
                }
            }).state("user-management.delete", {
                url: "/{login}/delete",
                data: {
                    authorities: ["ROLE_ADMIN"]
                },
                onEnter: ["$stateParams", "$state", "$uibModal", function(e, t, a) {
                    a.open({
                        templateUrl: "app/admin/user-management/user-management-delete-dialog.html",
                        controller: "UserManagementDeleteController",
                        controllerAs: "vm",
                        size: "md",
                        resolve: {
                            entity: ["User", function(t) {
                                return t.get({
                                    login: e.login
                                }).$promise
                            }]
                        }
                    }).result.then(function() {
                        t.go("user-management", null, {
                            reload: !0
                        })
                    }, function() {
                        t.go("^")
                    })
                }]
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            function l(e, a) {
                e.activated = a, t.update(e, function() {
                    v.loadAll(), v.clear()
                })
            }

            function c() {
                t.query({
                    page: o.page - 1,
                    size: v.itemsPerPage,
                    sort: u()
                }, d, p)
            }

            function d(e, t) {
                v.links = a.parse(t("link")), v.totalItems = t("X-Total-Count"), v.queryCount = v.totalItems, v.page = o.page, v.users = e
            }

            function p(e) {
                n.error(e.data.message)
            }

            function g() {
                v.user = {
                    id: null,
                    login: null,
                    firstName: null,
                    lastName: null,
                    email: null,
                    activated: null,
                    langKey: null,
                    createdBy: null,
                    createdDate: null,
                    lastModifiedBy: null,
                    lastModifiedDate: null,
                    resetDate: null,
                    resetKey: null,
                    authorities: null
                }
            }

            function u() {
                var e = [v.predicate + "," + (v.reverse ? "asc" : "desc")];
                return "id" !== v.predicate && e.push("id"), e
            }

            function m(e) {
                v.page = e, v.transition()
            }

            function h() {
                i.transitionTo(i.$current, {
                    page: v.page,
                    sort: v.predicate + "," + (v.reverse ? "asc" : "desc"),
                    search: v.currentSearch
                })
            }
            var v = this;
            v.authorities = ["ROLE_USER", "ROLE_ADMIN"], v.currentAccount = null, v.languages = null, v.loadAll = c, v.setActive = l, v.users = [], v.page = 1, v.totalItems = null, v.clear = g, v.links = null, v.loadPage = m, v.predicate = o.predicate, v.reverse = o.ascending, v.itemsPerPage = r.itemsPerPage, v.transition = h, v.loadAll(), s.getAll().then(function(e) {
                v.languages = e
            }), e.identity().then(function(e) {
                v.currentAccount = e
            })
        }
        angular.module("B2B2CGatewayApp").controller("UserManagementController", e), e.$inject = ["Principal", "User", "ParseLinks", "AlertService", "$state", "pagingParams", "paginationConstants", "OtaLanguageService"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("ota-tracker", {
                parent: "admin",
                url: "/tracker",
                data: {
                    authorities: ["ROLE_ADMIN"],
                    pageTitle: "tracker.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/admin/tracker/tracker.html",
                        controller: "OtaTrackerController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("tracker"), e.refresh()
                    }]
                },
                onEnter: ["OtaTrackerService", function(e) {}],
                onExit: ["OtaTrackerService", function(e) {}]
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            function r() {
                var a = t.location,
                    n = "//" + a.host + a.pathname + "websocket/tracker",
                    i = o.getToken();
                i && (n += "?access_token=" + i);
                var r = new SockJS(n);
                g = Stomp.over(r);
                var s, l = {};
                g.connect(l, function() {
                    h.resolve("success"), c(), v || (s = e.$on("$stateChangeStart", function() {
                        c()
                    }), v = !0)
                }), e.$on("$destroy", function() {
                    angular.isDefined(s) && null !== s && s()
                })
            }

            function s() {
                null !== g && (g.disconnect(), g = null)
            }

            function l() {
                return m.promise
            }

            function c() {
                null !== g && g.connected && g.send("/topic/activity", {}, angular.toJson({
                    page: e.toState.name
                }))
            }

            function d() {
                h.promise.then(function() {
                    u = g.subscribe("/topic/tracker", function(e) {
                        m.notify(angular.fromJson(e.body))
                    })
                }, null, null)
            }

            function p() {
                null !== u && u.unsubscribe(), m = i.defer()
            }
            var g = null,
                u = null,
                m = i.defer(),
                h = i.defer(),
                v = !1,
                f = {
                    connect: r,
                    disconnect: s,
                    receive: l,
                    sendActivity: c,
                    subscribe: d,
                    unsubscribe: p
                };
            return f
        }
        angular.module("B2B2CGatewayApp").factory("OtaTrackerService", e), e.$inject = ["$rootScope", "$window", "$cookies", "$http", "$q", "AuthServerProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n(e) {
                for (var t = !1, a = 0; a < i.activities.length; a++) i.activities[a].sessionId === e.sessionId && (t = !0, "logout" === e.page ? i.activities.splice(a, 1) : i.activities[a] = e);
                t || "logout" === e.page || i.activities.push(e)
            }
            var i = this;
            i.activities = [], a.receive().then(null, null, function(e) {
                n(e)
            })
        }
        angular.module("B2B2CGatewayApp").controller("OtaTrackerController", e), e.$inject = ["$cookies", "$http", "OtaTrackerService"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("ota-metrics", {
                parent: "admin",
                url: "/metrics",
                data: {
                    authorities: ["ROLE_ADMIN"],
                    pageTitle: "metrics.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/admin/metrics/metrics.html",
                        controller: "OtaMetricsMonitoringController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("metrics"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n() {
                return t.get(a + "/management/metrics").then(function(e) {
                    return e.data
                })
            }

            function i() {
                return t.get(a + "/management/dump").then(function(e) {
                    return e.data
                })
            }
            var o = {
                getMetrics: n,
                threadDump: i
            };
            return o
        }
        angular.module("B2B2CGatewayApp").factory("OtaMetricsService", e), e.$inject = ["$rootScope", "$http", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a() {
                e.dismiss("cancel")
            }

            function n(e) {
                return "RUNNABLE" === e ? "label-success" : "WAITING" === e ? "label-info" : "TIMED_WAITING" === e ? "label-warning" : "BLOCKED" === e ? "label-danger" : void 0
            }
            var i = this;
            i.cancel = a, i.getLabelClass = n, i.threadDump = t, i.threadDumpAll = 0, i.threadDumpBlocked = 0, i.threadDumpRunnable = 0, i.threadDumpTimedWaiting = 0, i.threadDumpWaiting = 0, angular.forEach(t, function(e) {
                "RUNNABLE" === e.threadState ? i.threadDumpRunnable += 1 : "WAITING" === e.threadState ? i.threadDumpWaiting += 1 : "TIMED_WAITING" === e.threadState ? i.threadDumpTimedWaiting += 1 : "BLOCKED" === e.threadState && (i.threadDumpBlocked += 1)
            }), i.threadDumpAll = i.threadDumpRunnable + i.threadDumpWaiting + i.threadDumpTimedWaiting + i.threadDumpBlocked
        }
        angular.module("B2B2CGatewayApp").controller("OtaMetricsMonitoringModalController", e), e.$inject = ["$uibModalInstance", "threadDump"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n() {
                o.updatingMetrics = !0, t.getMetrics().then(function(e) {
                    o.metrics = e, o.updatingMetrics = !1
                }, function(e) {
                    o.metrics = e.data, o.updatingMetrics = !1
                })
            }

            function i() {
                t.threadDump().then(function(e) {
                    a.open({
                        templateUrl: "app/admin/metrics/metrics.modal.html",
                        controller: "OtaMetricsMonitoringModalController",
                        controllerAs: "vm",
                        size: "lg",
                        resolve: {
                            threadDump: function() {
                                return e
                            }
                        }
                    })
                })
            }
            var o = this;
            o.metrics = {}, o.refresh = n, o.refreshThreadDumpData = i, o.servicesStats = {}, o.updatingMetrics = !0, o.refresh(), e.$watch("vm.metrics", function(e) {
                o.servicesStats = {}, angular.forEach(e.timers, function(e, t) {
                    t.indexOf("web.rest") === -1 && t.indexOf("service") === -1 || (o.servicesStats[t] = e)
                })
            })
        }
        angular.module("B2B2CGatewayApp").controller("OtaMetricsMonitoringController", e), e.$inject = ["$scope", "OtaMetricsService", "$uibModal"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("logs", {
                parent: "admin",
                url: "/logs",
                data: {
                    authorities: ["ROLE_ADMIN"],
                    pageTitle: "logs.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/admin/logs/logs.html",
                        controller: "LogsController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("logs"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = e(t + "/management/logs", {}, {
                findAll: {
                    method: "GET",
                    isArray: !0
                },
                changeLevel: {
                    method: "PUT"
                }
            });
            return a
        }
        angular.module("B2B2CGatewayApp").factory("LogsService", e), e.$inject = ["$resource", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t(t, n) {
                e.changeLevel({
                    name: t,
                    level: n
                }, function() {
                    a.loggers = e.findAll()
                })
            }
            var a = this;
            a.changeLevel = t, a.loggers = e.findAll()
        }
        angular.module("B2B2CGatewayApp").controller("LogsController", e), e.$inject = ["LogsService"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("ota-health", {
                parent: "admin",
                url: "/health",
                data: {
                    authorities: ["ROLE_ADMIN"],
                    pageTitle: "health.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/admin/health/health.html",
                        controller: "OtaHealthCheckController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("health"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n() {
                return t.get(a + "/management/health").then(function(e) {
                    return e.data
                })
            }

            function i(e) {
                var t = [];
                return s(t, null, e), t
            }

            function o(e) {
                if (e) {
                    var t = e.split(".");
                    return t[0]
                }
            }

            function r(e) {
                if (e) {
                    var t = e.split(".");
                    t.splice(0, 1);
                    var a = t.join(".");
                    return a ? " - " + a : ""
                }
            }

            function s(e, t, a) {
                return angular.forEach(a, function(a, n) {
                    p(a) && (d(a) ? (l(e, !1, a, c(t, n)), s(e, c(t, n), a)) : l(e, !0, a, c(t, n)))
                }), e
            }

            function l(e, t, a, n) {
                var i = {
                        name: n
                    },
                    o = {},
                    r = !1;
                return angular.forEach(a, function(e, t) {
                    "status" === t || "error" === t ? i[t] = e : p(e) || (o[t] = e, r = !0)
                }), r && angular.extend(i, {
                    details: o
                }), (t || r || i.error) && e.push(i), i
            }

            function c(e, t) {
                var a;
                return a = e && t ? e + g + t : e ? e : t ? t : ""
            }

            function d(e) {
                var t = !1;
                return angular.forEach(e, function(e) {
                    e && e.status && (t = !0)
                }), t
            }

            function p(e) {
                var t = !1;
                return angular.forEach(e, function(e, a) {
                    "status" === a && (t = !0)
                }), t
            }
            var g = ".",
                u = {
                    checkHealth: n,
                    transformHealthData: i,
                    getBaseName: o,
                    getSubSystemName: r
                };
            return u
        }
        angular.module("B2B2CGatewayApp").factory("OtaHealthService", e), e.$inject = ["$rootScope", "$http", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            function i() {
                e.dismiss("cancel")
            }
            var o = this;
            o.cancel = i, o.currentHealth = t, o.baseName = a, o.subSystemName = n
        }
        angular.module("B2B2CGatewayApp").controller("HealthModalController", e), e.$inject = ["$uibModalInstance", "currentHealth", "baseName", "subSystemName"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e) {
                return "UP" === e ? "label-success" : "label-danger"
            }

            function n() {
                o.updatingHealth = !0, e.checkHealth().then(function(t) {
                    o.healthData = e.transformHealthData(t), o.updatingHealth = !1
                }, function(t) {
                    o.healthData = e.transformHealthData(t.data), o.updatingHealth = !1
                })
            }

            function i(e) {
                t.open({
                    templateUrl: "app/admin/health/health.modal.html",
                    controller: "HealthModalController",
                    controllerAs: "vm",
                    size: "lg",
                    resolve: {
                        currentHealth: function() {
                            return e
                        },
                        baseName: function() {
                            return o.baseName
                        },
                        subSystemName: function() {
                            return o.subSystemName
                        }
                    }
                })
            }
            var o = this;
            o.updatingHealth = !0, o.getLabelClass = a, o.refresh = n, o.showHealth = i, o.baseName = e.getBaseName, o.subSystemName = e.getSubSystemName, o.refresh()
        }
        angular.module("B2B2CGatewayApp").controller("OtaHealthCheckController", e), e.$inject = ["OtaHealthService", "$uibModal"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = e(t + "/api/gateway/routes/:id", {}, {
                query: {
                    method: "GET",
                    isArray: !0
                },
                get: {
                    method: "GET",
                    transformResponse: function(e) {
                        return e = angular.fromJson(e)
                    }
                },
                update: {
                    method: "PUT"
                }
            });
            return a
        }
        angular.module("B2B2CGatewayApp").factory("GatewayRoutes", e), e.$inject = ["$resource", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("gateway", {
                parent: "admin",
                url: "/gateway",
                data: {
                    authorities: ["ROLE_ADMIN"],
                    pageTitle: "gateway.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/admin/gateway/gateway.html",
                        controller: "GatewayController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("gateway"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n() {
                i.updatingRoutes = !0, a.query(function(e) {
                    i.gatewayRoutes = e, i.updatingRoutes = !1
                })
            }
            var i = this;
            i.gatewayRoutes = null, i.refresh = n, i.updatingRoutes = null, i.refresh()
        }
        angular.module("B2B2CGatewayApp").controller("GatewayController", e), e.$inject = ["$filter", "$interval", "GatewayRoutes"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("docs", {
                parent: "admin",
                url: "/docs",
                data: {
                    authorities: ["ROLE_ADMIN"],
                    pageTitle: "global.menu.admin.apidocs"
                },
                views: {
                    "content@": {
                        templateUrl: "app/admin/docs/docs.html"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", function(e) {
                        return e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("ota-configuration", {
                parent: "admin",
                url: "/configuration",
                data: {
                    authorities: ["ROLE_ADMIN"],
                    pageTitle: "configuration.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/admin/configuration/configuration.html",
                        controller: "OtaConfigurationController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("configuration"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n() {
                function n(t) {
                    var a = [];
                    angular.forEach(t.data, function(e) {
                        a.push(e)
                    });
                    var n = e("orderBy");
                    return n(a, "prefix")
                }
                return t.get(a + "/management/configprops").then(n)
            }

            function i() {
                function e(e) {
                    var t = {};
                    return angular.forEach(e.data, function(e, a) {
                        var n = [];
                        angular.forEach(e, function(e, t) {
                            n.push({
                                key: t,
                                val: e
                            })
                        }), t[a] = n
                    }), t
                }
                return t.get(a + "/management/env").then(e)
            }
            var o = {
                get: n,
                getEnv: i
            };
            return o
        }
        angular.module("B2B2CGatewayApp").factory("OtaConfigurationService", e), e.$inject = ["$filter", "$http", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = this;
            a.allConfiguration = null, a.configuration = null, t.get().then(function(e) {
                a.configuration = e
            }), t.getEnv().then(function(e) {
                a.allConfiguration = e
            })
        }
        angular.module("B2B2CGatewayApp").controller("OtaConfigurationController", e), e.$inject = ["$filter", "OtaConfigurationService"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("audits", {
                parent: "admin",
                url: "/audits",
                data: {
                    authorities: ["ROLE_ADMIN"],
                    pageTitle: "audits.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/admin/audits/audits.html",
                        controller: "AuditsController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("audits"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            var a = e(t + "/management/audits/:id", {}, {
                get: {
                    method: "GET",
                    isArray: !0
                },
                query: {
                    method: "GET",
                    isArray: !0,
                    params: {
                        fromDate: null,
                        toDate: null
                    }
                }
            });
            return a
        }
        angular.module("B2B2CGatewayApp").factory("AuditsService", e), e.$inject = ["$resource", "API_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            function n() {
                var n = "yyyy-MM-dd",
                    i = e("date")(s.fromDate, n),
                    o = e("date")(s.toDate, n);
                t.query({
                    page: s.page - 1,
                    size: 20,
                    fromDate: i,
                    toDate: o
                }, function(e, t) {
                    s.audits = e, s.links = a.parse(t("link")), s.totalItems = t("X-Total-Count")
                })
            }

            function i() {
                var e = new Date;
                s.toDate = new Date(e.getFullYear(), e.getMonth(), e.getDate() + 1)
            }

            function o() {
                var e = new Date;
                e = 0 === e.getMonth() ? new Date(e.getFullYear() - 1, 11, e.getDate()) : new Date(e.getFullYear(), e.getMonth() - 1, e.getDate()), s.fromDate = e
            }

            function r(e) {
                s.page = e, s.onChangeDate()
            }
            var s = this;
            s.audits = null, s.fromDate = null, s.links = null, s.loadPage = r, s.onChangeDate = n, s.page = 1, s.previousMonth = o, s.toDate = null, s.today = i, s.totalItems = null, s.today(), s.previousMonth(), s.onChangeDate()
        }
        angular.module("B2B2CGatewayApp").controller("AuditsController", e), e.$inject = ["$filter", "AuditsService", "ParseLinks"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("admin", {
                abstract: !0,
                parent: "app"
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a) {
            var n = this;
            n.success = a.success, n.error = !n.success, n.provider = a.provider, n.providerLabel = t("capitalize")(n.provider), n.success = a.success
        }
        angular.module("B2B2CGatewayApp").controller("SocialRegisterController", e), e.$inject = ["$log", "$filter", "$stateParams"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            var o = n.get("social-authentication");
            o ? i.loginWithToken(o, !1).then(function() {
                window.postMessage("auth::true", window.location.origin), window.location.href = "app/account/social/social-register.html"
            }, function() {
                a.go("social-register", {
                    success: "false"
                })
            }) : a.go("social-register", {
                success: "false"
            })
        }
        angular.module("B2B2CGatewayApp").controller("SocialAuthController", e), e.$inject = ["$log", "$rootScope", "$state", "$cookies", "Auth"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("social-register", {
                parent: "account",
                url: "/social-register/:provider?{success:boolean}",
                data: {
                    authorities: [],
                    pageTitle: "social.register.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/account/social/social-register.html",
                        controller: "SocialRegisterController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("social"), e.refresh()
                    }]
                }
            }).state("social-auth", {
                parent: "account",
                url: "/social-auth",
                data: {
                    authorities: []
                },
                views: {
                    "content@": {
                        controller: "SocialAuthController"
                    }
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t) {
            function a(e) {
                switch (e) {
                    case "google":
                        return "https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email";
                    case "facebook":
                        return "public_profile,email";
                    case "twitter":
                        return "";
                    default:
                        return "Provider setting not defined"
                }
            }

            function n(e) {
                return "signin/" + e
            }

            function i() {
                return t.get(e.defaults.xsrfCookieName)
            }
            var o = {
                getProviderSetting: a,
                getProviderURL: n,
                getCSRF: i
            };
            return o
        }
        angular.module("B2B2CGatewayApp").factory("SocialService", e), e.$inject = ["$http", "$cookies"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            function l(l) {
                e.addPart("social"), t.refresh(), l.label = a("capitalize")(l.provider), l.providerSetting = n.getProviderSetting(l.provider), l.providerURL = n.getProviderURL(l.provider), l.csrf = n.getCSRF(), $(".connectButton").click(function(e) {
                    e.preventDefault(), l.parent && l.parent.close();
                    var t = 600,
                        a = 700;
                    "google" === l.provider;
                    var n = window.outerWidth - t,
                        c = window.outerHeight - a,
                        d = Math.round(window.screenX + n / 2),
                        p = Math.round(window.screenY + c / 2.5),
                        g = window.open("", "SocialAuth", "width=" + t + ",height=" + a + ",left=" + d + ",top=" + p + ",toolbar=0,scrollbars=0,status=0,resizable=0,location=0,menuBar=0");
                    g.focus();
                    var u = $(e.currentTarget).parent();
                    u[0].setAttribute("target", "SocialAuth"), window.addEventListener("message", function(e) {
                        if ("social::success" === e.data) {
                            var t = i.get("social-authentication");
                            t && r.loginWithToken(t, !1).then(function() {
                                i.remove("social-authentication"), o.identity(!0).then(function() {
                                    s.$broadcast("authenticationSuccess")
                                })
                            })
                        }
                    }), u[0].submit()
                })
            }
            var c = {
                restrict: "E",
                scope: {
                    provider: "@ngProvider",
                    parent: "=?"
                },
                templateUrl: "app/account/social/directive/social.html",
                link: l
            };
            return c
        }
        angular.module("B2B2CGatewayApp").directive("jhSocial", e), e.$inject = ["$translatePartialLoader", "$translate", "$filter", "SocialService", "$cookies", "Principal", "Auth", "$rootScope"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("settings", {
                parent: "account",
                url: "/settings",
                data: {
                    authorities: ["ROLE_USER"],
                    pageTitle: "global.menu.account.settings"
                },
                views: {
                    "content@": {
                        templateUrl: "app/account/settings/settings.html",
                        controller: "SettingsController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("settings"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            function o() {
                a.updateAccount(r.settingsAccount).then(function() {
                    r.error = null, r.success = "OK", t.identity(!0).then(function(e) {
                        r.settingsAccount = s(e)
                    }), n.getCurrent().then(function(e) {
                        r.settingsAccount.langKey !== e && i.use(r.settingsAccount.langKey)
                    })
                }).catch(function() {
                    r.success = null, r.error = "ERROR"
                })
            }
            var r = this;
            r.error = null, r.save = o, r.settingsAccount = null, r.success = null;
            var s = function(e) {
                return {
                    activated: e.activated,
                    email: e.email,
                    firstName: e.firstName,
                    langKey: e.langKey,
                    lastName: e.lastName,
                    login: e.login
                }
            };
            t.identity().then(function(e) {
                r.settingsAccount = s(e)
            })
        }
        angular.module("B2B2CGatewayApp").controller("SettingsController", e), e.$inject = ["$log", "Principal", "Auth", "OtaLanguageService", "$translate"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("requestReset", {
                parent: "account",
                url: "/reset/request",
                data: {
                    authorities: []
                },
                views: {
                    "content@": {
                        templateUrl: "app/account/reset/request/reset.request.html",
                        controller: "RequestResetController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("reset"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            function i() {
                r.error = null, r.errorEmailNotExists = null, n.resetPasswordInit(r.resetAccount.email).then(function() {
                    r.success = "OK"
                }).catch(function(e) {
                    r.success = null, 400 === e.status && "email address not registered" === e.data ? r.errorEmailNotExists = "ERROR" : r.error = "ERROR"
                })
            }

            function o() {
                r.error = null, r.errorEmailNotExists = null, r.success = null
            }
            var r = this;
            r.error = null, r.errorEmailNotExists = null, r.requestReset = i, r.resetAccount = {}, r.success = null, r.refreshPage = o, a(function() {
                angular.element("#email").focus()
            })
        }
        angular.module("B2B2CGatewayApp").controller("RequestResetController", e), e.$inject = ["$log", "$state", "$timeout", "Auth"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("finishReset", {
                parent: "account",
                url: "/reset/finish?key",
                data: {
                    authorities: []
                },
                views: {
                    "content@": {
                        templateUrl: "app/account/reset/finish/reset.finish.html",
                        controller: "ResetFinishController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("reset"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i) {
            function o() {
                r.doNotMatch = null, r.error = null, r.resetAccount.password !== r.confirmPassword ? r.doNotMatch = "ERROR" : n.resetPasswordFinish({
                    key: t.key,
                    newPassword: r.resetAccount.password
                }).then(function() {
                    r.success = "OK"
                }).catch(function() {
                    r.success = null, r.error = "ERROR"
                })
            }
            var r = this;
            n.logout(), r.passwordpattern = /((?=.*\d)(?=.*[a-zA-Z]).{8,})/, r.keyMissing = angular.isUndefined(t.key), r.confirmPassword = null, r.doNotMatch = null, r.error = null, r.finishReset = o, r.login = i.open, r.resetAccount = {}, r.success = null, a(function() {
                angular.element("#password").focus()
            })
        }
        angular.module("B2B2CGatewayApp").controller("ResetFinishController", e), e.$inject = ["$log", "$stateParams", "$timeout", "Auth", "LoginService"]
    }(),
    function() {
        "use strict";

        function e(e) {
            var t = null,
                a = function() {
                    t = null
                };
            e.state("register", {
                parent: "account",
                url: "/register",
                data: {
                    authorities: [],
                    pageTitle: "register.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/account/register/register.html",
                        controller: "RegisterController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("register"), e.refresh()
                    }]
                },
                onEnter: ["$stateParams", "$state", "$uibModal", function(e, n, i) {
                    alert(null !== t), null === t && (t = i.open({
                        animation: !0,
                        templateUrl: "app/account/register/register.html",
                        controller: "RegisterController",
                        controllerAs: "vm",
                        windowClass: "login-modal-window"
                    }), t.result.then(a, a), t.result.finally(function() {
                        t = null, n.$current.name === stateName && n.go("^")
                    }))
                }],
                onExit: function() {
                    t && t.close()
                }
            }).state("terms", {
                parent: "app",
                url: "/terms",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/home/terms.html",
                        controller: "BlankController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("home"), t.addPart("flight"), t.addPart("hotel"), t.addPart("lookup"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e) {
            function t() {
                null === n && (n = e.open({
                    animation: !0,
                    templateUrl: "app/account/register/register.html",
                    controller: "RegisterController",
                    windowClass: "login-modal-window",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("register"), e.refresh()
                        }]
                    }
                }), n.result.then(i, i))
            }
            var a = {
                    open: t
                },
                n = null,
                i = function() {
                    n = null
                };
            return a
        }
        angular.module("B2B2CGatewayApp").factory("RegisterService", e), e.$inject = ["$uibModal"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            function r() {
                s.doNotMatch = null, s.error = null, s.errorUserExists = null, s.errorEmailExists = null, s.registerAccount.password !== s.confirmPassword ? s.doNotMatch = "ERROR" : (s.registerAccount.langKey = t.use(), s.registerAccount.login = s.registerAccount.email, n.createAccount(s.registerAccount).then(function() {
                    s.success = "OK"
                }).catch(function(e) {
                    s.success = null, 400 === e.status && "login already in use" === e.data ? s.errorUserExists = "ERROR" : 400 === e.status && "email address already in use" === e.data ? s.errorEmailExists = "ERROR" : s.error = "ERROR"
                }))
            }
            var s = this;
            s.passwordpattern = /((?=.*\d)(?=.*[a-zA-Z]).{8,})/, s.doNotMatch = null, s.error = null, s.errorUserExists = null, s.login = function() {
                o.dismiss("cancel"), i.open()
            }, s.register = r, s.registerAccount = {}, s.success = null, s.parent = o, a(function() {
                angular.element("#login").focus()
            })
        }
        angular.module("B2B2CGatewayApp").controller("RegisterController", e), e.$inject = ["$log", "$translate", "$timeout", "Auth", "LoginService", "$uibModalInstance"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l) {
            var c = this;
            e.log(i), c.profileModel = {}, r.getShortProfile().then(function(e) {
                var t = e;
                r.getCustomerProfile(t.requesterId).then(function(e) {
                    c.shortProfile = e, c.shortProfile.defaultTravellerId && r.getCustomerTraveller(c.shortProfile.defaultTravellerId).then(function(e) {
                        r.getCustomerProfileAvatar(c.shortProfile.id).then(function(e) {
                            c.profileModel.avatar = e, null !== e && "" !== e || (c.profileModel.avatar = {
                                avatarImage: null,
                                avatarImageContentType: "",
                                profileId: 0,
                                inUsed: !0,
                                createdDate: ""
                            })
                        })
                    })
                })
            });
            var d = "edit";
            c.profileModel.type = "traveller", c.profileModel.memberCards = [], c.profileModel.editMemberCards = [], c.profileModel.phoneNumbers = [], i.traveller_id ? r.getCustomerTraveller(i.traveller_id).then(function(t) {
                c.profileModel = t, c.profileModel.type = "traveller", c.profileModel.phoneNumbers = [], c.profileModel.phoneNumber1 && c.profileModel.phoneNumbers.push({
                    text: c.profileModel.phoneNumber1
                }), c.profileModel.phoneNumber2 && c.profileModel.phoneNumbers.push({
                    text: c.profileModel.phoneNumber2
                }), c.profileModel.phoneNumber3 && c.profileModel.phoneNumbers.push({
                    text: c.profileModel.phoneNumber3
                }), c.profileModel.phoneNumber4 && c.profileModel.phoneNumbers.push({
                    text: c.profileModel.phoneNumber4
                }), c.profileModel.phoneNumber5 && c.profileModel.phoneNumbers.push({
                    text: c.profileModel.phoneNumber5
                }), 0 === c.profileModel.phoneNumbers.length && c.profileModel.phoneNumbers.push({
                    text: ""
                }), c.profileModel.memberCards || (c.profileModel.memberCards = []), c.profileModel.editMemberCards = [], c.profileModel.editMemberCards.push({
                    cardType: "",
                    cardNumber: ""
                }), e.log(c.profileModel), d = "edit", i.mode ? c.profileModel.mode = i.mode : c.profileModel.mode = d
            }, function(e) {
                c.profileModel.mode = d, 0 === c.profileModel.phoneNumbers.length && c.profileModel.phoneNumbers.push({
                    text: ""
                }), 0 === c.profileModel.editMemberCards.length && c.profileModel.editMemberCards.push({
                    text: ""
                })
            }) : (c.profileModel.mode = d, 0 === c.profileModel.phoneNumbers.length && c.profileModel.phoneNumbers.push({
                text: ""
            }), 0 === c.profileModel.editMemberCards.length && c.profileModel.editMemberCards.push({
                text: ""
            })), c.saveUserInfo = function(t) {
                if (!t.$valid) return angular.element("[name='" + t.$name + "']").find(".ng-invalid:visible:first").focus(), !1;
                var a = !0;
                if (angular.forEach(c.profileModel.editMemberCards, function(e, t) {
                        if (!e.curCardType && e.curCardNumber || e.curCardType && !e.curCardNumber) {
                            var n = {
                                title: "Thông Báo",
                                message: "Bạn phải nhập đầy đủ thông tin của thẻ!"
                            };
                            a = !1, s.openAlertDialog(n)
                        }
                    }), a) {
                    var i = c.profileModel;
                    r.addCustomerTravellersProfile(i).then(function(t) {
                        e.log("Save user info"), e.log(t), t.success ? n.go("user-profile-traveller") : s.openHttpAlertDilalog(t)
                    }, function(e) {
                        s.openHttpAlertDilalog(e)
                    })
                }
            }, c.cancel = function() {
                n.go("user-profile-traveller")
            }, c.save = function() {
                n.go("user-profile-traveller")
            }
        }
        angular.module("B2B2CGatewayApp").controller("ProfileTravellerNewController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$stateParams", "$timeout", "CustomerService", "DialogService", "Principal"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r) {
            var s = this;
            s.profileModel = {};
            var l = "view";
            s.profileModel.cardMode = l, s.travellerNames = "", angular.forEach(a.customerTravellers, function(e, t) {
                e.checked && (s.travellerNames += e.surName + " " + e.firstName + ", ")
            }), s.travellerNames.endsWith(", ") && (s.travellerNames = s.travellerNames.substr(0, s.travellerNames.length - 2)), s.cancel = function() {
                o.dismiss("cancel")
            }, s.submit = function() {
                var e = "";
                angular.forEach(a.customerTravellers, function(t, a) {
                    t.checked && (e += t.id + ":")
                }), r.deleteCustomerTravellers(e).then(function(e) {
                    n.go("user-profile-traveller", {}, {
                        reload: !0
                    })
                })
            }
        }
        angular.module("B2B2CGatewayApp").controller("ProfileTravellerDeleteController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "$uibModalInstance", "CustomerService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c) {
            var d = this,
                p = null,
                g = function() {
                    p = null
                };
            d.profileModel = {}, c.identity().then(function(t) {
                d.profileModel.socialUser = t.socialUser, e.log(d.profileModel.socialUser), e.log("loginuser=" + t)
            }), r.getShortProfile().then(function(t) {
                var a = t;
                r.getCustomerProfile(a.requesterId).then(function(t) {
                    e.log("spResult  = " + t), d.shortProfile = t, d.profileModel = {}, d.profileModel.phoneNumbers = [], 0 === d.profileModel.phoneNumbers.length && d.profileModel.phoneNumbers.push({
                        text: ""
                    }), d.profileModel.memberCards || (d.profileModel.memberCards = []), d.profileModel.editMemberCards = [], d.profileModel.editMemberCards.push({
                        cardType: "",
                        cardNumber: ""
                    }), d.profileModel.type = "profile", d.profileModel.mode = "view", d.shortProfile.defaultTravellerId && r.getCustomerTraveller(d.shortProfile.defaultTravellerId).then(function(t) {
                        d.profileModel = t, r.getCustomerProfileAvatar(d.shortProfile.id).then(function(e) {
                            d.profileModel.avatar = e, null !== e && "" !== e || (d.profileModel.avatar = {
                                avatarImage: null,
                                avatarImageContentType: "",
                                profileId: 0,
                                inUsed: !0,
                                createdDate: ""
                            }), d.profileModel.profileid = d.shortProfile.id
                        }), d.profileModel.phoneNumbers = [], d.profileModel.phoneNumber1 && d.profileModel.phoneNumbers.push({
                            text: d.profileModel.phoneNumber1
                        }), d.profileModel.phoneNumber2 && d.profileModel.phoneNumbers.push({
                            text: d.profileModel.phoneNumber2
                        }), d.profileModel.phoneNumber3 && d.profileModel.phoneNumbers.push({
                            text: d.profileModel.phoneNumber3
                        }), d.profileModel.phoneNumber4 && d.profileModel.phoneNumbers.push({
                            text: d.profileModel.phoneNumber4
                        }), d.profileModel.phoneNumber5 && d.profileModel.phoneNumbers.push({
                            text: d.profileModel.phoneNumber5
                        }), 0 === d.profileModel.phoneNumbers.length && d.profileModel.phoneNumbers.push({
                            text: ""
                        }), d.profileModel.memberCards || (d.profileModel.memberCards = []), d.profileModel.editMemberCards = [], d.profileModel.editMemberCards.push({
                            cardType: "",
                            cardNumber: ""
                        }), d.profileModel.type = "profile", d.profileModel.mode = "view", c.identity().then(function(t) {
                            d.profileModel.socialUser = t.socialUser, e.log("++++++++++++++++++++++++++"), e.log("vm.profileModel.socialUser =" + d.profileModel.socialUser)
                        })
                    }, function(t) {
                        e.log("+++++>> getCustomerTraveller Error: " + t)
                    }), d.profileModel.type = "profile", d.profileModel.mode = "view"
                })
            });
            var u = "view";
            d.page = 1, d.profileModel.travellerMode = u, d.customerTravellers = [], r.getCustomerTravellersPagination(d.page).then(function(e) {
                e && e.length > 0 && angular.forEach(e, function(e, t) {
                    0 != t && d.customerTravellers.push(e)
                }), d.totalPages = e.totalPages, d.totalItems = e.totalItems, angular.forEach(d.customerTravellers, function(e, t) {
                    e.checked = !1
                })
            }), r.getShortProfile().then(function(t) {
                var a = t;
                r.getCustomerProfile(a.requesterId).then(function(t) {
                    e.log("spResult  = " + t), d.shortProfile = t, d.profileModel.defaultTravellerId = t.defaultTravellerId
                })
            }), d.pageChanged = function() {
                r.getCustomerTravellersPagination(d.page).then(function(e) {
                    e && e.length > 0 && angular.forEach(e, function(e, t) {
                        0 != t && d.customerTravellers.push(e)
                    }), d.totalPages = e.totalPages, d.totalItems = e.totalItems, angular.forEach(d.customerTravellers, function(e, t) {
                        e.checked = !1
                    })
                })
            }, d.openAddNewTraveller = function() {
                n.go("user-profile-traveller.new")
            }, d.openDeleteTraveller = function(e, t) {
                if (t) {
                    var n = !1;
                    if (angular.forEach(d.customerTravellers, function(e, t) {
                            e.checked && (n = !0)
                        }), !n) {
                        var i = {};
                        return i.title = "Error", i.message = "Bạn phải chọn bản ghi để xoá!", void s.openAlertDialog(i)
                    }
                    a.customerTravellers = d.customerTravellers
                } else a.customerTravellers = [], e.checked = !0, a.customerTravellers.push(e);
                null === p && (p = o.open({
                    animation: !0,
                    scope: a,
                    backdrop: "static",
                    templateUrl: "app/account/profile/traveller/profile.traveller.delete.html",
                    controller: "ProfileTravellerDeleteController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("global"), e.refresh()
                        }]
                    }
                }), p.result.then(g, g))
            }, d.viewItem = function(e) {
                n.go("user-profile-traveller/:traveller_id/:mode", {
                    traveller_id: e.id,
                    mode: "view"
                })
            }, d.editItem = function(e) {
                n.go("user-profile-traveller/:traveller_id/:mode", {
                    traveller_id: e.id,
                    mode: "edit"
                })
            }, d.deleteItem = function(e) {
                null === p && (p = o.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/account/profile/traveller/profile.traveller.delete.html",
                    controller: "ProfileCardDeleteController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("global"), e.refresh()
                        }]
                    }
                }), p.result.then(g, g))
            }
        }
        angular.module("B2B2CGatewayApp").controller("ProfileTravellerController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "$uibModal", "CustomerService", "DialogService", "Base64", "Principal"]
    }(),
    function() {
        "use strict";

        function e(e, a) {
            e.state("user-profile-card-abstract", {
                abstract: !0,
                data: {
                    authorities: ["ROLE_USER", "ROLE_B2C"]
                },
                parent: "account"
            }).state("user-profile-traveller-abstract", {
                abstract: !0,
                data: {
                    authorities: ["ROLE_USER", "ROLE_B2C"]
                },
                parent: "account"
            }).state("user-profile-booking-abstract", {
                abstract: !0,
                parent: "account",
                data: {
                    authorities: ["ROLE_USER", "ROLE_B2C"]
                },
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("flight"), t.addPart("password"), e.refresh()
                    }]
                }
            }).state("user-profile", {
                parent: "account",
                url: "/user-profile",
                data: {
                    authorities: ["ROLE_USER", "ROLE_B2C"]
                },
                views: {
                    "content@": {
                        templateUrl: "app/account/profile/profile.html",
                        controller: "ProfileController",
                        controllerAs: "vm"
                    }
                },
                params: {},
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("flight"), t.addPart("password"), e.refresh()
                    }]
                }
            }).state("user-profile-card", {
                parent: "user-profile-card-abstract",
                url: "/user-profile-card",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/account/profile/card/profile.card.html",
                        controller: "ProfileCardController",
                        controllerAs: "vm"
                    }
                },
                params: {},
                resolve: {}
            }).state("user-profile-card.new", {
                parent: "user-profile-card-abstract",
                url: "/user-profile-card.new",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/account/profile/card/profile.card.new.html",
                        controller: "ProfileCardNewController",
                        controllerAs: "vm"
                    }
                },
                params: {},
                resolve: {}
            }).state("user-profile-traveller", {
                parent: "user-profile-traveller-abstract",
                url: "/user-profile-traveller",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/account/profile/traveller/profile.traveller.html",
                        controller: "ProfileTravellerController",
                        controllerAs: "vm"
                    }
                },
                params: {},
                resolve: {}
            }).state("user-profile-traveller.new", {
                parent: "user-profile-traveller-abstract",
                url: "/user-profile-traveller.new",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/account/profile/traveller/profile.traveller.new.html",
                        controller: "ProfileTravellerNewController",
                        controllerAs: "vm"
                    }
                },
                params: {},
                resolve: {}
            }).state("user-profile-traveller/:traveller_id/:mode", {
                parent: "user-profile-traveller-abstract",
                url: "/user-profile-traveller/:traveller_id/:mode",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/account/profile/traveller/profile.traveller.new.html",
                        controller: "ProfileTravellerNewController",
                        controllerAs: "vm"
                    }
                },
                params: {},
                resolve: {}
            }).state("user-profile-booking", {
                parent: "user-profile-booking-abstract",
                url: "/user-profile-booking",
                data: {},
                views: {
                    "content@": {
                        templateUrl: function() {
                            return t(a, "profile_booking")
                        },
                        controller: "ProfileBookingController",
                        controllerAs: "vm"
                    }
                },
                params: {
                    tab: "tab-a"
                },
                resolve: {}
            }).state("user-profile-booking-air/:booking_number/:mode", {
                parent: "user-profile-booking-abstract",
                url: "/user-profile-booking-air/:booking_number/:mode",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/account/profile/booking/profile.booking.air.view.html",
                        controller: "ProfileBookingAirViewController",
                        controllerAs: "vm"
                    }
                },
                params: {},
                resolve: {}
            }).state("user-profile-booking-htl/:booking_number/:mode", {
                parent: "user-profile-booking-abstract",
                url: "/user-profile-booking-htl/:booking_number/:mode",
                data: {},
                views: {
                    "content@": {
                        templateUrl: "app/account/profile/booking/profile.booking.hotel.view.html",
                        controller: "ProfileBookingHotelViewController",
                        controllerAs: "vm"
                    }
                },
                params: {},
                resolve: {}
            })
        }

        function t(e, t) {
            var a = String(Cookies.get("merchant_code")).toUpperCase();
            return e[a] && e[a][t] ? e[a][t] : e.DEFAULT[t]
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider", "TEMPLATE_URL"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c) {
            var d = this;
            d.profileModel = l, d.cancel = function() {
                o.dismiss("cancel")
            }, d.submit = function() {
                for (var e, t = 0; t < d.profileModel.memberCards.length; t++) e = d.profileModel.memberCards[t], c.cardType == e.cardType && c.cardNumber == e.cardNumber && d.profileModel.memberCards.splice(t, 1);
                o.dismiss("cancel")
            }
        }
        angular.module("B2B2CGatewayApp").controller("ProfileMemberCardDeleteController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "$uibModalInstance", "CustomerService", "DialogService", "profileModel", "item"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l) {
            var c = this;
            c.shortProfile = {}, c.profileModel = {}, s.identity().then(function(t) {
                c.profileModel.socialUser = t.socialUser, e.log(c.profileModel.socialUser), e.log("loginuser=" + t)
            }), r.getShortProfile().then(function(t) {
                var a = t;
                r.getCustomerProfile(a.requesterId).then(function(t) {
                    e.log("spResult  = " + t), c.shortProfile = t, c.profileModel = {}, c.profileModel.phoneNumbers = [], 0 === c.profileModel.phoneNumbers.length && c.profileModel.phoneNumbers.push({
                        text: ""
                    }), c.profileModel.memberCards || (c.profileModel.memberCards = []), c.profileModel.editMemberCards = [], c.profileModel.editMemberCards.push({
                        cardType: "",
                        cardNumber: ""
                    }), c.profileModel.type = "profile", c.profileModel.mode = "view", c.shortProfile.defaultTravellerId && r.getCustomerTraveller(c.shortProfile.defaultTravellerId).then(function(t) {
                        c.profileModel = t, r.getCustomerProfileAvatar(c.shortProfile.id).then(function(e) {
                            c.profileModel.avatar = e, null !== e && "" !== e || (c.profileModel.avatar = {
                                avatarImage: null,
                                avatarImageContentType: "",
                                profileId: 0,
                                inUsed: !0,
                                createdDate: ""
                            }), c.profileModel.profileid = c.shortProfile.id
                        }), c.profileModel.phoneNumbers = [], c.profileModel.phoneNumber1 && c.profileModel.phoneNumbers.push({
                            text: c.profileModel.phoneNumber1
                        }), c.profileModel.phoneNumber2 && c.profileModel.phoneNumbers.push({
                            text: c.profileModel.phoneNumber2
                        }), c.profileModel.phoneNumber3 && c.profileModel.phoneNumbers.push({
                            text: c.profileModel.phoneNumber3
                        }), c.profileModel.phoneNumber4 && c.profileModel.phoneNumbers.push({
                            text: c.profileModel.phoneNumber4
                        }), c.profileModel.phoneNumber5 && c.profileModel.phoneNumbers.push({
                            text: c.profileModel.phoneNumber5
                        }), 0 === c.profileModel.phoneNumbers.length && c.profileModel.phoneNumbers.push({
                            text: ""
                        }), c.profileModel.memberCards || (c.profileModel.memberCards = []), c.profileModel.editMemberCards = [], c.profileModel.editMemberCards.push({
                            cardType: "",
                            cardNumber: ""
                        }), c.profileModel.type = "profile", c.profileModel.mode = "view", s.identity().then(function(t) {
                            c.profileModel.socialUser = t.socialUser, e.log("++++++++++++++++++++++++++"), e.log("vm.profileModel.socialUser =" + c.profileModel.socialUser)
                        })
                    }, function(t) {
                        e.log("+++++>> getCustomerTraveller Error: " + t)
                    }), c.profileModel.type = "profile", c.profileModel.mode = "view"
                })
            }), c.saveUserInfo = function(t) {
                if (!t.$valid) return angular.element("[name='" + t.$name + "']").find(".ng-invalid:visible:first").focus(), !1;
                var a = !0;
                if (angular.forEach(c.profileModel.editMemberCards, function(e, t) {
                        if (!e.curCardType && e.curCardNumber || e.curCardType && !e.curCardNumber) {
                            var n = {
                                title: "Error",
                                message: "Bạn phải nhập đầy đủ thông tin của thẻ!"
                            };
                            a = !1, l.openAlertDialog(n)
                        }
                    }), a) {
                    var i = c.profileModel;
                    i.isDefault = !0, r.addCustomerTravellersProfile(i).then(function(t) {
                        e.log("Save user info"), e.log(t), t && t[0] && (c.shortProfile.defaultTravellerId = t[0].id);
                        var a = i.avatar;
                        a && a.profileId === c.shortProfile.id && r.updateAvatarCustomer(a), r.updateCustomerProfile(c.shortProfile).then(function() {
                            n.go("user-profile", {}, {
                                reload: !0
                            })
                        }, function(e) {
                            l.openHttpAlertDilalog(e)
                        })
                    }, function(e) {
                        l.openHttpAlertDilalog(e)
                    })
                }
            }, c.cancel = function() {
                n.go("user-profile", {}, {
                    reload: !0
                })
            }
        }
        angular.module("B2B2CGatewayApp").controller("ProfileController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "$uibModal", "CustomerService", "Principal", "DialogService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d) {
            var p = this;
            p.profileModel = {};
            var g = "view",
                u = new Date;
            p.currentMonth = u.getMonth() + 1, p.currentYear = u.getFullYear(), p.maxYear = p.currentYear + 20, p.allCountries = l.getAllCountries(), p.allCountries != [] && 0 != p.allCountries.length || d.getCountries().then(function(e) {
                p.allCountries = e
            }), p.cardModel = {}, p.profileModel.cardMode = g, p.profileModel.paToken = null, a.$on("DoPaymentWith3DAuthConfirmation", function(t, a) {
                e.log("DoPaymentWith3DAuth - " + a), p.profileModel.paToken = a, p.doCreateCreditCards()
            }), p.doCreateCreditCards = function() {
                p.cardModel.type = a.cardForm.cardNumber.$ccType ? a.cardForm.cardNumber.$ccType.toUpperCase() : "OTHER", r.createCreditCards(p.cardModel, p.profileModel.paToken).then(function(t) {
                    t.authReq && t.authReq.acsUrl ? (e.log(t.authReq.acsUrl), p.open3DAuth(t.authReq.acsUrl, t.authReq.paReq, t.authReq.mdxId, t.authReq.termUrl)) : (p.profileModel.paToken = null, t.success ? n.go("user-profile-card") : s.openHttpAlertDilalog(t))
                }, function(e) {
                    s.openHttpAlertDilalog(e)
                })
            }, p.cancel = function() {
                n.go("user-profile-card")
            }, p.save = function(e) {
                return e.$valid ? void p.doCreateCreditCards() : (angular.element("[name='" + e.$name + "']").find(".ng-invalid:visible:first").focus(), !1)
            };
            var m = null,
                h = function() {
                    m = null
                };
            p.open3DAuth = function(e, t, a, n) {
                null === m && (m = o.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/payment/flight.payment.3d.auth.external.html",
                    controller: "FlightPayment3DAuthExternalController",
                    controllerAs: "vm",
                    windowClass: "modal-window-extension",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        paymentUrl: function() {
                            return e
                        },
                        paReq: function() {
                            return t
                        },
                        md: function() {
                            return a
                        },
                        termUrl: function() {
                            return n
                        }
                    }
                }), m.result.then(h, h))
            }
        }
        angular.module("B2B2CGatewayApp").controller("ProfileCardNewController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "$uibModal", "CustomerService", "DialogService", "GlobalSrv", "DataService", "MetaData"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s) {
            var l = this;
            l.profileModel = {};
            var c = "view";
            l.profileModel.cardMode = c, l.cardNumbers = "", angular.forEach(a.creditCards, function(e, t) {
                e.checked && (l.cardNumbers += e.cardNumber + ", ")
            }), l.cardNumbers.endsWith(", ") && (l.cardNumbers = l.cardNumbers.substr(0, l.cardNumbers.length - 2)), l.cancel = function() {
                o.dismiss("cancel")
            }, l.submit = function() {
                var e = "";
                angular.forEach(a.creditCards, function(t, a) {
                    t.checked && (e += t.id + ":")
                }), r.deleteCreditCards(e).then(function(e) {
                    n.go("user-profile-card", {}, {
                        reload: !0
                    })
                }, function(e) {
                    o.dismiss("cancel"), s.openHttpAlertDilalog(e)
                })
            }
        }
        angular.module("B2B2CGatewayApp").controller("ProfileCardDeleteController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "$uibModalInstance", "CustomerService", "DialogService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c) {
            var d = this,
                p = null,
                g = function() {
                    p = null
                };
            d.profileModel = {}, c.identity().then(function(t) {
                d.profileModel.socialUser = t.socialUser, e.log(d.profileModel.socialUser), e.log("loginuser=" + t)
            }), r.getShortProfile().then(function(t) {
                var a = t;
                r.getCustomerProfile(a.requesterId).then(function(t) {
                    e.log("spResult  = " + t), d.shortProfile = t, d.profileModel = {}, d.profileModel.phoneNumbers = [], 0 === d.profileModel.phoneNumbers.length && d.profileModel.phoneNumbers.push({
                        text: ""
                    }), d.profileModel.memberCards || (d.profileModel.memberCards = []), d.profileModel.editMemberCards = [], d.profileModel.editMemberCards.push({
                        cardType: "",
                        cardNumber: ""
                    }), d.profileModel.type = "profile", d.profileModel.mode = "view", d.shortProfile.defaultTravellerId && r.getCustomerTraveller(d.shortProfile.defaultTravellerId).then(function(t) {
                        d.profileModel = t, r.getCustomerProfileAvatar(d.shortProfile.id).then(function(e) {
                            d.profileModel.avatar = e, null !== e && "" !== e || (d.profileModel.avatar = {
                                avatarImage: null,
                                avatarImageContentType: "",
                                profileId: 0,
                                inUsed: !0,
                                createdDate: ""
                            }), d.profileModel.profileid = d.shortProfile.id
                        }), d.profileModel.phoneNumbers = [], d.profileModel.phoneNumber1 && d.profileModel.phoneNumbers.push({
                            text: d.profileModel.phoneNumber1
                        }), d.profileModel.phoneNumber2 && d.profileModel.phoneNumbers.push({
                            text: d.profileModel.phoneNumber2
                        }), d.profileModel.phoneNumber3 && d.profileModel.phoneNumbers.push({
                            text: d.profileModel.phoneNumber3
                        }), d.profileModel.phoneNumber4 && d.profileModel.phoneNumbers.push({
                            text: d.profileModel.phoneNumber4
                        }), d.profileModel.phoneNumber5 && d.profileModel.phoneNumbers.push({
                            text: d.profileModel.phoneNumber5
                        }), 0 === d.profileModel.phoneNumbers.length && d.profileModel.phoneNumbers.push({
                            text: ""
                        }), d.profileModel.memberCards || (d.profileModel.memberCards = []), d.profileModel.editMemberCards = [], d.profileModel.editMemberCards.push({
                            cardType: "",
                            cardNumber: ""
                        }), d.profileModel.type = "profile", d.profileModel.mode = "view", c.identity().then(function(t) {
                            d.profileModel.socialUser = t.socialUser, e.log("++++++++++++++++++++++++++"), e.log("vm.profileModel.socialUser =" + d.profileModel.socialUser)
                        })
                    }, function(t) {
                        e.log("+++++>> getCustomerTraveller Error: " + t)
                    }), d.profileModel.type = "profile", d.profileModel.mode = "view"
                })
            });
            var u = "view";
            d.profileModel.cardMode = u, d.creditCards = [], r.getCreditCards().then(function(e) {
                d.creditCards = e, angular.forEach(d.creditCards, function(e, t) {
                    e.checked = !1
                })
            }), d.openAddNewCard = function() {
                n.go("user-profile-card.new")
            }, d.openDeleteCards = function(e, t) {
                if (d.creditCards) {
                    var n = !1;
                    if (angular.forEach(d.creditCards, function(e, t) {
                            e.checked && (n = !0)
                        }), !n) {
                        var i = {};
                        return i.title = "Error", i.message = "Bạn phải chọn bản ghi để xoá!", void s.openAlertDialog(i)
                    }
                }
                a.creditCards = d.creditCards, null === p && (p = o.open({
                    animation: !0,
                    scope: a,
                    backdrop: "static",
                    templateUrl: "app/account/profile/card/profile.card.delete.html",
                    controller: "ProfileCardDeleteController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("global"), e.refresh()
                        }]
                    }
                }), p.result.then(g, g))
            }
        }
        angular.module("B2B2CGatewayApp").controller("ProfileCardController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "$uibModal", "CustomerService", "DialogService", "Base64", "Principal"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v, f) {
            function b(t) {
                m.getViettelPaymentURL(t).then(function(e) {
                    h.location.href = e
                }, function(t) {
                    e.log("errorCallback Create viettel order")
                })
            }
            var y = this;
            y.viettelPayment = b, y.showPaymentInfo = !f.isSimpleView(), y.showProfileInfo = !f.isSimpleView(), y.merchantList = ["FASTGO"], y.currentMerchant = v.get("merchant_code") || localStorage.getItem("merchant_code") || null, y.profileModel = {}, u.identity().then(function(t) {
                y.profileModel.socialUser = t.socialUser, e.log(y.profileModel.socialUser), e.log("loginuser=" + t)
            }), s.getShortProfile().then(function(t) {
                var a = t;
                s.getCustomerProfile(a.requesterId).then(function(t) {
                    e.log("spResult  = " + t), y.shortProfile = t, y.profileModel = {}, y.profileModel.phoneNumbers = [], 0 === y.profileModel.phoneNumbers.length && y.profileModel.phoneNumbers.push({
                        text: ""
                    }), y.profileModel.memberCards || (y.profileModel.memberCards = []), y.profileModel.editMemberCards = [], y.profileModel.editMemberCards.push({
                        cardType: "",
                        cardNumber: ""
                    }), y.profileModel.type = "profile", y.profileModel.mode = "view", y.shortProfile.defaultTravellerId && s.getCustomerTraveller(y.shortProfile.defaultTravellerId).then(function(t) {
                        y.profileModel = t, s.getCustomerProfileAvatar(y.shortProfile.id).then(function(e) {
                            y.profileModel.avatar = e, null !== e && "" !== e || (y.profileModel.avatar = {
                                avatarImage: null,
                                avatarImageContentType: "",
                                profileId: 0,
                                inUsed: !0,
                                createdDate: ""
                            }), y.profileModel.profileid = y.shortProfile.id
                        }), y.profileModel.phoneNumbers = [], y.profileModel.phoneNumber1 && y.profileModel.phoneNumbers.push({
                            text: y.profileModel.phoneNumber1
                        }), y.profileModel.phoneNumber2 && y.profileModel.phoneNumbers.push({
                            text: y.profileModel.phoneNumber2
                        }), y.profileModel.phoneNumber3 && y.profileModel.phoneNumbers.push({
                            text: y.profileModel.phoneNumber3
                        }), y.profileModel.phoneNumber4 && y.profileModel.phoneNumbers.push({
                            text: y.profileModel.phoneNumber4
                        }), y.profileModel.phoneNumber5 && y.profileModel.phoneNumbers.push({
                            text: y.profileModel.phoneNumber5
                        }), 0 === y.profileModel.phoneNumbers.length && y.profileModel.phoneNumbers.push({
                            text: ""
                        }), y.profileModel.memberCards || (y.profileModel.memberCards = []), y.profileModel.editMemberCards = [], y.profileModel.editMemberCards.push({
                            cardType: "",
                            cardNumber: ""
                        }), y.profileModel.type = "profile", y.profileModel.mode = "view", u.identity().then(function(t) {
                            y.profileModel.socialUser = t.socialUser, e.log("++++++++++++++++++++++++++"), e.log("vm.profileModel.socialUser =" + y.profileModel.socialUser)
                        })
                    }, function(t) {
                        e.log("+++++>> getCustomerTraveller Error: " + t)
                    }), y.profileModel.type = "profile", y.profileModel.mode = "view"
                })
            }), y.bookingModel = {}, y.returnBookingModel = {}, y.searchOptions = {}, y.paymentModel = {}, y.bookingModel.airView = !0, y.paymentModel.airView = !0, y.paymentModel.cardModel = {}, y.paymentModel.paToken = null;
            var k = g.decodeString(i.booking_number);
            e.log("ProfileBookingHotelViewController - bookingNumber:" + k), s.getBookingByNumber(k).then(function(t) {
                if (y.bkgroup = t, e.log("+++++ vm.bkgroup = "), e.log(y.bkgroup), y.selectedHotel = y.bkgroup.hotelAvailability, y.selectedHotelProduct = y.bkgroup.hotelAvailability.products[0], y.selectedHotelRoom = y.bkgroup.hotelAvailability.products[0].rooms[0], e.log("CustomerService.getBooking result = "), e.log("CustomerService.getBookingByNumber result:"), e.log("data=" + t), e.log("++++++++++++++++++++++++++++"), t && t.bookingInfo) {
                    y.bjson = t, y.bookingModel = t.bookingInfo, e.log("vn.bookingModel = "), e.log(y.bookingModel);
                    var a = t,
                        i = [];
                    a.bookingInfo && a.bookingInfo.contactInfos && angular.forEach(a.bookingInfo.contactInfos, function(e, t) {
                        var a = e;
                        i.push({
                            ciGender: a.gender,
                            ciEmail: a.email,
                            ciName: a.surName,
                            ciFName: a.firstName,
                            ciMobileCode: a.phoneCode1,
                            ciMobile: a.phoneNumber1
                        })
                    }), a.contacts = i;
                    var o = [];
                    a.travelerInfo && a.travelerInfo.airTravelers && angular.forEach(a.travelerInfo.airTravelers, function(e, t) {
                        var a = e,
                            n = {
                                cuPp: "Passport",
                                cuId: a.passport.passportNumber,
                                cuExpiredDate: a.passport.expiryDate,
                                cuNationality: a.passport.country,
                                type: a.passengerType,
                                cuName: a.passengerName.firstName,
                                cuFamilyName: a.passengerName.lastName,
                                cuGender: a.passengerName.title,
                                cuDob: a.dateOfBirth,
                                cuCardType: a.frequentFlyerType,
                                cuCardNo: a.frequentFlyerNumber,
                                ssrRequest: a.specialServiceRequest
                            };
                        a.specialServiceRequest && a.specialServiceRequest.ssrItems && (n.departServiceRequests = [], n.returnServiceRequests = [], angular.forEach(a.specialServiceRequest.ssrItems, function(e) {
                            if ("DEPARTURE" == e.direction) {
                                var t = e;
                                n.departServiceRequests.push(t)
                            } else if ("RETURN" == e.direction) {
                                var t = e;
                                n.returnServiceRequests.push(t)
                            }
                        })), o.push(n)
                    }), a.customers = o, a.biCompany = y.bookingModel.taxCompanyName, a.biMst = y.bookingModel.taxNumber, a.biMobile = y.bookingModel.taxAddress2, a.biAddress = y.bookingModel.taxAddress1, y.orgBookingModel = a, y.bjson.bookingInfo && (y.bjson.bookingInfo.showPayLaterOption = !1)
                } else e.log("CustomerService.getBookingByNumber Booking Empty"), n.go("user-profile-booking", {
                    tab: "tab-h"
                })
            }), a.$on("event-payment-voucher-reset", function(e, t) {
                y.bookingModel.voucher = {}
            }), a.$on("IssueTicket", function(a, i) {
                y.openLoading(), d.orderTickets(y.bookingModel, y.bjson).then(function(a) {
                    e.log("Get Flight.orderTickets()"), e.log(a), y.paymentModel.payFailed = !a.success, c.setHotelPaymentModel(y.paymentModel), t.$broadcast("event-flight-load-completed", null), n.go("hotel-booking-result/:booking_number/:params", {
                        profileBooking: y.bookingModel,
                        booking_number: g.encodeString(y.bookingModel.bookingNumber)
                    })
                }, function(a) {
                    e.log("error orderTickets"), e.log(a), y.paymentModel.payFailed = !0, c.setHotelPaymentModel(y.paymentModel), t.$broadcast("event-flight-load-completed", null), n.go("hotel-booking-result/:booking_number/:params", {
                        profileBooking: y.bookingModel,
                        booking_number: g.encodeString(y.bookingModel.bookingNumber)
                    })
                })
            }), a.$on("DoPaymentWith3DAuthConfirmation", function(t, a) {
                e.log("DoPaymentWith3DAuth - " + a), y.paymentModel.paToken = a, y.doPayment()
            }), y.doConfirm = function() {
                c.setPaymentModel(y.paymentModel), c.setBookingModel(y.bookingModel), e.log("doConfirm - PaymentOption:" + y.paymentModel.paymentOption), y.bookingModel.voucher = y.orgBookingModel.voucher, y.bookingModel.voucher && e.log("vm.bookingModel.voucher.voucherValid = " + y.bookingModel.voucher.voucherValid), y.bookingModel.voucher && y.bookingModel.voucher.voucherValid ? d.redeemVoucher(y.bookingModel).then(function(a) {
                    a.redeemValid && a.success ? (e.log("result.redeemValid = " + a.redeemValid + ", result.success = " + a.success), y.doPayment()) : (t.$broadcast("event-flight-load-completed", null), e.log("error paymentBooking"), e.log(a), y.paymentModel.payFailed = !0, c.setPaymentModel(y.paymentModel), n.go("hotel-booking-result/:booking_number/:params", {
                        profileBooking: y.bookingModel,
                        booking_number: g.encodeString(c.getBookingModel().bookingNumber),
                        params: ""
                    }))
                }, function(a) {
                    t.$broadcast("event-flight-load-completed", null), e.log("error paymentBooking"), e.log(a), y.paymentModel.payFailed = !0, c.setPaymentModel(y.paymentModel), n.go("hotel-booking-result/:booking_number/:params", {
                        profileBooking: y.bookingModel,
                        booking_number: g.encodeString(c.getBookingModel().bookingNumber),
                        params: ""
                    })
                }) : y.doPayment()
            }, y.doPayment = function() {
                "ATM_DEBIT" === y.paymentModel.paymentOption && d.gPaymentBooking(y.bookingModel, y.paymentModel, y.bjson).then(function(t) {
                    t.hasPaymentAuth && t.paymentAuthUrl ? (e.log(t.paymentAuthUrl), y.open(t.paymentAuthUrl)) : p.openHttpAlertDilalog(t)
                }, function(e) {
                    p.openHttpAlertDilalog(e)
                }), "VNPAYQR" === y.paymentModel.paymentOption && d.gPaymentBooking(y.bookingModel, y.paymentModel, y.bjson).then(function(e) {
                    vnpay.open({
                        width: 900,
                        height: 800,
                        url: e.paymentAuthUrl
                    })
                }), "VNPAYQR" !== y.paymentModel.paymentOption && "ATM_DEBIT" !== y.paymentModel.paymentOption && (y.openLoading(), d.paymentBooking(y.bookingModel, y.paymentModel, y.bjson).then(function(a) {
                    e.log("Get Hotel.paymentBooking()"), e.log(a), t.$broadcast("event-flight-load-completed", null), a.hasPaymentAuth && a.paymentAuthUrl ? (e.log(a.paymentAuthUrl), y.open3DAuth(a.paymentAuthUrl, a.paReq, a.md, a.termUrl)) : "CREDIT" === y.paymentModel.paymentOption || "BALANCE" === y.paymentModel.paymentOption ? (y.paymentModel.cardModel && y.paymentModel.cardModel.cardId == -1 && y.paymentModel.cardModel.checked && s.createCreditCards(y.paymentModel.cardModel, y.paymentModel.paToken).then(function(t) {
                        e.log("success createCreditCards")
                    }, function(t) {
                        e.log("error createCreditCards"), e.log(t)
                    }), t.$broadcast("IssueTicket", null)) : (y.paymentModel.payFailed = !a.success, c.setHotelPaymentModel(y.paymentModel), n.go("hotel-booking-result/:booking_number/:params", {
                        profileBooking: y.bookingModel,
                        booking_number: g.encodeString(y.bookingModel.bookingNumber)
                    })), y.paymentModel.paToken = null
                }, function(a) {
                    t.$broadcast("event-flight-load-completed", null), e.log("error paymentBooking"), e.log(a), y.paymentModel.payFailed = !0, c.setHotelPaymentModel(y.paymentModel), n.go("hotel-booking-result/:booking_number/:params", {
                        profileBooking: y.bookingModel,
                        booking_number: g.encodeString(y.bookingModel.bookingNumber)
                    })
                }))
            };
            var $ = null,
                w = function() {
                    $ = null
                },
                I = null,
                M = function() {
                    I = null
                };
            y.open = function(e) {
                null === $ && ($ = r.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/payment/flight.payment.external.html",
                    controller: "HotelPaymentExternalController",
                    controllerAs: "vm",
                    windowClass: "modal-window-extension",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        paymentUrl: function() {
                            return e
                        }
                    }
                }), $.result.then(w, w))
            }, y.open3DAuth = function(e, t, a, n) {
                null === I && (I = r.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/payment/flight.payment.3d.auth.external.html",
                    controller: "FlightPayment3DAuthExternalController",
                    controllerAs: "vm",
                    windowClass: "modal-window-extension",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        paymentUrl: function() {
                            return e
                        },
                        paReq: function() {
                            return t
                        },
                        md: function() {
                            return a
                        },
                        termUrl: function() {
                            return n
                        }
                    }
                }), I.result.then(M, M))
            }, y.cancel = function() {
                n.go("user-profile-booking", {
                    tab: "tab-h"
                })
            }, y.openLoading = function() {
                null === $ && ($ = r.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/flight.loading.html",
                    controller: "HotelLoadingController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }]
                    }
                }), $.result.then(w, w))
            }, y.viettelPaymentSubmit = function() {
                s.getBookingByNumber(y.bookingModel.bookingNumber).then(function(t) {
                    var a = t.bookingInfo.status;
                    "BOOKED" === a ? y.currentMerchant && "FASTGO" === y.currentMerchant ? (e.log("GOTO - booking-payment"), n.go("hotel-booking/:booking_number/:params", {
                        searchOptions: y.searchOptions,
                        searchResult: y.searchResult,
                        booking_number: g.encodeString(t.bookingNumber),
                        params: ""
                    })) : m.externalPayment(t.bookingNumber) : n.go("booking-result/:booking_number/:params", {
                        searchOptions: y.searchOptions,
                        searchResult: y.searchResult,
                        booking_number: g.encodeString(t.bookingNumber),
                        params: ""
                    })
                })
            }
        }
        angular.module("B2B2CGatewayApp").controller("ProfileBookingHotelViewController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$stateParams", "$timeout", "$uibModal", "CustomerService", "DateUtils", "DataService", "Hotel", "DialogService", "Base64", "Principal", "Flight", "$window", "$cookies", "MerchantService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r) {
            var s = this;
            s.profileModel = {};
            var l = "view";
            s.profileModel.cardMode = l, s.bookingNumbers = "", s.pnrs = "", angular.forEach(a.bookings, function(e, t) {
                s.bookingNumbers += e.bookingNumber + ", ", s.pnrs += e.bookingCode + ", "
            }), s.bookingNumbers.endsWith(", ") && (s.bookingNumbers = s.bookingNumbers.substr(0, s.bookingNumbers.length - 2)), s.pnrs.endsWith(", ") && (s.pnrs = s.pnrs.substr(0, s.pnrs.length - 2)), s.cancel = function() {
                o.dismiss("cancel")
            }, s.submit = function() {
                var e = "";
                angular.forEach(a.bookings, function(t, a) {
                    t.checked && (e += t.id + ":")
                }), r.deleteBookings(e).then(function(e) {
                    n.go("user-profile-booking", {
                        tab: a.selectedTab
                    }, {
                        reload: !0
                    })
                })
            }
        }
        angular.module("B2B2CGatewayApp").controller("ProfileBookingDeleteController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$timeout", "$uibModalInstance", "CustomerService"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p) {
            var g = this,
                u = null,
                m = function() {
                    u = null
                };
            g.airBusy = !1, g.htlBusy = !1, g.profileModel = {}, p.identity().then(function(e) {
                g.profileModel.socialUser = e.socialUser, t.log(g.profileModel.socialUser), t.log("loginuser=" + e)
            }), l.getShortProfile().then(function(e) {
                var a = e;
                l.getCustomerProfile(a.requesterId).then(function(e) {
                    t.log("spResult  = " + e), g.shortProfile = e, g.profileModel = {}, g.profileModel.phoneNumbers = [], 0 === g.profileModel.phoneNumbers.length && g.profileModel.phoneNumbers.push({
                        text: ""
                    }), g.profileModel.memberCards || (g.profileModel.memberCards = []), g.profileModel.editMemberCards = [], g.profileModel.editMemberCards.push({
                        cardType: "",
                        cardNumber: ""
                    }), g.profileModel.type = "profile", g.profileModel.mode = "view", g.shortProfile.defaultTravellerId && l.getCustomerTraveller(g.shortProfile.defaultTravellerId).then(function(e) {
                        g.profileModel = e, l.getCustomerProfileAvatar(g.shortProfile.id).then(function(e) {
                            g.profileModel.avatar = e, null !== e && "" !== e || (g.profileModel.avatar = {
                                avatarImage: null,
                                avatarImageContentType: "",
                                profileId: 0,
                                inUsed: !0,
                                createdDate: ""
                            }), g.profileModel.profileid = g.shortProfile.id
                        }), g.profileModel.phoneNumbers = [], g.profileModel.phoneNumber1 && g.profileModel.phoneNumbers.push({
                            text: g.profileModel.phoneNumber1
                        }), g.profileModel.phoneNumber2 && g.profileModel.phoneNumbers.push({
                            text: g.profileModel.phoneNumber2
                        }), g.profileModel.phoneNumber3 && g.profileModel.phoneNumbers.push({
                            text: g.profileModel.phoneNumber3
                        }), g.profileModel.phoneNumber4 && g.profileModel.phoneNumbers.push({
                            text: g.profileModel.phoneNumber4
                        }), g.profileModel.phoneNumber5 && g.profileModel.phoneNumbers.push({
                            text: g.profileModel.phoneNumber5
                        }), 0 === g.profileModel.phoneNumbers.length && g.profileModel.phoneNumbers.push({
                            text: ""
                        }), g.profileModel.memberCards || (g.profileModel.memberCards = []), g.profileModel.editMemberCards = [], g.profileModel.editMemberCards.push({
                            cardType: "",
                            cardNumber: ""
                        }), g.profileModel.type = "profile", g.profileModel.mode = "view", p.identity().then(function(e) {
                            g.profileModel.socialUser = e.socialUser, t.log("++++++++++++++++++++++++++"), t.log("vm.profileModel.socialUser =" + g.profileModel.socialUser)
                        })
                    }, function(e) {
                        t.log("+++++>> getCustomerTraveller Error: " + e)
                    }), g.profileModel.type = "profile", g.profileModel.mode = "view"
                })
            });
            var h = "view";
            g.airBookingOptions = {
                supplierType: "AIR",
                page: 0,
                links: {
                    last: 0
                }
            }, g.hotelBookingOptions = {
                supplierType: "HOTEL",
                page: 0,
                links: {
                    last: 0
                }
            }, g.selectedTab = a.tab, g.selectedTab || (g.selectedTab = "tab-a"), g.setSelectedTab = function(e) {
                g.selectedTab = e
            }, g.tabClass = function(e) {
                return g.selectedTab == e ? "active" : ""
            }, g.tabPaneClass = function(e) {
                return g.selectedTab == e ? "tab-pane active" : "tab-pane"
            }, g.airBookings = [], g.hotelBookings = [], g.profileModel.travellerMode = h, g.doAirSearch = function() {
                g.airBookingOptions.page = 0, g.airBookingOptions.links && (g.airBookingOptions.links.last = 0), g.doSearch()
            }, g.doHotelButtonSearch = function() {
                g.hotelBookingOptions.page = 0, g.hotelBookingOptions.links && (g.hotelBookingOptions.links.last = 0), g.doHotelSearch()
            }, g.doAirReset = function() {
                g.airBookingOptions = {
                    supplierType: "AIR",
                    page: 0,
                    links: {
                        last: 0
                    }
                }, $("#flightstartdate").bootstrapDP("clearDates"), g.doSearch()
            }, g.doHotelReset = function() {
                g.hotelBookingOptions = {
                    supplierType: "HOTEL",
                    page: 0,
                    links: {
                        last: 0
                    }
                }, g.doHotelSearch()
            }, g.doSearch = function(a) {
                g.airBusy || (g.airBusy = !0, a || (g.airBookings = []), l.searchBookings(g.airBookingOptions).then(function(n) {
                    t.log("Search Air Booking Result = "), t.log(n), t.log(g.airBookingOptions);
                    var i = null;
                    g.airBookings.length > 1 && (i = "air" + g.airBookings[g.airBookings.length - 1].id), g.airBookingOptions.links = n.links, g.airBookingOptions.totalItems = n.totalItems;
                    for (var r = 0; r < n.length; r++) g.airBookings.push(n[r]);
                    a && i && (t.log("searchBookings air---------lastId: " + i), e.hash(i), s(), e.hash(null)), o(function() {
                        g.airBusy = !1
                    }, 1e3)
                }))
            }, g.nextAirPage = function() {
                "tab-a" == g.selectedTab && (g.airBusy || (g.airBookingOptions.page += 1, g.doSearch(!0)))
            }, g.doHotelSearch = function(a) {
                g.htlBusy || (g.htlBusy = !0, a || (g.hotelBookings = []), l.searchBookings(g.hotelBookingOptions).then(function(n) {
                    t.log("Search Hotel Booking Result = "), t.log(n), t.log(g.hotelBookingOptions);
                    var i = null;
                    g.hotelBookings.length > 0 && (i = "htl" + g.hotelBookings[g.hotelBookings.length - 1].id), g.hotelBookingOptions.links = n.links, g.hotelBookingOptions.totalItems = n.totalItems;
                    for (var r = 0; r < n.length; r++) g.hotelBookings.push(n[r]);
                    a && i && (t.log("searchBookings hotel---------lastId: " + i), e.hash(i), s(), e.hash(null)), o(function() {
                        g.htlBusy = !1
                    }, 1e3)
                }))
            }, g.nextHotelPage = function(e) {
                "tab-h" == g.selectedTab && (g.htlBusy || (g.hotelBookingOptions.page += 1, g.doHotelSearch(!0)))
            }, g.viewAirItem = function(e) {
                var t = d.encodeString(e.bookingNumber);
                i.go("user-profile-booking-air/:booking_number/:mode", {
                    booking_number: t,
                    mode: "view"
                })
            }, g.openDeleteAirBooking = function(e, t) {
                if (n.selectedTab = g.selectedTab, t) {
                    var a = !1;
                    if (angular.forEach(g.airBookings, function(e, t) {
                            e.checked = !0, a = !0
                        }), !a) {
                        var i = {};
                        return i.title = "Error", i.message = "Bạn phải chọn bản ghi để xoá!", void c.openAlertDialog(i)
                    }
                    n.bookings = g.airBookings
                } else n.bookings = [], e.checked = !0, n.bookings.push(e);
                null === u && (u = r.open({
                    animation: !0,
                    scope: n,
                    backdrop: "static",
                    templateUrl: "app/account/profile/booking/profile.booking.delete.html",
                    controller: "ProfileBookingDeleteController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("global"), e.refresh()
                        }]
                    }
                }), u.result.then(m, m))
            }, g.viewHotelItem = function(e) {
                var t = d.encodeString(e.bookingNumber);
                "BOOKED" == e.supplierBookingStatus ? i.go("hotel-booking/:booking_number/:params", {
                    booking_number: t,
                    params: ""
                }) : i.go("user-profile-booking-htl/:booking_number/:mode", {
                    booking_number: t,
                    mode: "view"
                })
            }, g.openDeleteHotelBooking = function(e, t) {
                if (n.selectedTab = g.selectedTab, t) {
                    var a = !1;
                    if (angular.forEach(g.hotelBookings, function(e, t) {
                            e.checked = !0, a = !0
                        }), !a) {
                        var i = {};
                        return i.title = "Error", i.message = "Bạn phải chọn bản ghi để xoá!", void c.openAlertDialog(i)
                    }
                    n.bookings = g.hotelBookings
                } else n.bookings = [], e.checked = !0, n.bookings.push(e);
                null === u && (u = r.open({
                    animation: !0,
                    scope: n,
                    backdrop: "static",
                    templateUrl: "app/account/profile/booking/profile.booking.delete.html",
                    controller: "ProfileBookingDeleteController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("global"), e.refresh()
                        }]
                    }
                }), u.result.then(m, m))
            }, g.doSearch(), g.doHotelSearch()
        }
        angular.module("B2B2CGatewayApp").controller("ProfileBookingController", e), e.$inject = ["$location", "$log", "$stateParams", "$scope", "$state", "$timeout", "$uibModal", "$anchorScroll", "CustomerService", "DialogService", "Base64", "Principal"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o, r, s, l, c, d, p, g, u, m, h, v) {
            function f(t) {
                d.getViettelPaymentURL(t).then(function(e) {
                    h.location.href = e
                }, function(t) {
                    e.log("errorCallback Create viettel order")
                })
            }
            var b = this;
            b.viettelPayment = f, b.showPaymentInfo = !v.isSimpleView(), b.showProfileInfo = !v.isSimpleView(), b.merchantList = ["VIETTEL", "TIKI", "FSOFT", "TRUEMONEY", "FASTGO"], b.currentMerchant = m.get("merchant_code") || localStorage.getItem("merchant_code") || null, b.profileModel = {}, u.identity().then(function(t) {
                b.profileModel.socialUser = t.socialUser, e.log(b.profileModel.socialUser), e.log("loginuser=" + t)
            }), s.getShortProfile().then(function(t) {
                var a = t;
                s.getCustomerProfile(a.requesterId).then(function(t) {
                    e.log("spResult  = " + t), b.shortProfile = t, b.profileModel = {}, b.profileModel.phoneNumbers = [], 0 === b.profileModel.phoneNumbers.length && b.profileModel.phoneNumbers.push({
                        text: ""
                    }), b.profileModel.memberCards || (b.profileModel.memberCards = []), b.profileModel.editMemberCards = [], b.profileModel.editMemberCards.push({
                        cardType: "",
                        cardNumber: ""
                    }), b.profileModel.type = "profile", b.profileModel.mode = "view", b.shortProfile.defaultTravellerId && s.getCustomerTraveller(b.shortProfile.defaultTravellerId).then(function(t) {
                        b.profileModel = t, s.getCustomerProfileAvatar(b.shortProfile.id).then(function(e) {
                            b.profileModel.avatar = e, null !== e && "" !== e || (b.profileModel.avatar = {
                                avatarImage: null,
                                avatarImageContentType: "",
                                profileId: 0,
                                inUsed: !0,
                                createdDate: ""
                            }), b.profileModel.profileid = b.shortProfile.id
                        }), b.profileModel.phoneNumbers = [], b.profileModel.phoneNumber1 && b.profileModel.phoneNumbers.push({
                            text: b.profileModel.phoneNumber1
                        }), b.profileModel.phoneNumber2 && b.profileModel.phoneNumbers.push({
                            text: b.profileModel.phoneNumber2
                        }), b.profileModel.phoneNumber3 && b.profileModel.phoneNumbers.push({
                            text: b.profileModel.phoneNumber3
                        }), b.profileModel.phoneNumber4 && b.profileModel.phoneNumbers.push({
                            text: b.profileModel.phoneNumber4
                        }), b.profileModel.phoneNumber5 && b.profileModel.phoneNumbers.push({
                            text: b.profileModel.phoneNumber5
                        }), 0 === b.profileModel.phoneNumbers.length && b.profileModel.phoneNumbers.push({
                            text: ""
                        }), b.profileModel.memberCards || (b.profileModel.memberCards = []), b.profileModel.editMemberCards = [], b.profileModel.editMemberCards.push({
                            cardType: "",
                            cardNumber: ""
                        }), b.profileModel.type = "profile", b.profileModel.mode = "view", u.identity().then(function(t) {
                            b.profileModel.socialUser = t.socialUser, e.log("++++++++++++++++++++++++++"), e.log("vm.profileModel.socialUser =" + b.profileModel.socialUser)
                        })
                    }, function(t) {
                        e.log("+++++>> getCustomerTraveller Error: " + t)
                    }), b.profileModel.type = "profile", b.profileModel.mode = "view"
                })
            }), b.bookingModel = {}, b.returnBookingModel = {}, b.searchOptions = {}, b.paymentModel = {}, b.bookingModel.airView = !0, b.paymentModel.airView = !0, b.paymentModel.cardModel = {}, b.paymentModel.paToken = null;
            var y = g.decodeString(i.booking_number);
            e.log("ProfileBookingAirViewController - bookingNumber:" + y), s.getBookingByNumber(y).then(function(t) {
                if (e.log("CustomerService.getBooking result = "), e.log("CustomerService.getBookingByNumber result:"), e.log("data=" + t), e.log("++++++++++++++++++++++++++++"), t && t.bookingInfo) {
                    b.bjson = t, b.bookingModel = t.bookingInfo;
                    var a = t,
                        i = [];
                    a.bookingInfo && a.bookingInfo.contactInfos && angular.forEach(a.bookingInfo.contactInfos, function(e, t) {
                        var a = e;
                        i.push({
                            ciGender: a.gender,
                            ciEmail: a.email,
                            ciName: a.surName,
                            ciFName: a.firstName,
                            ciMobileCode: a.phoneCode1,
                            ciMobile: a.phoneNumber1
                        })
                    }), a.contacts = i;
                    var o = [];
                    a.travelerInfo && a.travelerInfo.airTravelers && angular.forEach(a.travelerInfo.airTravelers, function(e, t) {
                        var a = e,
                            n = {
                                cuPp: "Passport",
                                cuId: a.passport.passportNumber,
                                cuExpiredDate: a.passport.expiryDate,
                                cuNationality: a.passport.country,
                                type: a.passengerType,
                                cuName: a.passengerName.firstName,
                                cuFamilyName: a.passengerName.lastName,
                                cuGender: a.passengerName.title,
                                cuDob: a.dateOfBirth,
                                cuCardType: a.frequentFlyerType,
                                cuCardNo: a.frequentFlyerNumber,
                                ssrRequest: a.specialServiceRequest
                            };
                        a.specialServiceRequest && a.specialServiceRequest.ssrItems && (n.departServiceRequests = [], n.returnServiceRequests = [], angular.forEach(a.specialServiceRequest.ssrItems, function(e) {
                            if ("DEPARTURE" == e.direction) {
                                var t = e;
                                n.departServiceRequests.push(t)
                            } else if ("RETURN" == e.direction) {
                                var t = e;
                                n.returnServiceRequests.push(t)
                            }
                        })), o.push(n)
                    }), a.customers = o, a.biCompany = b.bookingModel.taxCompanyName, a.biMst = b.bookingModel.taxNumber, a.biMobile = b.bookingModel.taxAddress2, a.biAddress = b.bookingModel.taxAddress1, a.departPricedItinerary = a.groupPricedItineraries[0].pricedItineraries[0], a.departGroupItem = a.groupPricedItineraries[0], b.searchOptions.searchType = "oneway", a.groupPricedItineraries && a.groupPricedItineraries[1] ? (a.returnGroupItem = a.groupPricedItineraries[1], a.returnPricedItinerary = a.groupPricedItineraries[1].pricedItineraries[0], b.searchOptions.searchType = "roundtrip") : "RETURN" == a.groupPricedItineraries[0].pricedItineraries[0].directionInd && (a.returnGroupItem = a.groupPricedItineraries[0], a.returnPricedItinerary = a.groupPricedItineraries[0].pricedItineraries[0], b.searchOptions.searchType = "roundtrip"), "INTERNATIONAL" == a.departGroupItem.flightType ? (b.searchOptions.dtype = "international", b.flightModel = {}, b.bookingModel.checkIn = new Date(a.departPricedItinerary.originDestinationOptions[0].originDateTime), b.bookingModel.checkOut = new Date(a.departPricedItinerary.originDestinationOptions[0].destinationDateTime), b.bookingModel.noOfTransit = a.departPricedItinerary.originDestinationOptions[0].flightSegments.length, b.bookingModel.supplierName = a.departGroupItem.airlineName, b.bookingModel.airline = a.departGroupItem.airline, b.bookingModel.carrierNo = a.departGroupItem.fightNo, b.bookingModel.originLocationCode = a.departGroupItem.originLocationCode, b.bookingModel.destinationLocationCode = a.departGroupItem.destinationLocationCode, b.bookingModel.duration = a.departPricedItinerary.originDestinationOptions[0].journeyDuration, b.bookingModel.supplierCode = a.departPricedItinerary.airItineraryPricingInfo.fareSourceCode, b.bookingModel.cabinClassName = a.departPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName, b.bookingModel.flightIdx = 1, b.bookingModel.searchType = b.searchOptions.searchType, b.bookingModel.booking = {}, b.bookingModel.pricedItinerary = a.departPricedItinerary, b.bookingModel.flightSegments = a.departPricedItinerary.originDestinationOptions[0].flightSegments, a.returnPricedItinerary && a.returnGroupItem && (b.returnBookingModel.bookingNumber = b.bookingModel.bookingNumber, b.returnBookingModel.checkIn = new Date(a.returnPricedItinerary.originDestinationOptions[1].originDateTime), b.returnBookingModel.checkOut = new Date(a.returnPricedItinerary.originDestinationOptions[1].destinationDateTime), b.returnBookingModel.noOfTransit = a.returnPricedItinerary.originDestinationOptions[1].flightSegments.length, b.returnBookingModel.supplierName = a.returnGroupItem.airlineName, b.returnBookingModel.airline = a.returnGroupItem.airline, b.returnBookingModel.carrierNo = a.returnGroupItem.fightNo, b.returnBookingModel.originLocationCode = a.returnPricedItinerary.originDestinationOptions[1].originLocationCode, b.returnBookingModel.destinationLocationCode = a.returnPricedItinerary.originDestinationOptions[1].destinationLocationCode, b.returnBookingModel.duration = a.returnPricedItinerary.originDestinationOptions[1].journeyDuration, b.returnBookingModel.supplierCode = a.returnPricedItinerary.airItineraryPricingInfo.fareSourceCode, b.returnBookingModel.cabinClassName = a.returnPricedItinerary.originDestinationOptions[1].flightSegments[0].cabinClassName, b.returnBookingModel.flightIdx = 2, b.returnBookingModel.searchType = b.searchOptions.searchType, b.returnBookingModel.booking = {}, b.returnBookingModel.pricedItinerary = a.returnPricedItinerary, b.returnBookingModel.flightSegments = a.returnPricedItinerary.originDestinationOptions[1].flightSegments, b.returnBookingModel.passengerNameRecords = b.bookingModel.passengerNameRecords)) : (b.searchOptions.dtype = "domestic", b.bookingModel.checkIn = new Date(a.departPricedItinerary.originDestinationOptions[0].originDateTime), b.bookingModel.checkOut = new Date(a.departPricedItinerary.originDestinationOptions[0].destinationDateTime), b.bookingModel.noOfTransit = 1, b.bookingModel.supplierName = a.departGroupItem.airlineName, b.bookingModel.airline = a.departGroupItem.airline, b.bookingModel.carrierNo = a.departGroupItem.fightNo, b.bookingModel.originLocationCode = a.departGroupItem.originLocationCode, b.bookingModel.destinationLocationCode = a.departGroupItem.destinationLocationCode, b.bookingModel.duration = a.departPricedItinerary.originDestinationOptions[0].journeyDuration, b.bookingModel.supplierCode = a.departPricedItinerary.airItineraryPricingInfo.fareSourceCode, b.bookingModel.cabinClassName = a.departPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName, b.bookingModel.flightIdx = 1, b.bookingModel.searchType = b.searchOptions.searchType, b.bookingModel.booking = {}, b.bookingModel.pricedItinerary = a.departPricedItinerary, b.bookingModel.flightSegments = a.departPricedItinerary.originDestinationOptions[0].flightSegments, a.returnPricedItinerary && a.returnGroupItem && (b.returnBookingModel.bookingNumber = b.bookingModel.bookingNumber, b.returnBookingModel.checkIn = new Date(a.returnPricedItinerary.originDestinationOptions[0].originDateTime), b.returnBookingModel.checkOut = new Date(a.returnPricedItinerary.originDestinationOptions[0].destinationDateTime), b.returnBookingModel.noOfTransit = 1, b.returnBookingModel.supplierName = a.returnGroupItem.airlineName, b.returnBookingModel.airline = a.returnGroupItem.airline, b.returnBookingModel.carrierNo = a.returnGroupItem.fightNo, b.returnBookingModel.originLocationCode = a.returnGroupItem.originLocationCode, b.returnBookingModel.destinationLocationCode = a.returnGroupItem.destinationLocationCode, b.returnBookingModel.duration = a.returnPricedItinerary.originDestinationOptions[0].journeyDuration, b.returnBookingModel.supplierCode = a.returnPricedItinerary.airItineraryPricingInfo.fareSourceCode, b.returnBookingModel.cabinClassName = a.returnPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName, b.returnBookingModel.flightIdx = 2, b.returnBookingModel.searchType = b.searchOptions.searchType, b.returnBookingModel.booking = {}, b.returnBookingModel.pricedItinerary = a.returnPricedItinerary, b.returnBookingModel.flightSegments = a.returnPricedItinerary.originDestinationOptions[0].flightSegments, b.returnBookingModel.passengerNameRecords = b.bookingModel.passengerNameRecords)), b.orgBookingModel = a;
                    var r = b.orgBookingModel.departPricedItinerary.airItineraryPricingInfo.itinTotalFare,
                        s = {};
                    b.orgBookingModel.returnPricedItinerary && b.orgBookingModel.returnPricedItinerary.airItineraryPricingInfo && (s = b.orgBookingModel.returnPricedItinerary.airItineraryPricingInfo.itinTotalFare), b.orgBookingModel.departItinTotalFare = r, b.orgBookingModel.returnItinTotalFare = s, b.orgBookingModel.isPerBookingType = b.bjson.isPerBookingType, b.bjson.bookingInfo && (b.bjson.bookingInfo.showPayLaterOption = !1)
                } else e.log("CustomerService.getBookingByNumber Booking Empty"), n.go("user-profile-booking", {
                    tab: "tab-a"
                })
            }), a.$on("event-payment-voucher-reset", function(e, t) {
                b.bookingModel.voucher = {}
            }), a.$on("IssueTicket", function(a, i) {
                b.openLoading(), d.orderTickets(b.bookingModel).then(function(a) {
                    e.log("Get Flight.orderTickets()"), e.log(a), b.paymentModel.payFailed = !a.success, c.setPaymentModel(b.paymentModel), t.$broadcast("event-flight-load-completed", null), n.go("booking-result/:booking_number/:params", {
                        booking_number: g.encodeString(b.bookingModel.bookingNumber),
                        params: ""
                    })
                }, function(a) {
                    e.log("error orderTickets"), e.log(a), b.paymentModel.payFailed = !0, c.setPaymentModel(b.paymentModel), t.$broadcast("event-flight-load-completed", null), n.go("booking-result/:booking_number/:params", {
                        profileBooking: b.bookingModel,
                        booking_number: g.encodeString(b.bookingModel.bookingNumber),
                        params: ""
                    })
                })
            }), a.$on("DoPaymentWith3DAuthConfirmation", function(t, a) {
                e.log("DoPaymentWith3DAuth - " + a), b.paymentModel.paToken = a, b.doPayment()
            }), b.doConfirm = function() {
                d.externalPayment(b.bookingModel.bookingNumber)
            }, b.doPayment = function() {
                "ATM_DEBIT" === b.paymentModel.paymentOption && d.gPaymentBooking(b.bookingModel, b.paymentModel, b.bjson).then(function(t) {
                    t.hasPaymentAuth && t.paymentAuthUrl ? (e.log(t.paymentAuthUrl), b.open(t.paymentAuthUrl)) : p.openHttpAlertDilalog(t)
                }, function(e) {
                    p.openHttpAlertDilalog(e)
                }), "VNPAYQR" === b.paymentModel.paymentOption && d.gPaymentBooking(b.bookingModel, b.paymentModel, b.bjson).then(function(e) {
                    vnpay.open({
                        width: 900,
                        height: 800,
                        url: e.paymentAuthUrl
                    })
                }), "VNPAYQR" !== b.paymentModel.paymentOption && "ATM_DEBIT" !== b.paymentModel.paymentOption && (b.openLoading(), d.paymentBooking(b.bookingModel, b.paymentModel, b.bjson).then(function(a) {
                    e.log("Get Flight.paymentBooking()"), e.log(a), t.$broadcast("event-flight-load-completed", null), a.hasPaymentAuth && a.paymentAuthUrl ? (e.log(a.paymentAuthUrl), b.open3DAuth(a.paymentAuthUrl, a.paReq, a.md, a.termUrl)) : "CREDIT" === b.paymentModel.paymentOption || "BALANCE" === b.paymentModel.paymentOption ? (b.paymentModel.cardModel && b.paymentModel.cardModel.cardId == -1 && b.paymentModel.cardModel.checked && s.createCreditCards(b.paymentModel.cardModel, b.paymentModel.paToken).then(function(t) {
                        e.log("success createCreditCards")
                    }, function(t) {
                        e.log("error createCreditCards"), e.log(t)
                    }), t.$broadcast("IssueTicket", null)) : (b.paymentModel.payFailed = !a.success, c.setPaymentModel(b.paymentModel), n.go("booking-result/:booking_number/:params", {
                        profileBooking: b.bookingModel,
                        booking_number: g.encodeString(b.bookingModel.bookingNumber),
                        params: ""
                    })), b.paymentModel.paToken = null
                }, function(a) {
                    t.$broadcast("event-flight-load-completed", null), e.log("error paymentBooking"), e.log(a), b.paymentModel.payFailed = !0, c.setPaymentModel(b.paymentModel), n.go("booking-result/:booking_number/:params", {
                        profileBooking: b.bookingModel,
                        booking_number: g.encodeString(b.bookingModel.bookingNumber),
                        params: ""
                    })
                }))
            }, b.viettelPaymentSubmit = function() {
                s.getBookingByNumber(b.bookingModel.bookingNumber).then(function(t) {
                    var a = t.bookingInfo.status;
                    "BOOKED" === a ? b.currentMerchant && "FASTGO" === b.currentMerchant ? (e.log("GOTO - booking-payment"), n.go("booking-payment/:booking_number/:params", {
                        searchOptions: b.searchOptions,
                        searchResult: b.searchResult,
                        booking_number: g.encodeString(t.bookingNumber),
                        params: ""
                    })) : d.externalPayment(t.bookingNumber) : n.go("booking-result/:booking_number/:params", {
                        searchOptions: b.searchOptions,
                        searchResult: b.searchResult,
                        booking_number: g.encodeString(t.bookingNumber),
                        params: ""
                    })
                })
            };
            var k = null,
                $ = function() {
                    k = null
                },
                w = null,
                I = function() {
                    w = null
                };
            b.open = function(e) {
                null === k && (k = r.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/payment/flight.payment.external.html",
                    controller: "FlightPaymentExternalController",
                    controllerAs: "vm",
                    windowClass: "modal-window-extension",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        paymentUrl: function() {
                            return e
                        }
                    }
                }), k.result.then($, $))
            }, b.open3DAuth = function(e, t, a, n) {
                null === w && (w = r.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/payment/flight.payment.3d.auth.external.html",
                    controller: "FlightPayment3DAuthExternalController",
                    controllerAs: "vm",
                    windowClass: "modal-window-extension",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }],
                        paymentUrl: function() {
                            return e
                        },
                        paReq: function() {
                            return t
                        },
                        md: function() {
                            return a
                        },
                        termUrl: function() {
                            return n
                        }
                    }
                }), w.result.then(I, I))
            }, b.cancel = function() {
                n.go("user-profile-booking", {
                    tab: "tab-a"
                })
            }, b.openLoading = function() {
                null === k && (k = r.open({
                    animation: !0,
                    backdrop: "static",
                    templateUrl: "app/flights/flight.loading.html",
                    controller: "FlightLoadingController",
                    controllerAs: "vm",
                    resolve: {
                        translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                            return t.addPart("flight"), e.refresh()
                        }]
                    }
                }), k.result.then($, $))
            }
        }
        angular.module("B2B2CGatewayApp").controller("ProfileBookingAirViewController", e), e.$inject = ["$log", "$rootScope", "$scope", "$state", "$stateParams", "$timeout", "$uibModal", "CustomerService", "DateUtils", "DataService", "Flight", "DialogService", "Base64", "Principal", "$cookies", "$window", "MerchantService"]
    }(),
    function() {
        "use strict";

        function e() {
            function e(e, t) {
                var a = {
                    colors: ["#F00", "#F90", "#FF0", "#9F0", "#0F0"],
                    mesureStrength: function(e) {
                        var t = 0,
                            a = /[$-\/:-?{-~!"^_`\[\]]/g,
                            n = /[a-z]+/.test(e),
                            i = /[A-Z]+/.test(e),
                            o = /[0-9]+/.test(e),
                            r = a.test(e),
                            s = [n, i, o, r],
                            l = $.grep(s, function(e) {
                                return e === !0
                            }).length;
                        return t += 2 * e.length + (e.length >= 10 ? 1 : 0), t += 10 * l, t = e.length <= 6 ? Math.min(t, 10) : t, t = 1 === l ? Math.min(t, 10) : t, t = 2 === l ? Math.min(t, 20) : t, t = 3 === l ? Math.min(t, 40) : t
                    },
                    getColor: function(e) {
                        var t;
                        return t = e <= 10 ? 0 : e <= 20 ? 1 : e <= 30 ? 2 : e <= 40 ? 3 : 4, {
                            idx: t + 1,
                            col: this.colors[t]
                        }
                    }
                };
                e.$watch("passwordToCheck", function(e) {
                    if (e) {
                        var n = a.getColor(a.mesureStrength(e));
                        t.removeClass("ng-hide"), t.find("ul").children("li").css({
                            "background-color": "#DDD"
                        }).slice(0, n.idx).css({
                            "background-color": n.col
                        })
                    }
                })
            }
            var t = {
                replace: !0,
                restrict: "E",
                template: '<div id="strength"><small data-translate="global.messages.validate.newpassword.strength">Password strength:</small><ul id="strengthBar"><li class="point"></li><li class="point"></li><li class="point"></li><li class="point"></li><li class="point"></li></ul></div>',
                scope: {
                    passwordToCheck: "="
                },
                link: e
            };
            return t
        }
        angular.module("B2B2CGatewayApp").directive("passwordStrengthBar", e)
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("password", {
                parent: "account",
                url: "/password",
                data: {
                    authorities: ["ROLE_USER"],
                    pageTitle: "global.menu.account.password"
                },
                views: {
                    "content@": {
                        templateUrl: "app/account/password/password.html",
                        controller: "PasswordController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    PreviousState: ["$state", function(e) {
                        var t = {
                            Name: e.current.name,
                            Params: e.params,
                            URL: e.href(e.current.name, e.params)
                        };
                        return t
                    }],
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("password"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            function r() {
                l.password == l.oldPassword ? (l.error = null, l.success = null, l.doNotMatch = null, l.samePassword = "ERROR") : l.password !== l.confirmPassword ? (l.error = null, l.success = null, l.samePassword = null, l.doNotMatch = "ERROR") : (l.doNotMatch = null, l.samePassword = null, a.changePassword(l.oldPassword, l.password).then(function() {
                    l.error = null, l.success = "OK"
                }).catch(function() {
                    l.success = null, l.error = "ERROR"
                }))
            }

            function s() {
                t.go(o.Name, o.params)
            }
            var l = this;
            l.passwordpattern = /((?=.*\d)(?=.*[a-zA-Z]).{8,})/, l.changePassword = r, l.doNotMatch = null, l.samePassword = null, l.error = null, l.success = null, l.login = i.open, l.cancel = s, n.identity().then(function(e) {
                l.account = e
            })
        }
        angular.module("B2B2CGatewayApp").controller("PasswordController", e), e.$inject = ["$log", "$state", "Auth", "Principal", "LoginService", "PreviousState"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n, i, o) {
            function r() {
                s.password == s.oldPassword ? (s.error = null, s.success = null, s.doNotMatch = null, s.samePassword = "ERROR") : s.password !== s.confirmPassword ? (s.error = null, s.success = null, s.samePassword = null, s.doNotMatch = "ERROR") : (s.doNotMatch = null, s.samePassword = null, a.changePassword(s.oldPassword, s.password).then(function() {
                    s.error = null, s.success = "OK"
                }).catch(function() {
                    s.success = null, s.error = "ERROR"
                }))
            }
            var s = this;
            s.passwordpattern = /((?=.*\d)(?=.*[a-zA-Z]).{8,})/, s.changePassword = r, s.doNotMatch = null, s.samePassword = null, s.error = null, s.success = null, s.login = function() {
                t.dismiss("cancel"), i.open()
            }, n.identity().then(function(e) {
                s.account = e
            }), s.cancel = function() {
                t.dismiss("cancel")
            }
        }
        angular.module("B2B2CGatewayApp").controller("PasswordDialogController", e), e.$inject = ["$log", "$uibModalInstance", "Auth", "Principal", "LoginService", "DialogService"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("activate", {
                parent: "account",
                url: "/activate?key",
                data: {
                    authorities: [],
                    pageTitle: "activate.title"
                },
                views: {
                    "content@": {
                        templateUrl: "app/account/activate/activate.html",
                        controller: "ActivationController",
                        controllerAs: "vm"
                    }
                },
                resolve: {
                    translatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("activate"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        "use strict";

        function e(e, t, a, n) {
            var i = this;
            a.activateAccount({
                key: t.key
            }).then(function() {
                i.error = null, i.success = "OK"
            }).catch(function() {
                i.success = null, i.error = "ERROR"
            }), i.login = n.open
        }
        angular.module("B2B2CGatewayApp").controller("ActivationController", e), e.$inject = ["$log", "$stateParams", "Auth", "LoginService"]
    }(),
    function() {
        "use strict";

        function e(e) {
            e.state("account", {
                abstract: !0,
                parent: "app",
                resolve: {
                    mainTranslatePartialLoader: ["$translate", "$translatePartialLoader", function(e, t) {
                        return t.addPart("global"), e.refresh()
                    }]
                }
            })
        }
        angular.module("B2B2CGatewayApp").config(e), e.$inject = ["$stateProvider"]
    }(),
    function() {
        angular.module("B2B2CGatewayApp").run(["$templateCache", function(e) {
            e.put("app/blank/blank.html", '<div ng-cloak><div class="row"><div class="col-md-4"><span class="hipster img-responsive img-rounded"></span></div><div class="col-md-8"><h1>BLANK PAGE</h1></div></div></div>'), e.put("app/dialogs/alert.dialog.html", '<div class="portlet delete-card-dialog light no-border"><div class="portlet-title"><div class="caption"><span class="caption-subject bold text-gtd-3 uppercase">{{vm.error.title}}</span></div></div><div class="portlet-body"><div class="content"><span>{{vm.error.message}}</span></div><div class="buttons-actions"><div class="btn btn-green" ng-click="vm.cancel()"><span class="uppercase">OK</span></div></div></div></div>'), e.put("app/dialogs/b2b2c.dialog.html", '<div class="portlet new-gtd-dialog delete-card-dialog no-border"><div class="portlet-title"><div class="caption"><span class="fa fa-info-circle gtd-h1 info-icon"></span> <span class="caption-subject bold uppercase gtd-h4" data-translate="dialog.b2b2c.title">Thông Báo</span></div></div><div class="portlet-body"><div class="content"><span data-translate="dialog.b2b2c.message">Phiên làm việc của bạn đã kết thúc. Mời bạn quay lại B2B để sử dụng chức năng này.</span></div><div class="buttons-actions"><div class="btn btn-green gtd-btn-medium" style="padding-top: 9px" ng-click="vm.cancel()"><span class="uppercase">OK</span></div></div></div></div>'), e.put("app/dialogs/merchant.alert.dialog.html", '<div class="portlet light no-border"><div class="portlet-title"><div class="caption"><span class="caption-subject bold text-gtd-3 uppercase">{{vm.error.title}}</span></div></div><div class="portlet-body"><div class="content"><span>{{vm.error.message}}</span></div></div></div>'), e.put("app/dialogs/otp.popup.html", '<div data-backdrop="static" data-keyboard="false" class="modal-content"><div class="portlet delete-card-dialog light no-border ng-scope"><div class="portlet-title"><div class="caption"><span class="caption-subject bold text-gtd-3 uppercase ng-binding" data-translate="flight.otp.accuracy"></span></div></div><div dismiss-on-timeout="10000" ng-show="alerts[0].msg" class="portlet-body"><div class="content"><div class="captionText messageError"><div ng-repeat="alert in alerts">{{alert.msg}}</div></div></div><div class="row text-center" ng-show="alerts[0] && alerts[0].type == \'noValidPhone\'"><div class="btnVerify btn btn-green" ng-click="doBack()" role="button"><span class="uppercase" data-translate="flight.otp.changePhone"></span></div><div class="btnCancel btn btn-danger" ng-click="cancel()" role="button"><span class="uppercase" data-translate="flight.otp.cancel"></span></div></div></div><div ng-hide="!showDiv"><div ng-hide="verificationCode.length > 0" class="portlet-body"><div class="content"><div class="captionText"><span data-translate="flight.otp.captionText"></span></div></div><div class="row text-center"><div class="btnVerify btn btn-green" ng-click="getOTP()" role="button"><span class="uppercase" data-translate="flight.otp.getOtp"></span></div><div class="btnCancel btn btn-danger" ng-click="cancel()" role="button"><span class="uppercase" data-translate="flight.otp.cancel"></span></div></div></div><div ng-hide="verificationCode.length == 0" class="portlet-body"><div class="content"><span style="font-weight: bold"><span data-translate="flight.otp.sendToPhone"></span> {{phoneNumber}}</span><br><span data-translate="flight.otp.inputToField"></span><p><span data-translate="flight.otp.note"></span> <span style="font-weight: bold">{{timeOut}} </span><span data-translate="flight.otp.seconds"></span></p><div class="otp-container"><input class="otpVal" oninput="inputInsideOtpInput(this)" maxlength="1" type="number"> <input class="otpVal" oninput="inputInsideOtpInput(this)" maxlength="1" type="number"> <input class="otpVal" oninput="inputInsideOtpInput(this)" maxlength="1" type="number"> <input class="otpVal" oninput="inputInsideOtpInput(this)" maxlength="1" type="number"> <input class="otpVal" oninput="inputInsideOtpInput(this)" maxlength="1" type="number"> <input class="otpVal" oninput="inputInsideOtpInput(this)" maxlength="1" type="number"></div><input type="hidden" name="otp" ng-model="otpCode" required></div><div dismiss-on-timeout="10000" class="alert-danger errorMessageOtp" data-translate="flight.otp.errorMessageOtp"></div><div class="buttons-actions row text-center"><div class="btn btn-green btnVerify" ng-click="verify()" role="button"><span class="uppercase">OK</span></div><div class="btnCancel btn btn-danger" ng-click="cancel()" role="button"><span class="uppercase" data-translate="flight.otp.cancel"></span></div></div></div><script>function inputInsideOtpInput(el) {\n                    if (el.value.length > 1){\n                        el.value = el.value[el.value.length - 1];\n                    }\n                    try {\n                        if(el.value == null || el.value == ""){\n                            this.foucusOnInput(el.previousElementSibling);\n                        }else {\n                            this.foucusOnInput(el.nextElementSibling);\n                        }\n                    }catch (e) {\n                        console.log(e);\n                    }\n                }\n\n                function foucusOnInput(ele){\n                    if(ele != null) {\n                        ele.focus();\n                        var val = ele.value;\n                        ele.value = val;\n                    }\n                }</script></div></div></div>'), e.put("app/dialogs/payoo-popup.html", '<div class="portlet delete-card-dialog light no-border ng-scope"><div class="portlet-title"><div class="form-group heading-payoo"><div class="logo-gtd"><img src="../../content/images/logo-2c8ae728c7.png" style="width: 150px"></div><div class="logo-payoo"><img src="../../content/images/payoo-logo-bc8dc46345.jpeg" style="width: 100px; height: 100%"></div><div class="portlet-title"><span data-translate="payoo.title"></span></div></div></div><div class="portlet-body body-payoo"><div class="content"><p><span data-translate="payoo.payment"></span></p><p><span data-translate="payoo.body"></span></p><div class="infoBillCode"><span data-translate="payoo.paymentInfo"></span><span class="billingCode">{{billingCode}}</span></div><p><span data-translate="payoo.lstStore"></span></p><iframe src="https://payoo.vn/v2/merchants/logo_shop_paylater.php" frameborder="0" width="100%" class="partner" scrolling="no" style="overflow:hidden"></iframe></div><div class="buttons-actions"><span><span data-translate="payoo.findStore"></span><a href="https://www.payoo.vn/mapv2/index.php?verify=true" target="_blank"><span data-translate="payoo.linkStore"></span></a></span><div class="btn btn-green pull-right" ng-click="vm.closePayoo()" role="button" tabindex="0"><span class="uppercase ng-scope" data-translate="payoo.buttonAccept"></span></div></div></div></div>'), e.put("app/dialogs/timeout.dialog.html", '<div class="portlet new-gtd-dialog delete-card-dialog no-border"><div class="portlet-title"><div class="caption"><span class="fa fa-info-circle gtd-h1 info-icon"></span> <span class="caption-subject bold uppercase gtd-h4">{{vm.error.title}}</span></div></div><div class="portlet-body"><div class="content"><span>{{vm.error.message}}</span></div><div class="buttons-actions"><div class="btn btn-green gtd-btn-medium" style="padding-top: 9px" ng-click="vm.cancel()"><span class="uppercase">OK</span></div></div></div></div>'), e.put("app/flights/flight.loading.html", '<div class="flight-search-loading"><div class="modal-body"><div class="row" ng-switch="vm.searchOptions.searchType == \'roundtrip\'"><div class="col-md-12"><span class="flight-search-loading-title" style="font-size: 14px" data-translate="flight.loadingprocess">Yêu cầu của quý khách đang được xử lý. Vui lòng không đóng cửa sổ trình duyệt.</span><div class="progress-bar-wapper"><div class="progress"><div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="{{vm.progress}}" aria-valuemin="0" aria-valuemax="100" ng-style="{\'width\':vm.progress+\'%\'}"></div></div></div></div></div></div></div>'), e.put("app/home/error-partner.html", '<style>/*\nVIEW IN FULL SCREEN MODE\nFULL SCREEN MODE: http://salehriaz.com/404Page/404.html\n\nDRIBBBLE: https://dribbble.com/shots/4330167-404-Page-Lost-In-Space\n*/\n\n    /* @import url("https://fonts.googleapis.com/css?family=Dosis:300,400,500"); */\n\n    @-moz-keyframes rocket-movement {\n        100% {\n            -moz-transform: translate(1200px, -600px);\n        }\n    }\n    @-webkit-keyframes rocket-movement {\n        100% {\n            -webkit-transform: translate(1200px, -600px);\n        }\n    }\n    @keyframes rocket-movement {\n        100% {\n            transform: translate(1200px, -600px);\n        }\n    }\n    @-moz-keyframes spin-earth {\n        100% {\n            -moz-transform: rotate(-360deg);\n            transition: transform 20s;\n        }\n    }\n    @-webkit-keyframes spin-earth {\n        100% {\n            -webkit-transform: rotate(-360deg);\n            transition: transform 20s;\n        }\n    }\n    @keyframes spin-earth {\n        100% {\n            -webkit-transform: rotate(-360deg);\n            transform: rotate(-360deg);\n            transition: transform 20s;\n        }\n    }\n\n    @-moz-keyframes move-astronaut {\n        100% {\n            -moz-transform: translate(-160px, -160px);\n        }\n    }\n    @-webkit-keyframes move-astronaut {\n        100% {\n            -webkit-transform: translate(-160px, -160px);\n        }\n    }\n    @keyframes move-astronaut {\n        100% {\n            -webkit-transform: translate(-160px, -160px);\n            transform: translate(-160px, -160px);\n        }\n    }\n    @-moz-keyframes rotate-astronaut {\n        100% {\n            -moz-transform: rotate(-720deg);\n        }\n    }\n    @-webkit-keyframes rotate-astronaut {\n        100% {\n            -webkit-transform: rotate(-720deg);\n        }\n    }\n    @keyframes rotate-astronaut {\n        100% {\n            -webkit-transform: rotate(-720deg);\n            transform: rotate(-720deg);\n        }\n    }\n\n    @-moz-keyframes glow-star {\n        40% {\n            -moz-opacity: 0.3;\n        }\n        90%,\n        100% {\n            -moz-opacity: 1;\n            -moz-transform: scale(1.2);\n        }\n    }\n    @-webkit-keyframes glow-star {\n        40% {\n            -webkit-opacity: 0.3;\n        }\n        90%,\n        100% {\n            -webkit-opacity: 1;\n            -webkit-transform: scale(1.2);\n        }\n    }\n    @keyframes glow-star {\n        40% {\n            -webkit-opacity: 0.3;\n            opacity: 0.3;\n        }\n        90%,\n        100% {\n            -webkit-opacity: 1;\n            opacity: 1;\n            -webkit-transform: scale(1.2);\n            transform: scale(1.2);\n            border-radius: 999999px;\n        }\n    }\n\n    .spin-earth-on-hover {\n        transition: ease 200s !important;\n        transform: rotate(-3600deg) !important;\n    }\n\n    html,\n    body {\n        margin: 0;\n        width: 100%;\n        height: 100%;\n        font-family: "Dosis", sans-serif;\n        font-weight: 300;\n        -webkit-user-select: none; /* Safari 3.1+ */\n        -moz-user-select: none; /* Firefox 2+ */\n        -ms-user-select: none; /* IE 10+ */\n        user-select: none; /* Standard syntax */\n    }\n\n    .background-error {\n        background: url(../../content/images/error-page/bg_purple-acc0d646ee.png);\n        background-repeat: repeat-x;\n        background-size: cover;\n        background-position: left top;\n        height: 100%;\n        width: 100%;\n        overflow: hidden;\n        position: fixed;\n    }\n    .error-title {\n        z-index: 200;\n        color: #ffcb39;\n        font-weight: bold;\n        font-size: 4rem;\n        line-height: 4rem;\n        position: relative;\n        padding: 0.5rem;\n        text-shadow: 2px 2px 6px #ce5937;\n    }\n\n    .error-subtitle {\n        z-index: 200;\n        color: #ffcb39;\n        font-size: 2rem;\n        line-height: 2rem;\n        position: relative;\n        padding-bottom: 1rem;\n        text-shadow: 2px 2px 6px #ce5937;\n    }\n\n    .error-description {\n        z-index: 200;\n        color: #fff;\n        font-size: 1rem;\n        line-height: 1rem;\n        position: relative;\n        text-shadow: 2px 2px 6px #ce5937;\n    }\n    .central-body {\n        /*    width: 100%;*/\n        margin: 17% 5% 10% 5%;\n        text-align: center;\n        /* background-color: #ffffff80; */\n        padding: 0.5rem;\n        position: relative;\n        z-index: 100;\n        border-radius: 1%;\n    }\n\n    .objects img {\n        z-index: 90;\n        pointer-events: none;\n    }\n\n    .object_rocket {\n        z-index: 95;\n        position: absolute;\n        transform: translateX(-50px);\n        top: 75%;\n        pointer-events: none;\n        animation: rocket-movement 200s linear infinite both running;\n    }\n\n    .object_earth {\n        position: absolute;\n        top: 20%;\n        left: 15%;\n        z-index: 90;\n        /*    animation: spin-earth 100s infinite linear both;*/\n    }\n\n    .object_moon {\n        position: absolute;\n        top: 12%;\n        left: 25%;\n        /*\n    transform: rotate(0deg);\n    transition: transform ease-in 99999999999s;\n*/\n    }\n\n    .earth-moon {\n    }\n\n    .object_astronaut {\n        animation: rotate-astronaut 200s infinite linear both alternate;\n    }\n\n    .box_astronaut {\n        z-index: 110 !important;\n        position: absolute;\n        top: 60%;\n        right: 20%;\n        will-change: transform;\n        animation: move-astronaut 50s infinite linear both alternate;\n    }\n\n    .image-404 {\n        position: relative;\n        z-index: 100;\n        pointer-events: none;\n    }\n\n    .stars {\n        background: url(../../content/images/error-page/overlay_stars-ddab72f7b7.svg);\n        background-repeat: repeat;\n        background-size: contain;\n        background-position: left top;\n    }\n\n    .glowing_stars .star {\n        position: absolute;\n        border-radius: 100%;\n        background-color: #fff;\n        width: 3px;\n        height: 3px;\n        opacity: 0.3;\n        will-change: opacity;\n    }\n\n    .glowing_stars .star:nth-child(1) {\n        top: 80%;\n        left: 25%;\n        animation: glow-star 2s infinite ease-in-out alternate 1s;\n    }\n    .glowing_stars .star:nth-child(2) {\n        top: 20%;\n        left: 40%;\n        animation: glow-star 2s infinite ease-in-out alternate 3s;\n    }\n    .glowing_stars .star:nth-child(3) {\n        top: 25%;\n        left: 25%;\n        animation: glow-star 2s infinite ease-in-out alternate 5s;\n    }\n    .glowing_stars .star:nth-child(4) {\n        top: 75%;\n        left: 80%;\n        animation: glow-star 2s infinite ease-in-out alternate 7s;\n    }\n    .glowing_stars .star:nth-child(5) {\n        top: 90%;\n        left: 50%;\n        animation: glow-star 2s infinite ease-in-out alternate 9s;\n    }\n\n    @media only screen and (max-width: 600px) {\n        .box_astronaut {\n            top: 70%;\n        }\n\n        .central-body {\n            margin-top: 25%;\n        }\n    }</style><!--\nVIEW IN FULL SCREEN MODE\nFULL SCREEN MODE: http://salehriaz.com/404Page/404.html\n\nDRIBBBLE: https://dribbble.com/shots/4330167-404-Page-Lost-In-Space\n--><div class="background-error"><div class="stars"><div class="central-body"><!-- <img class="image-404" src="../../../content/images/error-page/404-5f696d5e5f.svg" width="300px"> --><div class="error-title">Opps!.......</div><div class="error-subtitle">Lạc đường rồi!</div><div class="error-description"></div><!-- <a href="http://salehriaz.com/404Page/404.html" class="btn-go-home" target="_blank">GO BACK HOME</a> --></div><div class="objects"><img class="object_rocket" src="../../../content/images/error-page/rocket-0895e43d9d.svg" width="40px"><div class="earth-moon"><img class="object_earth" src="../../../content/images/error-page/earth-838c072483.svg" width="100px"> <img class="object_moon" src="../../../content/images/error-page/moon-4ff405bd89.svg" width="80px"></div><div class="box_astronaut"><img class="object_astronaut" src="../../../content/images/error-page/astronaut-9a813d108c.svg" width="140px"></div></div><div class="glowing_stars"><div class="star"></div><div class="star"></div><div class="star"></div><div class="star"></div><div class="star"></div></div></div></div>'), e.put("app/home/fastgo_home.html", '<div class="formSearch"><div class="container reset-container home"><div class="flight-search-home"><div class="tab-content"><div class="tab-pane active" id="flight"><div class="row" ng-if="!vm.enable_template"><div class="col-md-7"><div class="mainFormSearch"><gtd-flight-home-search-header search-options="vm.searchOptions" do-search="vm.doSearchFlight($searchResult, $searchOptions)"></gtd-flight-home-search-header></div></div></div><div ng-if="vm.enable_template" class="mainFormSearch"><gtd-flight-home-search-header search-options="vm.searchOptions" do-search="vm.doSearchFlight($searchResult, $searchOptions)"></gtd-flight-home-search-header></div></div><div class="tab-pane" id="hotel"><div class="row" ng-if="!vm.enable_template"><div class="col-md-8"><gtd-hotel-home-search-header search-options="vm.hotelSearchOptions" do-search="vm.doSearchHotel($searchResult, $searchOptions)"></gtd-hotel-home-search-header></div></div><div ng-if="vm.enable_template" class="mainFormSearch"><gtd-hotel-home-search-header search-options="vm.hotelSearchOptions" do-search="vm.doSearchHotel($searchResult, $searchOptions)"></gtd-hotel-home-search-header></div></div></div></div></div></div>'), e.put("app/home/home.html", '<div class="formSearch"><div class="container reset-container home"><div class="flight-search-home"><div class="tab-content"><div class="tab-pane active" id="flight"><div class="row" ng-if="!vm.enable_template"><div class="col-md-7"><div class="mainFormSearch"><gtd-flight-home-search-header search-options="vm.searchOptions" do-search="vm.doSearchFlight($searchResult, $searchOptions)"></gtd-flight-home-search-header></div></div><div class="col-md-5 hidden-sm hidden-xs"><div class="hotel-header-ads porlet"><div class="listSliderHome"><div class="groupSlider"><div id="slider1_container"><div id="slider_content" class="uSlider" u="slides"></div><div u="navigator" class="jssorb13"><div u="prototype"></div></div></div></div></div></div></div></div><div ng-if="vm.enable_template" class="mainFormSearch"><gtd-flight-home-search-header search-options="vm.searchOptions" do-search="vm.doSearchFlight($searchResult, $searchOptions)"></gtd-flight-home-search-header></div></div><div class="tab-pane" id="hotel"><div class="row" ng-if="!vm.enable_template"><div class="col-md-8"><gtd-hotel-home-search-header search-options="vm.hotelSearchOptions" do-search="vm.doSearchHotel($searchResult, $searchOptions)"></gtd-hotel-home-search-header></div><div class="col-md-4"><div class="hotel-header-ads porlet"><div class="listSliderHome"><div class="groupSlider"><div id="slider1_container"><div id="slider_content" class="uSlider" u="slides"></div><div u="navigator" class="jssorb13"><div u="prototype"></div></div></div></div></div></div></div></div><div ng-if="vm.enable_template" class="mainFormSearch"><gtd-hotel-home-search-header search-options="vm.hotelSearchOptions" do-search="vm.doSearchHotel($searchResult, $searchOptions)"></gtd-hotel-home-search-header></div></div></div></div></div></div><div class="mainPage" ng-if="!vm.enable_template"><div class="container reset-container"><div class="flight-search-home"><div class="row"><div class="col-md-12 hotel-header-carousel"><div class="listCaption"><div class="item"><div class="icon"><img src="../../../content/images/icon-sellingpoint-f30f2305a9.svg" class="img-responsive"></div><div class="content-zone"><div class="title">{{\'home.bestprice\' |translate}}</div><div class="content">{{\'home.allservice\' |translate}}</div></div></div><div class="item"><div class="icon"><img src="../../../content/images/icon-ho-tro-28cacfe1b6.svg" class="img-responsive"></div><div class="content-zone"><div class="title">{{\'home.care\' |translate}}</div><div class="content">{{\'home.callcenter\' |translate}}</div></div></div><div class="item"><div class="icon"><img src="../../../content/images/icon-thue-98910399dd.svg" class="img-responsive"></div><div class="content-zone"><div class="title">{{\'home.vat\' |translate}}</div><div class="content">{{\'home.vat2\' |translate}}</div></div></div></div></div></div></div></div><div class="subscrice"><div class="container reset-container"><div class="imgApp"><img src="../../../content/images/3caidt-bdcd1ba776.png" class="img-responsive"></div><div class="row"><div class="col-md-4"></div><div class="col-md-6"><div class="form-subscrice"><div class="form-group"><div class="email"><label for="email">{{\'home.app1\' |translate}}</label><input type="text" class="form-text" placeholder="{{\'home.plchdr.entermail\'|translate}}" id="email"><div class="send"><button class="btnSend" ng-click="subscriceEmail()"><i class="fa fa-envelope"></i> &nbsp; {{\'home.send\' |translate}}</button></div></div><div class="messageResult"></div></div><div class="downApp"><div class="name-tk">{{\'home.app2\' |translate}}</div><div class="icon-store"><a href="https://itunes.apple.com/us/app/gotadi-flight-booking/id1234937358?mt=8" target="_blank"><img src="../../../content/images/app-store-dadf47fbf2.jpg" class="img-responsive"></a></div><div class="icon-store"><a href="https://play.google.com/store/apps/details?id=com.vn.gotadi.mobileapp" target="_blank"><img src="../../../content/images/google-play-0e38f765bc.jpg" class="img-responsive"></a></div></div></div></div></div></div></div><div class="member-benefits"><div class="container"><div class="litsBenefits"><div class="heading-name">{{\'home.benefit\' |translate}}</div><div class="row"><div class="col-md-4"><div class="item"><div class="name">{{\'home.price1\' |translate}}</div><div class="iconBf"><img class="header-icon" src="../../../content/images/icon-price-good-b595ddbb6a.svg"></div><p>{{\'home.price2\' |translate}}</p></div></div><div class="col-md-4"><div class="item"><div class="name">{{\'home.deal1\' |translate}}</div><div class="iconBf"><img class="header-icon" src="../../../content/images/icon-uu-dai-0462579f0b.svg"></div><p>{{\'home.deal2\' |translate}}</p></div></div><div class="col-md-4"><div class="item"><div class="name">{{\'home.point1\' |translate}}</div><div class="iconBf"><img class="header-icon" src="../../../content/images/icon-tichluydiem-fa8faf44b0.svg"></div><p>{{\'home.point2\' |translate}}</p></div></div></div></div></div></div><div class="partner"><div class="container"><div class="heading-name">{{\'home.partner\' |translate}}</div><div class="listPartner"><div id="partner-carousel" class="partner-carousel owl-carousel owl-theme col-md-12 no-padding-left no-padding-right"><div class="item"><div class="item-icon"><img src="../../../content/images/partner/logobankplus1-17d72122c9.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/partner/TIKI-ac2cc12c28.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/partner/LOGO-VIB-Blue-6bb2cebdea.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/partner/zalopay-ba7ced3115.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/partner/logo-viviet-d6c572b9c1.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/partner/momo-1c643bb4cb.png" class="img-responsive"></div></div></div></div></div><script type="text/javascript">$("#partner-carousel").owlCarousel({\n                autoPlay: 3000, //Set AutoPlay to 3 seconds\n                items: 6,\n                nav: false,\n                dots: false,\n                responsive : {\n                    280 : { items : 3, dots: true },\n                    480 : { items : 4, dots: true },\n                    768 : { items : 5, dots: true  },\n                    991 : { items : 6, dots: true  },\n                }\n            });</script></div><div class="trademark"><div class="container"><div class="heading-name">{{\'home.brands\' |translate}}</div><div class="listTrademark"><div id="trademark-carousel" class="trademark-carousel owl-carousel owl-theme col-md-12 no-padding-left no-padding-right"><div class="item"><div class="item-icon"><img src="../../../content/images/trademark/acprail-362180dfbf.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/trademark/jeju-ccfe5e8990.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/trademark/k6-550c9cb366.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/trademark/hawai-db74dbeb9c.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/trademark/tk-34e8fa4002.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/trademark/db-6ae5916806.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/trademark/goodwill-e4348ffdf4.png" class="img-responsive"></div></div><div class="item"><div class="item-icon"><img src="../../../content/images/trademark/bhaya-6bb28725c5.png" class="img-responsive"></div></div></div></div></div><script type="text/javascript">$("#trademark-carousel").owlCarousel({\n                autoPlay: 3000, //Set AutoPlay to 3 seconds\n                dots: false,\n                items: 8,\n                responsive : {\n                    280 : { items : 3, dots: true },\n                    480 : { items : 4, dots: true },\n                    768 : { items : 5, dots: true  },\n                    991 : { items : 8, dots: true  },\n                }\n            });</script></div></div>'), e.put("app/home/hotel-booking-terms.html", '<div class="container margin-top-20"><div class="col-md-12 detail-tour">PLEASE READ THESE TERMS AND CONDITIONS CAREFULLY AS THEY CONTAIN IMPORTANT INFORMATION ABOUT LIMITATIONS OF LIABILITY AND RESOLUTION OF DISPUTES EAN TERMS AND CONDITIONS We have tried to make these terms of use (the Terms) as easy to understand as possible by using plain English. To make it easier for you to follow, we have occasionally used definitions. When a definition is first used, you will be able to see it clearly in bold text. If we use it again in these Terms, it will appear with capital letters (unless it is a reference to we, us or our or you or your). In the Terms, the following words have the following meanings: Affiliate means any of our marketing affiliates, including those through whose site you may have made the Booking; Customer Support Agent means (i) our or one of our Group Member’s customer support providers; or (ii) our Affiliates’ customer support providers (including any persons acting on their behalf); or (iii) any persons acting as customer support providers on behalf of us or our Group Members; Booking means your making of a Hotel Reservation; Group Member means an entity that, directly or indirectly, through one or more intermediaries, controls or is controlled by, or is under common control with us, including Travelscape LLC (a Nevada limited liability company) and Vacationspot, SL (a Spanish registered company); Hotel Reservations means the accommodation reservations, including those which are part of a package, made available by us and our Group Members from time to time; and we, us, our means EAN.com L.P, a Delaware limited partnership; you, your means the individual or corporate end customer browsing our Information or making Hotel Reservations. The Terms tell you the terms on which you may: access the information about Hotel Reservations (our Information) we and our Group Members provide to our Affiliates and Customer Support Agents about the Hotel Reservations; and complete a Booking. Please read these Terms carefully before you start to browse our Information and/or make a Booking. We recommend that you print a copy of these Terms for future reference. By browsing our Information and/or making a Booking, you confirm that you accept these Terms and that you agree to comply with them. If you do not agree to these Terms, you must not use our Information, contact our Customer Support Agents or make any Bookings. OTHER APPLICABLE TERMS These Terms also refer to additional rules and restrictions, including cancellation policies of suppliers of Hotel Reservations (Rules) which may apply to your Booking. These Rules will be made available to you prior to completion of the Booking and any Booking is made subject to the Rules as set out on the booking page. Please read these Rules carefully. If you are making a Booking on behalf of any other persons, you are responsible for bringing these Rules to the attention of such persons and advising them they will be bound by the same. We retain the right, at our sole discretion, to deny access to our Information and Hotel Reservations at any time and for any reason, including, but not limited to, for breach of these Terms. CHANGES TO THESE TERMS We may revise these Terms at any time by amending this page and will publish the updated version online from time to time. Please check this web page each time you make a Booking to take notice of any changes we have made, as they are binding on you in relation to all matters except any Bookings made prior to the date of the last set of changes (see top right). The Terms that applied at the time you made the Booking will continue to apply to such Booking. PURPOSE OF OUR INFORMATION Our Information is provided solely to assist you in gathering travel information, determining the availability of Hotel Reservations, making legitimate Bookings or otherwise communicating with our Customer Support Agents. Unless we agree otherwise in writing, you may not use our Information for any other purpose. CONDITIONS OF MAKING A BOOKING As a condition of making a Booking, you warrant that: you are at least 18 years of age; you have the authority to create a binding legal agreement with us and the relevant Hotel Reservation supplier(s); you will only make Bookings for you or for other persons for whom you have authority to make such Bookings (Other Persons); you will advise such Other Persons about these Terms (as updated by us from time to time) and any other applicable terms that apply to a Booking; all information supplied by you (including any information supplied on behalf of Other Persons) in respect of a Booking is accurate, complete and up to date; and you will comply with our Acceptable Use Policy set out below. ACCEPTABLE USE POLICY When accessing our Information you agree not to: use our Information for any commercial purpose; make any speculative, false, or fraudulent Bookings or any Booking in anticipation of demand; access, monitor or copy any of our Information using any robot, spider, scraper or other automated means or any manual process for any purpose without our express written permission; violate the restrictions in any robot exclusion headers on our Information or bypass or circumvent other measures employed to prevent or limit access to our Information; take any action that imposes, or may impose, in our discretion, an unreasonable or disproportionately large load on our infrastructure; deep-link to any portion of our Information (including, without limitation, the purchase path for any Travel Products) for any purpose without our express written permission; or "frame", "mirror" or otherwise incorporate any part of our Information into any other website without our prior written authorization.</div></div>'),
                e.put("app/home/terms.html", '<div ng-if="vm.language ===\'vi\'" class="container margin-top-20"><div class="col-md-12 detail-tour"><h2 class="title">Các điều khoản sử dụng</h2><a href="https://developer.expediapartnersolutions.com/terms/agent/{{vm.language}}" target="_blank">Điều khoản và điều kiện của nhà cung cấp khách sạn</a><br><br><div class="content"><p><span style="font-size:14px"><span style="font-family:arial,helvetica,sans-serif"><strong>A. Thỏa thuận sử dụng</strong></span></span></p><p>&nbsp;</p><p><span style="font-size:14px"><span style="font-family:arial,helvetica,sans-serif"><strong>Phạm vi áp dụng thỏa thuận này</strong><br><br>Thỏa thuận này ("Thỏa thuận của Người dùng") là tổng hợp các điều khoản và điều kiện để Gotadi và các công ty liên kết cung cấp các dịch vụ cho (những) người ("Người dùng") có ý định mua hoặc hỏi thông tin về bất kỳ sản phẩm và/hoặc dịch vụ nào của Gotadi bằng cách sử dụng các trang web của Gotadi hoặc sử dụng bất kỳ kênh giao diện khách hàng nào khác của Gotadi, trong đó bao gồm các nhân viên bán hàng, các văn phòng đại diện, các tổng đài điện thoại, các quảng cáo, các chiến dịch quảng bá,…<br><br>Cả Người dùng và Gotadi đều được gọi riêng là “bên” trong thỏa thuận này và gọi chung là “các bên”.<br><br><strong>Trách nhiệm nhận thức thỏa thuận này của Người dùng</strong><br><br>Những Người dùng các dịch vụ từ Gotadi sẽ được coi là đã đọc, hiểu và tuyệt đối chấp nhận các điều khoản và điều kiện của thỏa thuận này, một thoả thuận sẽ điều chỉnh các giao dịch của Người dùng hoặc việc cung cấp các dịch vụ đó bởi Gotadi trong thực tế, và sẽ ràng buộc Người dùng. Tất cả các quyền và nghĩa vụ của Người dùng và/hoặc Gotadi đối với bất kỳ dịch vụ nào do Gotadi cung cấp sẽ được giới hạn trong phạm vi của thỏa thuận này.<br><br>Gotadi có quyền, toàn quyền quyết định, chấm dứt quyền truy cập vào bất kỳ hoặc tất cả các phần trên trang web của Gotadi hoặc các kênh bán hàng khác và các dịch vụ có liên quan hoặc bất cứ phần nào trong đó vào bất kỳ lúc nào, mà không cần thông báo, để bảo trì chung hoặc vì bất kỳ lý do gì.<br><br>Ngoài Thỏa thuận này, có một số điều khoản dịch vụ (TOS) cụ thể cho các dịch vụ/sản phẩm do Gotadi đưa ra/cung cấp như vé máy bay, khách sạn, các gói kỳ nghỉ… TOS này sẽ được cung cấp/cập nhật bởi Gotadi và sẽ được coi là một phần của Thỏa thuận này và trong trường hợp có mâu thuẫn giữa Các điều khoản dịch vụ cụ thể khác (TOS) đó và Thỏa thuận này, các điều khoản của Thỏa thuận này sẽ được áp dụng. Người dùng sẽ được yêu cầu phải đọc và chấp nhận TOS liên quan đến các dịch vụ/sản phẩm mà Người dùng đã dùng.<br>Ngoài ra, chính Nhà cung cấp dịch vụ cũng có thể đưa ra các điều khoản và hướng dẫn đối với các tính năng, các lời chào hàng đặc biệt hoặc các quy tắc và chính sách điều hành đối với từng Dịch vụ (ví dụ: các chuyến bay, đặt phòng khách sạn, các gói dịch vụ…) . Người dùng có trách nhiệm bảo đảm việc tuân thủ các điều khoản và hướng dẫn hoặc các quy tắc và chính sách điều hành của Nhà cung cấp dịch vụ mà Người dùng đã chọn, trong đó có các điều khoản và điều kiện được quy định trong quy tắc giá vé, hợp đồng vận chuyển hoặc các quy định khác của các Nhà cung cấp dịch vụ.<br><br>Các dịch vụ của Gotadi được cung cấp cho Người dùng với điều kiện người đó chấp nhận mà không sửa đổi tất cả các điều khoản, điều kiện và thông báo trong Thỏa thuận này và Các điều khoản dịch vụ cụ thể khác (TOS). Để loại bỏ sự ngờ vực, điều này được làm rõ như sau: việc Người dùng dùng các Dịch vụ chính là một sự thừa nhận và chấp nhận của Người dùng đó đối với Điều khoản này và Các điều khoản dịch vụ cụ thể khác (TOS). Nếu Người dùng không đồng ý với bất kỳ phần nào của các điều khoản, điều kiện và thông báo đó, Người dùng không cần sử dụng các Dịch vụ của Gotadi .<br><br>Trong trường hợp bất kỳ điều khoản, điều kiện và thông báo nào tại đây mâu thuẫn với các Điều khoản Bổ sung hoặc các điều khoản và hướng dẫn khác trong bất kỳ tài liệu nào khác của Gotadi, thì các điều khoản này sẽ được áp dụng.<br>&nbsp;<br><strong>Thông tin Tài khoản của Bên thứ ba</strong><br><br>Bằng việc sử dụng dịch vụ Truy cập Tài khoản trên trang web của Gotadi, người dùng cho phép Gotadi và các đại lý truy cập các trang web của bên thứ ba, bao gồm của các Ngân hàng và các cổng thanh toán khác, do họ chỉ định hoặc thay mặt họ để lấy thông tin yêu cầu.<br><br>Trong khi đăng ký, Người dùng sẽ chọn một mật khẩu và chịu trách nhiệm về việc bảo mật mật khẩu và tài khoản.<br><br>Người dùng hoàn toàn chịu trách nhiệm về tất cả các hoạt động diễn ra khi sử dụng mật khẩu hoặc tài khoản của họ. Người dùng có trách nhiệm thông báo cho Gotadi ngay lập tức bằng văn bản về bất kỳ việc sử dụng trái phép mật khẩu hoặc tài khoản nào của họ hoặc bất kỳ sự vi phạm an ninh nào. Gotadi sẽ không chịu trách nhiệm về bất kỳ tổn thất nào có thể xảy ra cho Người dùng do việc sử dụng trái phép mật khẩu hoặc tài khoản của họ, cho dù họ có biết hay không. Người dùng sẽ không sử dụng mật khẩu của người khác bất cứ lúc nào.<br>&nbsp;<br><strong>Thanh toán chi phí</strong><br><br>Gotadi có quyền thu mức phí đã niêm yết cho các niêm yết cụ thể trên trang web, cũng như phí giao dịch dựa trên những giao dịch đã hoàn tất đó. Gotadi cũng bảo lưu quyền đôi khi thay đổi bất kỳ và tất cả các loại phí, mà không cần thông báo.<br><br>Người dùng sẽ hoàn toàn chịu trách nhiệm về mọi khoản phí, lệ phí, thuế quan, thuế, và số tiền ấn định phải trả, phát sinh từ việc sử dụng các dịch vụ.<br><br>Trong trường hợp, Gotadi tính thiếu phí cho việc niêm yết, cho các dịch vụ hoặc phí giao dịch hoặc bất kỳ loại phí hay dịch vụ nào khác do bất kỳ lý do kỹ thuật hoặc lý do nào khác, Gotadi có quyền khấu trừ /tính phí/đòi phần còn lại sau giao dịch đó theo quyền tự quyết của mình.<br><br>Trong một số trường hợp hiếm hoi, nếu việc đặt chỗ không nhận được xác nhận vì bất kỳ lý do gì, chúng tôi sẽ tiến hành hoàn trả tiền và thông báo cho bạn. Gotadi không có nghĩa vụ phải đặt lại chỗ hoặc bồi thường/thay thế một việc đặt chỗ chưa được xác nhận. Tất cả những lần đặt chỗ tiếp theo sẽ được xử lý như các giao dịch mới, không tham chiếu đến các giao dịch đặt chỗ chưa được xác nhận trước đó.<br><br>Người dùng sẽ yêu cầu Gotadi hoàn lại tiền đối với những giao dịch đặt phòng khách sạn hoặc vé máy bay nhưng chưa sử dụng vì bất kỳ lý do nào trong thời hạn 90 ngày kể từ ngày khởi hành đối với vé máy bay và/hoặc ngày check-in đối với đặt phòng khách sạn. Bất kỳ việc hoàn tiền nào được áp dụng sẽ được xử lý theo các chính sách của các Hãng hàng không, các khách sạn và Gotadi theo từng trường hợp. Việc hoàn tiền sẽ không được thực hiện đối với bất kỳ yêu cầu nào được đưa ra sau thời hạn 90 ngày như trên. Tất cả các khoản tiền do đã đặt phòng khách sạn/vé máy bay/tour du lịch nhưng chưa sử dụng như vậy sẽ được coi là đã bị mất.<br>&nbsp;&nbsp;<br><strong>Bảo mật thông tin</strong><br><br>Bất kỳ thông tin nào được Gotadi đề cập cụ thể là thông tin Bí mật phải được Người dùng duy trì bí mật và không được tiết lộ trừ trường hợp theo yêu cầu của pháp luật hoặc để phục vụ mục đích của thỏa thuận này và các nghĩa vụ của cả hai bên trong đó.<br>&nbsp;<br><strong>Gotadi sử dụng số điện thoại di động của Người dùng</strong><br><br>Gotadi có thể gửi xác nhận đặt chỗ, thông tin hành trình, việc hủy bỏ, xác nhận thanh toán , tình trạng hoàn tiền, thay đổi lịch trình hoặc bất kỳ thông tin nào khác có liên quan đến các giao dịch, thông qua tin nhắn SMS hoặc cuộc gọi vào số điện thoại liên lạc do Người dùng cung cấp khi đặt chỗ; Gotadi cũng có thể liên lạc với Người dùng bằng cách gọi điện thoại, tin nhắn SMS hoặc email trong trường hợp Người dùng không thể hoặc chưa hoàn thành việc đặt chỗ, vì bất kỳ lý do gì, để biết nguyện vọng của Người dùng đối với việc hoàn thành đặt chỗ và cũng để giúp đỡ Người dùng. Theo đây, Người dùng đồng vô điều kiện rằng những thông tin liên lạc qua tin nhắn SMS và/hoặc cuộc gọi thoại của Gotadi là theo yêu cầu và sự cho phép của Người dùng. Người dùng sẽ bồi thường Gotadi cho tất cả các loại tổn thất và thiệt hại Gotadi phải chịu do bất kỳ hành động nào của các cơ quan quản lý nhà nước do bất kỳ lỗi nào của Người dùng đối với Gotadi liên quan đến việc thông báo được đề cập ở trên hoặc do một số điện thoại hoặc địa chỉ email sai do Người dùng cung cấp, vì bất kỳ lý do gì.<br>&nbsp;<br><strong>Trách nhiệm của Người dùng&nbsp;</strong><br><br>Gotadi chỉ chịu trách nhiệm đối với các giao dịch do Người dùng thực hiện thông qua Gotadi. Gotadi sẽ không chịu trách nhiệm sàng lọc, kiểm duyệt hoặc kiểm soát các giao dịch, bao gồm cả việc giao dịch có hợp pháp và hợp lệ theo luật pháp nơi Người dùng sinh sống hay không.<br><br>Người dùng cam đoan sẽ tuân thủ tất cả các quy trình và hướng dẫn bổ sung, được sửa đổi theo thời gian, liên quan tới việc sử dụng các dịch vụ. Người dùng cũng cam đoan sẽ tuân thủ tất cả các luật và quy định hiện hành về việc sử dụng các dịch vụ liên quan đến thẩm quyền đối với từng giao dịch.<br><br>Người dùng đại diện và xác nhận rằng họ ở độ tuổi hợp pháp để tham gia một hợp đồng ràng buộdiệnc và không phải là người bị cấm sử dụng các Dịch vụ theo pháp luật Việt Nam hoặc luật áp dụng khác.<br>&nbsp;<br><strong>Các quảng cáo trên Gotadi hoặc các trang web liên kết&nbsp;</strong><br><br>Gotadi không chịu trách nhiệm đối với bất kỳ lỗi, thiếu sót hoặc miêu tả nào trên trang web nào của mình, hoặc trên bất kỳ liên kết hoặc trang web liên kết nào. Gotadi không xác nhận chất lượng của bất kỳ quảng cáo nào trên các trang web của mình theo bất kỳ phương thức nào. Người dùng phải tự xác minh tính chính xác của tất cả các thông tin trước khi tiến hành bất kỳ công việc nào dựa trên các thông tin đó.<br><br>Các trang web liên kết không thuộc quyền kiểm soát của Gotadi và Gotadi không chịu trách nhiệm về nội dung của bất kỳ trang web liên kết hoặc bất kỳ liên kết nào trên một trang web liên kết, hoặc bất kỳ thay đổi hay cập nhật nào đối với các trang web đó. Gotadi cung cấp những liên kết đó đến Người dùng chỉ vì sự tiện lợi của họ, và việc việc sử dụng bất cứ liên kết nào không bao hàm sự chứng thực trang web đó của Gotadi.<br>&nbsp;<br><strong>Bảo hiểm</strong><br><br>Trừ trường hợp được cung cấp một cách rõ ràng bởi Gotadi trong bất kỳ dịch vụ hoặc sự chuyển giao cụ thể nào đó, việc mua bảo hiểm đầy đủ là nghĩa vụ/lựa chọn của Người dùng và Gotadi không chấp nhận bất kỳ khiếu nại nào phát sinh từ đó.<br><br>Bảo hiểm, nếu được cung cấp như một phần của dịch vụ/sản phẩm của Gotadi sẽ tuân theo các điều khoản và điều kiện của công ty bảo hiểm. Người dùng sẽ liên hệ trực tiếp với công ty bảo hiểm nếu có bất kỳ khiếu nại hoặc tranh chấp nào và Gotadi sẽ không đưa ra bất kỳ cam đoan nào, dù là rõ ràng hay ngụ ý, là sẽ chấp nhận các yêu cầu của công ty bảo hiểm.<br>&nbsp;<br><strong>Những trường hợp Bất khả kháng</strong><br><br>Người dùng đồng ý rằng có thể có những trường hợp đặc biệt, khi các nhà khai thác dịch vụ như các hãng hàng không, các khách sạn, các công ty hoặc nhà cung cấp dịch vụ vận tải không thể thực hiện những việc đặt chỗ đã xác nhận vì nhiều lý do khác nhau như điều kiện khí hậu, tình trạng bất ổn lao động, mất khả năng thanh toán, tình trạng kinh doanh khẩn cấp, các quyết định của chính phủ, các vấn đề điều hành và kỹ thuật, hủy lộ trình và chuyến bay… Nếu Gotadi được thông báo trước về những tình huống có thể sẽ không thực hiện được việc đặt chỗ, Gotadi sẽ cố gắng hết sức để cung cấp dịch vụ thay thế tương tự cho khách hàng hoặc hoàn trả lại số tiền đặt chỗ sau khi đã trừ đi các khoản phí dịch vụ hợp lý, nếu được hỗ trợ và hoàn tiền từ các nhà khai thác dịch vụ tương ứng. Người dùng đồng ý rằng Gotadi, với tư cách là một đại lý tạo điều kiện thuận lợi cho các dịch vụ đặt chỗ, sẽ không chịu trách nhiệm cho bất kỳ trường hợp nào như vậy và khách hàng phải liên hệ trực tiếp với nhà cung cấp dịch vụ đó để có các giải pháp khác và được hoàn lại tiền (nếu có).<br><br>Người dùng đồng ý rằng trong các tình huống do bất kỳ sự hỏng hóc về kỹ thuật hoặc hỏng hóc nào khác tại Gotadi, các dịch vụ cam kết trước đó có thể sẽ không được cung cấp hoặc phải thay đổi đáng kể. Trong những trường hợp này, Gotadi sẽ hoàn trả toàn bộ số tiền nhận được từ khách hàng cho việc sử dụng các dịch vụ đó trừ đi các khoản phí hủy bỏ, phí hoàn tiền hoặc các khoản phí thích hợp khác, hoàn thành bất kỳ và toàn bộ trách nhiệm của Gotadi liên quan đến việc không cung cấp hoặc cung cấp không đầy đủ dịch vụ. Các khoản phải trả bổ sung, nếu có, sẽ do Người dùng trả.<br><br>Gotadi không chịu trách nhiệm cho những sự chậm trễ hoặc không có khả năng thực hiện hoặc không thực hiện toàn bộ hoặc một phần các nghĩa vụ của mình do bất kỳ nguyên nhân nào không phải do hành vi hoặc thiếu sót của mình và nằm ngoài tầm kiểm soát hợp lý của mình, chẳng hạn như thiên tai, hỏa hoạn, đình công, cấm vận, hành động của chính phủ, các hành động khủng bố hoặc các nguyên nhân khác tương tự, vấn đề từ phía các hãng hàng không, đường ray, xe buýt, khách sạn hoặc nhà vận tải. Trong trường hợp đó, Người dùng bị ảnh hưởng sẽ được thông báo kịp thời theo hoàn cảnh cho phép.<br><br>Không ảnh hưởng đến bất cứ điều gì được nói ở trên, trách nhiệm tối đa của phía Gotadi phát sinh trong mọi trường hợp, liên quan tới bất kỳ dịch vụ nào được cung cấp trên trang web này, sẽ được giới hạn ở việc hoàn trả tổng số tiền nhận được từ khách hàng cho việc sử dụng các dịch vụ trừ đi các khoản phí hủy bỏ, phí hoàn tiền hoặc các khoản phí khác, như có thể được áp dụng. Trong mọi trường hợp, trách nhiệm không bao gồm bất kỳ tổn thất, thiệt hại hay chi phí bổ sung nào vượt quá số tiền Gotadi thu cho các dịch vụ của mình.<br><br>Gotadi không chịu trách nhiệm đối với bất kỳ lỗi, thiếu sót hoặc phần trình bày nào trên bất kỳ trang web nào của mình, hoặc trên bất kỳ liên kết hoặc trang web liên kết nào.<br>&nbsp;<br><strong>Tính an toàn của dữ liệu tải về</strong><br><br>Người dùng hiểu và đồng ý rằng bất kỳ tài liệu và/hoặc dữ liệu nào tải về hoặc thu được thông qua việc sử dụng Dịch vụ được thực hiện hoàn toàn theo quyết định và rủi ro của riêng của họ và họ sẽ hoàn toàn chịu trách nhiệm về bất kỳ thiệt hại nào đối với hệ thống máy tính của mình hoặc việc mất dữ liệu do họ tải các tài liệu và/hoặc dữ liệu đó về.<br><br>Tuy nhiên, Gotadi sẽ luôn cố gắng hết sức để đảm bảo rằng nội dung trên các trang web của mình hoặc các kênh thông tin khác không chứa các loại virus hoặc các phần mềm độc hại.<br>&nbsp;<br><strong>Phản hồi từ khách hàng và việc chào mời khách</strong><br><br>Người dùng nhận thức được rằng Gotadi cung cấp nhiều dịch vụ khác nhau như đặt phòng khách sạn, vé máy bay, gói kỳ nghỉ và muốn tìm hiểu về họ, để nâng cao dịch vụ du lịch của mình. Cụ thể ở đây, Người dùng cho phép Gotadi liên hệ với mình về việc cung cấp các dịch vụ khác nhau của Gotadi thông qua bưu phẩm trực tiếp, thư điện tử, các cuộc gọi điện thoại, dịch vụ nhắn tin ngắn (SMS) hoặc bất kỳ phương tiện nào khác, vào một số thời điểm. Trong trường hợp khách hàng lựa chọn không liên lạc, họ sẽ viết thư cho Gotadi tới địa chỉ service@gotadi.com. Khách hàng nên đọc và hiểu các chính sách bảo mật của Gotadi trên trang web của Gotadi. Gotadi sẽ liên lạc, mời chào Người dùng hoặc chia sẻ thông tin của Người dùng theo các chính sách bảo mật đó.<br>&nbsp;<br><strong>Quyền sở hữu</strong><br><br>Gotadi có thể cung cấp tới Người dùng các nội dung như âm thanh, hình ảnh, đồ họa, video hoặc các tài liệu khác có trong các quảng cáo hoặc thông tin. Tài liệu này có thể được bảo vệ bởi luật bản quyền, thương hiệu, hoặc các quyền và luật sở hữu trí tuệ khác.<br><br>Người dùng chỉ có thể sử dụng tài liệu này khi được Gotadi cho phép một cách rõ ràng và sẽ không được sao chép, truyền tải hoặc tạo ra các sản phẩm sao chép từ các tài liệu này khi chưa được cho phép rõ ràng.<br><br>Người dùng thừa nhận và đồng ý rằng họ sẽ không tải lên, sao chép hoặc gửi đi bất kỳ nội dung nào có trên hoặc thông qua các Dịch vụ được bảo vệ bởi bản quyền hoặc quyền sở hữu khác của một bên thứ ba, mà không có sự cho phép bằng văn bản của chủ sở hữu của quyền đó.<br><br>Bất kỳ nội dung độc quyền hay có bản quyền&nbsp; sở hữu nào khác được gửi đi với sự đồng ý của chủ sở hữu phải có phần thông báo thích hợp về quyền sở hữu. Việc đưa lên hoặc gửi đi các nội dung có bản quyền hoặc có các quyền sở hữu khác mà chưa được phép là bất hợp pháp và có thể khiến Người dùng phải chịu trách nhiệm cá nhân hoặc bị truy tố.<br>&nbsp;<br><strong>Trách nhiệm xin VISA của Người dùng</strong><br><br>Những việc đặt chỗ du lịch do Gotadi thực hiện còn tùy thuộc vào các yêu cầu về Visa mà từng cá nhân khách du lịch phải tự đáp ứng được. Gotadi không chịu trách nhiệm về bất kỳ vấn đề nào, bao gồm việc không thể đi du lịch, phát sinh từ các yêu cầu Visa đó và cũng không chịu trách nhiệm hoàn tiền cho những giao dịch đặt chỗ nhưng chưa sử dụng vì bất kỳ lý do nào như vậy.<br>&nbsp;<br><strong>Giới hạn Mục đích sử dụng Cá nhân và Phi thương mại&nbsp;</strong><br><br>Trừ trường hợp được ghi rõ, các dịch vụ của Gotadi là dành cho mục đích sử dụng cá nhân và phi thương mại của Người dùng. Người dùng không thể thay đổi, sao chép, phân phối, truyền tải, hiển thị, thực hiện, tái sản xuất, xuất bản, cấp phép hay tạo ra các sản phẩm phái sinh, chuyển nhượng hoặc bán bất kỳ thông tin, phần mềm, sản phẩm hoặc dịch vụ nào có được từ trang web của Gotadi mà không có sự chấp rõ ràng thuận bằng văn bản từ Gotadi.<br>&nbsp;<br><strong>Bồi thường</strong><br><br>Người dùng đồng ý bồi thường, bảo vệ và giữ cho Gotadi và/hoặc các chi nhánh, các trang web và những người kế nhiệm/thụ quyền hợp pháp không bị tổn hại trước bất kỳ và tất cả các tổn thất, nghĩa vụ, khiếu nại, thiệt hại và chi phí (bao gồm cả các khoản chi phí pháp lý hợp lý liên quan và các khoản lãi suất áp dụng) mà Gotadi và/hoặc các chi nhánh, các trang web đối tác và những người thừa kế/thụ quyền hợp pháp bị đòi hoặc phải gánh chịu phát sinh từ, là kết quả của, hoặc có thể phải trả vì sự vi phạm hoặc không thực hiện bất kỳ tuyên bố, sự bảo đảm, giao ước hoặc thỏa thuận nào đã được lập hoặc bất kỳ nghĩa vụ nào sẽ phải được thực hiện bởi Người dùng theo thỏa thuận này.<br><br>Người dùng sẽ chịu trách nhiệm duy nhất và hoàn toàn về bất kỳ sự vi phạm nào đối với bất kỳ quy định cụ thể nào của từng quốc gia hoặc quy tắc ứng xử chung và Gotadi không chịu trách nhiệm về cùng vi phạm đó.<br>&nbsp;<br><strong>Quyền từ chối</strong><br><br>Gotadi, theo quyết định của riêng mình, có quyền không chấp nhận bất kỳ đơn đặt hàng nào mà không phải giải thich bất kỳ lý do nào. Bất kỳ hợp đồng cung cấp bất kỳ dịch vụ nào của Gotadi đều được coi là chưa hoàn thành cho đến khi toàn bộ số tiền cho dịch vụ đã được Gotadi nhận và chấp thuận.<br><br>Không ảnh hưởng đến các biện pháp khác dành cho Gotadi theo thỏa thuận này,&nbsp; theo một số điều khoản dịch vụ (TOS) hoặc theo luật áp dụng, Gotadi có thể hạn chế hoạt động của Người dùng, hoặc chấm dứt việc niêm yết danh mục dịch vụ cho Người dùng, cảnh báo những Người dùng khác về các hành động của một Người dùng nào đó, ngay lập tức và tạm thời/vô thời hạn đình chỉ hoặc chấm dứt việc đăng k‎ý của Người dùng, và/hoặc từ chối cho Người dùng truy cập vào các trang web nếu:<br><br>- Người dùng vi phạm thỏa thuận này, một số điều khoản dịch vụ (TOS) và/hoặc các tài liệu tham chiếu đi kèm;<br>- Gotadi không thể xác minh hay xác thực bất kỳ thông tin nào do Người dùng cung cấp; hoặc<br>- Gotadi tin rằng hành động của Người dùng có thể vi phạm các quyền của bên thứ ba hoặc vi phạm bất kỳ luật áp dụng nào hoặc là dẫn đến bất kỳ trách nhiệm pháp lý nào cho Người dùng, cho những Người dùng khác của trang web và/hoặc cho Gotadi.<br><br>Gotadi có thể khôi phục hoạt động cho những Người dùng đã bị đình chỉ vào bất cứ lúc nào, tùy vào quyết định của mình. Một khi đã bị đình chỉ vô thời hạn, Người dùng sẽ không đăng ký hoặc cố gắng đăng ký với Gotadi hoặc sử dụng trang web bằng bất cứ cách nào cho đến khi được Gotadi khôi phục lại.<br><br>Mặc dù đã nói ở trên, nếu Người dùng vi phạm thỏa thuận này, một số điều khoản dịch vụ (TOS) hoặc các tài liệu tham chiếu đi kèm, Gotadi có quyền thu hồi bất kỳ khoản tiền thích hợp nào mà Người dùng phải trả cho Gotadi và/hoặc nhà cung cấp dịch vụ và có thể khởi kiện nếu Gotadi thấy cần thiết.<br><br><strong>Quyền hủy bỏ của Gotadi trong trường hợp Thông tin của Người dùng Không hợp lệ</strong><br><br>Người dùng cam đoan rõ ràng chỉ cung cấp cho Gotadi các thông tin chính xác và hợp lệ trong quá trình yêu cầu bất kỳ dịch vụ nào theo Thỏa thuận này, và không trình bày sai bất kỳ sự thực nào. Bất kỳ thông tin sai lệch nào từ phía Người dùng sẽ làm mất hiệu lực của thỏa thuận này và sẽ tước bỏ quyền sử dụng các dịch vụ của Gotadi của Người dùng.<br><br>Vào bất cứ lúc nào trong hoặc sau khi nhận được yêu cầu cung cấp dịch vụ từ Người dùng, nếu Gotadi phát hiện hoặc có lý do để tin rằng yêu cầu cung cấp dịch vụ đó là trái phép hoặc các/một phần thông tin Người dùng cung cấp là không chính xác hoặc bất kỳ sự thực nào đã bị Người dùng trình bày sai, Gotadi, tuỳ theo ý mình, có quyền không hạn chế trong việc thực hiện bất kỳ hành động nào đối với (những) Người dùng, bao gồm hủy bỏ đặt chỗ, mà không cần báo trước cho Người dùng. Trong trường hợp đó, Gotadi không chịu trách nhiệm hoặc có nghĩa vụ về bất kỳ tổn thất hoặc thiệt hại nào Người dùng có thể phải chịu do hệ quả của việc huỷ đặt chỗ hoặc dịch vụ đó.<br><br>Người dùng chắc chắn bồi thường cho Gotadi vì bất kỳ khiếu nại hay trách nhiệm nào như vậy và sẽ không để Gotadi phải chịu trách nhiệm về bất kỳ tổn thất hay thiệt hại nào phát sinh từ các biện pháp do Gotadi thực hiện để bảo vệ lợi ích của mình và của các khách hàng thành thực. Điều này cũng bao gồm việc Gotadi phủ nhận/hủy bỏ bất kỳ việc đặt chỗ nào do các giao dịch bị nghi ngờ là gian lận.<br>&nbsp;<br><strong>Sự chia tách</strong><br>&nbsp;<br>Nếu bất kỳ điều khoản nào của Thỏa thuận này được xác định là không hợp lệ hoặc không thể thực hiện được toàn bộ hay một phần, thì sự vô hiệu hoặc không thể thực thi đó sẽ chỉ gắn với điều khoản hoặc phần điều khoản đó và phần còn lại của điều khoản đó và tất cả các điều khoản khác của Thỏa thuận này sẽ tiếp tục có hiệu lực và tác dụng đầy đủ.<br>&nbsp;<br><strong>Các đề mục&nbsp;&nbsp;</strong><br><br>Các đề mục và tiểu mục có mặt ở đây chỉ để thuận tiện và dễ nhận dạng và không nhằm mục đích mô tả, giải thích, định nghĩa hoặc giới hạn phạm vi, mức độ hay mục đích của Thỏa thuận này, của các điều khoản và điều kiện, các thông báo, hoặc quyền sử dụng trang web này của Người dùng được quy định tại đây hoặc bất kỳ phần hoặc trang nào khác của rang Web của Gotadi hoặc các trang web đối tác của nó hoặc bất kỳ điều khoản nào của Thỏa thuận này bằng bất kỳ cách nào.<br><br>Trong trường hợp bất kỳ điều khoản, điều kiện và thông báo nào tại đây mâu thuẫn với các Điều khoản Bổ sung hoặc các điều khoản và hướng dẫn khác trên bất kỳ trang web nào của Gotadi, thì các điều khoản này sẽ được áp dụng.<br>&nbsp;<br><strong>Mối quan hệ</strong><br><br>Không có điều khoản nào trong bất kỳ thỏa thuận, điều khoản và điều kiện hay thông báo nào, hoặc quyền sử dụng trang web này của Người dùng được quy định tại đây hoặc bất kỳ phần hoặc trang nào của các rtang web của Gotadi hoặc các trang web đối tác, được coi là tạo thành&nbsp; mối quan hệ đối tác giữa Người dùng và Gotadi và không bên nào có bất kỳ quyền ràng buộc hoặc được coi là đại lý của bên kia theo bất kỳ cách nào.<br>&nbsp;<br><strong>Cập nhật thông tin bởi Gotadi</strong><br><br>Người dùng thừa nhận rằng Gotadi cung cấp các dịch vụ với sự chuyên cần và chăm sóc hợp lý. Gotadi nỗ lực hết mình để đảm bảo Người dùng không gặp phải bất kỳ phiền toái nào. Tuy nhiên, vào một số thời điểm, các thông tin, phần mềm, sản phẩm và dịch vụ bao gồm hoặc có trên các trang web của Gotadi hoặc các kênh bán hàng khác và các tài liệu quảng cáo có thể có sự thiếu chính xác hoặc lỗi đánh máy, sẽ được sửa chữa ngay lập tức sau khi Gotadi nhận ra. Những sự thay đổi được/có thể được định kỳ thực hiện hoặc thêm vào các thông tin được cung cấp đó. Gotadi có thể có các cải tiến và/hoặc thay đổi trên các trang web của mình vào bất cứ lúc nào mà không cần thông báo cho Người dùng. Bất cứ lời khuyên nào nhận được mà không thông qua một đại diện được ủy quyền của Gotadi qua các trang web của Gotadi đều không nên lấy làm căn cứ để đưa ra các quyết định.<br>&nbsp;<br><strong>Thay đổi các Điều khoản sử dụng</strong><br><br>Gotadi có quyền thay đổi các điều khoản, điều kiện, và thông báo được cung cấp trên trang web của Gotadi. Người dùng có trách nhiệm thường xuyên xem lại các điều khoản và điều kiện này.<br>&nbsp;<br><strong>Thẩm quyền</strong><br>&nbsp;<br>Gotadi hoàn toàn chối từ bất kỳ sự đảm bảo ngụ ý nào được quy cho luật pháp của bất cứ thẩm quyền hay quốc gia nào ngoài những nơi các văn phòng của Gotadi đang hoạt động. Gotadi tự coi mình và có ý định chịu thẩm quyền duy nhất của các toà án ở Việt Nam.<br>&nbsp;<br><strong>Trách nhiệm của Người dùng về Thỏa thuận này</strong><br><br>Người dùng hoàn toàn đồng ý rằng họ phải tự gánh chịu rủi ro trong việc sử dụng các dịch vụ. Trong phạm vi Gotadi chỉ là một đại lý đặt chỗ thay mặt cho các nhà cung cấp dịch vụ bên thứ ba, Gotadi sẽ không có bất kỳ trách nhiệm nào về bất kỳ khía cạnh nào của các tiêu chuẩn dịch vụ được cung cấp bởi các nhà cung cấp dịch vụ. Trong mọi trường hợp, Gotadi không chịu trách nhiệm về các dịch vụ do các nhà cung cấp dịch vụ cung cấp.<br><br>Gotadi hoàn toàn từ chối tất cả các loại bảo đảm, dù là rõ ràng hay ngụ ý. Không có lời khuyên hoặc thông tin nào, cho dù bằng miệng hoặc bằng văn bản, mà Người dùng có được từ Gotadi hoặc thông qua các dịch vụ, sẽ tạo thành bất kỳ sự bảo đảm nào mà không được nêu ra rõ ràng ở đây hoặc trong các điều khoản và điều kiện của dịch vụ. Nếu Người dùng không đồng ý với bất kỳ điều khoản nào ở trên, họ được khuyên không nên đọc các tài liệu trên bất kỳ trang nào của Gotadi hoặc sử dụng bất kỳ nội dung, trang, thông tin hoặc bất kỳ tài liệu nào khác được cung cấp bởi Gotadi. Giải pháp khắc phục duy nhất của Người dùng trong trường hợp không đồng ý, toàn bộ hoặc một phần, của Thỏa thuận sử dụng này, là ngừng sử dụng các dịch vụ sau khi đã thông báo cho Gotadi bằng văn bản.&nbsp;</span></span></p><p>&nbsp;</p><p><span style="font-size:14px"><span style="font-family:arial,helvetica,sans-serif"><b>B. Thỏa thuận về quyền riêng tư</b></span></span></p><p><br><span style="font-size:14px"><span style="font-family:arial,helvetica,sans-serif">Chính sách Bảo mật này mô tả cách thức chúng tôi thu thập, sử dụng, tiết lộ, hoặc xử l‎ý các thông tin cá nhân mà chúng tôi thu thập được từ các cá nhân là người dùng website Gotadi.com ("Dữ liệu Cá nhân") liên quan tới các dịch vụ mà chúng tôi cung cấp thông qua website Gotadi.com ("Website"). Bằng cách truy cập Website này, người dùng đồng ý với việc thu thập, sử dụng, tiết lộ và xử lý các Dữ liệu Cá nhân của mình theo cách thức được mô tả trong Chính sách Bảo mật này và đồng ý từ bỏ mọi quyền đòi bồi thường liên quan đến Dữ liệu Cá nhân này tại các cơ quan có thẩm quyền và cơ quan tài phán. Tất cả các dữ liệu mà chúng tôi thu thập và xử lý được lưu trữ trên các máy chủ đặt tại Việt Nam, và sẽ&nbsp; được lưu trữ trên hệ thống cho tới khi chúng tôi còn tiếp tục cung cấp dịch vụ trên Website.<br>&nbsp;<br>Chúng tôi bảo lưu quyền điều chỉnh Chính sách Bảo mật này để phản ánh những thay đổi về luật pháp, về thông lệ thu thập và sử dụng Dữ liệu Cá nhân, về các tính năng của Website hoặc những tiến bộ trong công nghệ. Nếu có những điều chỉnh làm thay đổi cách chúng tôi thu thập hoặc sử dụng Dữ liệu Cá nhân của người dùng, những thay đổi đó sẽ được đăng trong mục Chính sách Bảo mật này và ngày có hiệu lực sẽ được ghi chú ở phần đầu của Chính sách Bảo mật này. Vì vậy, người dùng nên xem lại Chính sách Bảo mật này định kỳ để được cập nhật về các chính sách và thông lệ mới nhất của chúng tôi. Gotadi cũng sẽ đăng tải nổi bật các thay đổi quan trọng này trước khi thực hiện.<br>&nbsp;<br><strong>Thông tin chúng tôi thu thập</strong><br>&nbsp;<br>Chúng tôi thu thập các Dữ liệu Cá nhân về Người dùng&nbsp; mà Người dùng&nbsp; cung cấp cho chúng tôi khi sử dụng Website này. Dữ liệu Cá nhân có thể bao gồm tên, địa chỉ, số điện thoại, số thẻ tín dụng hoặc địa chỉ e-mail. Chúng tôi cũng thu thập các thông tin không mang tính nhận dạng cá nhân, nhưng có thể có liên quan tới Dữ liệu Cá nhân của Người dùng, bao gồm tên đăng nhập, địa chỉ IP và mật khẩu, cũng như tìm kiếm những sở thích liên quan đến các tìm kiếm cụ thể của Người dùng.<br>&nbsp;<br><strong>Bảo vệ Dữ liệu Cá nhân của Người dùng&nbsp;</strong><br>&nbsp;<br>Để ngăn chặn truy cập trái phép, chúng tôi duy trì các thủ tục cả offline lẫn online, ở mức độ hợp lý để bảo vệ Dữ liệu Cá nhân trước sự phá hoại do tình cờ hoặc trái pháp luật, hoặc do sự mất dữ liệu, thay đổi dữ liệu bất ngờ, tiết lộ hay truy cập dữ liệu trái phép. Để bảo vệ các giao dịch thẻ tín dụng, Gotadi hiện đang sử dụng Công nghệ SSL (Secure Socket Layer) để mã hóa thông tin thẻ tín dụng trong quá trình chuyển thông tin.<br>&nbsp;<br><strong>Chúng tôi sử dụng các thông tin chúng tôi thu thập như thế nào?</strong><br>&nbsp;<br>Chúng tôi sử dụng Dữ liệu Cá nhân và các thông tin khác thu thập thông qua Website này để đăng ký cho Người dùng&nbsp; vào Website và Chương trình tính điểm thưởng của chúng tôi, để cung cấp cho Người dùng&nbsp; các sản phẩm và dịch vụ theo yêu cầu, để xây dựng các tính năng giúp cho các dịch vụ có trên Website này dễ sử dụng hơn, và để liên lạc với Người dùng về các dịch vụ này. Dữ liệu Cá nhân đóng vai trò quan trọng để chúng tôi giúp khách hàng đặt chỗ nhanh hơn, hỗ trợ khách hàng tốt hơn và thông báo kịp thời về các dịch vụ mới và các khuyến mại đặc biệt. Đôi khi, Gotadi có thể liên lạc với Người dùng để yêu cầu Người dùng phản hồi về việc sử dụng Website này, để giúp chúng tôi cải thiện Website, hoặc để giới thiệu tới Người dùng&nbsp; những gói tiết kiệm hoặc chương trình khuyến mại đặc biệt do Người dùng là một người sử dụng Website, nơi Người dùng&nbsp; đã đồng ý công nhận cách thức trao đổi thông tin như vậy. Nếu Người dùng&nbsp; không muốn nhận các thông báo về các gói tiết kiệm hoặc chương trình khuyến mại đặc biệt, Người dùng đơn giản chỉ cần từ chối nhận chúng bằng cách phản hồi tới Gotadi thông qua đường link được cung cấp trong các thông báo đó.<br>&nbsp;<br><strong>Chia sẻ Dữ liệu Cá nhân của Người dùng&nbsp;</strong><br>&nbsp;<br>Gotadi có thể chia sẻ Dữ liệu Cá nhân của Người dùng với các bên thứ ba mà chúng tôi thuê để thay mặt chúng tôi thực hiện các dịch vụ, để quảng bá các sản phẩm và dịch vụ của chúng tôi, để xử lý các giao dịch thẻ tín dụng hoặc cung cấp cho Người dùng dịch vụ khách hàng. Tất cả các bên thứ ba đó sẽ có nghĩa vụ phải duy trì an ninh và tính bảo mật của các Dữ liệu Cá nhân, và chỉ xử lý các Dữ liệu Cá nhân theo hướng dẫn của chúng tôi.<br>&nbsp;<br>Trong một số trường hợp, Gotadi có thể yêu cầu Người dùng&nbsp; giao dịch trực tiếp với một bên thứ ba để có được các dịch vụ, hoặc khi Người dùng&nbsp; sử dụng Website này để đặt phòng khách sạn hoặc để có được một sản phẩm hay dịch vụ khác, chúng tôi có thể cung cấp Dữ liệu Cá nhân của Người dùng&nbsp; cho khách sạn đó hoặc bên thứ ba khác có liên quan.<br>&nbsp;<br>Gotadi có thể tiết lộ Dữ liệu Cá nhân để tự bảo vệ mình trước các nghĩa vụ pháp lý, để đáp ứng các yêu cầu của tòa án, các thủ tụng tố tụng, các yêu cầu hợp pháp của các nhân viên thực thi pháp luật theo đúng pháp luật hiện hành. Chúng tôi cũng có thể tiết lộ cho những người mua có liên quan tới bất kỳ việc bán, chuyển nhượng, hoặc nhượng lại toàn bộ hoặc một phần doanh nghiệp hoặc công ty của chúng tôi. Chúng tôi cũng có thể tiết lộ Dữ liệu Cá nhân để thực thi hoặc áp dụng các điều khoản và điều kiện áp dụng đối với các sản phẩm và dịch vụ của chúng tôi, hoặc để bảo vệ các quyền, tài sản hoặc sự an toàn của Gotadi, của những người sử dụng Website của chúng tôi, hoặc những người khác.<br>&nbsp;<br><strong>Chính sách của chúng tôi về Cookies&nbsp;</strong><br>&nbsp;<br>Để phục vụ Người dùng&nbsp; nhanh hơn và với chất lượng tốt hơn, chúng tôi sử dụng công nghệ "cookie" trên Website của chúng tôi. Cookies các là tập mã nhỏ, thường được lưu trữ trên ổ cứng máy tính của người sử dụng, cho phép một Website tự "cá nhân hoá" mình với mỗi người dùng bằng cách ghi nhớ thông tin về lần truy cập của người dùng đó đến Website đó. Cookies có thể lưu trữ nhiều loại thông tin, bao gồm các địa chỉ IP, dữ liệu định hướng, thông tin máy chủ, thời gian truyền dữ liệu, các sở thích của người dùng, và địa chỉ e-mail và mật khẩu cần thiết để truy cập vào Website. Mục "Trợ giúp" trên thanh công cụ của hầu hết các trình duyệt Internet sẽ cho Người dùng&nbsp; biết cách ngăn chặn trình duyệt của Người dùng&nbsp; chấp nhận các cookie mới hoặc cách cấu hình trình duyệt của Người dùng&nbsp; để từ chối hoàn toàn cookies. Nếu Người dùng&nbsp; vô hiệu hóa các tập tin cookies, có thể Người dùng&nbsp; sẽ không thể truy cập được vào các chức năng hoặc tính năng quan trọng của Website này và việc sử dụng Website này có thể bị hạn chế. Các tập tin cookies được sử dụng trên Website này có liên hệ với Dữ liệu Cá nhân của người dùng.<br>&nbsp;<br><strong>Làm thế nào Người dùng có thể truy cập hoặc thay đổi thông tin nhận dạng cá nhân của mình?</strong><br>&nbsp;<br>Nếu Người dùng muốn cập nhật bất kỳ Dữ liệu Cá nhân nào Người dùng đã cung cấp trước đó, hoặc thực hiện bất kỳ quyền truy cập, cải chính, xóa, hoặc phản đối việc xử lý Dữ liệu Cá nhân của Người dùng mà Người dùng có thể có theo luật pháp hiện hành, xin vui lòng email cho chúng tôi theo địa chỉ service@gotadi.com.&nbsp; Để bảo vệ sự riêng tư và an toàn của Người dùng, chúng tôi sẽ xác minh danh tính của Người dùng&nbsp; trước khi cấp quyền truy cập hoặc thay đổi Dữ liệu Cá nhân của Người dùng . Mọi yêu cầu truy cập vào Dữ liệu Cá nhân của Người dùng sẽ được trả lời trong vòng 30 ngày.</span></span><br>&nbsp;</p></div></div></div><div ng-if="vm.language ===\'en\'" class="container margin-top-20"><div class="col-md-12 detail-tour"><h2 style="margin-top:15.0pt;margin-right:0in;margin-bottom:7.5pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><span style=\'font-size:22.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444;font-weight:normal\'>General</span><span lang="VI" style=\'font-size:\n\t\t\t22.5pt;font-family:"Arial",sans-serif;color:#444444;mso-ansi-language:VI;\n\t\t\tfont-weight:normal\'> Terms and Conditions<o:p></o:p></span></h2><a href="https://developer.expediapartnersolutions.com/terms/agent/{{vm.language}}" target="_blank">Hotel Supplier Terms and Conditions</a><br><br><p style="margin-top:0in;margin-right:0in;margin-bottom:15.0pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><strong><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>A. Terms</span></strong><strong><span lang="VI" style=\'font-size:\n\t\t\t10.5pt;font-family:"Arial",sans-serif;color:#444444;mso-ansi-language:VI\'> of use agreement</span></strong><span lang="VI" style=\'font-size:10.5pt;font-family:\n\t\t\t"Arial",sans-serif;color:#444444;mso-ansi-language:VI\'><o:p></o:p></span></p><p style="margin-top:0in;margin-right:0in;margin-bottom:15.0pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>&nbsp;<o:p></o:p></span></p><p style="background:#F0F0F0"><strong><span style=\'font-size:10.5pt;font-family:\n\t\t\t"Arial",sans-serif;color:#444444\'>Scope of application</span></strong><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444\'><br><br>This agreement (&quot;User Agreement&quot;) is a summary of the terms and conditions for Gotadi and its affiliates to provide services to people (&quot;Users&quot;) who intend to buy or inquire about any Gotadi products and / or services using the Gotadi website or use any other Gotadi user interface channel, including salespeople, representative offices, telephone exchanges, advertisements, promotional campaigns, ...<o:p></o:p></span></p><p style="background:#F0F0F0"><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'><o:p>&nbsp;</o:p></span></p><p style="margin-top:0in;margin-right:0in;margin-bottom:15.0pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>Both Users and Gotadi are individually called &quot;stakeholder&quot; in this agreement and collectively referred to as &quot;stakeholders&quot;.<o:p></o:p></span></p><p style="margin-top:0in;margin-right:0in;margin-bottom:15.0pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'><br><strong><span style=\'font-family:"Arial",sans-serif\'>The User\'s responsibility to acknowledge this agreement</span></strong><br><br>Users using</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444;mso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;\n\t\t\tfont-family:"Arial",sans-serif;color:#444444\'>services from Gotadi will be deemed to have read, understood and absolutely accept the terms and conditions of this agreement, an agreement that governs User\'s transactions or the provision of such services by Gotadi in practice, and will bind User. All rights and obligations of User and / or Gotadi in respect of any services provided by Gotadi will be limited to the scope of this agreement.<br><br>Gotadi reserves the right at its sole discretion to terminate access to any or all parts of Gotadi\'s website or other sales channels and related services or any part thereof at any time, without notice, for general maintenance or for any reason.<br><br>In addition to this Agreement, there are some specific terms of service (TOS) for services / products offered by Gotadi such as airline tickets, hotels, vacation packages, etc. This TOS will be provided/ updated by Gotadi and shall be deemed to be part of this Agreement and in the event of a conflict between such other Specific Terms of Service (TOS) and this Agreement, the terms of this Agreement will be applied. Users will be required to read and accept the TOS in relation to the services / products that the User has used.<o:p></o:p></span></p><p style="margin-top:0in;margin-right:0in;margin-bottom:15.0pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>Besides</span><span lang="VI" style=\'font-size:10.5pt;font-family:\n\t\t\t"Arial",sans-serif;color:#444444;mso-ansi-language:VI\'> that</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444\'>, the Service Provider</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444;mso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;\n\t\t\tfont-family:"Arial",sans-serif;color:#444444\'>may also provide terms and instructions for special features, offers or operating rules and policies for each Service (for example, flights, hotel reservations, service packages ...). The User is responsible for ensuring compliance with the Service Provider\'s terms and instructions or operating policies, which include the terms and conditions set forth in the fare rules, shipping contracts, or other provisions of Service Providers.<br><br>Gotadi\'s services are provided to the User only on condition that he or she accepts</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444;mso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;\n\t\t\tfont-family:"Arial",sans-serif;color:#444444\'>without modifying all terms, conditions and notices in this Agreement and other Specific Terms of Service (TOS). To eliminate suspicion, this is clarified as follows: The</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>User�s use of the Services is a user\'s acknowledgment and acceptance of these Terms and other specific Terms of Service (TOS).</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>If the User does not agree to any part of such terms, conditions and notices, the User does not need to use the Gotadi Services.<br><br>In case any of these terms, conditions and notices herein conflict with the Additional Terms or other terms and instructions in any other Gotadi documents, these terms will be</span><span lang="VI" style=\'font-size:10.5pt;font-family:\n\t\t\t"Arial",sans-serif;color:#444444;mso-ansi-language:VI\'> applied</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444\'><br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Third Party Account Information</span></strong><br><br>By using the Account Access service on Gotadi\'s website, users allow Gotadi and its agents to access third-party websites, including Banks and other payment gateways, as they designate or on their behalf to obtain the requested information<br><br>During registration, the User will choose a password and be responsible for the password and account security.<br><br>Users are solely responsible for all activities that occur when using their password or account. Users are responsible to notify Gotadi immediately in writing of any unauthorized use of their password or account or any security breach. Gotadi will not be responsible for any losses that may occur to a User due to unauthorized use of their password or account, whether they know it or not. Users will not use other people\'s passwords at any time.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Payment costs</span></strong><br><br>Gotadi reserves the right to charge the rates listed specifically</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>on the</span><span lang="VI" style=\'font-size:10.5pt;font-family:\n\t\t\t"Arial",sans-serif;color:#444444;mso-ansi-language:VI\'> web</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444\'> site, as well as transaction fees based on those completed transactions. Gotadi also reserves the right to change any</span><span lang="VI" style=\'font-size:10.5pt;\n\t\t\tfont-family:"Arial",sans-serif;color:#444444;mso-ansi-language:VI\'> or all fees without notice.</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'><br><br>Users will be solely responsible for all charges, fees, taxes, taxes, and any fixed amounts payable, resulting from the use of the services.<o:p></o:p></span></p><p style="margin-top:0in;margin-right:0in;margin-bottom:15.0pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>In case that Gotadi charges not</span><span lang="VI" style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> enough of</span><span style=\'font-size:10.5pt;\n\t\t\tfont-family:"Arial",sans-serif;color:#444444\'> listing fees, services or transaction fees or any other fees by technical</span><span lang="VI" style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> issue</span><span style=\'font-size:10.5pt;font-family:\n\t\t\t"Arial",sans-serif;color:#444444\'> or other reason, Gotadi reserves the right to deduct / charge / claim the rest after that transaction at its sole discretion.<br><br>On rare occasions, if the booking is not confirmed for any reason, we will issue a refund and notify you. Gotadi has no obligation to rebook or compensate / replace an unconfirmed reservation. All subsequent bookings will be processed as new transactions, without reference to previously unconfirmed bookings.<br><br>The user will request Gotadi to refund the money for the hotel reservation or flight tickets but have not used it for any reason within 90 days from the departure date for the flight ticket and / or Check-in date for hotel reservation. Any refunds that apply will be processed according to the policies of Airlines, Hotels and Gotadi on a case by case basis. Refunds will not be made for any requests made after the 90-day period above. All amounts due to hotel / flight / tour bookings but not yet used as such will be deemed lost.<br>&nbsp;&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Information security</span></strong><br><br>Any information specifically mentioned by Gotadi as Confidential information must be kept by the User confidential and not disclosed except as required by law or for the purposes of this agreement and the obligations of both parties in it.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Gotadi uses the user\'s mobile number</span></strong><br><br>Gotadi may send booking confirmation, itinerary information, cancellation, payment confirmation, refund status, schedule changes or any other information related to the transactions, via information. SMS or call to the contact phone number provided by the User when making a reservation; Gotadi may also contact the User by calling, SMS or email in case the User cannot or has not completed the reservation, for any reason, to know the User\'s willing with the reservation completion and also to help Users. There</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>for, User unconditionally agrees that communications via SMS and / or Gotadi\'s voice call are upon the User\'s request and permission. The User will indemnify Gotadi for all types of damages and damages Gotadi suffered as a result of any action of the state regulatory authorities due to any User error on Gotadi in connection with the notice. mentioned above or provided by a wrong telephone number or email address provided by the User, for any reason.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>User Responsibility&nbsp;</span></strong><br><br>Gotadi is only responsible for transactions made by Users through Gotadi. Gotadi will not be responsible for screening, censoring or controlling transactions, including whether the transaction is legal and valid according to the laws where</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444;mso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;\n\t\t\tfont-family:"Arial",sans-serif;color:#444444\'>User lives.<o:p></o:p></span></p><p style="margin-top:0in;margin-right:0in;margin-bottom:15.0pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>The user assures that he will comply</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>with all additional procedures and guidelines, as amended from time to time, in connection with the use of the services. The user</span><span lang="VI" style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> also</span><span style=\'font-size:10.5pt;font-family:\n\t\t\t"Arial",sans-serif;color:#444444\'> assures that he will comply</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>with all applicable laws and regulations regarding the use of services related to the authority for each transaction.<br><br>Users represent and confirm that they are in</span><span style=\'font-size:10.5pt;\n\t\t\tfont-family:"Arial",sans-serif;color:#444444;mso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444\'>legal age to enter into a binding contract and not to be prohibited from using the Services under the laws of Vietnam or other applicable law..<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Ads on Gotadi or affiliated websites</span></strong><br><br>Gotadi is not responsible for any errors, omissions or descriptions on its website, or on any link or linked website. Gotadi does not endorse the quality of any ads on its sites in any manner. The user must verify the accuracy of all information before taking any action based on that information.<br><br>The linked sites are not under Gotadi\'s control and Gotadi is not responsible for the content of any linked website or any link on a linked website, or any changes or updates. for those sites. Gotadi provides such links to Users solely for their convenience, and the use of any such link does not imply endorsement of that site by Gotadi.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Insurrance</span></strong><br><br>Except as expressly provided by Gotadi in any particular service or transfer, the purchase of full insurance is the User\'s obligation / choice and Gotadi does not accept any claims. Which arises from that.<br><br>Insurance, if provided as part of Gotadi\'s services / products, will</span><span lang="VI" style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> comply</span><span style=\'font-size:10.5pt;font-family:\n\t\t\t"Arial",sans-serif;color:#444444\'> to the insurance company\'s terms and conditions. The user will contact the insurance company directly if there are any complaints or disputes and Gotadi will not make any representations, whether express or implied, that will accept the requests of insurance company.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Cases of Force Majeure</span></strong><br><br>The user agrees that there may be special case when operators such as airlines, hotels, companies or transportation providers cannot make reservations. confirmed for various reasons such as climatic conditions, labor unrest, insolvency, emergency business status, government decisions, regulatory and technical issues, cancel itineraries and flights ... If Gotadi is informed in advance of situations where a reservation may not be made, Gotadi will make every effort to provide the same replacement service to the customer or refund. Reservation amount after deducting reasonable service fees, if supported and refunded n from the respective service operators. The User agrees that Gotadi, as an agent that facilitates booking services, will not be responsible for any such circumstances and the customer must contact the supplier directly. provide that service for other solutions and get a refund (if any).<br><br>The User agrees that in situations due to any technical failure or other failure at Gotadi, previously committed services may not be provided or subject to significant changes. In such cases, Gotadi will refund the entire amount received from the customer for the use of such services minus any cancellation, refund, or other appropriate fees, completing any and Gotadi\'s entire responsibility with respect to failure to provide or inadequate provision of services. Additional amounts, if any, will be paid by the User.<br><br>Gotadi is not responsible for delays or inability to fulfill or fail to fulfill all or part of its obligations due to any cause not due to its acts or omissions and outside reasonable control, such as natural disasters, fires, strikes, sanctions, government actions, acts of terrorism or other similar causes, problems from airlines , rails, buses, hotels, or carriers. In such event, the affected User will be promptly notified as circumstances permit.<br><br>Without prejudice to any of the foregoing, Gotadi\'s maximum liability arising under any circumstances, in connection with any services provided on this website, will be limited to Pay the total amount received by the customer for the use of the service minus any cancellation, refund, or other fees, as applicable. In no event shall the liability include any additional losses, damages or costs beyond the amount of Gotadi collected for its services.<br><br>Gotadi is not responsible for any errors, omissions or representations on any of its websites, or on any affiliate or linked website.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Safety of downloaded data</span></strong><br><br>Users understand and agree that any material and / or data downloaded or obtained by using the Service is done solely at their own decision and</span><span lang="VI" style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> be</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'> responsible for any damage to your computer system or loss of data as a result of downloading such documents and / or data.<br><br>However, Gotadi will always make every effort to ensure that the content on its websites or other information channels does not contain viruses or malware.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Feedback from customers and solicitation of guests<o:p></o:p></span></strong></span></p><p style="margin-top:0in;margin-right:0in;margin-bottom:15.0pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>Users are aware that Gotadi offers a variety of services such as hotel reservations, airline tickets, vacation packages and wants to learn about them, to enhance their travel services. Specifically, the User allows Gotadi to contact him about the provision of various Gotadi services through direct mail, email, phone calls, short message service (SMS). or any other means, at some point. In case the customer chooses not to contact, they will write to Gotadi to service@gotadi.com. Customers should read and understand Gotadi\'s privacy policies on the Gotadi website. Gotadi will contact, solicit User or share the User\'s information in accordance with those privacy policies.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Ownership</span></strong><br><br>Gotadi may provide Users with content such as audio, images, graphics, videos or other materials contained in advertisements or information. This material may be protected by copyright, trademark, or other intellectual property rights and laws.<br><br>Users may use this material only with express permission from Gotadi and will not copy, transmit or create derivative works of such materials without explicit permission.<br><br>Users acknowledge and agree that they will not upload, copy or post any content contained on or through the Services that are protected by copyright or other proprietary rights of a third party, which There is no written permission of the owner of that right.<br><br>Any other proprietary or copyrighted content submitted with the owner\'s consent must contain the appropriate notice of ownership. Uploading or submitting copyrighted or other proprietary content without permission is illegal and may subject the User to personal liability or prosecution.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>User\'s responsibility for VISA</span></strong><br><br>The travel arrangements made by Gotadi also depend on the Visa requirements that each individual traveler must has</span><span style=\'font-size:10.5pt;\n\t\t\tfont-family:"Arial",sans-serif;color:#444444;mso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444\'>by himself. Gotadi is not responsible for any issues, including being unable to travel, arising from such Visa requirements and nor is it responsible for refunding bookings that have not been used for any reason like that.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Limited Personal and Non-commercial Use</span></strong><br><br>Unless otherwise specified, Gotadi\'s services are for User\'s personal and non-commercial use. Users may not alter, copy, distribute, transmit, display, perform, reproduce, publish, license or create derivative works, transfer or sell any information, parts software, product, or service is obtained from the Gotadi website without the express written consent of Gotadi.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Indemnify</span></strong><br><br>The User agrees to indemnify, defend and</span><span lang="VI" style=\'font-size:\n\t\t\t10.5pt;font-family:"Arial",sans-serif;color:#444444;mso-ansi-language:VI\'> keep</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444\'> Gotadi and / or its affiliates, websites and their successors / rights of successor harmless from any and all losses, obligations, claims, damages and expenses (including applicable legal fees and applicable interest rates) that Gotadi and / or its affiliates, partner websites and heirs / legal rights claimed or incurred arising out of, as a result of, or possibly payable for breach of or failure to make any statements, warranties, covenants or agreements made or any obligations that will be fulfilled by Users under this agreement.<br><br>Users will be</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444;mso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;\n\t\t\tfont-family:"Arial",sans-serif;color:#444444\'>solely responsible for any breach of any country-specific rules or code of conduct and Gotadi is not responsible for the same breach.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Right to refuse</span></strong><br><br>Gotadi, in its sole discretion, reserves the right not to accept any order without having to explain any reason. Any contract to provide any of Gotadi\'s services is considered unfinished until the entire amount of the service has been received and approved by Gotadi.<br><br>Without prejudice to other remedies available to Gotadi under this agreement, under certain terms of service (TOS) or applicable law, Gotadi may restrict User activity, or terminate listing of listings. service section for the User, alerting other Users about the actions of a User, immediately and temporarily / indefinitely suspending or terminating the User\'s registration, and / or deny Users access to the website if:<br><br>- User violates this agreement, some terms of service (TOS) and / or accompanying references;<br>- Gotadi cannot verify or authenticate any information provided by the User; or<br>- </span><span style="color:black;mso-color-alt:windowtext">Gotadi believes that User\'s actions may violate the rights of third parties or violate any applicable laws or lead to any liability to the User, to other Users of the site. and / or for Gotadi.</span><span style=\'font-size:10.5pt;font-family:\n\t\t\t"Arial",sans-serif;color:#444444\'><br><br>Gotadi may resume activity for Suspended Users at any time, at its sole discretion. Once suspended for an indefinite term, the User will not register or attempt to register with Gotadi or use the site in any way until it is restored by Gotadi.<br><br>Notwithstanding the foregoing, if User violates this agreement, certain terms of service (TOS) or accompanying references, Gotadi reserves the right to recover any appropriate amount that the User must pay to Gotadi and / or service provider and can sue if Gotadi deems it necessary.<br><br><strong><span style=\'font-family:"Arial",sans-serif\'>Gotadi\'s right to cancel in the case of Invalid User Information</span></strong><br><br>Users warrant that only accurate and valid information is provided to Gotadi</span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444;\n\t\t\tmso-ansi-language:VI\'> </span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>in the process of requesting any service under this Agreement. Any false information from the User will invalidate this agreement and will void the User\'s rights to use the Gotadi services.<br><br>At any time during or after receiving a request to provide services from a User, if Gotadi discovers or has reason to believe that such request is unauthorized or that / the user provided is inaccurate or any facts have been misrepresented by the User, Gotadi, in its sole discretion, has an unrestricted right to perform any action against the User (s), including cancellation of reservation, without prior notice to Users. In such event, Gotadi is not responsible or liable for any loss or damage a User may incur as a result of such reservation or service cancellation.<br><br>The user expressly indemnifies Gotadi for any such claim or liability and shall not hold Gotadi liable for any loss or damage arising from the measures taken by Gotadi to protect. interests and honest customers. This also includes Gotadi\'s denial / cancellation of any bookings due to suspected fraudulent transactions.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Splits</span></strong><br>&nbsp;<br>If any provision of this Agreement is found to be invalid or unenforceable in whole or in part, such nullity or unenforceability will only apply to such provision or portion thereof</span><span lang="VI" style=\'font-size:10.5pt;\n\t\t\tfont-family:"Arial",sans-serif;color:#444444;mso-ansi-language:VI\'>. </span><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;color:#444444\'>The remainder of that provision and all other provisions of this Agreement will continue to be valid and fully enforceable.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Headings</span></strong><br><br>The headings and subsections presented here are for convenience only and are not easily identifiable and are not intended to describe, explain, define or limit the scope, extent or purpose of this Agreement, of the Articles User\'s terms and conditions, notices, or rights to use this website are set forth herein or any other part or page of the Gotadi Website or its partner websites or any terms of this Agreement in any way.<br><br>In case any of the terms, conditions and notices herein conflict with the Additional Terms or other terms and instructions on any Gotadi website, these terms will be</span><span lang="VI" style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444;mso-ansi-language:VI\'> applied.</span><span style=\'font-size:\n\t\t\t10.5pt;font-family:"Arial",sans-serif;color:#444444\'><br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Relationship</span></strong><br><br>There is no provision in any agreement, terms and conditions or notice, or the User\'s right to use this website as set forth herein or any part or page of Gotadi\'s web sites or Partner websites, which are deemed to form a partnership between the User and Gotadi, and neither party has any binding rights or is deemed to be the agent of the other party in any way.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Updated information by Gotadi</span></strong><br><br>The user acknowledges that Gotadi provides services with reasonable diligence and care. Gotadi makes every effort to ensure that Users do not encounter any inconvenience. However, from time to time, the information, software, products and services included or available on Gotadi\'s websites or other sales channels and promotional materials may be inaccurate. or typographical errors, will be corrected immediately after Gotadi realized. Changes are / may be made periodically or in addition to the provided information. Gotadi may make improvements and / or changes on its sites at any time without notice to the User. Any advice received without going through Gotadi\'s authorized representative through Gotadi\'s websites should not be used as a basis for making decisions.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Change the Terms of Use</span></strong><br><br>Gotadi reserves the right to change the terms, conditions, and notices provided on Gotadi\'s website. It is the responsibility of the user to regularly review these terms and conditions.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Competence</span></strong><br>&nbsp;<br>Gotadi expressly disclaims any implied warranties granted by the laws of any jurisdiction or country other than where Gotadi offices are operating. Gotadi considers itself and intends to be the sole authority of the courts in Vietnam.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>User\'s Responsibility for this Agreement</span></strong><br><br>Users fully agree that they are solely at their own risk in using the services. To the extent that Gotadi is only a booking agent on behalf of third party service providers, Gotadi will not have any responsibility for any aspect of the service standards provided by the service Provider. In all cases, Gotadi is not responsible for the services provided by the service providers.<br><br>Gotadi completely disclaims all types of warranties, whether express or implied. No advice or information, whether oral or written, that the User obtains from Gotadi or through the services, will constitute any warranties not expressly set forth herein. or in terms and conditions of service. If the User disagrees with any of the above, they are advised not to read the materials on any of Gotadi\'s pages or use any content, pages, information or any other materials. powered by Gotadi. The only remedy of the User\'s failure to agree, in whole or in part, of this Terms of Use, is to stop using the services after giving Gotadi written notice.<o:p></o:p></span></p><p style="margin-top:0in;margin-right:0in;margin-bottom:15.0pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>&nbsp;<o:p></o:p></span></p><p style="margin-top:0in;margin-right:0in;margin-bottom:15.0pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><b><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>B. Privacy agreement<o:p></o:p></span></b></p><p style="margin-top:0in;margin-right:0in;margin-bottom:15.0pt;margin-left:\n\t\t\t0in;background:#F0F0F0"><span style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444\'>This Privacy Policy describes how we collect, use, disclose, or process the personal information we collect from individuals who use the Gotadi.com website (&quot;Data&quot; Personal Data &quot;) regarding the services we provide via the Gotadi.com website (&quot; Website &quot;). By accessing this Website, the user agrees to the collection, use, disclosure and processing of his Personal Data in the manner described in this Privacy Policy and agrees to waive all rights claim damages on this Personal Data in competent jurisdictions and jurisdictions. All data that we collect and process is stored on servers located in Vietnam, and will be stored on the system until we continue to provide services on the Website.<br>&nbsp;<br>We reserve the right to modify this Privacy Policy to reflect changes in the law, the practice of collecting and using Personal Data, about the features of the Website or advances in technology. If there are adjustments that change the way we collect or use users\' Personal Data, those changes will be posted in this Privacy Policy and the effective date will be noted at the beginning. of this Privacy Policy. Therefore, users should review this Privacy Policy periodically to stay updated on our latest policies and practices. Gotadi will also highlight these important changes before making them.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Information we collect</span></strong><br>&nbsp;<br>We collect the Personal Data that the User provides us when using this Website. Personal Data may include name, address, telephone number, credit card number or e-mail address. We also collect information that is not personally identifiable, but may be related to a User\'s Personal Data, including username, IP address and password, as well as search for departments likes related to specific User searches.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Protecting User Personal Data</span></strong><br>&nbsp;<br>To prevent unauthorized access, we maintain procedures both offline and online, to the extent appropriate to protect Personal Data against accidental or unlawful destruction, or due to data loss. , unexpected data changes, unauthorized disclosure or data access. To protect credit card transactions, Gotadi currently uses SSL (Secure Socket Layer) Technology to encrypt credit card information in the transfer process..<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>How do we use the information we collect?</span></strong><br>&nbsp;<br>We use Personal Data and other information collected through this Website to register Users on our Website and Rewards Program, to provide Users with the following products and services. request, to build features that make the services available on this Website easier to use, and to contact the User about these services. Personal Data is important for us to help customers book faster, better support customers and timely notice of new services and special offers. From time to time, Gotadi may contact the User to request User feedback about the use of this Website, to help us improve the Website, or to introduce the User to special savings plans or promotions. The User is a User of the Website, where the User has agreed to recognize such communications. If the User does not wish to receive notices of savings plans or special promotions, the User simply refuses to receive them by replying to Gotadi via the link provided in such notices.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Sharing User Personal Data</span></strong><br>&nbsp;<br>Gotadi may share User Personal Data with third parties that we hire to perform services on our behalf, to promote our products and services, to handle transactions. translate credit cards or provide Customer Service Users. All such third parties will be obligated to maintain the security and confidentiality of Personal Data, and only process Personal Data in accordance with our instructions.<br>&nbsp;<br>In some cases, Gotadi may require the User to deal directly with a third party to obtain services, or when the User uses this Website to book a hotel or to obtain a good product. Other services, we may provide User Personal Data to that hotel or other relevant third parties.<br>&nbsp;<br>Gotadi may disclose Personal Data in order to protect itself from legal obligations, to meet court requests, legal proceedings, and legal requirements of law enforcement officers. in accordance with applicable law. We may also disclose to buyers related to any sale, transfer, or cession of all or part of our business or company. We may also disclose Personal Data to enforce or apply terms and conditions that apply to our products and services, or to protect our rights, property</span><span lang="VI" style=\'font-size:10.5pt;font-family:"Arial",sans-serif;\n\t\t\tcolor:#444444;mso-ansi-language:VI\'>,</span><span style=\'font-size:10.5pt;\n\t\t\tfont-family:"Arial",sans-serif;color:#444444\'> our Website users, or others.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>Our policy on Cookies</span></strong><br>&nbsp;<br>To serve Users faster and with better quality, we use &quot;cookie&quot; technology on our Website. Cookies are small sets of code, usually stored on a user\'s computer hard drive, allowing a Web site to &quot;personalize&quot; itself to each user by remembering information about that user\'s visit. go to that Website. Cookies can store a variety of information, including IP addresses, navigation data, server information, data transmission times, user preferences, and e-mail addresses and passwords. set up to access the Website. The &quot;Help&quot; section on the toolbar of most Internet browsers will tell the User how to prevent the User\'s browser from accepting new cookies or how to configure the User\'s browser to completely refuse cookies. If you disable cookies, you may not be able to access important functions or features of this Website and its use may be restricted. The cookies used on this Website are related to the user\'s Personal Data.<br>&nbsp;<br><strong><span style=\'font-family:"Arial",sans-serif\'>How can Users access or change their personally identifiable information?</span></strong><br>&nbsp;<br>If the User wishes to update any Personal Data that the User has previously provided, or exercise any right to access, correct, delete, or object to the processing of the User\'s Personal Data Use is subject to applicable laws, please email us at service@gotadi.com. To protect the User\'s privacy and security, we will verify the User\'s identity before granting access to or altering User\'s Personal Data. Any request to access User\'s Personal Data will be answered within 30 days.<o:p></o:p></span></p><p class="MsoNormal"><o:p>&nbsp;</o:p></p></div></div>'),
                e.put("app/home/viettel_home.html", '<div class="history-button"><a ui-sref="user-profile-booking" class="btn"><i class="fa fa-history fa-3"></i></a></div><div class="formSearch"><div class="container reset-container home"><div class="flight-search-home"><div class="tab-content"><div class="tab-pane active" id="flight"><div><div><div class="mainFormSearch"><gtd-flight-home-search-header search-options="vm.searchOptions" do-search="vm.doSearchFlight($searchResult, $searchOptions)"></gtd-flight-home-search-header></div></div></div></div><div class="tab-pane" id="hotel"><div class="row"><div class="col-md-8"><gtd-hotel-home-search-header search-options="vm.hotelSearchOptions" do-search="vm.doSearchHotel($searchResult, $searchOptions)"></gtd-hotel-home-search-header></div></div></div></div></div></div></div>'), e.put("app/hotels/hotel.chooseroom.html", '<div class="flight-search-loading"><div class="modal-body"><form role="form" name="roomForm" novalidate><div class="row margin-bottom-10 gtd-shadow" ng-repeat="pax in vm.chooseRoomSearchOptions"><div class="row"><div class="col-xs-12" style="padding-top: 5px"><div class="col-xs-10"><label class="bold">{{ "hotel.search.header.room" | translate }} {{ $index + 1 }}:</label></div><div class="form-group col-xs-2" style="padding-right: 5px"><div class="width-100pc" style="text-align: right"><!-- <span class="hand bold"\n                                      ng-show="vm.chooseRoomSearchOptions.length > 1"\n                                      ng-click="vm.removePax($index);">X</span> --> <button type="button" class="btn btn-danger btn-xs" ng-show="vm.chooseRoomSearchOptions.length > 1" ng-click="vm.removePax($index)"><span class="fa fa-close"></span></button></div></div></div></div><div class="row"><div class="col-sm-12"><div class="row margin-left-15 margin-right-15" style="padding: 10px 0px 8px 0px"><div class="col-sm-2 control-label" style="vertical-align: middle"><span data-translate="hotel.search.header.adult">Người lớn:</span></div><div class="col-sm-4"><!-- <select class="form-control" ng-model="pax.adultNo">\n                                    <option value="{{item + 1}}" required ng-repeat="item in [8] | makeRange">{{item + 1}} {{\'hotel.search.header.guest\' | translate}}</option>\n                                </select> --><div class="input-group"><span class="input-group-btn"><button ng-click="vm.decreaseAdult(pax)" type="button" class="btn btn-danger btn-number" data-type="minus" data-field="quant[2]"><span class="glyphicon glyphicon-minus"></span></button> </span><input type="text" name="quant[2]" class="form-control input-number" min="1" max="8" ng-model="pax.adultQuantity" ng-change="vm.limitInput($event, pax, \'adultQuantity\', 8)"> <span class="input-group-btn"><button ng-click="vm.increaseAdult(pax)" type="button" class="btn btn-success btn-number" data-type="plus" data-field="quant[2]"><span class="glyphicon glyphicon-plus"></span></button></span></div></div><div class="col-sm-2 control-label" style="vertical-align: middle"><span data-translate="hotel.search.header.children">Trẻ em:</span></div><div class="col-sm-4"><!-- <select class="form-control" ng-model="pax.childrenNo">\n                                     <option value="{{item}}" ng-repeat="item in [5] | makeRange">{{item}} {{\'hotel.search.header.guest\' | translate}}</option>\n                                </select> --><div class="input-group"><span class="input-group-btn"><button ng-click="vm.decreaseChild(pax)" type="button" class="btn btn-danger btn-number" data-type="minus" data-field="quant[2]"><span class="glyphicon glyphicon-minus"></span></button> </span><input type="text" name="" class="form-control input-number" ng-model="pax.childQuantity" min="1" max="4" ng-change="vm.limitInput($event, pax, \'childQuantity\', 4)"> <span class="input-group-btn"><button ng-click="vm.increaseChild(pax)" type="button" class="btn btn-success btn-number" data-type="plus" data-field="quant[2]"><span class="glyphicon glyphicon-plus"></span></button></span></div></div></div></div></div><div class="col-xs-12 margin-top-10" style="margin-bottom: 10px" ng-show="pax.childQuantity > 0"><div class="col-xs-3 no-margin-left no-padding-left" ng-repeat="item in [pax.childQuantity] | makeRange track by $index"><div><span data-translate="hotel.search.childnge"></span>&nbsp;{{ $index + 1 }}</div><select class="form-control inline-block width-100pc margin-right-15" style="width: 90%" ng-model="pax.childrenAges[$index]"><option value="0">&lt; 1 {{ "hotel.search.header.yrs" | translate }}</option><option ng-repeat="age in vm.ageOptions" value="{{ age }}">{{ age }}</option></select></div></div></div><div class="row" style="margin-top: 10px"><div class="col-xs-6" style="vertical-align: middle;margin-top: 6px" ng-click="vm.addPax();"><span class="text-color3-em hand" data-translate="hotel.search.addroom"></span>&nbsp; <span class="fa fa-plus-circle text-color3 hand"></span></div><div class="col-xs-6"><div class="btn gtd-btn-default pull-right" ng-disabled="roomForm.$invalid" ng-click="vm.cancel();"><span data-translate="hotel.search.done"></span></div></div></div></form></div></div>'), e.put("app/account/activate/activate.html", '<div><div class="row"><div class="col-md-8 col-md-offset-2"><h1 data-translate="activate.title">Activation</h1><div class="alert alert-success" ng-show="vm.success" data-translate="activate.messages.success" translate-compile><strong>Your user has been activated.</strong> Please <a class="alert-link" href="" ng-click="vm.login()">sign in</a>.</div><div class="alert alert-danger" ng-show="vm.error" data-translate="activate.messages.error"><strong>Your user could not be activated.</strong> Please use the registration form to sign up.</div></div></div></div>'), e.put("app/account/password/password.dialog.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="row"><div class="col-md-8 gtd-form" style="margin-top: 30px;margin-bottom: 30px"><div class="form-title text-gtd-3">Đổi mật khẩu</div><!--<div class="form-title" data-translate="password.title" translate-values="{username: \'{{vm.account.login}}\'}">Password for [<b>{{vm.account.login}}</b>]</div>--><div style="width: 80%"><div class="alert alert-danger" ng-show="vm.error" data-translate="password.messages.error"><strong>An error has occurred!</strong> The password could not be changed.</div><div class="alert alert-danger" ng-show="vm.doNotMatch" data-translate="global.messages.error.dontmatch">The password and its confirmation do not match!</div><div class="alert alert-danger" ng-show="vm.samePassword" data-translate="global.messages.error.samepass">SamePassowrd!</div><div class="" ng-hide="vm.success"><p><!--Vui lòng nhập mật khẩu mới của bạn tại đây--></p></div><div class="" ng-show="vm.success == \'OK\'"><p>Mật khẩu tài khoản <span class="hand text-color3 text-bold">{{vm.account.login}}</span> đã được cập nhật thành công.<br>Nếu bạn có thắc mác nào về Gotadi.com, xin vui lòng liên hệ bộ phận chăm sóc khách hàng của Gotadi với <b>Hotline 1900 9002</b></p><p><!--Đăng nhập tài khoản. <span class="hand text-color3 text-underlined" ng-click="vm.login()">Click</span>--> <button class="btn gtd-btn-default gtd-btn-medium btn-grey-em" type="button" ng-click="vm.cancel();"><span class="uppercase ng-scope">OK</span></button></p></div></div><form name="form" ng-show="!vm.success" role="form" novalidate ng-submit="vm.changePassword()" show-validation><div class="form-group"><div class="row"><div class="col-md-4"><label for="oldpassword">Nhập mật khẩu cũ</label></div><div class="col-md-8 no-padding-left"><input style="width: 250px" type="password" class="form-control" id="oldpassword" name="oldpassword" placeholder="Mật khẩu của bạn" ng-model="vm.oldPassword" ng-minlength="8" ng-maxlength="50" ng-pattern="vm.passwordpattern" required></div></div><div class="row no-padding-left"><div class="col-md-4 no-padding-left"></div><div class="col-md-8 no-padding-left" ng-show="form.oldpassword.$dirty && form.oldpassword.$invalid"><p class="help-block" ng-show="form.oldpassword.$error.required" data-translate="global.messages.validate.newpassword.required">Your password is required.</p><p class="help-block" ng-show="form.oldpassword.$error.minlength" data-translate="global.messages.validate.newpassword.minlength">Your password is required to be at least 8 characters.</p><p class="help-block" ng-show="form.oldpassword.$error.maxlength" data-translate="global.messages.validate.newpassword.maxlength">Your password cannot be longer than 50 characters.</p><p class="help-block" ng-show="form.oldpassword.$error.pattern && !form.oldpassword.$error.minlength" data-translate="global.messages.validate.newpassword.pattern">Your password must contain at least 1 character & 1 number.</p></div></div></div><div class="form-group"><div class="row"><div class="col-md-4"><label for="password" data-translate="global.form.newpassword">New password</label></div><div class="col-md-8 no-padding-left"><input style="width: 250px" type="password" class="form-control" id="password" name="password" placeholder="{{\'global.form.newpassword.placeholder\' | translate}}" ng-model="vm.password" ng-minlength="8" ng-maxlength="50" ng-pattern="vm.passwordpattern" required></div></div><div class="row no-padding-left"><div class="col-md-4 no-padding-left"></div><div class="col-md-8 no-padding-left" ng-show="form.password.$dirty && form.password.$invalid"><p class="help-block" ng-show="form.password.$error.required" data-translate="global.messages.validate.newpassword.required">Your password is required.</p><p class="help-block" ng-show="form.password.$error.minlength" data-translate="global.messages.validate.newpassword.minlength">Your password is required to be at least 8 characters.</p><p class="help-block" ng-show="form.password.$error.maxlength" data-translate="global.messages.validate.newpassword.maxlength">Your password cannot be longer than 50 characters.</p><p class="help-block" ng-show="form.password.$error.pattern && !form.password.$error.minlength" data-translate="global.messages.validate.newpassword.pattern">Your password must contain at least 1 character & 1 number.</p></div></div><!--<password-strength-bar password-to-check="vm.password"></password-strength-bar>--></div><div class="form-group"><div class="row"><div class="col-md-4"><label for="confirmPassword" data-translate="global.form.confirmpassword">New password confirmation</label></div><div class="col-md-8 no-padding-left"><input style="width: 250px" type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="{{\'global.form.confirmpassword.placeholder\' | translate}}" ng-model="vm.confirmPassword" ng-minlength="8" ng-maxlength="50" ng-pattern="vm.passwordpattern" required></div></div><div class="row no-padding-left"><div class="col-md-4 no-padding-left"></div><div class="col-md-8 no-padding-left" ng-show="form.confirmPassword.$dirty && form.confirmPassword.$invalid"><p class="help-block" ng-show="form.confirmPassword.$error.required" data-translate="global.messages.validate.confirmpassword.required">Your confirmation password is required.</p><p class="help-block" ng-show="form.confirmPassword.$error.minlength" data-translate="global.messages.validate.confirmpassword.minlength">Your confirmation password is required to be at least 8 characters.</p><p class="help-block" ng-show="form.confirmPassword.$error.maxlength" data-translate="global.messages.validate.confirmpassword.maxlength">Your confirmation password cannot be longer than 50 characters.</p><p class="help-block" ng-show="form.confirmPassword.$error.pattern && !form.confirmPassword.$error.minlength" data-translate="global.messages.validate.newpassword.pattern">Your password must contain at least 1 character & 1 number.</p></div></div></div><button type="submit" ng-disabled="form.$invalid" class="btn btn-green-em gtd-btn-small"><span class="fa fa-floppy-o" style="margin-right: 5px"></span> <span data-translate="password.form.button"></span></button> <button class="btn gtd-btn-default gtd-btn-small btn-grey-em" type="button" ng-click="vm.cancel();"><span class="uppercase ng-scope">Huỷ</span></button></form></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/account/password/password.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="row"><div class="col-md-8 col-md-offset-2 gtd-form"><div class="form-title">Đặt lại mật khẩu mới</div><!--<div class="form-title" data-translate="password.title" translate-values="{username: \'{{vm.account.login}}\'}">Password for [<b>{{vm.account.login}}</b>]</div>--><div class="alert alert-danger" ng-show="vm.error" data-translate="password.messages.error"><strong>An error has occurred!</strong> The password could not be changed.</div><div class="alert alert-danger" ng-show="vm.doNotMatch" data-translate="global.messages.error.dontmatch">The password and its confirmation do not match!</div><div class="alert alert-danger" ng-show="vm.samePassword" data-translate="global.messages.error.samepass">SamePassowrd!</div><div class="" ng-hide="vm.success"><p>Vui lòng nhập mật khẩu mới của bạn tại đây</p></div><div class="" ng-show="vm.success == \'OK\'"><p>Mật khẩu tài khoản <span class="hand text-color3 text-bold">{{vm.account.login}}</span> đã được cập nhật thành công.<br>Nếu bạn có thắc mác nào về Gotadi.com, xin vui lòng liên hệ bộ phận chăm sóc khách hàng của Gotadi với <b>Hotline 1900 9002</b></p><p>Đăng nhập tài khoản. <span class="hand text-color3 text-underlined" ng-click="vm.login()">Click</span></p></div><form name="form" ng-show="!vm.success" role="form" novalidate ng-submit="vm.changePassword()" show-validation><div class="form-group"><label class="control-label" for="oldpassword">Mật khẩu hiện tại</label><input style="width: 250px" type="password" class="form-control" id="oldpassword" name="oldpassword" placeholder="Mật khẩu của bạn" ng-model="vm.oldPassword" ng-minlength="8" ng-maxlength="50" ng-pattern="vm.passwordpattern" required><div ng-show="form.oldpassword.$dirty && form.oldpassword.$invalid"><p class="help-block" ng-show="form.oldpassword.$error.required" data-translate="global.messages.validate.newpassword.required">Your password is required.</p><p class="help-block" ng-show="form.oldpassword.$error.minlength" data-translate="global.messages.validate.newpassword.minlength">Your password is required to be at least 8 characters.</p><p class="help-block" ng-show="form.oldpassword.$error.maxlength" data-translate="global.messages.validate.newpassword.maxlength">Your password cannot be longer than 50 characters.</p><p class="help-block" ng-show="form.oldpassword.$error.pattern && !form.oldpassword.$error.minlength" data-translate="global.messages.validate.newpassword.pattern">Your password must contain at least 1 character & 1 number.</p></div></div><div class="form-group"><label class="control-label" for="password" data-translate="global.form.newpassword">New password</label><input style="width: 250px" type="password" class="form-control" id="password" name="password" placeholder="{{\'global.form.newpassword.placeholder\' | translate}}" ng-model="vm.password" ng-minlength="8" ng-maxlength="50" ng-pattern="vm.passwordpattern" required><div ng-show="form.password.$dirty && form.password.$invalid"><p class="help-block" ng-show="form.password.$error.required" data-translate="global.messages.validate.newpassword.required">Your password is required.</p><p class="help-block" ng-show="form.password.$error.minlength" data-translate="global.messages.validate.newpassword.minlength">Your password is required to be at least 8 characters.</p><p class="help-block" ng-show="form.password.$error.maxlength" data-translate="global.messages.validate.newpassword.maxlength">Your password cannot be longer than 50 characters.</p><p class="help-block" ng-show="form.newpassword.$error.pattern && !form.newpassword.$error.minlength" data-translate="global.messages.validate.newpassword.pattern">Your password must contain at least 1 character & 1 number.</p></div><!--<password-strength-bar password-to-check="vm.password"></password-strength-bar>--></div><div class="form-group"><label class="control-label" for="confirmPassword" data-translate="global.form.confirmpassword">New password confirmation</label><input style="width: 250px" type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="{{\'global.form.confirmpassword.placeholder\' | translate}}" ng-model="vm.confirmPassword" ng-minlength="8" ng-maxlength="50" ng-pattern="vm.passwordpattern" required><div ng-show="form.confirmPassword.$dirty && form.confirmPassword.$invalid"><p class="help-block" ng-show="form.confirmPassword.$error.required" data-translate="global.messages.validate.confirmpassword.required">Your confirmation password is required.</p><p class="help-block" ng-show="form.confirmPassword.$error.minlength" data-translate="global.messages.validate.confirmpassword.minlength">Your confirmation password is required to be at least 8 characters.</p><p class="help-block" ng-show="form.confirmPassword.$error.maxlength" data-translate="global.messages.validate.confirmpassword.maxlength">Your confirmation password cannot be longer than 50 characters.</p><p class="help-block" ng-show="form.confirmPassword.$error.pattern && !form.confirmPassword.$error.minlength" data-translate="global.messages.validate.newpassword.pattern">Your password must contain at least 1 character & 1 number.</p></div></div><button type="submit" ng-disabled="form.$invalid" class="btn btn-green-em gtd-btn-medium" data-translate="password.form.button">Save</button> <button class="btn gtd-btn-default gtd-btn-medium btn-grey-em" type="button" ng-click="vm.cancel();"><span class="uppercase ng-scope">Huỷ</span></button></form></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/account/profile/profile.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner gtd-profile-form"><div class="row"><div class="col-md-12"><!-- BEGIN PROFILE SIDEBAR --><div class="profile-sidebar"><!-- PORTLET MAIN --><gtd-profile-menu profile-model="vm.profileModel"></gtd-profile-menu><!-- END PORTLET MAIN --></div><!-- END BEGIN PROFILE SIDEBAR --><!-- BEGIN PROFILE CONTENT --><div class="profile-content"><div class="row"><form role="form" name="userprofileform" novalidate><div class="col-sm-12"><!-- USER INFO --><gtd-profile-user-info profile-model="vm.profileModel" short-profile="vm.shortProfile"></gtd-profile-user-info><!-- END USER INFO --><!-- DOC INFO --><gtd-profile-doc-info profile-model="vm.profileModel"></gtd-profile-doc-info><!-- END DOC INFO --><!-- INVOICE INFO --><gtd-profile-invoice-info profile-model="vm.profileModel" short-profile="vm.shortProfile"></gtd-profile-invoice-info><!-- END INVOICE INFO --><!-- Action button --><div ng-show="vm.profileModel.mode === \'edit\'"><button class="btn gtd-btn-default gtd-btn-small btn-green" type="submit" ng-click="vm.saveUserInfo(userprofileform)"><span class="uppercase ng-scope">{{\'global.menu.account.profiles.save\'| translate}}</span></button> <button class="btn gtd-btn-default gtd-btn-small btn-grey-em" type="button" ng-click="vm.cancel()"><span class="uppercase ng-scope">{{\'global.menu.account.profiles.cancel\'| translate}}</span></button></div><div ng-show="vm.profileModel.mode === \'view\'"><button id="button" class="btn gtd-btn-default btn-green" type="button" ng-click="vm.profileModel.mode = \'edit\'"><span class="fa fa-pencil-square-o"></span> <span class="uppercase ng-scope">{{\'global.menu.account.profiles.edit\'| translate}}</span></button></div><!-- END Action button --></div></form></div></div><!-- END PROFILE CONTENT --></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/account/profile/profile.membercard.delete.html", '<div class="portlet delete-card-dialog light no-border"><div class="portlet-title"><div class="caption"><span class="caption-subject bold text-gtd-3 uppercase">Xoá thẻ khách hàng thường xuyên</span></div></div><div class="portlet-body"><div class="content"><span>Bạn có thực sự muốn xóa thẻ khách hàng?</span></div><div class="buttons-actions"><div class="btn btn-green" ng-click="vm.submit()"><span class="fa fa-trash"></span><span class="uppercase"> Đồng ý</span></div><div class="btn btn-grey" ng-click="vm.cancel()"><span class="uppercase">Huỷ</span></div></div></div></div>'), e.put("app/account/register/register.html", '<div class="modal-header login-modal-header"><div class="modal-body bg-login"><div class="row"><div class="col-md-5 login-title"><span class="" data-translate="">Đăng ký thành viên</span></div><div class="col-md-7"></div></div><div class="row"><div class="alert alert-success" ng-show="vm.success" data-translate="register.messages.success"><strong>Registration saved!</strong> Please check your email for confirmation.</div><div class="alert alert-danger" ng-show="vm.error" data-translate="register.messages.error.fail"><strong>Registration failed!</strong> Please try again later.</div><div class="alert alert-danger" ng-show="vm.errorUserExists" data-translate="register.messages.error.userexists"><strong>Login name already registered!</strong> Please choose another one.</div><div class="alert alert-danger" ng-show="vm.errorEmailExists" data-translate="register.messages.error.emailexists"><strong>E-mail is already in use!</strong> Please choose another one.</div><div class="alert alert-danger" ng-show="vm.doNotMatch" data-translate="global.messages.error.dontmatch">The password and its confirmation do not match!</div></div><!--</div>--><div class="row"><div class="col-md-8 col-md-offset-2"><div class="alert alert-danger" ng-show="vm.authenticationError" data-translate="login.messages.error.authentication"><strong>Failed to sign in!</strong> Please check your credentials and try again.</div></div><div class="col-md-6 content-left"><a href="https://cms.gotadi.com//loi-ich-thanh-vien" style="float:right; color: black; text-decoration: underline" target="_blank" class="text-underlined"><img src="../../../content/images/1x_star-member-icon-c9ea235692.png" alt="" style="padding: 10px 4px">Quyền lợi thành viên</a><div style="clear:both"></div><form ng-show="!vm.success" name="form" role="form" novalidate ng-submit="vm.register()" show-validation><div class="form-group"><div class="input-icon"><i class="fa fa-user font-grey"></i> <input type="email" gtd-email class="form-control" id="email" name="email" placeholder="{{\'global.form.email.placeholder\' | translate}}" ng-model="vm.registerAccount.email" ng-minlength="5" ng-maxlength="100" required></div><div ng-show="form.email.$dirty && form.email.$invalid"><p class="help-block" ng-show="form.email.$error.required" data-translate="global.messages.validate.email.required">Your e-mail is required.</p><p class="help-block" ng-show="form.email.$error.email || form.email.$error.emailValidator" data-translate="global.messages.validate.email.invalid">Your e-mail is invalid.</p><p class="help-block" ng-show="form.email.$error.minlength" data-translate="global.messages.validate.email.minlength">Your e-mail is required to be at least 5 characters.</p><p class="help-block" ng-show="form.email.$error.maxlength" data-translate="global.messages.validate.email.maxlength">Your e-mail cannot be longer than 100 characters.</p></div></div><div class="form-group"><div class="input-icon"><i class="fa fa-lock font-grey"></i> <input type="password" class="form-control" id="password" name="password" placeholder="{{\'global.form.newpassword.placeholder\' | translate}}" ng-model="vm.registerAccount.password" ng-minlength="8" ng-maxlength="50" ng-pattern="vm.passwordpattern" required></div><div ng-show="form.password.$dirty && form.password.$invalid"><p class="help-block" ng-show="form.password.$error.required" data-translate="global.messages.validate.newpassword.required">Your password is required.</p><p class="help-block" ng-show="form.password.$error.minlength" data-translate="global.messages.validate.newpassword.minlength">Your password is required to be at least 8 characters.</p><p class="help-block" ng-show="form.password.$error.maxlength" data-translate="global.messages.validate.newpassword.maxlength">Your password cannot be longer than 50 characters.</p><p class="help-block" ng-show="form.password.$error.pattern && !form.password.$error.minlength" data-translate="global.messages.validate.newpassword.pattern">Your password must contain at least 1 character & 1 number.</p></div></div><div class="form-group"><div class="input-icon"><i class="fa fa-lock font-grey"></i> <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="{{\'global.form.confirmpassword.placeholder\' | translate}}" ng-model="vm.confirmPassword" ng-minlength="8" ng-maxlength="50" ng-pattern="vm.passwordpattern" required></div><div ng-show="form.confirmPassword.$dirty && form.confirmPassword.$invalid"><p class="help-block" ng-show="form.confirmPassword.$error.required" data-translate="global.messages.validate.confirmpassword.required">Your confirmation password is required.</p><p class="help-block" ng-show="form.confirmPassword.$error.minlength" data-translate="global.messages.validate.confirmpassword.minlength">Your confirmation password is required to be at least 4 characters.</p><p class="help-block" ng-show="form.confirmPassword.$error.maxlength" data-translate="global.messages.validate.confirmpassword.maxlength">Your confirmation password cannot be longer than 50 characters.</p><p class="help-block" ng-show="form.confirmPassword.$error.pattern && !form.confirmPassword.$error.minlength" data-translate="global.messages.validate.newpassword.pattern">Your password must contain at least 1 character & 1 number.</p></div></div><div class="form-group"><!--<label for="rememberMe">--> <input type="checkbox" id="rememberMe" ng-model="vm.rememberMe" checked="checked"> <span>Qua việc đăng ký tài khoản, bạn đồng ý với các <a class="hand text-bold text-underlined" style="color: unset" href="https://cms.gotadi.com/cac-dieu-khoan-su-dung.aspx" target="_blank">Điều Khoản và Điều Kiện</a> của chúng tôi </span><!--</label>--></div><button type="submit" ng-disabled="form.$invalid || !vm.rememberMe" class="btn btn-green-em"><span data-translate="register.form.button">Register</span> <span class="fa fa-arrow-circle-o-right"></span></button></form><p></p><div class="" ng-hide="vm.success" translate-compile>Bạn đã là thành viên ? <a class="register-link" href="" ng-click="vm.login()">ĐĂNG NHẬP</a></div></div><div class="col-md-6"><!--<br/>--><div class="gtd-h3 social-login-header">Hoặc đăng nhập với</div><jh-social ng-provider="facebook" parent="vm.parent"></jh-social><jh-social ng-provider="google" parent="vm.parent"></jh-social><div class="gtd-h6 social-login-footer">- Chúng tôi sẽ giữ thông tin cá nhân riêng tư của bạn.</div><div class="gtd-h6">- Không có gì được chia sẻ mà không cần sự đồng ý của bạn.</div><div class="gtd-h6">- Thưởng thức đăng nhập nhanh hơn.</div><!--<jh-social ng-provider="twitter"></jh-social>--><!-- jhipster-needle-add-social-button --></div></div></div></div>'), e.put("app/account/settings/settings.html", '<div><div class="row"><div class="col-md-8 col-md-offset-2"><h2 data-translate="settings.title" translate-values="{username: \'{{vm.settingsAccount.login}}\'}">User settings for [<b>{{vm.settingsAccount.login}}</b>]</h2><div class="alert alert-success" ng-show="vm.success" data-translate="settings.messages.success"><strong>Settings saved!</strong></div><jhi-alert-error></jhi-alert-error><form name="form" role="form" novalidate ng-submit="vm.save()" show-validation><div class="form-group"><label class="control-label" for="firstName" data-translate="settings.form.firstname">First Name</label><input type="text" class="form-control" id="firstName" name="firstName" placeholder="{{\'settings.form.firstname.placeholder\' | translate}}" ng-model="vm.settingsAccount.firstName" ng-minlength="1" ng-maxlength="50" required maxlength="50"><div ng-show="form.firstName.$dirty && form.firstName.$invalid"><p class="help-block" ng-show="form.firstName.$error.required" data-translate="settings.messages.validate.firstname.required">Your first name is required.</p><p class="help-block" ng-show="form.firstName.$error.minlength" data-translate="settings.messages.validate.firstname.minlength">Your first name is required to be at least 1 character.</p><p class="help-block" ng-show="form.firstName.$error.maxlength" data-translate="settings.messages.validate.firstname.maxlength">Your first name cannot be longer than 50 characters.</p></div></div><div class="form-group"><label class="control-label" for="lastName" data-translate="settings.form.lastname">Last Name</label><input type="text" class="form-control" id="lastName" name="lastName" placeholder="{{\'settings.form.lastname.placeholder\' | translate}}" ng-model="vm.settingsAccount.lastName" ng-minlength="1" ng-maxlength="50" required maxlength="50"><div ng-show="form.lastName.$dirty && form.lastName.$invalid"><p class="help-block" ng-show="form.lastName.$error.required" data-translate="settings.messages.validate.lastname.required">Your last name is required.</p><p class="help-block" ng-show="form.lastName.$error.minlength" data-translate="settings.messages.validate.lastname.minlength">Your last name is required to be at least 1 character.</p><p class="help-block" ng-show="form.lastName.$error.maxlength" data-translate="settings.messages.validate.lastname.maxlength">Your last name cannot be longer than 50 characters.</p></div></div><div class="form-group"><label class="control-label" for="email" data-translate="global.form.email">Email</label><input type="email" gtd-email class="form-control" id="email" name="email" placeholder="{{\'global.form.email.placeholder\' | translate}}" ng-model="vm.settingsAccount.email" ng-minlength="5" ng-maxlength="100" required maxlength="100"><div ng-show="form.email.$dirty && form.email.$invalid"><p class="help-block" ng-show="form.email.$error.required" data-translate="global.messages.validate.email.required">Your email is required.</p><p class="help-block" ng-show="form.email.$error.email" data-translate="global.messages.validate.email.invalid">Your email is invalid.</p><p class="help-block" ng-show="form.email.$error.minlength" data-translate="global.messages.validate.email.minlength">Your email is required to be at least 5 characters.</p><p class="help-block" ng-show="form.email.$error.maxlength" data-translate="global.messages.validate.email.maxlength">Your email cannot be longer than 100 characters.</p></div></div><div class="form-group"><label for="langKey" data-translate="settings.form.language">Language</label><select id="langKey" name="langKey" class="form-control" ng-model="vm.settingsAccount.langKey" ng-controller="OtaLanguageController as languageVm" ng-options="code as (code | findLanguageFromKey) for code in languageVm.languages"></select></div><button type="submit" ng-disabled="form.$invalid" class="btn btn-primary" data-translate="settings.form.button">Save</button></form></div></div></div>'), e.put("app/account/social/social-register.html", '<div><div class="row"><div class="col-md-8 col-md-offset-2"><!--<h1 ng-show="success" data-translate="social.register.title" translate-values="{ label: vm.providerLabel }">Registration with</h1>--><h1 ng-show="error" data-translate="social.register.errorTitle">Registration</h1><!--<div class="alert alert-success" ng-show="vm.success" data-translate="social.register.messages.success">--><!--<strong>Registration saved!</strong> Please check your email for confirmation.--><!--</div>--><div class="alert alert-danger" ng-show="vm.error" data-translate="social.register.messages.error.fail"><strong>Registration failed!</strong> Please try again later.</div><!--<jh-social ng-if="vm.success" ng-provider="{{ vm.provider }}"></jh-social>--><!--<br/>--><!--<div class="alert alert-warning" data-translate="global.messages.info.authenticated">--><!--If you want to <a class="alert-link" href="#/login">sign in</a>--><!--</div>--></div></div></div>'),
                e.put("app/admin/audits/audits.html", '<div><h2 data-translate="audits.title">Audits</h2><div class="row"><div class="col-md-5"><h4 data-translate="audits.filter.title">Filter by date</h4><p class="input-group"><span class="input-group-addon" data-translate="audits.filter.from">from</span> <input type="date" class="input-sm form-control" name="start" ng-model="vm.fromDate" ng-change="vm.onChangeDate()" required> <span class="input-group-addon" data-translate="audits.filter.to">to</span> <input type="date" class="input-sm form-control" name="end" ng-model="vm.toDate" ng-change="vm.onChangeDate()" required></p></div></div><table class="table table-condensed table-striped table-bordered table-responsive"><thead><tr><th ng-click="predicate = \'timestamp\'; reverse=!reverse"><span data-translate="audits.table.header.date">Date</span></th><th ng-click="predicate = \'principal\'; reverse=!reverse"><span data-translate="audits.table.header.principal">User</span></th><th ng-click="predicate = \'type\'; reverse=!reverse"><span data-translate="audits.table.header.status">State</span></th><th ng-click="predicate = \'data.message\'; reverse=!reverse"><span data-translate="audits.table.header.data">Extra data</span></th></tr></thead><tr ng-repeat="audit in vm.audits | filter:filter | orderBy:predicate:reverse" ng-hide="audit.filtered"><td><span>{{audit.timestamp| date:\'medium\'}}</span></td><td><small>{{audit.principal}}</small></td><td>{{audit.type}}</td><td><span ng-show="audit.data.message">{{audit.data.message}}</span> <span ng-show="audit.data.remoteAddress"><span data-translate="audits.table.data.remoteAddress">Remote Address</span> {{audit.data.remoteAddress}}</span></td></tr></table><div class="text-center"><uib-pagination class="pagination-sm" total-items="vm.totalItems" ng-model="vm.page" ng-change="vm.loadPage(vm.page)"></uib-pagination></div></div>'), e.put("app/admin/configuration/configuration.html", '<div><h2 data-translate="configuration.title">Configuration</h2><span data-translate="configuration.filter">Filter (by prefix)</span> <input type="text" ng-model="filter" class="form-control"><h3 ng-hide="filteredConfig.length === 0">Spring configuration</h3><table class="table table-condensed table-striped table-bordered table-responsive" style="table-layout:fixed" ng-hide="filteredConfig.length === 0"><thead><tr><th ng-click="predicate = \'prefix\'; reverse=!reverse" class="col-sm-4"><span data-translate="configuration.table.prefix">Prefix</span></th><th data-translate="configuration.table.properties" class="col-sm-8">Properties</th></tr></thead><tr ng-repeat="entry in filtered = (vm.configuration | filter:filter | orderBy:predicate:reverse)"><td><span>{{entry.prefix}}</span></td><td><div class="row" ng-repeat="(key, value) in entry.properties"><div class="col-md-4">{{key}}</div><div class="col-md-8"><span class="pull-right label label-success break">{{value}}</span></div></div></td></tr></table><div ng-repeat="(key, value) in vm.allConfiguration"><h4 ng-hide="filtered.length === 0"><span>{{key}}</span></h4><table class="table table-condensed table-striped table-bordered table-responsive" style="table-layout:fixed" ng-hide="filtered.length === 0"><thead><tr><th class="col-sm-4">Property</th><th class="col-sm-8">Value</th></tr></thead><tbody><tr ng-repeat="item in filtered = (value | filter:filter)"><td class="break">{{item.key}}</td><td class="break"><span class="pull-right label label-success break">{{item.val}}</span></td></tr></tbody></table></div></div>'), e.put("app/admin/gateway/gateway.html", '<div><h2 data-translate="gateway.title">Gateway</h2><h3 data-translate="gateway.routes.title">Current routes</h3><p><button type="button" class="btn btn-primary" ng-click="vm.refresh()" ng-show="vm.updatingRoutes === false"><span class="glyphicon glyphicon-refresh glyphicon-"></span>&nbsp;<span data-translate="gateway.refresh.button">Refresh</span></button> <button type="button" class="btn btn-danger" ng-show="vm.updatingRoutes"><span class="glyphicon glyphicon-refresh"></span>&nbsp;<span data-translate="gateway.refresh.button">Refresh</span></button></p><table class="table table-striped table-responsive"><thead><tr><th data-translate="gateway.routes.url">URL</th><th data-translate="gateway.routes.service">Service</th><th data-translate="gateway.routes.servers">Available servers</th></tr></thead><tr ng-repeat="route in vm.gatewayRoutes"><td>{{route.path}}</td><td>{{route.serviceId}}</td><td><div ng-show="{{route.serviceInstances.length === 0}}" class="label label-danger" data-translate="gateway.routes.error">Warning: no server available!</div><table class="table table-responsive"><tr ng-repeat="instance in route.serviceInstances"><td>{{instance.host}}:{{instance.port}}</td><td ng-show="{{instance.instanceInfo.status === \'UP\'}}"><div class="label label-success">{{instance.instanceInfo.status}}</div></td><td ng-hide="{{instance.instanceInfo.status === \'UP\'}}"><div class="label label-danger">{{instance.instanceInfo.status}}</div></td></tr></table></td></tr></table></div>'), e.put("app/admin/docs/docs.html", '<iframe src="swagger-ui/index.html" frameborder="0" marginheight="0" marginwidth="0" width="100%" height="900" scrolling="auto" target="_top" title="Swagger UI"></iframe>'), e.put("app/admin/logs/logs.html", '<div class="table-responsive"><h2 data-translate="logs.title">Logs</h2><p data-translate="logs.nbloggers" translate-values="{total: \'{{ vm.loggers.length }}\'}">There are {{ vm.loggers.length }} loggers.</p><span data-translate="logs.filter">Filter</span> <input type="text" ng-model="filter" class="form-control"><table class="table table-condensed table-striped table-bordered"><thead><tr title="click to order"><th ng-click="predicate = \'name\'; reverse=!reverse"><span data-translate="logs.table.name">Name</span></th><th ng-click="predicate = \'level\'; reverse=!reverse"><span data-translate="logs.table.level">Level</span></th></tr></thead><tr ng-repeat="logger in vm.loggers | filter:filter | orderBy:predicate:reverse"><td><small>{{logger.name | characters:140}}</small></td><td><button ng-click="vm.changeLevel(logger.name, \'TRACE\')" ng-class="(logger.level==\'TRACE\') ? \'btn-danger\' : \'btn-default\'" class="btn btn-default btn-xs">TRACE</button> <button ng-click="vm.changeLevel(logger.name, \'DEBUG\')" ng-class="(logger.level==\'DEBUG\') ? \'btn-warning\' : \'btn-default\'" class="btn btn-default btn-xs">DEBUG</button> <button ng-click="vm.changeLevel(logger.name, \'INFO\')" ng-class="(logger.level==\'INFO\') ? \'btn-info\' : \'btn-default\'" class="btn btn-default btn-xs">INFO</button> <button ng-click="vm.changeLevel(logger.name, \'WARN\')" ng-class="(logger.level==\'WARN\') ? \'btn-success\' : \'btn-default\'" class="btn btn-default btn-xs">WARN</button> <button ng-click="vm.changeLevel(logger.name, \'ERROR\')" ng-class="(logger.level==\'ERROR\') ? \'btn-primary\' : \'btn-default\'" class="btn btn-default btn-xs">ERROR</button></td></tr></table></div>'), e.put("app/admin/health/health.html", '<div><h2 data-translate="health.title">Health Checks</h2><p><button type="button" class="btn btn-primary" ng-click="vm.refresh()"><span class="glyphicon glyphicon-refresh"></span>&nbsp;<span data-translate="health.refresh.button">Refresh</span></button></p><table id="healthCheck" class="table table-striped"><thead><tr><th class="col-md-7" data-translate="health.table.service">Service Name</th><th class="col-md-2 text-center" data-translate="health.table.status">Status</th><th class="col-md-2 text-center" data-translate="health.details.details">Details</th></tr></thead><tbody><tr ng-repeat="health in vm.healthData"><td>{{\'health.indicator.\' + vm.baseName(health.name) | translate}} {{vm.subSystemName(health.name)}}</td><td class="text-center"><span class="label" ng-class="vm.getLabelClass(health.status)">{{\'health.status.\' + health.status | translate}}</span></td><td class="text-center"><a class="hand" ng-click="vm.showHealth(health)" ng-show="health.details || health.error"><i class="glyphicon glyphicon-eye-open"></i></a></td></tr></tbody></table></div>'), e.put("app/admin/health/health.modal.html", '<div class="modal-header"><button aria-label="Close" data-dismiss="modal" class="close" type="button" ng-click="vm.cancel()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="showHealthLabel">{{\'health.indicator.\' + vm.baseName(vm.currentHealth.name) | translate}} {{vm.subSystemName(vm.currentHealth.name)}}</h4></div><div class="modal-body pad"><div ng-show="vm.currentHealth.details"><h4 data-translate="health.details.properties">Properties</h4><table class="table table-striped"><thead><tr><th class="col-md-6 text-left" data-translate="health.details.name">Name</th><th class="col-md-6 text-left" data-translate="health.details.value">Value</th></tr></thead><tbody><tr ng-repeat="(k,v) in vm.currentHealth.details"><td class="col-md-6 text-left">{{k}}</td><td class="col-md-6 text-left">{{v}}</td></tr></tbody></table></div><div ng-show="vm.currentHealth.error"><h4 data-translate="health.details.error">Error</h4><pre>{{vm.currentHealth.error}}</pre></div></div><div class="modal-footer"><button data-dismiss="modal" class="btn btn-default pull-left" type="button" ng-click="vm.cancel()">Done</button></div>'), e.put("app/admin/metrics/metrics.html", '<div><h2 data-translate="metrics.title">Application Metrics</h2><p><button type="button" class="btn btn-primary" ng-click="vm.refresh()"><span class="glyphicon glyphicon-refresh"></span>&nbsp;<span data-translate="metrics.refresh.button">Refresh</span></button></p><h3 data-translate="metrics.jvm.title">JVM Metrics</h3><div class="row" ng-hide="vm.updatingMetrics"><div class="col-md-4"><b data-translate="metrics.jvm.memory.title">Memory</b><p><span data-translate="metrics.jvm.memory.total">Total Memory</span> ({{vm.metrics.gauges[\'jvm.memory.total.used\'].value / 1000000 | number:0}}M / {{vm.metrics.gauges[\'jvm.memory.total.max\'].value / 1000000 | number:0}}M)</p><uib-progressbar min="0" max="vm.metrics.gauges[\'jvm.memory.total.max\'].value" value="vm.metrics.gauges[\'jvm.memory.total.used\'].value" class="progress-striped active" type="success"><span>{{vm.metrics.gauges[\'jvm.memory.total.used\'].value * 100 / vm.metrics.gauges[\'jvm.memory.total.max\'].value | number:0}}%</span></uib-progressbar><p><span data-translate="metrics.jvm.memory.heap">Heap Memory</span> ({{vm.metrics.gauges[\'jvm.memory.heap.used\'].value / 1000000 | number:0}}M / {{vm.metrics.gauges[\'jvm.memory.heap.max\'].value / 1000000 | number:0}}M)</p><uib-progressbar min="0" max="vm.metrics.gauges[\'jvm.memory.heap.max\'].value" value="vm.metrics.gauges[\'jvm.memory.heap.used\'].value" class="progress-striped active" type="success"><span>{{vm.metrics.gauges[\'jvm.memory.heap.used\'].value * 100 / vm.metrics.gauges[\'jvm.memory.heap.max\'].value | number:0}}%</span></uib-progressbar><p><span data-translate="metrics.jvm.memory.nonheap">Non-Heap Memory</span> ({{vm.metrics.gauges[\'jvm.memory.non-heap.used\'].value / 1000000 | number:0}}M / {{vm.metrics.gauges[\'jvm.memory.non-heap.committed\'].value / 1000000 | number:0}}M)</p><uib-progressbar min="0" max="vm.metrics.gauges[\'jvm.memory.non-heap.committed\'].value" value="vm.metrics.gauges[\'jvm.memory.non-heap.used\'].value" class="progress-striped active" type="success"><span>{{vm.metrics.gauges[\'jvm.memory.non-heap.used\'].value * 100 / vm.metrics.gauges[\'jvm.memory.non-heap.committed\'].value | number:0}}%</span></uib-progressbar></div><div class="col-md-4"><b data-translate="metrics.jvm.threads.title">Threads</b> (Total: {{vm.metrics.gauges[\'jvm.threads.count\'].value}}) <a class="hand" ng-click="vm.refreshThreadDumpData()" data-toggle="modal" data-target="#threadDump"><i class="glyphicon glyphicon-eye-open"></i></a><p><span data-translate="metrics.jvm.threads.runnable">Runnable</span> {{vm.metrics.gauges[\'jvm.threads.runnable.count\'].value}}</p><uib-progressbar min="0" value="vm.metrics.gauges[\'jvm.threads.runnable.count\'].value" max="vm.metrics.gauges[\'jvm.threads.count\'].value" class="progress-striped active" type="success"><span>{{vm.metrics.gauges[\'jvm.threads.runnable.count\'].value * 100 / vm.metrics.gauges[\'jvm.threads.count\'].value | number:0}}%</span></uib-progressbar><p><span data-translate="metrics.jvm.threads.timedwaiting">Timed Waiting</span> ({{vm.metrics.gauges[\'jvm.threads.timed_waiting.count\'].value}})</p><uib-progressbar min="0" value="vm.metrics.gauges[\'jvm.threads.timed_waiting.count\'].value" max="vm.metrics.gauges[\'jvm.threads.count\'].value" class="progress-striped active" type="warning"><span>{{vm.metrics.gauges[\'jvm.threads.timed_waiting.count\'].value * 100 / vm.metrics.gauges[\'jvm.threads.count\'].value | number:0}}%</span></uib-progressbar><p><span data-translate="metrics.jvm.threads.waiting">Waiting</span> ({{vm.metrics.gauges[\'jvm.threads.waiting.count\'].value}})</p><uib-progressbar min="0" value="vm.metrics.gauges[\'jvm.threads.waiting.count\'].value" max="vm.metrics.gauges[\'jvm.threads.count\'].value" class="progress-striped active" type="warning"><span>{{vm.metrics.gauges[\'jvm.threads.waiting.count\'].value * 100 / vm.metrics.gauges[\'jvm.threads.count\'].value | number:0}}%</span></uib-progressbar><p><span data-translate="metrics.jvm.threads.blocked">Blocked</span> ({{vm.metrics.gauges[\'jvm.threads.blocked.count\'].value}})</p><uib-progressbar min="0" value="vm.metrics.gauges[\'jvm.threads.blocked.count\'].value" max="vm.metrics.gauges[\'jvm.threads.count\'].value" class="progress-striped active" type="success"><span>{{vm.metrics.gauges[\'jvm.threads.blocked.count\'].value * 100 / vm.metrics.gauges[\'jvm.threads.count\'].value | number:0}}%</span></uib-progressbar></div><div class="col-md-4"><b data-translate="metrics.jvm.gc.title">Garbage collections</b><div class="row"><div class="col-md-9" data-translate="metrics.jvm.gc.marksweepcount">Mark Sweep count</div><div class="col-md-3 text-right">{{vm.metrics.gauges[\'jvm.garbage.PS-MarkSweep.count\'].value}}</div></div><div class="row"><div class="col-md-9" data-translate="metrics.jvm.gc.marksweeptime">Mark Sweep time</div><div class="col-md-3 text-right">{{vm.metrics.gauges[\'jvm.garbage.PS-MarkSweep.time\'].value}}ms</div></div><div class="row"><div class="col-md-9" data-translate="metrics.jvm.gc.scavengecount">Scavenge count</div><div class="col-md-3 text-right">{{vm.metrics.gauges[\'jvm.garbage.PS-Scavenge.count\'].value}}</div></div><div class="row"><div class="col-md-9" data-translate="metrics.jvm.gc.scavengetime">Scavenge time</div><div class="col-md-3 text-right">{{vm.metrics.gauges[\'jvm.garbage.PS-Scavenge.time\'].value}}ms</div></div></div></div><div class="well well-lg" ng-show="vm.updatingMetrics" data-translate="metrics.updating">Updating...</div><h3 data-translate="metrics.jvm.http.title">HTTP requests (events per second)</h3><p><span data-translate="metrics.jvm.http.active">Active requests</span> <b>{{vm.metrics.counters[\'com.codahale.metrics.servlet.InstrumentedFilter.activeRequests\'].count | number:0}}</b> - <span data-translate="metrics.jvm.http.total">Total requests</span> <b>{{vm.metrics.timers[\'com.codahale.metrics.servlet.InstrumentedFilter.requests\'].count | number:0}}</b></p><div class="table-responsive"><table class="table table-striped"><thead><tr><th data-translate="metrics.jvm.http.table.code">Code</th><th data-translate="metrics.jvm.http.table.count">Count</th><th class="text-right" data-translate="metrics.jvm.http.table.mean">Mean</th><th class="text-right"><span data-translate="metrics.jvm.http.table.average">Average</span> (1 min)</th><th class="text-right"><span data-translate="metrics.jvm.http.table.average">Average</span> (5 min)</th><th class="text-right"><span data-translate="metrics.jvm.http.table.average">Average</span> (15 min)</th></tr></thead><tbody><tr><td data-translate="metrics.jvm.http.code.ok">OK</td><td><uib-progressbar min="0" max="vm.metrics.timers[\'com.codahale.metrics.servlet.InstrumentedFilter.requests\'].count" value="vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.ok\'].count" class="progress-striped active" type="success"><span>{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.ok\'].count}}</span></uib-progressbar></td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.ok\'].mean_rate | number:2}}</td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.ok\'].m1_rate | number:2}}</td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.ok\'].m5_rate | number:2}}</td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.ok\'].m15_rate | number:2}}</td></tr><tr><td data-translate="metrics.jvm.http.code.notfound">Not Found</td><td><uib-progressbar min="0" max="vm.metrics.timers[\'com.codahale.metrics.servlet.InstrumentedFilter.requests\'].count" value="vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.notFound\'].count" class="progress-striped active" type="success"><span>{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.notFound\'].count}}</span></uib-progressbar></td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.notFound\'].mean_rate | number:2}}</td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.notFound\'].m1_rate | number:2}}</td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.notFound\'].m5_rate | number:2}}</td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.notFound\'].m15_rate | number:2}}</td></tr><tr><td data-translate="metrics.jvm.http.code.servererror">Server error</td><td><uib-progressbar min="0" max="vm.metrics.timers[\'com.codahale.metrics.servlet.InstrumentedFilter.requests\'].count" value="vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.serverError\'].count" class="progress-striped active" type="success"><span>{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.serverError\'].count}}</span></uib-progressbar></td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.serverError\'].mean_rate | number:2}}</td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.serverError\'].m1_rate | number:2}}</td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.serverError\'].m5_rate | number:2}}</td><td class="text-right">{{vm.metrics.meters[\'com.codahale.metrics.servlet.InstrumentedFilter.responseCodes.serverError\'].m15_rate | number:2}}</td></tr></tbody></table></div><h3 data-translate="metrics.servicesstats.title">Services statistics (time in millisecond)</h3><div class="table-responsive"><table class="table table-striped"><thead><tr><th data-translate="metrics.servicesstats.table.name">Service name</th><th class="text-right" data-translate="metrics.servicesstats.table.count">Count</th><th class="text-right" data-translate="metrics.servicesstats.table.mean">Mean</th><th class="text-right" data-translate="metrics.servicesstats.table.min">Min</th><th class="text-right" data-translate="metrics.servicesstats.table.p50">p50</th><th class="text-right" data-translate="metrics.servicesstats.table.p75">p75</th><th class="text-right" data-translate="metrics.servicesstats.table.p95">p95</th><th class="text-right" data-translate="metrics.servicesstats.table.p99">p99</th><th class="text-right" data-translate="metrics.servicesstats.table.max">Max</th></tr></thead><tbody><tr ng-repeat="(k, v) in vm.servicesStats"><td>{{k}}</td><td class="text-right">{{v.count}}</td><td class="text-right">{{v.mean * 1000 | number:0}}</td><td class="text-right">{{v.min * 1000 | number:0}}</td><td class="text-right">{{v.p50 * 1000 | number:0}}</td><td class="text-right">{{v.p75 * 1000 | number:0}}</td><td class="text-right">{{v.p95 * 1000 | number:0}}</td><td class="text-right">{{v.p99 * 1000 | number:0}}</td><td class="text-right">{{v.max * 1000 | number:0}}</td></tr></tbody></table></div><h3 data-translate="metrics.datasource.title" ng-show="vm.metrics.gauges[\'HikariPool-1.pool.TotalConnections\'].value > 0">DataSource statistics (time in millisecond)</h3><div class="table-responsive" ng-show="vm.metrics.gauges[\'HikariPool-1.pool.TotalConnections\'].value > 0"><table class="table table-striped"><thead><tr><th><span data-translate="metrics.datasource.usage">Usage</span> ({{vm.metrics.gauges[\'HikariPool-1.pool.ActiveConnections\'].value}} / {{vm.metrics.gauges[\'HikariPool-1.pool.TotalConnections\'].value}})</th><th class="text-right" data-translate="metrics.datasource.count">Count</th><th class="text-right" data-translate="metrics.datasource.mean">Mean</th><th class="text-right" data-translate="metrics.datasource.min">Min</th><th class="text-right" data-translate="metrics.datasource.p50">p50</th><th class="text-right" data-translate="metrics.datasource.p75">p75</th><th class="text-right" data-translate="metrics.datasource.p95">p95</th><th class="text-right" data-translate="metrics.datasource.p99">p99</th><th class="text-right" data-translate="metrics.datasource.max">Max</th></tr></thead><tbody><tr><td><div class="progress progress-striped"><uib-progressbar min="0" max="vm.metrics.gauges[\'HikariPool-1.pool.TotalConnections\'].value" value="vm.metrics.gauges[\'HikariPool-1.pool.ActiveConnections\'].value" class="progress-striped active" type="success"><span>{{vm.metrics.gauges[\'HikariPool-1.pool.ActiveConnections\'].value * 100 / vm.metrics.gauges[\'HikariPool-1.pool.TotalConnections\'].value | number:0}}%</span></uib-progressbar></div></td><td class="text-right">{{vm.metrics.histograms[\'HikariPool-1.pool.Usage\'].count}}</td><td class="text-right">{{vm.metrics.histograms[\'HikariPool-1.pool.Usage\'].mean | number:2}}</td><td class="text-right">{{vm.metrics.histograms[\'HikariPool-1.pool.Usage\'].min | number:2}}</td><td class="text-right">{{vm.metrics.histograms[\'HikariPool-1.pool.Usage\'].p50 | number:2}}</td><td class="text-right">{{vm.metrics.histograms[\'HikariPool-1.pool.Usage\'].p75 | number:2}}</td><td class="text-right">{{vm.metrics.histograms[\'HikariPool-1.pool.Usage\'].p95 | number:2}}</td><td class="text-right">{{vm.metrics.histograms[\'HikariPool-1.pool.Usage\'].p99 | number:2}}</td><td class="text-right">{{vm.metrics.histograms[\'HikariPool-1.pool.Usage\'].max | number:2}}</td></tr></tbody></table></div></div>'), e.put("app/admin/metrics/metrics.modal.html", '<!-- Modal used to display the threads dump --><div class="modal-header"><button type="button" class="close" ng-click="vm.cancel()">&times;</button><h4 class="modal-title" data-translate="metrics.jvm.threads.dump.title">Threads dump</h4></div><div class="modal-body pad"><span class="label label-primary" ng-click="threadDumpFilter = {}">All&nbsp;<span class="badge">{{vm.threadDumpAll}}</span></span>&nbsp; <span class="label label-success" ng-click="threadDumpFilter = {threadState: \'RUNNABLE\'}">Runnable&nbsp;<span class="badge">{{vm.threadDumpRunnable}}</span></span>&nbsp; <span class="label label-info" ng-click="threadDumpFilter = {threadState: \'WAITING\'}">Waiting&nbsp;<span class="badge">{{vm.threadDumpWaiting}}</span></span>&nbsp; <span class="label label-warning" ng-click="threadDumpFilter = {threadState: \'TIMED_WAITING\'}">Timed Waiting&nbsp;<span class="badge">{{vm.threadDumpTimedWaiting}}</span></span>&nbsp; <span class="label label-danger" ng-click="threadDumpFilter = {threadState: \'BLOCKED\'}">Blocked&nbsp;<span class="badge">{{vm.threadDumpBlocked}}</span></span>&nbsp;<div class="voffset2">&nbsp;</div>Filter <input type="text" ng-model="threadDumpFilter" class="form-control"><div class="row pad" ng-repeat="(k, v) in vm.threadDump | filter:threadDumpFilter"><h5><span class="label" ng-class="vm.getLabelClass(v.threadState)">{{v.threadState}}</span>&nbsp;{{v.threadName}} (ID {{v.threadId}}) <a ng-click="show = !show"><span ng-show="!show" data-translate="metrics.jvm.threads.dump.show">Show StackTrace</span> <span ng-show="show" data-translate="metrics.jvm.threads.dump.hide">Hide StackTrace</span></a></h5><div class="well" ng-show="show"><div ng-repeat="(stK, stV) in v.stackTrace">{{stV.className}}.{{stV.methodName}}({{stV.fileName}}:{{stV.lineNumber}}) <span class="voffset1"></span></div></div><table class="table table-condensed"><thead><tr><th class="text-right" data-translate="metrics.jvm.threads.dump.blockedtime">Blocked Time</th><th class="text-right" data-translate="metrics.jvm.threads.dump.blockedcount">Blocked Count</th><th class="text-right" data-translate="metrics.jvm.threads.dump.waitedtime">Waited Time</th><th class="text-right" data-translate="metrics.jvm.threads.dump.waitedcount">Waited Count</th><th data-translate="metrics.jvm.threads.dump.lockname">Lock Name</th></tr></thead><tbody><tr><td>{{v.blockedTime}}</td><td>{{v.blockedCount}}</td><td>{{v.waitedTime}}</td><td>{{v.waitedCount}}</td><td>{{v.lockName}}</td></tr></tbody></table></div></div><div class="modal-footer"><button type="button" class="btn btn-default pull-left" data-dismiss="modal" ng-click="vm.cancel()">Done</button></div>'), e.put("app/admin/tracker/tracker.html", '<div><h2 data-translate="tracker.title">Real-time user activities</h2><div class="table-responsive"><table class="table table-striped"><thead><tr><th data-translate="tracker.table.userlogin">User</th><th data-translate="tracker.table.ipaddress">IP Address</th><th data-translate="tracker.table.page">Current page</th><th data-translate="tracker.table.time">Time</th><th></th></tr></thead><tbody><tr ng-repeat="activity in vm.activities"><td>{{activity.userLogin}}</td><td>{{activity.ipAddress}}</td><td>{{activity.page}}</td><td>{{activity.time | date:\'yyyy-MM-dd HH:mm:ss\'}}</td></tr></tbody></table></div></div>'), e.put("app/admin/user-management/user-management-delete-dialog.html", '<form name="deleteForm" ng-submit="vm.confirmDelete(vm.user.login)"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="vm.clear()">&times;</button><h4 class="modal-title" data-translate="entity.delete.title">Confirm delete operation</h4></div><div class="modal-body"><jhi-alert-error></jhi-alert-error><p data-translate="userManagement.delete.question" translate-values="{login: \'{{vm.user.login}}\'}">Are you sure you want to delete this User?</p></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal" ng-click="vm.clear()"><span class="glyphicon glyphicon-ban-circle"></span>&nbsp;<span data-translate="entity.action.cancel">Cancel</span></button> <button type="submit" class="btn btn-danger"><span class="glyphicon glyphicon-remove-circle"></span>&nbsp;<span data-translate="entity.action.delete">Delete</span></button></div></form>'), e.put("app/admin/user-management/user-management-detail.html", '<div><h2><span data-translate="userManagement.detail.title">User</span> [<b>{{vm.user.login}}</b>]</h2><dl class="dl-horizontal jh-entity-details"><dt><span data-translate="userManagement.login">Login</span></dt><dd><span>{{vm.user.login}}</span> <span class="label label-danger" ng-show="!vm.user.activated" data-translate="userManagement.deactivated">Deactivated</span> <span class="label label-success" ng-show="vm.user.activated" data-translate="userManagement.activated">Activated</span></dd><dt><span data-translate="userManagement.firstName">First Name</span></dt><dd>{{vm.user.firstName}}</dd><dt><span data-translate="userManagement.lastName">Last Name</span></dt><dd>{{vm.user.lastName}}</dd><dt><span data-translate="userManagement.email">Email</span></dt><dd>{{vm.user.email}}</dd><dt><span data-translate="userManagement.langKey">Lang Key</span></dt><dd>{{vm.user.langKey}}</dd><dt><span data-translate="userManagement.createdBy">Created By</span></dt><dd>{{vm.user.createdBy}}</dd><dt><span data-translate="userManagement.createdDate">Created Date</span></dt><dd>{{vm.user.createdDate | date:\'dd/MM/yy HH:mm\' }}</dd><dt><span data-translate="userManagement.lastModifiedBy">Last Modified By</span></dt><dd>{{vm.user.lastModifiedBy}}</dd><dt><span data-translate="userManagement.lastModifiedDate">Last Modified Date</span></dt><dd>{{vm.user.lastModifiedDate | date:\'dd/MM/yy HH:mm\'}}</dd><dt><span data-translate="userManagement.profiles">Profiles</span></dt><dd><ul class="list-unstyled"><li ng-repeat="authority in vm.user.authorities"><span class="label label-info">{{authority}}</span></li></ul></dd></dl><button type="submit" ui-sref="user-management" class="btn btn-info"><span class="glyphicon glyphicon-arrow-left"></span>&nbsp;<span data-translate="entity.action.back"> Back</span></button></div>'), e.put("app/admin/user-management/user-management-dialog.html", '<form name="editForm" role="form" novalidate ng-submit="vm.save()" show-validation><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="vm.clear()">&times;</button><h4 class="modal-title" id="myUserLabel" data-translate="userManagement.home.createOrEditLabel">Create or edit a User</h4></div><div class="modal-body"><jhi-alert-error></jhi-alert-error><div class="form-group" ng-show="vm.user.id"><label data-translate="global.field.id">ID</label><input type="text" class="form-control" name="id" ng-model="vm.user.id" readonly="readonly"></div><div class="form-group"><label class="control-label" data-translate="userManagement.login">Login</label><input type="text" class="form-control" name="login" ng-model="vm.user.login" required ng-minlength="1" ng-maxlength="50" ng-pattern="/^[_\'.@A-Za-z0-9-]*$/"><div ng-show="editForm.login.$invalid"><p class="help-block" ng-show="editForm.login.$error.required" data-translate="entity.validation.required">This field is required.</p><p class="help-block" ng-show="editForm.login.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="50">This field cannot be longer than 50 characters.</p></div></div><div class="form-group"><label class="control-label" data-translate="userManagement.firstName">First Name</label><input type="text" class="form-control" name="firstName" ng-model="vm.user.firstName" ng-maxlength="50"><div ng-show="editForm.firstName.$invalid"><p class="help-block" ng-show="editForm.firstName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="50">This field cannot be longer than 50 characters.</p></div></div><div class="form-group"><label data-translate="userManagement.lastName">Last Name</label><input type="text" class="form-control" name="lastName" ng-model="vm.user.lastName" ng-maxlength="50"><div ng-show="editForm.lastName.$invalid"><p class="help-block" ng-show="editForm.lastName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="50">This field cannot be longer than 50 characters.</p></div></div><div class="form-group"><label class="control-label" data-translate="userManagement.email">Email</label><input type="email" class="form-control" name="email" gtd-email ng-model="vm.user.email" required ng-maxlength="100"><div ng-show="editForm.email.$invalid"><p class="help-block" ng-show="editForm.email.$error.required" data-translate="entity.validation.required">This field is required.</p><p class="help-block" ng-show="editForm.email.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="100">This field cannot be longer than 100 characters.</p><p class="help-block" ng-show="editForm.email.$error.email" data-translate="global.messages.validate.email.invalid">Your email is invalid.</p></div></div><div class="form-group"><label for="activated"><input ng-disabled="vm.user.id === null" type="checkbox" id="activated" name="activated" ng-model="vm.user.activated"> <span data-translate="userManagement.activated">Activated</span></label></div><div class="form-group"><label data-translate="userManagement.langKey">Lang Key</label><select class="form-control" name="langKey" ng-model="vm.user.langKey" ng-options="language as language for language in vm.languages track by language"></select></div><div class="form-group"><label data-translate="userManagement.profiles">Profiles</label><select class="form-control" multiple="multiple" name="authority" ng-model="vm.user.authorities" ng-options="authority for authority in vm.authorities"></select></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal" ng-click="vm.clear()"><span class="glyphicon glyphicon-ban-circle"></span>&nbsp;<span data-translate="entity.action.cancel">Cancel</span></button> <button type="submit" ng-disabled="editForm.$invalid || vm.isSaving" class="btn btn-primary"><span class="glyphicon glyphicon-save"></span>&nbsp;<span data-translate="entity.action.save">Save</span></button></div></form>'),
                e.put("app/admin/user-management/user-management.html", '<div><h2 data-translate="userManagement.home.title">Users</h2><jhi-alert></jhi-alert><div class="row"><div class="col-md-4"><button class="btn btn-primary" ui-sref="user-management.new"><span class="glyphicon glyphicon-flash"></span> <span data-translate="userManagement.home.createLabel">Create a new User</span></button></div></div><div class="table-responsive"><table class="jh-table table table-striped"><thead><tr jh-sort="vm.predicate" ascending="vm.reverse" callback="vm.transition()"><th jh-sort-by="id"><span data-translate="global.field.id">ID</span><span class="glyphicon glyphicon-sort"></span></th><th jh-sort-by="login"><span data-translate="userManagement.login">Login</span> <span class="glyphicon glyphicon-sort"></span></th><th jh-sort-by="email"><span data-translate="userManagement.email">Email</span> <span class="glyphicon glyphicon-sort"></span></th><th></th><th jh-sort-by="langKey"><span data-translate="userManagement.langKey">Lang Key</span> <span class="glyphicon glyphicon-sort"></span></th><th><span data-translate="userManagement.profiles">Profiles</span></th><th jh-sort-by="createdDate"><span data-translate="userManagement.createdDate">Created Date</span> <span class="glyphicon glyphicon-sort"></span></th><th jh-sort-by="lastModifiedBy"><span data-translate="userManagement.lastModifiedBy">Last Modified By</span> <span class="glyphicon glyphicon-sort"></span></th><th jh-sort-by="lastModifiedDate"><span data-translate="userManagement.lastModifiedDate">Last Modified Date</span> <span class="glyphicon glyphicon-sort"></span></th><th></th></tr></thead><tbody><tr ng-repeat="user in vm.users track by user.id"><td><a ui-sref="user-management-detail({login:user.login})">{{user.id}}</a></td><td>{{user.login}}</td><td>{{user.email}}</td><td><button class="btn btn-danger btn-xs" ng-click="vm.setActive(user, true)" ng-show="!user.activated" data-translate="userManagement.deactivated">Deactivated</button> <button class="btn btn-success btn-xs" ng-click="vm.setActive(user, false)" ng-show="user.activated" ng-disabled="vm.currentAccount.login === user.login" data-translate="userManagement.activated">Activated</button></td><td>{{user.langKey}}</td><td><div ng-repeat="authority in user.authorities"><span class="label label-info">{{ authority }}</span></div></td><td>{{user.createdDate | date:\'dd/MM/yy HH:mm\'}}</td><td>{{user.lastModifiedBy}}</td><td>{{user.lastModifiedDate | date:\'dd/MM/yy HH:mm\'}}</td><td class="text-right"><div class="btn-group flex-btn-group-container"><button type="submit" ui-sref="user-management-detail({login:user.login})" class="btn btn-info btn-sm"><span class="glyphicon glyphicon-eye-open"></span> <span class="hidden-xs hidden-sm" data-translate="entity.action.view"></span></button> <button type="submit" ui-sref="user-management.edit({login:user.login})" class="btn btn-primary btn-sm"><span class="glyphicon glyphicon-pencil"></span> <span class="hidden-xs hidden-sm" data-translate="entity.action.edit"></span></button> <button type="submit" ui-sref="user-management.delete({login:user.login})" class="btn btn-danger btn-sm" ng-disabled="vm.currentAccount.login === user.login"><span class="glyphicon glyphicon-remove-circle"></span> <span class="hidden-xs hidden-sm" data-translate="entity.action.delete"></span></button></div></td></tr></tbody></table></div><div class="text-center"><jhi-item-count page="vm.page" total="vm.queryCount" items-per-page="vm.itemsPerPage"></jhi-item-count><uib-pagination class="pagination-sm" total-items="vm.totalItems" ng-model="vm.page" ng-change="vm.transition()"></uib-pagination></div></div>'), e.put("app/components/booking/booking-flight-info-details.html", '<div class="portlet"><div class="portlet-body"><!-- BEGIN FORM--><div class="booking-flight-info-wrapper"><table class="flight-table"><tr class="flight-table-row" gtd-popover gtd-template-path="app/components/flight/flight-detail-view.html" argument="$ctrl.bookingModel.departGroupItem" argument2="$ctrl.bookingModel.departPricedItinerary" ng-click="$ctrl.departFlightModel.expand = !$ctrl.departFlightModel.expand"><td class="flight-table-cell1">Vé một chiều,</td><td class="flight-table-cell2"><span class="loc-text">{{$ctrl.bookingModel.departGroupItem.originLocationCode | airport:\'city\'}} </span><span>&nbsp;({{$ctrl.bookingModel.departGroupItem.originLocationCode}})</span></td><td class="flight-table-cell3"><span class="fa fa-long-arrow-right"></span></td><td class="flight-table-cell4"><span class="loc-text">{{$ctrl.bookingModel.departGroupItem.destinationLocationCode | airport:\'city\'}} </span><span>&nbsp;({{$ctrl.bookingModel.departGroupItem.destinationLocationCode}})</span></td><td class="flight-table-cell5">{{$ctrl.bookingModel.departGroupItem.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate}}</td><td class="flight-table-cell6"><ng-switch on="$ctrl.departFlightModel.expand==true"><span class="fa fa-angle-down" ng-switch-when="false"></span> <span class="fa fa-angle-up" ng-switch-when="true"></span></ng-switch></td></tr></table><div class="change-flight-zone">Thay đổi hành trình</div><ng-switch on="$ctrl.isAuthenticated()"><div class="login-zone-wrapper" ng-switch-when="false"><table class="login-zone"><tr class="login-zone-row" ng-click="$ctrl.openLogin()"><td><span class="login-icon fa fa-user"></span> <span class="login-link">Đăng nhập,&nbsp;</span> <span class="login-text">để hưởng nhiều khuyến mãi và quyền lợi khi sử dụng dịch vụ của bạn.</span></td><td class="login-expand-icon"><span class="fa fa-angle-down"></span></td></tr></table></div></ng-switch></div><!-- END FORM--></div></div>'), e.put("app/components/booking/booking-flight-info.html", '<div class="portlet"><div class="portlet-body"><!-- BEGIN FORM--><div class="booking-flight-info-wrapper"><table class="flight-table"><tr class="flight-table-row" data-toggle="collapse" href="#collapseOne" aria-controls="collapseOne" ng-click="$ctrl.departFlightModel.expand = !$ctrl.departFlightModel.expand"><td class="flight-table-cell1"><span ng-show="$ctrl.searchOptions.searchType == \'oneway\'">Vé một chiều, </span><span ng-show="$ctrl.searchOptions.searchType != \'oneway\'">Vé chiều đi,</span></td><td class="flight-table-cell2"><span class="loc-text">{{$ctrl.bookingModel.departGroupItem.originLocationCode | airport:\'city\'}} </span><span>&nbsp;({{$ctrl.bookingModel.departGroupItem.originLocationCode}})</span></td><td class="flight-table-cell3"><span class="fa fa-long-arrow-right"></span></td><td class="flight-table-cell4"><span class="loc-text">{{$ctrl.bookingModel.departGroupItem.destinationLocationCode | airport:\'city\'}} </span><span>&nbsp;({{$ctrl.bookingModel.departGroupItem.destinationLocationCode}})</span></td><td class="flight-table-cell5">{{$ctrl.bookingModel.departPricedItinerary.originDestinationOptions[0].originDateTime | momentdate:\'date\' | capitalize}}</td><td class="flight-table-cell6"><ng-switch on="$ctrl.departFlightModel.expand==true"><span class="fa fa-angle-down" ng-switch-when="false" data-toggle="collapse" href="#collapseOne" aria-controls="collapseOne"></span> <span class="fa fa-angle-up" ng-switch-when="true" data-toggle="collapse" href="#collapseOne" aria-controls="collapseOne"></span></ng-switch></td></tr></table><div id="collapseOne" class="panel-collapse collapse"><div class="panel-body" gtd-collapse-click gtd-template-path="app/components/flight/flight-detail-view.html" argument="$ctrl.bookingModel.departGroupItem" argument2="$ctrl.bookingModel.departPricedItinerary" argument4="{{$ctrl.searchOptions.dtype}}" ibe-keys="ibeKeys"></div></div></div><!-- END FORM--></div></div><ng-switch on="$ctrl.searchOptions.searchType != \'oneway\'"><div class="portlet" ng-switch-when="true"><div class="portlet-body"><!-- BEGIN FORM--><div class="booking-flight-info-wrapper"><table class="flight-table"><tr class="flight-table-row" data-toggle="collapse" href="#collapseReturn" aria-controls="collapseReturn" ng-click="$ctrl.returnFlightModel.expand = !$ctrl.returnFlightModel.expand"><td class="flight-table-cell1">Vé chiều về,</td><td class="flight-table-cell2"><span ng-if="$ctrl.searchOptions.dtype == \'domestic\'"><span class="loc-text">{{$ctrl.bookingModel.returnGroupItem.originLocationCode | airport:\'city\'}} </span><span>&nbsp;({{$ctrl.bookingModel.returnGroupItem.originLocationCode}})</span> </span><span ng-if="$ctrl.searchOptions.dtype == \'international\'"><span class="loc-text">{{$ctrl.bookingModel.returnPricedItinerary.originDestinationOptions[1].originLocationCode | airport:\'city\'}} </span><span>&nbsp;({{$ctrl.bookingModel.returnPricedItinerary.originDestinationOptions[1].originLocationCode}})</span></span></td><td class="flight-table-cell3"><span class="fa fa-long-arrow-right"></span></td><td class="flight-table-cell4"><span ng-if="$ctrl.searchOptions.dtype == \'domestic\'"><span class="loc-text">{{$ctrl.bookingModel.returnGroupItem.destinationLocationCode | airport:\'city\'}} </span><span>&nbsp;({{$ctrl.bookingModel.returnGroupItem.destinationLocationCode}})</span> </span><span ng-if="$ctrl.searchOptions.dtype == \'international\'"><span class="loc-text">{{$ctrl.bookingModel.returnPricedItinerary.originDestinationOptions[1].destinationLocationCode | airport:\'city\'}} </span><span>&nbsp;({{$ctrl.bookingModel.returnPricedItinerary.originDestinationOptions[1].destinationLocationCode}})</span></span></td><td class="flight-table-cell5"><span ng-if="$ctrl.searchOptions.dtype == \'domestic\'">{{$ctrl.bookingModel.returnPricedItinerary.originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'date\' | capitalize}}</span> <span ng-if="$ctrl.searchOptions.dtype == \'international\'">{{$ctrl.bookingModel.returnPricedItinerary.originDestinationOptions[1].flightSegments[0].departureDateTime | momentdate:\'date\' | capitalize}}</span></td><td class="flight-table-cell6"><ng-switch on="$ctrl.returnFlightModel.expand==true"><span class="fa fa-angle-down" ng-switch-when="false" data-toggle="collapse" href="#collapseReturn" aria-controls="collapseReturn"></span> <span class="fa fa-angle-up" ng-switch-when="true" data-toggle="collapse" href="#collapseReturn" aria-controls="collapseReturn"></span></ng-switch></td></tr></table><div id="collapseReturn" class="panel-collapse collapse"><div class="panel-body" gtd-collapse-click gtd-template-path="app/components/flight/flight-detail-view.html" argument="$ctrl.bookingModel.returnGroupItem" argument2="$ctrl.bookingModel.returnPricedItinerary" argument3="{{$ctrl.searchOptions.dtype}}-return" argument4="{{$ctrl.searchOptions.dtype}}" ibe-keys="ibeKeys"></div></div></div><!-- END FORM--></div></div></ng-switch><div class="portlet"><div class="portlet-body"><div class="booking-flight-info-wrapper"><div class="change-flight-zone" ng-show="$ctrl.showChangeFlight != \'false\'" ng-click="$ctrl.changeFlight(1);">{{\'global.menu.booking.change\' |translate}}</div></div></div></div><!-- <div class="portlet">\n    <div class="portlet-body">\n        <div class="booking-flight-info-wrapper">\n            <ng-switch on="$ctrl.isAuthenticated()">\n                <div class="login-zone-wrapper" ng-switch-when="false"\n                    ng-show="$ctrl.searchOptions.searchType == \'oneway\' && $ctrl.notShowLoginSection != \'true\'"\n                >\n                    <table class="login-zone">\n                        <tr class="login-zone-row" ng-click="$ctrl.openLogin()">\n                            <td>\n                                <span class="login-icon fa fa-user"></span>\n                                <span class="login-link">Đăng nhập,&nbsp;</span>\n                                <span class="login-text">để hưởng nhiều khuyến mãi và quyền lợi khi sử dụng dịch vụ của bạn.</span>\n                            </td>\n                            <td class="login-expand-icon"><span class="fa fa-angle-down"></span></td>\n                        </tr>\n                    </table>\n                </div>\n            </ng-switch>\n        </div>\n    </div>\n</div> -->'), e.put("app/components/booking/booking-hotel-info.html", '<div class="portlet"><div class="portlet-body"><!-- BEGIN FORM--><div class="booking-hotel-info-wrapper hotel-border-radius bg-white hotel-border"><div class="col-xs-12 no-padding-left no-padding-right hotel-name"><div class="hotel-image hotel-image-rs hidden-lg"><img class="hotel-image-icon" src="{{$ctrl.selectedHotel.hotelMeta.image}}"></div><div class="item-name-hotel"><span class="hotel-name-text text-bold">{{$ctrl.selectedHotel.hotelMeta.name}}</span>&nbsp;<!--<span class="hotel-name-icon fa fa-star"></span>--> <span class="hotel-name-icon fa fa-star" ng-repeat="i in [$ctrl.selectedHotel.hotelMeta.stars] | makeRange"></span> <span class="hotel-name-icon fa fa-star fa-star-half-o" ng-repeat="i in [$ctrl.selectedHotel.hotelMeta.stars] | halfRange"></span></div><div class="no-padding-left hotel-location" style="margin-bottom: 20px"><!--<span class="fa fa-map-marker"></span>--> <img src="content/images/location-on-map-0adae3ed8e.png" class="fa-image-icon">&nbsp; <span>{{$ctrl.selectedHotel.hotelMeta.address}}</span></div></div><div class="hotel-table"><div class="row"><div class="col-sm-3 hidden-md hidden-sm hidden-xs"><div class="hotel-image" style="height: unset"><img class="hotel-image-icon" src="{{$ctrl.selectedHotel.hotelMeta.image}}" style="width:90%"></div></div><div class="col-sm-9 no-padding-left"><div class="row no-margin-left"><div class="col-xs-4 label-info-hotel">{{\'hotel.search.result.address\' | translate}}</div><div class="col-xs-8">{{$ctrl.selectedHotel.hotelMeta.address}}</div></div><div class="row no-margin-left"><div class="col-xs-4 label-info-hotel">{{\'hotel.search.header.checkindate\' | translate}}</div><div class="col-xs-8">{{$ctrl.selectedHotel.checkIn | momentdate : \'\' : \'DD-MM-YYYY\'}} : {{$ctrl.selectedHotel.hotelMeta.checkIn}} <a data-toggle="modal" data-target="#checkInModal"><span class="fa fa-question-circle text-gtd-3"></span></a></div></div><div class="row no-margin-left"><div class="col-xs-4 label-info-hotel">{{\'hotel.search.header.checkoutdate\' | translate}}</div><div class="col-xs-8">{{$ctrl.selectedHotel.checkOut | momentdate : \'\' : \'DD-MM-YYYY\'}} : {{$ctrl.selectedHotel.hotelMeta.checkOut}}</div></div><div class="row no-margin-left"><div class="col-xs-4 label-info-hotel">{{\'hotel.search.header.room\' | translate}}</div><div class="col-xs-8" ng-repeat="room in $ctrl.selectedHotel.products"><!--class="room-type-link hand"--> {{$ctrl.selectedHotelProduct.rooms.length}} <span gtd-popover gtd-template-path="app/components/hotel/hotel-detail-view.html">{{room.roomDescription}}</span></div></div><div class="row no-margin-left"><div class="col-xs-4 label-info-hotel">{{\'hotel.search.header.detail\' | translate}}</div><div class="col-xs-8">{{$ctrl.selectedHotelProduct.totalAdultQuantity}} {{\'hotel.search.header.adult\' | translate}}, {{$ctrl.selectedHotelProduct.totalPerson - $ctrl.selectedHotelProduct.totalAdultQuantity}} {{\'hotel.search.header.children\' | translate}}</div></div></div></div></div><!--<div class="hotel-features-icons">--><!--<span class="hotel-feature-icon" >--><!--<img src="../../../content/images/hotel-free-wifi-icon-9d21865a9e.png"/>--><!--&nbsp; Free Wifi--><!--</span>--><!--<span class="hotel-feature-icon" >--><!--<img src="../../../content/images/hotel-free-gym-icon-ba10acf2ca.png"/>--><!--&nbsp; Có hồ bơi--><!--</span>--><!--</div>--></div><!-- END FORM--></div></div><div class="portlet"><div class="portlet-body"><!-- BEGIN FORM--><div class="booking-hotel-info-wrapper hotel-border hotel-border-radius"><!--<div class="col-xs-12 no-padding-left hotel-name">--><div style="cursor: pointer" data-toggle="modal" data-target="#hotel-booking-terms"><span data-translate="hotel.booking.terms1.text"></span><!--<span class="fa fa-info-circle text-gtd-3"></span>--> &nbsp;<!-- <a ui-sref="hotel-booking-terms" target="_blank">\n                    <span class="fa fa-info-circle text-gtd-3"></span>\n                </a> --> <span class="fa fa-info-circle text-gtd-3"></span></div><div id="hotel-booking-terms" class="modal fade" role="dialog"><div class="modal-dialog"><!-- Modal content--><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal">&times;</button><h4 class="modal-title"><strong>{{\'hotel.view.term\' | translate}}</strong></h4></div><div class="modal-body"><p>{{\'hotel.view.with\' | translate}}</p><p>{{\'hotel.view.in\' | translate}}</p><p>{{\'hotel.view.room\' | translate}}</p><p>{{\'hotel.view.rate\' | translate}}</p></div><div class="modal-footer"><button type="button" class="btn btn-success" data-dismiss="modal">{{\'hotel.search.result.close\' | translate}}</button></div></div></div></div></div><!-- END FORM--></div></div><div class="portlet"><div class="portlet-body"><div class="booking-flight-info-wrapper"><ng-switch on="$ctrl.isAuthenticated()"><div class="login-zone-wrapper" ng-switch-when="false"><table class="login-zone"><tr class="login-zone-row" ng-click="$ctrl.openLogin()"><td><span class="login-icon fa fa-user"></span> <span class="login-link">{{\'flight.search.result.login\'| translate}},&nbsp;</span> <span class="login-text">{{\'flight.search.result.enjoy\'| translate}}.</span></td><td class="login-expand-icon"><span class="fa fa-angle-down"></span></td></tr></table></div></ng-switch></div></div></div><div id="checkInModal" class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">{{\'hotel.search.result.checkin\' | translate}}</h4></div><div class="modal-body"><div class="label-title text-gtd-3" ng-if="$ctrl.selectedHotel.checkInInstructions"><b>{{\'hotel.search.result.check-in-instructions\' | translate}}</b></div><div class="label-content" ng-bind-html="$ctrl.selectedHotel.checkInInstructions"></div><br><div class="label-title text-gtd-3" ng-if="$ctrl.selectedHotel.specialCheckInInstructions"><b>{{\'hotel.search.result.special-check-in-instructions\' | translate}}</b></div><div class="label-content" ng-bind-html="$ctrl.selectedHotel.specialCheckInInstructions"></div></div><div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close</button></div></div><!-- /.modal-content --></div><!-- /.modal-dialog --></div><!-- /.modal -->'), e.put("app/components/booking/booking-important-info.html", '<div class="portlet light flight-booking-contact-info hotel-border hotel-border-radius"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span style="font-size: 18px" data-translate="hotel.booking.importantinfo.title"></span></span></div></div><div class="portlet-body form"><!-- BEGIN FORM--><div class="form-body"><div><span ng-bind-html="$ctrl.selectedHotelProduct.policyString"></span></div><p ng-show="$ctrl.selectedHotelProduct.policyString"></p><div class="mt-checkbox-list"><label class="mt-checkbox green mt-checkbox-outline" style="margin-bottom: 0px"><input type="checkbox" value="1" name="checkedTerm" class="checkedRuleVJ" ng-model="$ctrl.checkedTerm" , ng-change="$ctrl.termCheckedChanged()"> <span></span></label><span style="margin-left: 30px" data-translate="hotel.booking.importantinfo.text2"></span> <a style="cursor: pointer" ng-click="$ctrl.redirectToTerm()"><span class="text-underlined text-decoration-gtd-3em text-gtd-3-em" data-translate="hotel.booking.importantinfo.text3"></span></a></div></div><!-- END FORM--></div></div>'), e.put("app/components/booking/booking-payment.html", '<div ng-if="$ctrl.paymentModel.paymentPromo" class="portlet" ng-class="{\'light\': $ctrl.paymentModel.airView}"><div class="portlet-title"><div class="caption" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.payment.title-promo"></span></span></div></div><div class="portlet-body" ng-class="{\'is-mobile-app\': $ctrl.paymentModel.isMobileApp}"><div class="payment-wrapper"><table class="payment-item table" ng-repeat="promo in $ctrl.paymentModel.paymentPromo" ng-if="$ctrl.bookingModel.bookingInfo.showPayNowOption == true && promo.promotionType == \'CREDIT_CARD\'" ng-show="(promo.discountValueType == \'FIXED\' && promo.discountAmount < $ctrl.bookingModel.bookingInfo.displayPriceInfo.totalFare) || promo.discountValueType == \'PERCENT\'" ng-switch="$ctrl.selectTypePayment == \'_{{promo.id}}\'"><tr class="table-row"><td class="radio-zone table-cell radio" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"><input ng-change="$ctrl.changePromotion()" type="radio" id="payment_option_credit_promo_{{promo.id}}" name="payment_option" ng-model="$ctrl.selectTypePayment" value="_{{promo.id}}" required><label for="payment_option_credit_promo_{{promo.id}}" class="radio-label"></label></td><td class="logo table-cell bg-white"><div class="logoGr"><img src="../../../content/images/payment/visa-pay-8d6f23beb4.png"></div></td><td class="table-cell bg-white seperator-zone"><div class="seperator"></div></td><td class="item-detail-zone table-cell bg-white"><div class="item-header"><span>{{promo.description}} <span data-translate="global.menu.textPromo"></span> {{promo.discountAmount | number}}</span><span ng-if="promo.discountValueType == \'PERCENT\'">%</span><span ng-if="promo.discountValueType != \'PERCENT\'">VND</span></div></td></tr><tr class="table-row" ng-switch-when="true"><td class="radio-zone table-cell" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"></td><td colspan="4" class="child-zone bg-white"><form role="form" name="cardForm" novalidate><div class="form-body"><div class="col-sm-12 padding-left-15"><div class="form-group col-sm-12 no-padding-left" ng-repeat="item in $ctrl.creditCards"><div class="inline-block padding-right-10"><input type="radio" class="inline-block" required ng-model="$ctrl.paymentModel.cardModel.chosenCardNumber" ng-change="$ctrl.selectedCardChanged(item)" value="{{item.cardNumber}}"></div><div class="inline-block card-icon"><img class="inline-block" ng-src="{{\'../../../../content/images/card-\' + item.type + \'.png\'}}"></div><div class="inline-block"><span>{{item.cardNumber | cc}}</span></div></div><div class="form-group col-sm-8 no-padding-left" ng-switch="$ctrl.paymentModel.cardModel.chosenCardNumber == -1"><div class="col-sm-12 no-padding-left"><div class="inline-block padding-right-10"><input type="radio" checked="checked" required ng-model="$ctrl.paymentModel.cardModel.chosenCardNumber" ng-change="$ctrl.selectedCardChanged(item)" value="-1" class="inline-block"></div><span data-translate="flight.booking.payment.addcard">Nhập số thẻ mới </span><span><img src="../../../../content/images/card-VISA-13ff010731.png"> <img src="../../../../content/images/card-MASTER-e095e0dc43.png"> <img src="../../../../content/images/card-JCB-f818ec1661.png"></span></div><div class="col-sm-9 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" name="cardNumber" placeholder="{{\'flight.plchdr.card\' | translate}}" ng-model="$ctrl.paymentModel.cardModel.cardNumber" cc-number ng-maxlength="40" ng-pattern="/^[0-9]{1,40}$/" required><div class="error" ng-show="(cardForm.$submitted || cardForm.cardNumber.$touched) && cardForm.cardNumber.$invalid"><p class="help-block" ng-show="cardForm.cardNumber.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.cardNumber.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="40"></p><p class="help-block" ng-show="cardForm.cardNumber.$error.ccNumberType" data-translate="entity.validation.card"></p></div></div><div class="col-sm-3 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="CVV" ng-model="$ctrl.paymentModel.cardModel.cvNumber" ng-pattern="/^[0-9]/" ng-minlength="3" ng-maxlength="4" cc-cvc name="cvNumber" required><div class="error" ng-show="(cardForm.$submitted || cardForm.cvNumber.$touched) && cardForm.cvNumber.$invalid"><p class="help-block" ng-show="cardForm.cvNumber.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="!cardForm.cvNumber.$error.required" data-translate="entity.validation.format"></p></div></div><div class="col-sm-9 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.namecard\' | translate}}" ng-model="$ctrl.paymentModel.cardModel.fullName" gtd-no-special-char name="fullName" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.fullName.$touched) && cardForm.fullName.$invalid"><p class="help-block" ng-show="cardForm.fullName.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.fullName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-3 no-padding-left margin-top-15 {{$ctrl.dateCardClass}}" ng-switch-when="true"><input type="text" class="form-control {{$ctrl.classValid}}" placeholder="mm/yy" name="expireMonthYear" ng-model="$ctrl.monthYear" maxlength="5" ng-keypress="$ctrl.keyPressed($event)" ng-change="$ctrl.expireMonthYear()"></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><span>Billing Address</span></div><!-- show selection choose save passenger --><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><select ng-if="$ctrl.isAuthenticated() == true" class="form-control" ng-options="traveller as (traveller.surName + \' \' + traveller.firstName) for traveller in ($ctrl.customerTravellers | traveller:\'ADT\') track by traveller.id" ng-model="item.selectedTraveller" ng-change="$ctrl.chooseContact(item)"><option value="">{{\'flight.booking.info.custinfo.save\' |translate}}</option></select></div><div class="col-sm-6 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.familyname\' | translate}}" ng-model="$ctrl.paymentModel.cardModel.firstName" name="firstName" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.firstName.$touched) && cardForm.firstName.$invalid"><p class="help-block" ng-show="cardForm.firstName.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.firstName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-6 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.name2\' | translate}}" ng-maxlength="100" ng-model="$ctrl.paymentModel.cardModel.lastName" name="lastName" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.lastName.$touched) && cardForm.lastName.$invalid"><p class="help-block" ng-show="cardForm.lastName.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.lastName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.address\' | translate}}" ng-maxlength="150" ng-model="$ctrl.paymentModel.cardModel.address" name="address" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.address.$touched) && cardForm.address.$invalid"><p class="help-block" ng-show="cardForm.address.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.address.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true" ng-init="$ctrl.paymentModel.cardModel.country= (!$ctrl.paymentModel.cardModel.country)?\'vn\':($ctrl.paymentModel.cardModel.country)"><select class="form-control" placeholder="Quốc gia" ng-model="$ctrl.paymentModel.cardModel.country" name="country" required><option ng-repeat="country in $ctrl.allCountries" value="{{country.code}}">{{country.name}}</option></select><div class="error" ng-show="(cardForm.$submitted || cardForm.country.$touched) && cardForm.country.$invalid"><p class="help-block" ng-show="cardForm.country.$error.required" data-translate="entity.validation.required"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.city\' | translate}}" ng-model="$ctrl.paymentModel.cardModel.city" name="city" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.city.$touched) && cardForm.city.$invalid"><p class="help-block" ng-show="cardForm.city.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.state.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="State" ng-model="$ctrl.paymentModel.cardModel.state" name="state" ng-maxlength="240"></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="Postal Code" ng-model="$ctrl.paymentModel.cardModel.postalCode" name="postalCode" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.postalCode.$touched) && cardForm.postalCode.$invalid"><p class="help-block" ng-show="cardForm.postalCode.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.postalCode.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="Email" ng-model="$ctrl.paymentModel.cardModel.email" gtd-email name="email" ng-maxlength="120" required><div class="error" ng-show="(cardForm.$submitted || cardForm.email.$touched) && cardForm.email.$invalid"><p class="help-block" ng-show="cardForm.email.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.email.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="120"></p><p class="help-block" ng-show="cardForm.email.$error.email" data-translate="entity.validation.email"></p><p class="help-block" ng-show="cardForm.email.$error.emailValidator" data-translate="entity.validation.email"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.phone\' | translate}}" ng-model="$ctrl.paymentModel.cardModel.phoneNumber" gtd-phone name="phoneNumber" required><div class="error" ng-show="(cardForm.$submitted || cardForm.phoneNumber.$touched) && cardForm.phoneNumber.$invalid"><p class="help-block" ng-show="cardForm.phoneNumber.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.phoneNumber.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="20"></p><p class="help-block" ng-show="cardForm.phoneNumber.$error.phoneValidator" data-translate="entity.validation.phoneValidator"></p></div></div><!--\n                                        <div class="col-sm-12 form-group no-padding-left margin-top-15" ng-if="$ctrl.isAuthenticated() == true"\n                                             ng-switch-when="true">\n                                            <div class="mt-checkbox-list">\n                                                <label class="mt-checkbox mt-checkbox-outline"> {{\'flight.booking.payment.add\' | translate}}\n                                                    <input type="checkbox" value="1" name="test" ng-model="$ctrl.paymentModel.cardModel.checked">\n                                                    <span></span>\n                                                </label>\n                                            </div>\n                                        </div>\n                                        <div class="col-md-12 save-message"><span>{{\'flight.booking.payment.save-message\' | translate}}</span></div>\n                                        --></div><div class="form-group col-sm-4"><img src="../../../../content/images/cardccv-1efa54b839.png" class="img-responsive"></div></div><div class="error col-md-12" ng-show="$ctrl.wrongPromo"><p class="help-block" ng-show="$ctrl.wrongPromo">Thẻ thanh toán của bạn không được hổ trợ chương trình khuyến mãi này</p></div></div></form></td></tr></table><div ng-class="{\'light\': $ctrl.paymentModel.airView}" class="row promosionAirShow" ng-if="$ctrl.bookingModel.bookingInfo.transactionInfos[0].supplierType == \'AIR\'"><div class="AnotherPromo"><span ng-click="$ctrl.open()" class="promotionSelect" data-translate="flight.booking.payment.anotherpromo">Chọn hình thức khuyến mãi khác</span></div><div class="stardust-button" ng-model="$ctrl.selectAirpromotion" ng-if="$ctrl.promotionAirName">Khuyến mãi đang chọn: <span style="font-weight: bold">{{$ctrl.promotionAirName}} <span data-translate="global.menu.textPromo"></span> {{$ctrl.disAmount}}</span> <span ng-if="$ctrl.discountvalue == \'PERCENT\'">%</span> <span class="pull-right deleteAirpromo" ng-click="$ctrl.deletePromoAir();"><i class="fa fa-close"></i></span></div></div></div><!-- END FORM--></div></div><div class="portlet" ng-class="{\'light\': $ctrl.paymentModel.airView}"><div class="portlet-title"><div class="caption" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.payment.title"></span></span></div></div><div class="portlet-body" ng-class="{\'is-mobile-app\': $ctrl.paymentModel.isMobileApp}"><!-- BEGIN FORM--><div class="payment-wrapper"><table class="payment-item table" ng-show="$ctrl.listPaymentType.indexOf(\'BALANCE\') >-1" ng-if="$ctrl.bookingModel.bookingInfo.showPayNowOption == true &&\n            \t((!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false) || ($ctrl.paymentModel.isMobileApp == true && $ctrl.paymentModel.paymentOption == \'BALANCE\'))" ng-switch="$ctrl.selectTypePayment == \'BALANCE\'" has-authority="ROLE_B2B"><tr class="table-row"><td class="radio-zone table-cell radio" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"><input ng-change="$ctrl.changeRadio()" type="radio" id="payment_option_balance" name="payment_option" ng-model="$ctrl.selectTypePayment" value="BALANCE" required><label for="payment_option_balance" class="radio-label"></label></td><td class="logo table-cell bg-white"><div class="logoGr"><img src="../../../content/images/american-dollar-symbol-7aa83a04c8.png"></div></td><td class="table-cell bg-white seperator-zone"><div class="seperator"></div></td><td class="item-detail-zone table-cell bg-white"><div class="item-header"><span data-translate="flight.booking.payment.balance-header"></span></div><div class="item-content"><span data-translate="flight.booking.payment.balance-content"></span></div></td></tr><tr class="table-row" ng-switch-when="true"><td class="radio-zone table-cell" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"></td><td colspan="3" class="child-zone bg-white"><div class="child-wrapper"><div class="child-title no-margin-bottom gtd-h6"><span data-translate="flight.booking.payment.balance-content"></span></div></div></td></tr></table><table class="payment-item table" ng-show="$ctrl.listPaymentType.indexOf(\'CREDIT\') >-1" ng-if="$ctrl.bookingModel.bookingInfo.showPayNowOption == true &&\n            \t((!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false) || ($ctrl.paymentModel.isMobileApp == true && $ctrl.paymentModel.paymentOption == \'CREDIT\'))" ng-switch="$ctrl.selectTypePayment == \'CREDIT\'"><tr class="table-row"><td class="radio-zone table-cell radio" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"><input ng-change="$ctrl.changeRadio()" type="radio" id="payment_option_credit" name="payment_option" ng-model="$ctrl.selectTypePayment" value="CREDIT" required><label for="payment_option_credit" class="radio-label"></label></td><td class="logo table-cell bg-white"><div class="logoGr"><img src="../../../content/images/payment/visa-pay-8d6f23beb4.png"></div></td><td class="table-cell bg-white seperator-zone"><div class="seperator"></div></td><td class="item-detail-zone table-cell bg-white"><div class="item-header"><span data-translate="flight.booking.payment.visa-header"></span></div><div class="item-content"><span data-translate="flight.booking.payment.visa-content"></span></div></td></tr><tr class="table-row" ng-switch-when="true"><td class="radio-zone table-cell" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"></td><td colspan="4" class="child-zone bg-white"><form role="form" name="cardForm" novalidate><div class="form-body"><div class="col-sm-12 padding-left-15"><div class="form-group col-sm-12 no-padding-left" ng-repeat="item in $ctrl.creditCards"><div class="inline-block padding-right-10"><input type="radio" class="inline-block" required ng-model="$ctrl.paymentModel.cardModel.cardId" value="{{item.id}}"></div><div class="inline-block card-icon"><img class="inline-block" ng-src="{{\'../../../../content/images/card-\' + item.type + \'.png\'}}"></div><div class="inline-block"><span>{{item.cardNumber | cc}}</span></div></div><div class="form-group col-sm-8 no-padding-left" ng-switch="$ctrl.paymentModel.cardModel.cardId == -1"><div class="col-sm-12 no-padding-left"><div class="inline-block padding-right-10"><input type="radio" checked="checked" required ng-model="$ctrl.paymentModel.cardModel.cardId" value="-1" class="inline-block"></div><span data-translate="flight.booking.payment.addcard">Nhập số thẻ mới </span><span><img src="../../../../content/images/card-VISA-13ff010731.png"> <img src="../../../../content/images/card-MASTER-e095e0dc43.png"> <img src="../../../../content/images/card-JCB-f818ec1661.png"></span></div><div class="col-sm-9 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" name="cardNumber" placeholder="{{\'flight.plchdr.card\' | translate}}" ng-model="$ctrl.paymentModel.cardModel.cardNumber" cc-number ng-maxlength="40" ng-pattern="/^[0-9]{1,40}$/" required><div class="error" ng-show="(cardForm.$submitted || cardForm.cardNumber.$touched) && cardForm.cardNumber.$invalid"><p class="help-block" ng-show="cardForm.cardNumber.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.cardNumber.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="40"></p><p class="help-block" ng-show="cardForm.cardNumber.$error.ccNumberType" data-translate="entity.validation.card"></p></div></div><div class="col-sm-3 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="CVV" ng-model="$ctrl.paymentModel.cardModel.cvNumber" ng-pattern="/^[0-9]/" ng-minlength="3" ng-maxlength="4" cc-cvc name="cvNumber" required><div class="error" ng-show="(cardForm.$submitted || cardForm.cvNumber.$touched) && cardForm.cvNumber.$invalid"><p class="help-block" ng-show="cardForm.cvNumber.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="!cardForm.cvNumber.$error.required" data-translate="entity.validation.format"></p></div></div><div class="col-sm-9 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.namecard\' | translate}}" ng-model="$ctrl.paymentModel.cardModel.fullName" gtd-no-special-char name="fullName" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.fullName.$touched) && cardForm.fullName.$invalid"><p class="help-block" ng-show="cardForm.fullName.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.fullName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-3 no-padding-left margin-top-15 {{$ctrl.dateCardClass}}" ng-switch-when="true"><input type="text" class="form-control {{$ctrl.classValid}}" placeholder="mm/yy" name="expireMonthYear" ng-model="$ctrl.monthYear" maxlength="5" ng-keypress="$ctrl.keyPressed($event)" ng-change="$ctrl.expireMonthYear()"></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><span>Billing Address</span></div><!-- show selection choose save passenger --><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><select ng-if="$ctrl.isAuthenticated() == true" class="form-control" ng-options="traveller as (traveller.surName + \' \' + traveller.firstName) for traveller in ($ctrl.customerTravellers | traveller:\'ADT\') track by traveller.id" ng-model="item.selectedTraveller" ng-change="$ctrl.chooseContact(item)"><option value="">{{\'flight.booking.info.custinfo.save\' |translate}}</option></select></div><div class="col-sm-6 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.familyname\' | translate}}" ng-model="$ctrl.paymentModel.cardModel.firstName" name="firstName" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.firstName.$touched) && cardForm.firstName.$invalid"><p class="help-block" ng-show="cardForm.firstName.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.firstName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-6 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.name2\' | translate}}" ng-maxlength="100" ng-model="$ctrl.paymentModel.cardModel.lastName" name="lastName" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.lastName.$touched) && cardForm.lastName.$invalid"><p class="help-block" ng-show="cardForm.lastName.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.lastName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.address\' | translate}}" ng-maxlength="150" ng-model="$ctrl.paymentModel.cardModel.address" name="address" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.address.$touched) && cardForm.address.$invalid"><p class="help-block" ng-show="cardForm.address.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.address.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true" ng-init="$ctrl.paymentModel.cardModel.country= (!$ctrl.paymentModel.cardModel.country)?\'vn\':($ctrl.paymentModel.cardModel.country)"><select class="form-control" placeholder="Quốc gia" ng-model="$ctrl.paymentModel.cardModel.country" name="country" required><option ng-repeat="country in $ctrl.allCountries" value="{{country.code}}">{{country.name}}</option></select><div class="error" ng-show="(cardForm.$submitted || cardForm.country.$touched) && cardForm.country.$invalid"><p class="help-block" ng-show="cardForm.country.$error.required" data-translate="entity.validation.required"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.city\' | translate}}" ng-model="$ctrl.paymentModel.cardModel.city" name="city" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.city.$touched) && cardForm.city.$invalid"><p class="help-block" ng-show="cardForm.city.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.state.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="State" ng-model="$ctrl.paymentModel.cardModel.state" name="state" ng-maxlength="240"></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="Postal Code" ng-model="$ctrl.paymentModel.cardModel.postalCode" name="postalCode" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.postalCode.$touched) && cardForm.postalCode.$invalid"><p class="help-block" ng-show="cardForm.postalCode.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.postalCode.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="Email" ng-model="$ctrl.paymentModel.cardModel.email" gtd-email name="email" ng-maxlength="120" required><div class="error" ng-show="(cardForm.$submitted || cardForm.email.$touched) && cardForm.email.$invalid"><p class="help-block" ng-show="cardForm.email.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.email.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="120"></p><p class="help-block" ng-show="cardForm.email.$error.email" data-translate="entity.validation.email"></p><p class="help-block" ng-show="cardForm.email.$error.emailValidator" data-translate="entity.validation.email"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15" ng-switch-when="true"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.phone\' | translate}}" ng-model="$ctrl.paymentModel.cardModel.phoneNumber" gtd-phone name="phoneNumber" required><div class="error" ng-show="(cardForm.$submitted || cardForm.phoneNumber.$touched) && cardForm.phoneNumber.$invalid"><p class="help-block" ng-show="cardForm.phoneNumber.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.phoneNumber.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="20"></p><p class="help-block" ng-show="cardForm.phoneNumber.$error.phoneValidator" data-translate="entity.validation.phoneValidator"></p></div></div><!--\n                                        <div class="col-sm-12 form-group no-padding-left margin-top-15" ng-if="$ctrl.isAuthenticated() == true"\n                                            ng-switch-when="true">\n                                            <div class="mt-checkbox-list">\n                                                <label class="mt-checkbox mt-checkbox-outline"> {{\'flight.booking.payment.add\' | translate}}\n                                                    <input type="checkbox" value="1" name="test" ng-model="$ctrl.paymentModel.cardModel.checked">\n                                                    <span></span>\n                                                </label>\n                                            </div>\n                                        </div>\n                                        <div class="save-message"><span>{{\'flight.booking.payment.save-message\' | translate}}</span></div>\n                                        --></div><div class="form-group col-sm-4"><img src="../../../../content/images/cardccv-1efa54b839.png" class="img-responsive"></div></div></div></form></td></tr></table><!-- Disabled ATM for bug --><table class="payment-item table" ng-show="$ctrl.listPaymentType.indexOf(\'ATM_DEBIT\') >-1" ng-if="$ctrl.bookingModel.bookingInfo.showPayNowOption == true &&\n            \t((!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false) || ($ctrl.paymentModel.isMobileApp == true && $ctrl.paymentModel.paymentOption == \'ATM_DEBIT\'))" ng-switch="$ctrl.selectTypePayment == \'ATM_DEBIT\'"><tr class="table-row"><td class="radio-zone table-cell radio" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"><input ng-change="$ctrl.changeRadio()" type="radio" id="payment_option_atm_debit" name="payment_option" ng-model="$ctrl.selectTypePayment" value="ATM_DEBIT" required><label for="payment_option_atm_debit" class="radio-label"></label></td><td class="logo table-cell bg-white"><div class="logoGr"><img src="../../../content/images/payment/atm-pay-2f0e5031b6.png"></div></td><td class="table-cell bg-white seperator-zone"><div class="seperator"></div></td><td class="item-detail-zone table-cell bg-white"><div class="item-header"><span data-translate="flight.booking.payment.atm-header"></span></div><div class="item-content"><span data-translate="flight.booking.payment.atm-content"></span></div></td></tr><tr class="table-row" ng-switch-when="true"><td class="radio-zone table-cell" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"></td><td colspan="4" class="child-zone bg-white"><form role="form" name="atmForm" novalidate><div class="form-body"><div class="col-sm-12 padding-left-15"><div class="col-sm-4 no-padding-left margin-top-15"><span data-translate="flight.booking.payment.bank">Ngân hàng</span></div><div class="col-sm-8 no-padding-left margin-top-15"><select class="form-control" placeholder="Ngân hàng" ng-model="$ctrl.paymentModel.cardModel.bank" name="bankName" required><option ng-repeat="opt in $ctrl.allDebitOptions" value="{{opt}}">{{\'ota_debit_options.\' + opt | translate}}</option></select><div class="error" ng-show="(atmForm.$submitted || atmForm.bankName.$touched) && atmForm.bankName.$invalid"><p class="help-block" ng-show="atmForm.bankName.$error.required" data-translate="entity.validation.required"></p></div></div><div class="col-sm-4 no-padding-left margin-top-15"><span data-translate="flight.booking.payment.name">Họ tên</span></div><div class="col-sm-8 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="{{\'flight.booking.payment.plchdrname\' | translate}}" gtd-no-special-char ng-model="$ctrl.paymentModel.cardModel.fullName" name="fullNameAtm" ng-maxlength="240" required><div class="error" ng-show="(atmForm.$submitted || atmForm.fullNameAtm.$touched) && atmForm.fullNameAtm.$invalid"><p class="help-block" ng-show="atmForm.fullNameAtm.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="atmForm.fullNameAtm.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-4 no-padding-left margin-top-15"><span>Email</span></div><div class="col-sm-8 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="Email" ng-model="$ctrl.paymentModel.cardModel.email" gtd-email name="emailAtm" ng-maxlength="120" required><div class="error" ng-show="(atmForm.$submitted || atmForm.emailAtm.$touched) && atmForm.emailAtm.$invalid"><p class="help-block" ng-show="atmForm.emailAtm.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="atmForm.emailAtm.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="120"></p><p class="help-block" ng-show="atmForm.emailAtm.$error.email" data-translate="entity.validation.email"></p><p class="help-block" ng-show="atmForm.emailAtm.$error.emailValidator" data-translate="entity.validation.email"></p></div></div><div class="col-sm-4 no-padding-left margin-top-15"><span data-translate="flight.booking.payment.phone">Số điện thoại</span></div><div class="col-sm-8 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.phone\' | translate}}" gtd-vn-phone ng-model="$ctrl.paymentModel.cardModel.mobile" name="mobileAtm" ng-maxlength="20" required><div class="error" ng-show="(atmForm.$submitted || atmForm.mobileAtm.$touched) && atmForm.mobileAtm.$invalid"><p class="help-block" ng-show="atmForm.mobileAtm.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="atmForm.mobileAtm.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="20"></p><p class="help-block" ng-show="atmForm.mobileAtm.$error.phoneValidator" data-translate="entity.validation.phoneValidator"></p></div></div><div class="col-sm-4 no-padding-left margin-top-15"><span data-translate="flight.booking.payment.address">Địa chỉ</span></div><div class="col-sm-8 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="{{\'flight.plchdr.address\' | translate}}" ng-model="$ctrl.paymentModel.cardModel.address" name="addressAtm" ng-maxlength="450" required><div class="error" ng-show="(atmForm.$submitted || atmForm.addressAtm.$touched) && atmForm.addressAtm.$invalid"><p class="help-block" ng-show="atmForm.addressAtm.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="atmForm.addressAtm.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="450"></p></div></div></div></div></form></td></tr></table><table class="payment-item table" ng-show="$ctrl.listPaymentType.indexOf(\'VNPAYQR\') >-1" ng-if="$ctrl.bookingModel.bookingInfo.showPayNowOption == true &&\n                ((!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false) || ($ctrl.paymentModel.isMobileApp == true && $ctrl.paymentModel.paymentOption == \'VNPAYQR\'))" ng-switch="$ctrl.selectTypePayment == \'VNPAYQR\'"><tr class="table-row"><td class="radio-zone table-cell radio" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"><input ng-change="$ctrl.changeRadio()" type="radio" id="payment_option_vnpqayqr" name="payment_option" ng-model="$ctrl.selectTypePayment" value="VNPAYQR" required><label for="payment_option_vnpqayqr" class="radio-label"></label></td><td class="logo table-cell bg-white"><div class="logoGr"><img src="../../../content/images/payment/qr-code-pay-027124aa67.png"></div></td><td class="table-cell bg-white seperator-zone"><div class="seperator"></div></td><td class="item-detail-zone table-cell bg-white"><div class="item-header"><span data-translate="flight.booking.payment.vnpayqr-header"></span></div><div class="item-content"><span data-translate="flight.booking.payment.vnpayqr-content"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></td></tr></table><table class="payment-item table" ng-show="$ctrl.listPaymentType.indexOf(\'VIETTELPAY\') >-1" ng-if="$ctrl.bookingModel.bookingInfo.showPayNowOption == true &&\n            \t((!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false) || ($ctrl.paymentModel.isMobileApp == true && $ctrl.paymentModel.paymentOption == \'VIETTELPAY\'))" ng-switch="$ctrl.selectTypePayment == \'VIETTELPAY\'"><tr class="table-row"><td class="radio-zone table-cell radio" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"><input ng-change="$ctrl.changeRadio()" type="radio" id="payment_option_viettelpay" name="payment_option" ng-model="$ctrl.selectTypePayment" value="VIETTELPAY" required><label for="payment_option_viettelpay" class="radio-label"></label></td><td class="logo table-cell bg-white"><div class="logoGr"><img src="../../../content/images/payment/viettel-pay-5b762b8f6e.png"></div></td><td class="table-cell bg-white seperator-zone"><div class="seperator"></div></td><td class="item-detail-zone table-cell bg-white"><div class="item-header"><span data-translate="flight.booking.payment.viettelpay-header"></span></div><div class="item-content"><span data-translate="flight.booking.payment.viettelpay-content"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></td></tr></table><!--PaymentMomo--><table class="payment-item table" ng-show="$ctrl.listPaymentType.indexOf(\'MOMO\') >-1" ng-if="$ctrl.bookingModel.bookingInfo.showPayNowOption == true &&\n            \t((!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false) || ($ctrl.paymentModel.isMobileApp == true && $ctrl.paymentModel.paymentOption == \'MOMO\'))" ng-switch="$ctrl.selectTypePayment == \'MOMO\'"><tr class="table-row"><td class="radio-zone table-cell radio" ng-if="(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"><input ng-change="$ctrl.changeRadio()" type="radio" id="payment_option_momo" name="payment_option" ng-model="$ctrl.selectTypePayment" value="MOMO" required><label for="payment_option_momo" class="radio-label"></label></td><td class="logo table-cell bg-white"><div class="logoGr"><img src="../../../content/images/payment/momo-pay-3646d6ed3d.png"></div></td><td class="table-cell bg-white seperator-zone"><div class="seperator"></div></td><td class="item-detail-zone table-cell bg-white"><div class="item-header"><span data-translate="flight.booking.payment.momopay-header"></span></div><div class="item-content"><span data-translate="flight.booking.payment.momopay-content"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></td></tr></table><!--table class="payment-item table"  ng-show="$ctrl.listPaymentType.indexOf(\'CASH\') >-1" ng-switch="$ctrl.paymentModel.paymentOption == \'CASH\'" ng-if="$ctrl.bookingModel.bookingInfo.showPayLaterOption == true">\n                <tr class="table-row">\n                    <td class="radio-zone table-cell radio" ng-if = "(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)" >\n                        <input ng-change="$ctrl.changeRadio()" type="radio" id="payment_option_cash" name="payment_option" ng-click = "$ctrl.deletePromoAir();"\n                            ng-model="$ctrl.selectTypePayment" value="CASH" required />\n                        <label for="payment_option_cash" class="radio-label"></label>\n                    </td>\n\n                    <td class="logo table-cell bg-white">\n                        <div class="logoGr">\n                            <img src="../../../content/images/dollar-symbol-74c79dcf74.png" />\n                        </div>\n                    </td>\n\n                    <td class="table-cell bg-white seperator-zone">\n                        <div class="seperator"></div>\n                    </td>\n                    <td class="item-detail-zone table-cell bg-white">\n                        <div class="item-header">\n                            <span data-translate="flight.booking.payment.cash-and-reserve-header"></span>\n                        </div>\n                        <div class="item-content">\n                            <span data-translate="flight.booking.payment.cash-and-reserve-content"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                        </div>\n                    </td>\n                </tr>\n                <tr class="table-row" ng-switch-when="true">\n                    <td class="radio-zone table-cell" ng-if = "(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"></td>\n                    <td colspan="3" class="child-zone bg-white">\n                        <div class="child-wrapper">\n                            <table class="cash-table">\n                                <tr class="cash-tr">\n                                    <td class="cash-td"><strong>{{\'flight.booking.payment.hcm\' | translate}}</strong></td>\n                                    <td class="cash-td"><strong>{{\'flight.booking.payment.hn\' | translate}}</strong></td>\n                                </tr>\n\n                                <tr class="cash-tr">\n                                    <td class="cash-td">194 Nguyễn Thị Minh Khai, P6, Quận 3, TP.HCM</td>\n                                    <td class="cash-td">147 Phan Chu Trinh, Q.Hoàn Kiếm, Hà Nội, TP.HCM</td>\n                                </tr>\n\n                                <tr class="cash-tr">\n                                    <td class="cash-td">Hotline 1900 9002</td>\n                                    <td class="cash-td">Hotline 1900 9002</td>\n                                </tr>\n\n                                <tr class="cash-tr">\n                                    <td class="cash-td">ĐT (028) 62 850 850 - (028) 62 857 857</td>\n                                    <td class="cash-td">ĐT (028) 62 850 850 - (028) 62 857 857</td>\n                                </tr>\n                            </table>\n                        </div>\n                    </td>\n                </tr>\n                <tr class="table-row" ng-switch-when="true">\n                    <td class="radio-zone table-cell" ng-if = "(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)"></td>\n                    <td colspan="3" class="child-zone bg-white">\n                        <form role="form" name="xxxxForm" novalidate>\n                            <div class="child-wrapper">\n                                <table class="child-table">\n                                    <tr class="child-row">\n                                        <td class="child-logo">\n                                            <img src="../../../content/images/acb-logo-aac7de96e9.png" />\n                                        </td>\n                                        <td class="child-details">\n                                            <div class="child-header">{{\'flight.booking.payment.acb-title\' | translate}}</div>\n                                            <div class="child-detail" >{{\'flight.booking.payment.acb-branch\' | translate}}</div>\n                                            <div class="child-detail">202706679</div>\n                                        </td>\n                                    </tr>\n\n                                    <tr class="child-row">\n                                        <td class="child-logo">\n                                            <img src="../../../content/images/lienviet-logo-e1d1605c93.png" />\n                                        </td>\n                                        <td class="child-details">\n                                            <div class="child-header">{{\'flight.booking.payment.lpb-title\' | translate}}</div>\n                                            <div class="child-detail" >{{\'flight.booking.payment.lpb-branch\' | translate}}</div>\n                                            <div class="child-detail">002086929999</div>\n                                        </td>\n                                    </tr>\n\n                                    <tr class="child-row">\n                                        <td class="child-logo">\n                                            <img src="../../../content/images/tcb-logo-fd008f6ce9.png" />\n                                        </td>\n                                        <td class="child-details">\n                                            <div class="child-header">{{\'flight.booking.payment.tcb-title\' | translate}}</div>\n                                            <div class="child-detail" >{{\'flight.booking.payment.tcb-branch\' | translate}}</div>\n                                            <div class="child-detail">19129519140016</div>\n                                        </td>\n                                    </tr>\n\n                                    <tr class="child-row">\n                                        <td class="child-logo">\n                                            <img src="../../../content/images/bidv-logo-3ea392e2e1.png" />\n                                        </td>\n                                        <td class="child-details">\n                                            <div class="child-header">{{\'flight.booking.payment.bidv-title\' | translate}}</div>\n                                            <div class="child-detail" >{{\'flight.booking.payment.bidv-branch\' | translate}}</div>\n                                            <div class="child-detail">14710000160709</div>\n                                        </td>\n                                    </tr>\n\n                                    <tr class="child-row">\n                                        <td class="child-logo">\n                                            <img src="../../../content/images/vcb-logo-a694798f63.png" />\n                                        </td>\n\n                                        <td class="child-details">\n                                            <div class="child-header">{{\'flight.booking.payment.vcb-title\' | translate}}</div>\n                                            <div class="child-detail" >{{\'flight.booking.payment.vcb-branch\' | translate}}</div>\n                                            <div class="child-detail">0331000428208</div>\n                                        </td>\n                                    </tr>\n\n                                    <tr class="child-row">\n                                        <td class="child-logo">\n                                            <img src="../../../content/images/vib-logo-a16c01c4d4.png" />\n                                        </td>\n                                        <td class="child-details">\n                                            <div class="child-header">{{\'flight.booking.payment.vib-title\' | translate}}</div>\n                                            <div class="child-detail" >{{\'flight.booking.payment.vib-branch\' | translate}}</div>\n                                            <div class="child-detail">601704060266913</div>\n                                        </td>\n                                    </tr>\n\n                                    <tr class="child-row">\n                                        <td class="child-logo">\n                                            <img src="../../../content/images/hd-logo-33b4fcc902.png" />\n                                        </td>\n                                        <td class="child-details">\n                                            <div class="child-header">{{\'flight.booking.payment.hd-title\' | translate}}</div>\n                                            <div class="child-detail" >{{\'flight.booking.payment.hd-branch\' | translate}}</div>\n                                            <div class="child-detail">068704070141786</div>\n                                        </td>\n                                    </tr>\n\n                                    <tr class="child-row">\n                                        <td class="child-logo">\n                                            <img src="../../../content/images/vpbank-716c0bcd4a.jpg" style="width:45px; height:18px"/>\n                                        </td>\n                                        <td class="child-details">\n                                            <div class="child-header">{{\'flight.booking.payment.vp-title\' | translate}}</div>\n                                            <div class="child-detail" >{{\'flight.booking.payment.vp-branch\' | translate}}</div>\n                                            <div class="child-detail">107797696</div>\n                                        </td>\n                                    </tr>\n\n                                    <tr class="child-row">\n                                        <td class="child-logo">\n                                            <img src="../../../content/images/viettinbank-5ce04f02df.png" style="width:45px; height:18px"/>\n                                        </td>\n                                        <td class="child-details">\n                                            <div class="child-header">{{\'flight.booking.payment.vtb-title\' | translate}}</div>\n                                            <div class="child-detail" >{{\'flight.booking.payment.vtb-branch\' | translate}}</div>\n                                            <div class="child-detail">111002623258 </div>\n                                        </td>\n                                    </tr>\n\n                                    <tr class="child-row">\n                                        <td class="child-logo">\n                                            <img src="../../../content/images/mbbank-f878a562d0.png" style="width:45px; height:18px"/>\n                                        </td>\n                                        <td class="child-details">\n                                            <div class="child-header">{{\'flight.booking.payment.mb-title\' | translate}}</div>\n                                            <div class="child-detail" >{{\'flight.booking.payment.mb-branch\' | translate}}</div>\n                                            <div class="child-detail">1121100224009  </div>\n                                        </td>\n                                    </tr>\n\n                                    <tr class="child-row">\n                                        <td class="child-logo">\n                                            <img src="../../../content/images/seabank-logo-bc63e094e9.png" style="width:45px; height:45px" />\n                                        </td>\n                                        <td class="child-details">\n                                            <div class="child-header">{{\'flight.booking.payment.sea-title\' | translate}}</div>\n                                            <div class="child-detail" >{{\'flight.booking.payment.sea-branch\' | translate}}</div>\n                                            <div class="child-detail">10200014654095</div>\n                                        </td>\n                                    </tr>\n                                </table>\n                            </div>\n                        </form>\n                    </td>\n                </tr>\n\n            </table--><!--PaymentPayoo--><!--table class="payment-item table" ng-show="$ctrl.listPaymentType.indexOf(\'PAYOO\') >-1" ng-if="$ctrl.bookingModel.bookingInfo.showPayNowOption == true &&\n            \t((!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false) || ($ctrl.paymentModel.isMobileApp == true && $ctrl.paymentModel.paymentOption == \'PAYOO\'))"\n                   ng-switch="$ctrl.selectTypePayment == \'PAYOO\'">\n                <tr class="table-row">\n                    <td class="radio-zone table-cell radio" ng-if = "(!$ctrl.paymentModel.isMobileApp || $ctrl.paymentModel.isMobileApp == false)" >\n                        <input ng-change="$ctrl.changeRadio()" type="radio" id="payment_option_payoo" name="payment_option"\n                               ng-model="$ctrl.selectTypePayment" value="PAYOO" required />\n                        <label for="payment_option_payoo" class="radio-label"></label>\n                    </td>\n\n                    <td class="logo table-cell bg-white">\n                        <div class="logoGr">\n                            <img src="../../../content/images/payment/payoo-pay-fd601e4665.png" />\n                        </div>\n                    </td>\n\n                    <td class="table-cell bg-white seperator-zone">\n                        <div class="seperator"></div>\n                    </td>\n                    <td class="item-detail-zone table-cell bg-white">\n                        <div class="item-header"><span data-translate="flight.booking.payment.payoopay-header"></span></div>\n                        <div class="item-content">\n                            <span data-translate="flight.booking.payment.payoopay-content"></span>\n                        </div>\n                    </td>\n                </tr>\n            </table--><!-- END FORM--></div></div></div>'),
                e.put("app/components/booking/flight-booking-billing-info-view.html", '<div class="portlet light" ng-show="$ctrl.bookingModel.biCompany != null || $ctrl.bookingModel.biMst != null || $ctrl.bookingModel.biMobile != null || $ctrl.bookingModel.biAddress != null ||  $ctrl.bookingModel.tPCName != null || $ctrl.bookingModel.tPCfName != null || $ctrl.bookingModel.tPCPhone != null || $ctrl.bookingModel.tPCfemail != null || $ctrl.bookingModel.tPCNote !=null"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.billinfo.title"></span></span></div></div><div class="portlet-body form"><div class="portlet-body"><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.company"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biCompany}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.mst"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biMst}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.mobile"></span></div><!-- <div class="col-md-9 value"> (+{{$ctrl.bookingModel.biMobileCode}})&nbsp;{{$ctrl.bookingModel.biMobile}}</div> --><div class="col-md-9 value">{{$ctrl.bookingModel.biMobile}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.address"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biAddress}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.familyname">Họ</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.tPCfName}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.name">Tên đệm và Tên</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.tPCName}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.phone">Số Điện thoại</span></div><div class="col-md-9 value long-value">(+{{$ctrl.bookingModel.tPCPhoneCode}})&nbsp; {{$ctrl.bookingModel.tPCPhone}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Email</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.tPCemail}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.note">Ghi chú</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.tPCNote}}</div></div></div></div></div>'), e.put("app/components/booking/flight-booking-billing-info.html", '<div class="portlet light flight-booking-billing-info"><div class="portlet-title"><div class="caption"><!--<span class="fa fa-square-o" ng-if="$ctrl.bookingModel.showForm == false" ng-click="$ctrl.doShowForm();"></span>--><!--<span class="fa fa-check-square-o" ng-if="$ctrl.bookingModel.showForm == true" ng-click="$ctrl.doShowForm();"></span>--><div class="mt-checkbox-list" style="padding: 0px"><label class="mt-checkbox green mt-checkbox-outline" style="margin-bottom: 0px"><input type="checkbox" ng-model="$ctrl.bookingModel.showForm" ng-click="$ctrl.doShowForm();"> <span>&nbsp;</span></label><span style="margin-left: 30px" class="caption-subject font-dark bold uppercase" data-translate="flight.booking.info.billinfo.title"></span></div><!--<span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.billinfo.title"></span> </span>--></div></div><div class="portlet-body form" ng-if="$ctrl.bookingModel.showForm == true"><!-- BEGIN FORM--><div class="form-body"><div class="form-group"><label class="control-label"><div style="display: flex"><span data-translate="flight.booking.info.billinfo.company"></span>:<div style="color: red">*</div></div></label><input type="text" id="biCompany" name="biCompany" required ng-maxlength="320" class="gtd-text-large form-control" ng-model="$ctrl.bookingModel.biCompany" placeholder="{{\'flight.plchdr.company\' | translate}}"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biCompany.$touched) && $ctrl.form.biCompany.$invalid"><p class="help-block" ng-show="$ctrl.form.biCompany.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form.biCompany.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="320"></p></div></div><div class="form-group"><label class="control-label"><div style="display: flex"><span data-translate="flight.booking.info.billinfo.mst"></span>:<div style="color: red">*</div></div></label><input type="text" id="biMst" name="biMst" ng-maxlength="80" required class="gtd-text-large form-control" ng-model="$ctrl.bookingModel.biMst" placeholder="{{\'flight.plchdr.mst\' | translate}}"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biMst.$touched) && $ctrl.form.biMst.$invalid"><p class="help-block" ng-show="$ctrl.form.biMst.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form.biMst.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="80"></p></div></div><!-- <div class="row">\n               <div class="form-group">\n                <div class="col-sm-4 cust-cell">\n                    <label class="control-label"><span data-translate="flight.booking.info.billinfo.mobile"></span></label>\n                            <select class="gtd-text-medium form-control"\n                                    id="biMobileCode" name="biMobileCode"\n                                    ng-model="$ctrl.bookingModel.biMobileCode"\n                                    required \n                                    ng-options="country.phoneCode as (country.name + \' (+\' + country.phoneCode + \')\') for country in $ctrl.allCountries"\n                            />  \n                            <div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biMobileCode.$touched) && $ctrl.form.biMobileCode.$invalid">\n                                <p class="help-block" ng-show="$ctrl.form.biMobileCode.$error.required" data-translate="entity.validation.required"></p>\n                            </div>\n                    </div>  \n                    <div class="col-sm-8 cust-cell">\n                            &nbsp; &nbsp; &nbsp;\n                        <input required type="text"\n                               id="biPhone" name="biPhone"\n                               gtd-phone\n                               class="gtd-text-medium form-control " placeholder="{{\'flight.plchdr.phone\' | translate}}"\n                               ng-model="$ctrl.bookingModel.biMobile">\n                        <div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biPhone.$touched) && $ctrl.form.biPhone.$invalid">\n                            <p class="help-block" ng-show="$ctrl.form.biPhone.$invalid" data-translate="entity.validation.phone"></p>\n                        </div>\n                </div> \n                </div>\n               \n           </div> --><div class="row"><div class="form-group"><div class="col-sm-4 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.contactinfo.mobile"></span>:<div style="color: red">*</div></div><select id="biMobileCode" name="biMobileCode" ng-model="$ctrl.bookingModel.biMobileCode" class="form-control" required ng-options="country.phoneCode as (country.name + \' (+\' + country.phoneCode + \')\') for country in $ctrl.allCountries"></select><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'biMobileCode\' + $index].$touched) && $ctrl.form[\'biMobileCode\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'biMobileCode\' + $index].$error.required" data-translate="entity.validation.required"></p></div></div><div class="col-sm-8 cust-cell">&nbsp; <input type="text" id="biMobile" name="biMobile" gtd-phone ng-model="$ctrl.bookingModel.biMobile" class="gtd-text-medium form-control" placeholder="{{\'flight.plchdr.phone\' | translate}}" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'biMobile\' + $index].$touched) && $ctrl.form[\'biMobile\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'biMobile\' + $index].$invalid" data-translate="entity.validation.phone"></p></div></div></div></div><div class="form-group"><label class="control-label"><div style="display: flex"><span data-translate="flight.booking.info.billinfo.address"></span>:<div style="color: red">*</div></div></label><textarea id="biAddress" name="biAddress" ng-maxlength="320" style="resize: none" required class="form-control gtd-textarea-default" ng-model="$ctrl.bookingModel.biAddress" placeholder="{{\'flight.plchdr.address\' | translate}}"></textarea><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biAddress.$touched) && $ctrl.form.biAddress.$invalid"><p class="help-block" ng-show="$ctrl.form.biAddress.$invalid" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form.biAddress.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="320"></p></div></div></div><!-- END FORM--><div style="padding: 0px"><label class="" style="margin-bottom: 0px"><span>&nbsp;</span></label><span class="caption-subject font-dark bold uppercase">{{\'flight.search.result.voice\' | translate}}</span></div><span>&nbsp;</span><div class="row"><div class="form-group hotel-customer" ng-if="$ctrl.isAuthenticated() == true && $ctrl.customerTravellers.length > 0 && ($ctrl.customerTravellers | traveller:\'ADT\').length > 0"><div class="col-sm-4">{{\'flight.booking.info.custinfo.save\' |translate}}</div><div class="col-sm-8"><select ng-if="$ctrl.isAuthenticated() == true" class="form-control regular-cust-select" ng-options="traveller as (traveller.surName + \' \' + traveller.firstName) for traveller in ($ctrl.customerTravellers | traveller:\'ADT\') track by traveller.id" ng-model="item.selectedTraveller" ng-change="$ctrl.chooseContact(item)"><option value="">{{\'flight.plchdr.choose\' | translate}}</option></select></div></div></div><div class="row"><div class="form-group"><div class="col-sm-6 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.custinfo.familyname"></span>:<div style="color: red">*</div></div><input id="tPCfName{{$index}}" name="tPCfName{{$index}}" ng-maxlength="130" ng-model="$ctrl.bookingModel.tPCfName" type="text" gtd-no-special-char gtd-capitalize="true" class="gtd-text-medium form-control" placeholder="{{\'flight.plchdr.surname\' | translate}}" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'tPCfName\' + $index].$touched) && $ctrl.form[\'tPCfName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'tPCfName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'tPCfName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p></div></div><div class="col-sm-6 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.custinfo.name"></span>:<div style="color: red">*</div></div><input id="tPCName" name="tPCName" ng-maxlength="130" ng-model="$ctrl.bookingModel.tPCName" type="text" gtd-no-special-char gtd-capitalize="true" class="gtd-text-medium form-control" placeholder="{{\'flight.plchdr.name\' | translate}}" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'tPCName\' + $index].$touched) && $ctrl.form[\'tPCName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'tPCName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'tPCName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p></div></div></div></div><div class="row"><div class="form-group"><div class="col-sm-4 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.contactinfo.mobile"></span>:<div style="color: red">*</div></div><select id="tPCPhoneCode" name="tPCPhoneCode" ng-model="$ctrl.bookingModel.tPCPhoneCode" class="form-control" required ng-options="country.phoneCode as (country.name + \' (+\' + country.phoneCode + \')\') for country in $ctrl.allCountries"></select><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'tPCPhoneCode\' + $index].$touched) && $ctrl.form[\'tPCPhoneCode\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'tPCPhoneCode\' + $index].$error.required" data-translate="entity.validation.required"></p></div></div><div class="col-sm-8 cust-cell">&nbsp; <input type="text" id="tPCPhone" name="tPCPhone" gtd-phone ng-model="$ctrl.bookingModel.tPCPhone" class="gtd-text-medium form-control" placeholder="{{\'flight.plchdr.phone\' | translate}}" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'tPCPhone\' + $index].$touched) && $ctrl.form[\'tPCPhone\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'tPCPhone\' + $index].$invalid" data-translate="entity.validation.phone"></p></div></div></div></div><div class="row"><div class="col-sm-12"><div class="form-group"><label class="control-label"><div style="display: flex"><span data-translate="flight.booking.info.contactinfo.email"></span>:<div style="color: red">*</div></div></label><input id="tPCemail" name="tPCemail" ng-maxlength="120" gtd-email type="email" class="form-control" ng-model="$ctrl.bookingModel.tPCemail" required placeholder="{{\'flight.plchdr.email\' | translate}}"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'tPCemail\' + $index].$touched) && $ctrl.form[\'tPCemail\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'tPCemail\' + $index].$invalid" data-translate="entity.validation.email"></p><p class="help-block" ng-show="$ctrl.form[\'tPCemail\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="120"></p></div></div></div></div><div class="row"><div class="col-sm-12"><div class="form-group"><span>{{\'flight.search.result.note\' | translate}}</span><textarea class="form-control" name="" id="" rows="3" style="resize:none" placeholder="{{\'flight.plchdr.note\' | translate}}" ng-model="$ctrl.bookingModel.tPCNote" id="tPCNote" name="tPCNote"></textarea></div></div></div><!-- TIEN CA TAN --><!-- <div class="portlet-body form">     \n               \n                </div> --><!-- END FORM--></div></div>'), e.put("app/components/booking/flight-booking-contact-info-view.html", '<div class="portlet light"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.contactinfo.title"></span></span></div></div><div class="portlet-body" ng-repeat="item in $ctrl.bookingModel.contacts"><div class="form-group"><label class="control-label person-header">Người liên hệ thứ {{$index+1}}: <b>{{item.ciFName}}&nbsp;{{item.ciName}}</b></label><span class="fa fa-plus-square-o pull-right" ng-click="$ctrl.showCust(item)" ng-show="item.show != true"></span> <span class="fa fa-minus-square-o pull-right" ng-click="$ctrl.hideCust(item)" ng-show="item.show == true"></span></div><div class="row static-info" ng-show="item.show == true"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.gender"></span></div><div class="col-md-9 value">{{\'\' + item.ciGender | lookupt :\'ota_customer\':\'passenger_gender\' | translate}}</div></div><div class="row static-info" ng-show="item.show == true"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.familyname"></span></div><div class="col-md-9 value long-value">{{item.ciFName}}</div></div><div class="row static-info" ng-show="item.show == true"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.name"></span></div><div class="col-md-9 value long-value">{{item.ciName}}</div></div><div class="row static-info" ng-show="item.show == true"><div class="col-md-3 name"><span data-translate="flight.booking.info.contactinfo.mobile"></span></div><!-- <div class="col-md-9 value"> (+{{item.ciMobileCode}})&nbsp;{{item.ciMobile}}\n            </div> --><div class="col-md-9 value">{{item.ciMobile}}</div></div><div class="row static-info" ng-show="item.show == true"><div class="col-md-3 name"><span>Postcode</span></div><div class="col-md-9 value long-value">{{item.postcode}}</div></div><div class="row static-info" ng-show="item.show == true"><div class="col-md-3 name"><span data-translate="flight.booking.info.contactinfo.email"></span></div><div class="col-md-9 value long-value">{{item.ciEmail}}</div></div></div></div>'), e.put("app/components/booking/flight-booking-contact-info.html", '<div class="portlet light flight-booking-contact-info"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.contactinfo.title"></span></span></div></div><div class="portlet-body form"><!-- BEGIN FORM--><div class="form-body" ng-repeat="item in $ctrl.bookingModel.contacts"><div class="form-group hotel-customer cust-header"><label class="control-label person-header">{{\'flight.booking.info.custinfo.contact\' |translate}} {{$index+1}}</label><div class="cust-header-right hand" ng-click="$ctrl.removeContact($index)" ng-show="$ctrl.bookingModel.contacts.length > 1"><span class="fa fa-minus-square-o"></span> <span>{{\'flight.booking.info.custinfo.del\' |translate}}</span></div></div><div class="row"><div class="form-group hotel-customer" ng-if="$ctrl.isAuthenticated() == true && $ctrl.customerTravellers.length > 0 && ($ctrl.customerTravellers | traveller:\'ADT\').length > 0"><div class="col-sm-4">{{\'flight.booking.info.custinfo.save\' |translate}}</div><div class="col-sm-8"><select ng-if="$ctrl.isAuthenticated() == true" class="form-control regular-cust-select" ng-options="traveller as (traveller.surName + \' \' + traveller.firstName) for traveller in ($ctrl.customerTravellers | traveller:\'ADT\') track by traveller.id" ng-model="item.selectedTraveller" ng-change="$ctrl.chooseContact(item)"><option value="">{{\'flight.plchdr.choose\' | translate}}</option></select></div></div></div><div class="row"><div class="form-group"><!--<div class="col-sm-4 cust-cell">--><!--Giới tính--><!--<div class="table-cell">--><!--<select--><!--id="ciGender{{$index}}" name="ciGender{{$index}}"--><!--class="gtd-text-small form-control" ng-model="item.ciGender" required>--><!--<option value="" disabled selected hidden>{{\'flight.plchdr.choose\' | translate}}</option>--><!--<option ng-repeat="title in $ctrl.adultTitleLookups" value="{{title.lookupValue}}">{{title.lang | translate}}</option>--><!--</select>--><!--</div>--><!--<div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciGender\' + $index].$touched) && $ctrl.form[\'ciGender\' + $index].$invalid">--><!--<p class="help-block" ng-show="$ctrl.form[\'ciGender\' + $index].$error.required" data-translate="entity.validation.required"></p>--><!--</div>--><!--</div>--><div class="col-sm-6 cust-cell"><span class="require-label" data-translate="flight.booking.info.custinfo.familyname"></span> <input id="ciFName{{$index}}" name="ciFName{{$index}}" ng-maxlength="130" type="text" gtd-no-special-char gtd-capitalize="true" class="gtd-text-medium form-control" ng-model="item.ciFName" placeholder="{{\'flight.plchdr.surname\' | translate}}" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciFName\' + $index].$touched) && $ctrl.form[\'ciFName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'ciFName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'ciFName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p></div></div><div class="col-sm-6 cust-cell"><span class="require-label" data-translate="flight.booking.info.custinfo.name"></span> <input id="ciName{{$index}}" name="ciName{{$index}}" ng-maxlength="130" type="text" gtd-no-special-char gtd-capitalize="true" class="gtd-text-medium form-control" ng-model="item.ciName" placeholder="{{\'flight.plchdr.name\' | translate}}" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciName\' + $index].$touched) && $ctrl.form[\'ciName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'ciName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'ciName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p></div></div><!--<div class="table-cell cust-cell">Giới tính</div>--><!--<div class="table-cell cust-cell"><span data-translate="flight.booking.info.custinfo.familyname"/></div>--><!--<div class="table-cell cust-cell padding-left-15"><span data-translate="flight.booking.info.custinfo.name"/></div>--><!--<div class="table-cell">--><!--<select class="gtd-text-small form-control" ng-model="item.ciGender" required>--><!--<option ng-repeat="title in $ctrl.adultTitleLookups" value="{{title.lookupValue}}">{{title.lang | translate}}</option>--><!--</select>--><!--</div>--><!--<div class="table-cell">--><!--<input type="text" gtd-no-special-char class="gtd-text-medium form-control" ng-model="item.ciFName" required>--><!--</div>--><!--<div class="table-cell">--><!--<input type="text" gtd-no-special-char class="gtd-text-medium form-control margin-left-15" ng-model="item.ciName" required>--><!--</div>--></div></div><div class="row"><div class="form-group"><!-- <div class="col-sm-4 cust-cell">\n                                <span class="require-label" data-translate="flight.booking.info.contactinfo.mobile"></span>\n                                <select\n                                    id="ciMobileCode{{$index}}" name="ciMobileCode{{$index}}"\n                                    class="form-control" ng-model="item.ciMobileCode" required\n                                        ng-options="country.phoneCode as (country.name + \' (+\' + country.phoneCode + \')\') for country in $ctrl.allCountries"\n                                >\n                                </select>\n\n                                <div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciMobileCode\' + $index].$touched) && $ctrl.form[\'ciMobileCode\' + $index].$invalid">\n                                    <p class="help-block" ng-show="$ctrl.form[\'ciMobileCode\' + $index].$error.required" data-translate="entity.validation.required"></p>\n                                </div>\n                            </div> --><div class="col-sm-6 cust-cell">&nbsp; <span class="require-label" data-translate="flight.booking.info.contactinfo.mobile"></span><!--<input type="text"--><!--id="ciMobileVn{{$index}}" name="ciMobileVn{{$index}}"--><!--ng-if="item.ciMobileCode==84"--><!--gtd-vn-phone--><!--class="gtd-text-medium form-control " placeholder="{{\'flight.plchdr.phone\' | translate}}"--><!--ng-model="item.ciMobile" required />--><!--<div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciMobileVn\' + $index].$touched) && $ctrl.form[\'ciMobileVn\' + $index].$invalid">--><!--<p class="help-block" ng-show="$ctrl.form[\'ciMobileVn\' + $index].$invalid" data-translate="entity.validation.phone"/>--><!--</div>--> <input type="text" id="ciMobile{{$index}}" name="ciMobile{{$index}}" gtd-phone class="gtd-text-medium form-control" placeholder="{{\'flight.plchdr.phone\' | translate}}" ng-model="item.ciMobile" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciMobile\' + $index].$touched) && $ctrl.form[\'ciMobile\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'ciMobile\' + $index].$invalid" data-translate="entity.validation.phone"></p></div></div><div ng-show="ctrl.misf = true" class="col-sm-6 custcell"><span>Mã bưu điện </span><input type="text" class="gtd-text-medium form-control" placeholder="Postal Code" ng-model="item.postcode" id="postcode{{index}}" name="postcode{{index}}"><!-- <div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciMobile\' + $index].$touched) && $ctrl.form[\'ciMobile\' + $index].$invalid">\n                                            <p class="help-block" ng-show="$ctrl.form[\'ciMobile\' + $index].$invalid" data-translate="entity.validation.postcode"></p>\n                                        </div> --></div></div></div><div class="row"><div class="form-group"><div class="col-sm-12"><label class="control-label require-label"><span data-translate="flight.booking.info.contactinfo.email"></span></label><input id="ciEmail{{$index}}" name="ciEmail{{$index}}" ng-maxlength="120" type="email" class="form-control" ng-model="item.ciEmail" gtd-email required placeholder="{{\'flight.plchdr.email\' | translate}}"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciEmail\' + $index].$touched) && $ctrl.form[\'ciEmail\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'ciEmail\' + $index].$invalid" data-translate="entity.validation.email"></p><p class="help-block" ng-show="$ctrl.form[\'ciEmail\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="120"></p></div></div></div></div><!-- <div class="form-group" style="margin-bottom: 0px" ng-if="$ctrl.isAuthenticated() == true">\n                <div class="mt-checkbox-list" style="padding: 0px">\n                    <label class="mt-checkbox green mt-checkbox-outline" style="margin-bottom: 0px">\n                        <input type="checkbox" value="1" name="test" ng-model="item.checked">\n                        <span></span>\n                    </label>\n                    <span style="margin-left: 30px">{{\'flight.booking.info.custinfo.saved\' |translate}}</span>\n                </div>\n            </div> --><div class="horizontal-line"></div></div><!-- END FORM--><!--<div class="hand label label-outline green" ng-click="$ctrl.addBlankContacts()">--><!--<span class="fa fa-plus-circle icon"></span>--><!--Thêm liên hệ--><!--</div>--><div class="hand label label-outline green" ng-click="$ctrl.addBlankContacts()"><span class="fa fa-plus-circle icon"></span> {{\'flight.booking.info.custinfo.add\' |translate}}</div></div></div>'), e.put("app/components/booking/flight-booking-customer-info-view.html", '<div class="portlet light"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.custinfo.title"></span></span></div></div><div class="portlet-body"><div class="portlet-body" ng-repeat="item in $ctrl.bookingModel.customers"><div class="form-group"><label class="control-label person-header" ng-show="item.type==\'ADT\'">Người lớn thứ {{item.gid+1}}: <b>{{item.cuFamilyName}}&nbsp;{{item.cuName}}</b></label><label class="control-label person-header" ng-show="item.type==\'CHD\'">Trẻ em thứ {{item.gid+1}}: <b>{{item.cuFamilyName}}&nbsp;{{item.cuName}}</b></label><label class="control-label person-header" ng-show="item.type==\'INF\'">Trẻ sơ sinh thứ {{item.gid+1}}: <b>{{item.cuFamilyName}}&nbsp;{{item.cuName}}</b></label><span class="fa fa-plus-square-o pull-right" ng-click="$ctrl.showCust(item);" ng-show="item.show != true"></span> <span class="fa fa-minus-square-o pull-right" ng-click="$ctrl.hideCust(item);" ng-show="item.show == true"></span> <span class="fa fa-pencil-square-o pull-right" ng-click="$ctrl.doBack();" ng-show="$ctrl.mode == \'flight\'"></span></div><div class="row static-info" ng-show="item.show == true"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.gender"></span></div><div class="col-md-9 value">{{\'\' + item.cuGender | lookupt :\'ota_customer\':\'passenger_gender\' | translate}}</div></div><!--<div class="row static-info">--><!--<div class="col-md-3 name"> <span data-translate="flight.booking.info.custinfo.fullname"/></div>--><!--<div class="col-md-9 value">--><!--{{item.cuFamilyName}}&nbsp;{{item.cuName}}--><!--</div>--><!--</div>--><div class="row static-info" ng-show="item.show == true"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.familyname"></span></div><div class="col-md-9 value long-value">{{item.cuFamilyName}}</div></div><div class="row static-info" ng-show="item.show == true"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.name"></span></div><div class="col-md-9 value long-value">{{item.cuName}}</div></div><ng-switch on="!(item.type ==\'ADT\' && $ctrl.searchOptions.dtype == \'domestic\')"><div class="row static-info" ng-show="item.show == true" ng-switch-when="true" ng-if="$ctrl.searchOptions.dtype == \'international\'"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.document"></span></div><div class="col-md-9 value">{{item.cuPp | lookupt :\'ota_customer\':\'passport_type\' | translate}}</div></div><div class="row static-info" ng-show="item.show == true" ng-switch-when="true" ng-if="$ctrl.searchOptions.dtype == \'international\'"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.idpp"></span></div><div class="col-md-9 value">{{item.cuId}}</div></div><div class="row static-info" ng-show="item.show == true" ng-switch-when="true" ng-if="$ctrl.searchOptions.dtype == \'international\'"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.nationality"></span></div><div class="col-md-9 value">{{item.cuNationality | country}}</div></div><div class="row static-info" ng-show="item.show == true" ng-switch-when="true" ng-if="$ctrl.searchOptions.dtype == \'international\'"><div class="col-md-3 name">Ngày hết hạn</div><div class="col-md-9 value"><!--{{item.cuDobd}}&nbsp;{{item.cuDobm}}&nbsp;-&nbsp;{{item.cuDoby}}--> {{item.cuExpiredDate | momentdate}}</div></div><div class="row static-info" ng-show="item.show == true" ng-switch-when="true"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.dob"></span></div><div class="col-md-9 value"><!--{{item.cuDobd}}&nbsp;{{item.cuDobm}}&nbsp;-&nbsp;{{item.cuDoby}}--> {{item.cuDob | momentdate}}</div></div></ng-switch><div class="row static-info" ng-show="item.show == true && item.cuCardType != null && item.cuCardNo != null && item.cuCardNo != \'\'"><div class="col-md-3 name">Số thẻ khách hàng thường xuyên</div><div class="col-md-9 value"><span ng-show="item.cuCardType != \'\' && item.cuCardType != null">{{item.cuCardType | lookupt :\'air_member_card\':\'\' | translate}}&nbsp;{{item.cuCardNo}}</span></div></div><!--<div class="row static-info">--><!--<div class="col-md-3 name"> <span data-translate="flight.booking.info.custinfo.dob"/></div>--><!--<div class="col-md-9 value">--><!--{{item.cuDobd}}&nbsp;{{item.cuDobm}}&nbsp;{{item.cuDoby}}--><!--</div>--><!--</div>--><ng-switch on="item.type ==\'CHD\' || item.type==\'ADT\'"><div class="row static-info" ng-show="item.show == true" ng-switch-when="true" ng-if="item.departServiceRequests != null && item.departServiceRequests[0] != null"><div class="col-md-3 name"><span>Hành lý chiều đi</span></div><div class="col-md-9 value"><div ng-repeat="baggage in item.departServiceRequests" ng-if="baggage.serviceType ==\'BAGGAGE\'">{{baggage.name}}&nbsp;({{baggage.amount | number}}VNĐ)</div></div></div><div class="row static-info" ng-show="item.show == true" ng-switch-when="true" ng-if="item.returnServiceRequests != null && item.returnServiceRequests[0] != null"><div class="col-md-3 name"><span>Hành lý chiều về</span></div><div class="col-md-9 value"><div ng-repeat="baggage in item.returnServiceRequests" ng-if="baggage.serviceType ==\'BAGGAGE\'">{{baggage.name}}&nbsp;({{baggage.amount | number}}VNĐ)</div></div></div></ng-switch><ng-switch on="item.type ==\'CHD\' || item.type==\'ADT\'"><div class="row static-info" ng-show="item.show == true" ng-switch-when="true" ng-if="item.departServiceRequests != null && item.departServiceRequests[1] != null"><div class="col-md-3 name"><span>Thức ăn chiều đi</span></div><div class="col-md-9 value"><div ng-repeat="meal in item.departServiceRequests" ng-if="meal.serviceType ==\'MEAL\'">{{meal.name}}&nbsp;({{meal.amount | number}}VNĐ)</div></div></div><div class="row static-info" ng-show="item.show == true" ng-switch-when="true" ng-if="item.returnServiceRequests != null && item.returnServiceRequests[1] != null"><div class="col-md-3 name"><span>Thức ăn chiều về</span></div><div class="col-md-9 value"><div ng-repeat="meal in item.returnServiceRequests" ng-if="meal.serviceType ==\'MEAL\'">{{meal.name}}&nbsp;({{meal.amount | number}}VNĐ)</div></div></div></ng-switch></div></div></div>'),
                e.put("app/components/booking/flight-booking-customer-info.html", '<div class="portlet light flight-booking-customer-info"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.custinfo.title"></span></span></div></div><div class="portlet-body"><!--<ng-form name="cuForm">--><div class="form-body" ng-repeat="(key, item) in $ctrl.bookingModel.customers"><div class="form-group"><label class="control-label person-header" ng-show="item.type==\'ADT\'">Người lớn thứ {{item.gid+1}}</label><label class="control-label person-header" ng-show="item.type==\'CHD\'">Trẻ em thứ {{item.gid+1}}</label><label class="control-label person-header" ng-show="item.type==\'INF\'">Trẻ sơ sinh thứ {{item.gid+1}}</label></div><div class="row"><div class="form-group hotel-customer" ng-if="$ctrl.isAuthenticated() == true && $ctrl.customerTravellers.length > 0 && ($ctrl.customerTravellers | traveller:item.type).length > 0"><div class="col-sm-4">Chọn khách hàng đã lưu</div><div class="col-sm-8"><select class="form-control regular-cust-select" ng-options="traveller as (traveller.surName + \' \' + traveller.firstName) for traveller in ($ctrl.customerTravellers | traveller:item.type) track by traveller.id" ng-model="item.selectedTraveller" ng-change="$ctrl.chooseCustomer(item)" id="bookingcustomerselect"><option value="">{{\'flight.plchdr.choose\' | translate}}</option></select></div></div></div><div class="row"><div class="form-group"><div class="col-sm-4 col-xs-12 cust-cell"><div class="form-input select-gender"><span class="label-select require-label">Giới tính</span><select class="selectGender form-control" ng-change="changeSelect(\'{{$index}}\', item.cuGender)" ng-model="item.cuGender" required placeholder="{{\'flight.plchdr.choose\' | translate}}" id="bookingCuGender{{$index}}" name="bookingCuGender{{$index}}"><option value="" disabled="disabled" selected="selected" hidden>{{\'flight.plchdr.choose\' | translate}}</option><option ng-if="item.type==\'ADT\'" ng-repeat="title in $ctrl.adultTitleLookups" value="{{title.lookupValue}}">{{title.lang | translate}}</option><option ng-if="item.type==\'CHD\' || item.type==\'INF\'" ng-repeat="title in $ctrl.childTitleLookups" value="{{title.lookupValue}}">{{title.lang | translate}}</option></select><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'bookingCuGender\' + $index].$touched) && $ctrl.form[\'bookingCuGender\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'bookingCuGender\' + $index].$error.required" data-translate="entity.validation.required"></p></div></div></div><div class="col-sm-4 col-xs-12 cust-cell"><div class="form-input"><span class="require-label" data-translate="flight.booking.info.custinfo.familyname"></span> <input type="text" id="cuFamilyName{{$index}}" name="cuFamilyName{{$index}}" placeholder="{{\'flight.plchdr.surname\' | translate}}" ng-maxlength="130" gtd-no-special-char gtd-capitalize="true" ng-change="changeInput(\'{{$index}}\', \'ciFName\', item.cuFamilyName)" class="gtd-text-medium form-control gtd-required" ng-model="item.cuFamilyName" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuFamilyName\' + $index].$touched) && $ctrl.form[\'cuFamilyName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'cuFamilyName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'cuFamilyName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p></div></div></div><div class="col-sm-4 col-xs-12 cust-cell"><div class="form-input"><span class="require-label" data-translate="flight.booking.info.custinfo.name"></span> <input type="text" id="cuName{{$index}}" name="cuName{{$index}}" placeholder="{{\'flight.plchdr.name\' | translate}}" ng-maxlength="130" gtd-no-special-char gtd-capitalize="true" class="gtd-text-medium form-control" ng-change="changeInput(\'{{$index}}\', \'ciName\', item.cuName)" ng-model="item.cuName" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuName\' + $index].$touched) && $ctrl.form[\'cuName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'cuName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'cuName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p></div></div></div></div></div><ng-switch on="!(item.type ==\'ADT\' && $ctrl.searchOptions.dtype == \'domestic\')"><div class="row"><div class="form-group" ng-switch-when="true"><div class="row col-sm-12"><div class="cust-cell"><span class="require-label" data-translate="flight.booking.info.custinfo.dob" class="label-custom"></span><div class="row-tk"><gtd-combo-date name="cuDob{{$index}}" index="$index" ng-model="item.cuDob" ng-min-date="{{item.min}}" ng-max-date="{{item.max}}" ng-order="dmy"></gtd-combo-date><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuDob\' + $index + \'Date\'].$touched || $ctrl.form[\'cuDob\' + $index + \'Month\'].$touched || $ctrl.form[\'cuDob\' + $index + \'Year\'].$touched) && ($ctrl.form[\'cuDob\' + $index + \'Date\'].$invalid || $ctrl.form[\'cuDob\' + $index + \'Month\'].$invalid || $ctrl.form[\'cuDob\' + $index + \'Year\'].$invalid)"><p class="help-block" ng-show="$ctrl.form[\'cuDob\' + $index + \'Date\'].$invalid || $ctrl.form[\'cuDob\' + $index + \'Month\'].$invalid || $ctrl.form[\'cuDob\' + $index + \'Year\'].$invalid" data-translate="entity.validation.required" ng-if="item.type ==\'ADT\'"></p><p class="help-block" ng-show="$ctrl.form[\'cuDob\' + $index + \'Date\'].$invalid || $ctrl.form[\'cuDob\' + $index + \'Month\'].$invalid || $ctrl.form[\'cuDob\' + $index + \'Year\'].$invalid" data-translate="entity.validation.childage" ng-if="item.type ==\'CHD\'"></p><p class="help-block" ng-show="$ctrl.form[\'cuDob\' + $index + \'Date\'].$invalid || $ctrl.form[\'cuDob\' + $index + \'Month\'].$invalid || $ctrl.form[\'cuDob\' + $index + \'Year\'].$invalid" data-translate="entity.validation.infantage" ng-if="item.type ==\'INF\'"></p></div></div></div></div><div class="row col-sm-12"><div class="cust-cell" ng-if="(item.type != \'CHD\' && item.type != \'INF\') || $ctrl.searchOptions.dtype == \'international\'"><span class="require-label" data-translate="flight.booking.info.custinfo.nationality"></span><select class="form-control" ng-model="item.cuNationality" required id="cuNationality{{$index}}" name="cuNationality{{$index}}"><option ng-repeat="country in $ctrl.allCountries" value="{{country.code}}">{{country.name}}</option></select><div class="error" ng-if="($ctrl.form.$submitted || $ctrl.form[\'cuNationality\' + $index].$touched) && $ctrl.form[\'cuNationality\' + $index].$invalid"><p class="help-block" ng-if="$ctrl.form[\'cuNationality\' + $index].$error.required" data-translate="entity.validation.required"></p></div></div></div></div><div class="form-group" ng-switch-when="true" ng-if="(item.type != \'CHD\' && item.type != \'INF\') || $ctrl.searchOptions.dtype == \'international\'"><div class="row" ng-if="!((item.cuNationality==\'vn\')&&($ctrl.checkPassportForVNToEastSouthAsia()==true) && ($ctrl.flightInternalfn() == true ))"><div class="col-sm-12"><div class="col-sm-2 cust-cell"><span class="require-label">&nbsp;</span><select class="form-control" ng-model="item.cuPp" required id="cuPassportType{{$index}}" name="cuPassportType{{$index}}"><option ng-repeat="passportType in $ctrl.passportTypeLookups" value="{{passportType.lookupValue}}">{{passportType.lang | translate}}</option></select><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuPassportType\' + $index].$touched) && $ctrl.form[\'cuPassportType\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'cuPassportType\' + $index].$error.required" data-translate="entity.validation.required"></p></div></div><div class="col-sm-4 cust-cell"><span class="require-label">&nbsp;</span> <input type="text" id="cuId{{$index}}" name="cuId{{$index}}" ng-maxlength="20" placeholder="{{\'flight.plchdr.passport\' | translate}}" gtd-no-special-char class="gtd-text-medium form-control" ng-model="item.cuId" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuId\' + $index].$touched) && $ctrl.form[\'cuId\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'cuId\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'cuId\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="20"></p></div></div><div class="col-sm-6 cust-cell"><span class="require-label">Ngày hết hạn</span><div class="row-tk"><gtd-combo-date name="cuExp{{$index}}" index="$index" ng-model="item.cuExpiredDate" ng-min-date="{{$ctrl.minExp}}" ng-max-date="{{$ctrl.maxExp}}" ng-order="dmy"></gtd-combo-date><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuExp\' + $index + \'Date\'].$touched || $ctrl.form[\'cuExp\' + $index + \'Month\'].$touched || $ctrl.form[\'cuExp\' + $index + \'Year\'].$touched) && ($ctrl.form[\'cuExp\' + $index + \'Date\'].$invalid || $ctrl.form[\'cuExp\' + $index + \'Month\'].$invalid || $ctrl.form[\'cuExp\' + $index + \'Year\'].$invalid)"><p class="help-block" ng-show="$ctrl.form[\'cuExp\' + $index + \'Date\'].$invalid || $ctrl.form[\'cuExp\' + $index + \'Month\'].$invalid || $ctrl.form[\'cuExp\' + $index + \'Year\'].$invalid" data-translate="entity.validation.passportdate"></p></div></div></div></div></div><div class="col-sm-12" ng-if="!((item.cuNationality==\'vn\')&&($ctrl.checkPassportForVNToEastSouthAsia()==true))"><span data-translate="flight.booking.info.custinfo.help" class="terms-text"></span></div></div></div></ng-switch><div class="row"><div class="form-group"><div class="row"><div class="col-sm-12"><div class="col-sm-6 cust-cell"><span class="label-custom">Số thẻ khách hàng thường xuyên</span><select class="gtd-text-medium form-control" ng-model="item.cuCardType" ng-change="$ctrl.chooseMemberCard(item)"><option value="" selected="selected">{{\'flight.plchdr.choose\' | translate}}</option><option ng-repeat="cardType in $ctrl.cardTypeLookups" value="{{cardType.lookupValue}}">{{cardType.lang | translate}}&nbsp;({{cardType.lookupValue}})</option></select></div><div class="col-sm-6 cust-cell"><span class="hidden-sm-up">&nbsp;</span> <input type="text" id="cuCardNo{{$index}}" name="cuCardNo{{$index}}" ng-maxlength="40" placeholder="{{\'flight.plchdr.membercard\' | translate}}" gtd-no-special-char class="gtd-text-medium form-control" ng-model="item.cuCardNo" ng-required="item.cuCardType"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuCardNo\' + $index].$touched) && $ctrl.form[\'cuCardNo\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'cuCardNo\' + $index].$invalid" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'cuCardNo\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="40"></p></div></div></div></div></div></div><div class="row"><!--div class="col-md-6" ng-if="$ctrl.isAuthenticated() == true && !$ctrl.liteEmbed">\n                        <div class="form-group" style="margin-bottom: 0px">\n                            <div class="mt-checkbox-list" style="padding: 0px">\n                                <label class="mt-checkbox green mt-checkbox-outline" style="margin-bottom: 0px">\n                                    <input type="checkbox" value="1" name="test" ng-model="item.checked">\n                                    <span></span>\n                                </label>\n                                <span style="margin-left: 30px">Lưu thông tin hành khách này</span>\n                            </div>\n                        </div>\n                    </div--><div class="col-md-6"><div class="form-group" style="margin-bottom: 0px"><div class="mt-checkbox-list checkRadio{{$index}}" style="padding: 0px"><label class="mt-checkbox green mt-checkbox-outline" style="margin-bottom: 0px"><input type="checkbox" value="1" name="selectContact" class="checkedSelectContact selectContact{{$index}}" ng-model="checkedSelectContact" ng-click="fooChanged($index)"> <span></span></label><span style="margin-left: 30px">Chọn làm thông tin liên hệ</span></div></div></div></div><ng-switch on="item.type ==\'CHD\' || item.type==\'ADT\'"><div class="horizontal-line" ng-switch-when="true"></div><div class="row"><div class="form-group" ng-switch-when="true"><div class="row"><div class="col-sm-12"><div class="col-sm-6 cust-cell" ng-if="$ctrl.searchOptions.ssrOfferItemsDepart[0].ssrItems != null && $ctrl.searchOptions.ssrOfferItemsDepart[0].ssrItems.length > 0"><div class="form-input select-gender"><span class="select-baggage" ng-if="$ctrl.searchOptions.ssrOfferItemsDepart[0].ssrItems[0].code.lastIndexOf(\'MF_PER_PAX_ROUNDTRIP\') != -1" class="label-custom" data-translate="flight.booking.info.custinfo.luggage-departure-rt"></span> <span class="select-baggage" ng-if="$ctrl.searchOptions.ssrOfferItemsDepart[0].ssrItems[0].code.lastIndexOf(\'MF_PER_PAX_ROUNDTRIP\') == -1" class="label-custom" data-translate="flight.booking.info.custinfo.luggage-departure"></span><div class="form-input select-gender" ng-if="$ctrl.merchantCode == \'FSOFT\'"><select class="selectGender gtd-text-medium form-control" ng-model="item.cuLuggageDeparture" required id="cuLuggageDeparture{{$index}}" name="cuLuggageDeparture{{$index}}" ng-if="$ctrl.merchantCode == \'FSOFT\'" ng-change="$ctrl.chooseLuggagePackage(\'depart\', key)"><option value="" selected="selected">{{\'flight.plchdr.choose\' | translate}}</option><option value="0">Không có</option><option value="{{ssr.id}}" ng-repeat="ssr in $ctrl.searchOptions.ssrOfferItemsDepart[0].ssrItems | orderBy:\'amount\'" ng-if="$ctrl.checkListBaggage(ssr)">{{ssr.name}}&nbsp;({{ssr.amount | number}}&nbsp;VNĐ)</option></select><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuLuggageDeparture\' + $index].$touched) && $ctrl.form[\'cuLuggageDeparture\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'cuLuggageDeparture\' + $index].$invalid" data-translate="entity.validation.required"></p></div></div><div class="form-input select-gender" ng-if="$ctrl.merchantCode != \'FSOFT\'"><select class="selectGender gtd-text-medium form-control" ng-model="item.cuLuggageDeparture" id="cuLuggageDeparture{{$index}}" name="cuLuggageDeparture{{$index}}" ng-change="$ctrl.chooseLuggagePackage(\'depart\', key)"><option value="" selected="selected">{{\'flight.plchdr.choose\' | translate}}</option><option value="{{ssr.id}}" ng-repeat="ssr in $ctrl.searchOptions.ssrOfferItemsDepart[0].ssrItems | orderBy:\'amount\'" ng-if="$ctrl.checkListBaggage(ssr)">{{ssr.name}}&nbsp;({{ssr.amount | number}}&nbsp;VNĐ)</option></select><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuLuggageDeparture\' + $index].$touched) && $ctrl.form[\'cuLuggageDeparture\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'cuLuggageDeparture\' + $index].$invalid" data-translate="entity.validation.required"></p></div></div></div></div><div class="col-sm-6 cust-cell" ng-if="$ctrl.searchOptions.searchType!=\'oneway\' && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems != null && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems.length > 0"><div class="form-input select-gender" ng-if="$ctrl.merchantCode != \'FSOFT\'"><span class="select-baggage" data-translate="flight.booking.info.custinfo.luggage-return"></span> <span class="select-baggage" ng-if="!($ctrl.searchOptions.searchType!=\'oneway\' && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems != null && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems.length > 0)">&nbsp;</span><select class="gtd-text-medium selectGender form-control" ng-model="item.cuLuggageReturn" name="cuLuggageReturn{{$index}}" id="cuLuggageReturn{{$index}}" ng-change="$ctrl.chooseLuggagePackage(\'return\', key)"><option value="" selected="selected">{{\'flight.plchdr.choose\' | translate}}</option><option value="{{ssr.id}}" ng-repeat="ssr in $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems | orderBy:\'amount\'" ng-if="$ctrl.checkListBaggage(ssr)">{{ssr.name}}&nbsp;({{ssr.amount | number}}&nbsp;VNĐ)</option></select><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuLuggageReturn\' + $index].$touched) && $ctrl.form[\'cuLuggageReturn\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'cuLuggageReturn\' + $index].$invalid" data-translate="entity.validation.required"></p></div></div><div class="form-input select-gender" ng-if="$ctrl.merchantCode == \'FSOFT\'"><span class="require-label" data-translate="flight.booking.info.custinfo.luggage-return"></span> <span ng-if="!($ctrl.searchOptions.searchType!=\'oneway\' && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems != null && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems.length > 0)">&nbsp;</span><select class="gtd-text-medium selectGender form-control" ng-model="item.cuLuggageReturn" required name="cuLuggageReturn{{$index}}" id="cuLuggageReturn{{$index}}" ng-change="$ctrl.chooseLuggagePackage(\'return\', key)"><option value="" selected="selected">{{\'flight.plchdr.choose\' | translate}}</option><option value="0">Không có</option><option value="{{ssr.id}}" ng-repeat="ssr in $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems | orderBy:\'amount\'" ng-if="$ctrl.checkListBaggage(ssr)">{{ssr.name}}&nbsp;({{ssr.amount | number}}&nbsp;VNĐ)</option></select><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuLuggageReturn\' + $index].$touched) && $ctrl.form[\'cuLuggageReturn\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'cuLuggageReturn\' + $index].$invalid" data-translate="entity.validation.required"></p></div></div></div></div><div class="col-sm-12" ng-if="$ctrl.bookingModel.bookingInfo.airline == \'BL\'"><div ng-if="item.type ==\'CHD\' || item.type==\'ADT\'"><div class="col-sm-6 cust-cell" ng-if="$ctrl.searchOptions.ssrOfferItemsDepart[0].ssrItems != null && $ctrl.searchOptions.ssrOfferItemsDepart[0].ssrItems.length > 0"><div class="form-input select-gender" ng-init="$ctrl.setMeal();"><span class="select-Meal" ng-if="$ctrl.searchOptions.ssrOfferItemsDepart[0].ssrItems[0].code.lastIndexOf(\'MF_PER_PAX_ROUNDTRIP\') != -1" class="label-custom">Thức ăn chiều đi</span> <span class="select-Meal" ng-if="$ctrl.searchOptions.ssrOfferItemsDepart[0].ssrItems[0].code.lastIndexOf(\'MF_PER_PAX_ROUNDTRIP\') == -1" class="label-custom">Thức ăn chiều đi</span><select multiple="multiple" class="selectGender-meal selectGender gtd-text-medium form-control" ng-model="item.cuMealDeparture" id="selectGender-meal" ng-change="$ctrl.chooseMealPackage(\'depart\', key)"><!-- <option value="" selected>{{\'flight.plchdr.choose\' | translate}}</option> --><option value="{{ssr.id}}" ng-repeat="ssr in $ctrl.searchOptions.ssrOfferItemsDepart[0].ssrItems | orderBy:\'amount\'" ng-if="ssr.serviceType==\'MEAL\'">{{ssr.name}}({{ssr.amount | number}}&nbsp;VNĐ)</option></select></div></div></div><div ng-if="item.type ==\'CHD\' || item.type==\'ADT\'"><div class="col-sm-6 cust-cell cust-cell1"><div class="form-input select-gender"><span class="select-Meal" ng-if="$ctrl.searchOptions.searchType!=\'oneway\' && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems != null && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems.length > 0">Thức ăn chiều về</span> <span class="select-Meal" ng-if="!($ctrl.searchOptions.searchType!=\'oneway\' && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems != null && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems.length > 0)">&nbsp;</span><select multiple="multiple" class="selectGender-meal gtd-text-medium selectGender form-control" ng-model="item.cuMealReturn" ng-change="$ctrl.chooseMealPackage(\'return\', key)" id="selectGender-meal" ng-if="$ctrl.searchOptions.searchType!=\'oneway\' && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems != null && $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems.length > 0"><!-- <option value="" selected>{{\'flight.plchdr.choose\' | translate}}</option> --><option value="{{ssr.id}}" ng-repeat="ssr in $ctrl.searchOptions.ssrOfferItemsReturn[0].ssrItems | orderBy:\'amount\'" ng-if="ssr.serviceType==\'MEAL\'">{{ssr.name}}({{ssr.amount | number}}&nbsp;VNĐ)</option></select></div></div></div></div></div></div></div></ng-switch></div><!--</ng-form>--></div></div>'), e.put("app/components/booking/flight-booking-history-billing-info-view.html", '<div class="portlet light" ng-show="$ctrl.bookingModel.biCompany != null || $ctrl.bookingModel.biMst != null || $ctrl.bookingModel.biMobile != null || $ctrl.bookingModel.biAddress != null ||  $ctrl.bookingModel.tPCName != null || $ctrl.bookingModel.tPCfName != null || $ctrl.bookingModel.tPCPhone != null || $ctrl.bookingModel.tPCfemail != null || $ctrl.bookingModel.tPCNote !=null"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.billinfo.title"></span></span></div></div><div class="portlet-body form"><div class="portlet-body"><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.company"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biCompany}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.mst"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biMst}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.mobile"></span></div><!-- <div class="col-md-9 value"> (+{{$ctrl.bookingModel.biMobileCode}})&nbsp;{{$ctrl.bookingModel.biMobile}}</div> --><div class="col-md-9 value">{{$ctrl.bookingModel.biMobile}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.address"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biAddress}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Họ</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.bookingInfo.taxPersonalInfoContact.fname}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Tên đệm và Tên</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.bookingInfo.taxPersonalInfoContact.name}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Số Điện thoại</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.bookingInfo.taxPersonalInfoContact.phone}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Email</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.bookingInfo.taxPersonalInfoContact.email1}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Ghi chú</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.bookingInfo.taxPersonalInfoContact.note}}</div></div></div></div></div>'), e.put("app/components/booking/flight-booking-progress.html", '<div class="booking-progress-bar-wrapper"><!--<div class="portlet portlet-fit">--><div class="portlet-body booking-progress-bar-wrapper"><div class="mt-element-step"><div class="row step-line"><div class="col-xs-4 mt-step-col first" ng-class="{\'done\':$ctrl.bookingModel.curStep >= 1}"><div class="mt-step-number bg-white">1</div><div class="mt-step-title uppercase font-grey-cascade"><span data-translate="flight.booking.progress.info" ng-show="$ctrl.mode != \'hotel\'"></span> <span data-translate="flight.booking.progress.hotelinfo" ng-show="$ctrl.mode == \'hotel\'"></span></div></div><div class="col-xs-4 mt-step-col" ng-class="{\'done\':$ctrl.bookingModel.curStep >= 2}"><div class="mt-step-number bg-white">2</div><div class="mt-step-title uppercase font-grey-cascade"><span data-translate="flight.booking.progress.confirm" ng-show="$ctrl.mode != \'hotel\'"></span> <span data-translate="flight.booking.progress.hotelconfirm" ng-show="$ctrl.mode == \'hotel\'"></span></div></div><div class="col-xs-4 mt-step-col last" ng-class="{\'done\':$ctrl.bookingModel.curStep >= 3}"><div class="mt-step-number bg-white">3</div><div class="mt-step-title uppercase font-grey-cascade"><span data-translate="flight.booking.progress.payment"></span></div></div></div></div></div></div>'), e.put("app/components/booking/flight-booking-summary-details-item.html", '<div class="portlet-body"><!-- Header --><div class="row static-info"><div class="col-md-12"><span class="fa fa-plane rotate-45" style="margin-right: 10px"></span><ng-switch on="$ctrl.groupItem.flightType == \'INTERNATIONAL\'"><span class="bold" ng-switch-when="true" ng-show="$ctrl.pricedItinerary.directionInd == \'RETURN\'" data-translate="global.menu.account.profiles.round">Vé khứ hồi </span><span class="bold" ng-switch-when="true" ng-show="!($ctrl.pricedItinerary.directionInd == \'RETURN\')">Vé một chiều</span></ng-switch><ng-switch on="$ctrl.groupItem.flightType == \'DOMESTIC\'"><span class="bold" ng-switch-when="true" ng-show="$ctrl.flightIdx == \'0\'" data-translate="global.menu.account.profiles.oneway">Vé một chiều </span><span class="bold" ng-switch-when="true" ng-show="$ctrl.flightIdx == \'1\'">Vé chiều đi </span><span class="bold" ng-switch-when="true" ng-show="$ctrl.flightIdx == \'2\'">Vé chiều về</span></ng-switch></div></div><div class="row static-info"><div class="col-md-12"><span>{{$ctrl.groupItem.originCity}} ({{$ctrl.groupItem.originLocationCode}}) </span>&nbsp;-&nbsp; <span>{{$ctrl.groupItem.destinationCity}} ({{$ctrl.groupItem.destinationLocationCode}})</span></div></div><!-- ADULT --><ng-switch on="$ctrl.pricedItinerary.airItineraryPricingInfo.adultFare != null"><div ng-switch-when="true"><div class="row static-info"><div class="col-xs-5 name"><span data-translate="flight.booking.summary.adult"></span></div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'adult\':\'fare\' | number}} VNĐ&nbsp; </span>*&nbsp;{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'adult\':\'quantities\'}}</div></div><div class="row static-info"><div class="col-xs-5 name"><span data-translate="flight.booking.summary.fee"></span></div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'adult\':\'tax\' | number}} VNĐ&nbsp; </span>*&nbsp;{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'adult\':\'quantities\'}}</div></div><div class="horizontal-line"></div><div class="row static-info"><div class="col-xs-5 name">Tổng</div><div class="col-xs-7 value pull-right text-right"><span class="price-text-sm">{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'adult\':\'netprice\' | number}} VNĐ&nbsp;</span></div></div><div class="horizontal-line"></div></div></ng-switch><!-- CHILD --><ng-switch on="$ctrl.pricedItinerary.airItineraryPricingInfo.childFare != null"><div ng-switch-when="true"><div class="row static-info"><div class="col-xs-5 name">Trẻ em</div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'child\':\'fare\' | number}} VNĐ&nbsp; </span>*&nbsp;{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'child\':\'quantities\'}}</div></div><div class="row static-info"><div class="col-xs-5 name"><span data-translate="flight.booking.summary.fee"></span></div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'child\':\'tax\' | number}} VNĐ&nbsp; </span>*&nbsp;{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'child\':\'quantities\'}}</div></div><div class="horizontal-line"></div><div class="row static-info"><div class="col-xs-5 name">Tổng</div><div class="col-xs-7 value pull-right text-right"><span class="price-text-sm">{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'child\':\'netprice\' | number}} VNĐ&nbsp;</span></div></div><div class="horizontal-line"></div></div></ng-switch><!-- INFANTS --><ng-switch on="$ctrl.pricedItinerary.airItineraryPricingInfo.infantFare != null"><div ng-switch-when="true"><div class="row static-info"><div class="col-xs-5 name" data-translate="global.menu.account.profiles.infant">Sơ sinh</div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'infant\':\'fare\' | number}} VNĐ&nbsp; </span>*&nbsp;{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'infant\':\'quantities\'}}</div></div><div class="row static-info"><div class="col-xs-5 name"><span data-translate="flight.booking.summary.fee"></span></div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'infant\':\'tax\' | number}} VNĐ&nbsp; </span>*&nbsp;{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'infant\':\'quantities\'}}</div></div><div class="horizontal-line"></div><div class="row static-info"><div class="col-xs-5 name" data-translate="global.menu.account.profiles.total">Tổng</div><div class="col-xs-7 value pull-right text-right"><span class="price-text-sm">{{$ctrl.pricedItinerary | bookingAirPricedItinerary:\'infant\':\'netprice\' | number}} VNĐ&nbsp;</span></div></div><div class="horizontal-line"></div></div></ng-switch><div class="row static-info"><div class="col-xs-5 name" data-translate="global.menu.account.profiles.Luggage">Phí hành lý</div><div class="col-xs-7 value pull-right text-right"><ng-switch on="$ctrl.groupItem.flightType == \'INTERNATIONAL\'"><span class="bold" ng-switch-when="true">{{$ctrl.bookingModel | bookingPriceInfo:\'luggage_price\' | number}} VNĐ&nbsp;</span></ng-switch><ng-switch on="$ctrl.groupItem.flightType == \'DOMESTIC\'"><span class="bold" ng-if="$ctrl.flightIdx == \'2\'" ng-switch-when="true">{{$ctrl.bookingModel | bookingPriceInfo:\'luggage_price\':\'return\' | number}} VNĐ&nbsp; </span><span class="bold" ng-if="$ctrl.flightIdx != \'2\'" ng-switch-when="true">{{$ctrl.bookingModel | bookingPriceInfo:\'luggage_price\':\'depart\' | number}} VNĐ&nbsp;</span></ng-switch></div></div><div class="row static-info"><div class="col-xs-5 name">Phí Thức Ăn</div><div class="col-xs-7 value pull-right text-right"><ng-switch on="$ctrl.groupItem.flightType == \'INTERNATIONAL\'"><span class="bold" ng-switch-when="true">{{$ctrl.bookingModel | bookingPriceInfo:\'meal_price\' | number}} VNĐ&nbsp;</span></ng-switch><ng-switch on="$ctrl.groupItem.flightType == \'DOMESTIC\'"><span class="bold" ng-if="$ctrl.flightIdx == \'2\'" ng-switch-when="true">{{$ctrl.bookingModel | bookingPriceInfo:\'meal_price\':\'return\' | number}} VNĐ&nbsp; </span><span class="bold" ng-if="$ctrl.flightIdx != \'2\'" ng-switch-when="true">{{$ctrl.bookingModel | bookingPriceInfo:\'meal_price\':\'depart\' | number}} VNĐ&nbsp;</span></ng-switch></div></div></div>'), e.put("app/components/booking/flight-booking-summary-details.html", '<ng-switch on="$ctrl.bookingModel.showSummaryDetails"><div class="portlet light" ng-switch-when="true"><ng-switch on="$ctrl.searchOptions.searchType == \'oneway\'"><gtd-flight-booking-summary-details-item group-item="$ctrl.bookingModel.departGroupItem" priced-itinerary="$ctrl.bookingModel.departPricedItinerary" itin-total-fare-info="$ctrl.bookingModel.departItinTotalFare" search-options="$ctrl.searchOptions" flight-idx="0" booking-model="$ctrl.bookingModel" ng-switch-when="true"></gtd-flight-booking-summary-details-item><gtd-flight-booking-summary-details-item group-item="$ctrl.bookingModel.departGroupItem" priced-itinerary="$ctrl.bookingModel.departPricedItinerary" itin-total-fare-info="$ctrl.bookingModel.departItinTotalFare" search-options="$ctrl.searchOptions" flight-idx="1" booking-model="$ctrl.bookingModel" ng-switch-when="false"></gtd-flight-booking-summary-details-item></ng-switch><ng-switch on="$ctrl.searchOptions.searchType != \'oneway\' && $ctrl.searchOptions.dtype == \'domestic\'"><gtd-flight-booking-summary-details-item group-item="$ctrl.bookingModel.returnGroupItem" priced-itinerary="$ctrl.bookingModel.returnPricedItinerary" itin-total-fare-info="$ctrl.bookingModel.returnItinTotalFare" search-options="$ctrl.searchOptions" flight-idx="2" booking-model="$ctrl.bookingModel" ng-switch-when="true"></gtd-flight-booking-summary-details-item></ng-switch><!-- SUMMARY - ONLY show this value for DOME, RoundTrip and MarkupType=Per_Booking --><div class="summary"><div class="portlet-body"><div class="horizontal-line"></div><!-- Header --><div class="row static-info"><div class="col-xs-5 name bold" data-translate="global.menu.account.profiles.charge">Phí dịch vụ</div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.bookingModel | bookingPriceInfo:\'total_service_fee\' | number}} VNĐ&nbsp;</span></div></div><div class="row static-info" ng-show="$ctrl.showCoupon && ($ctrl.paymentModel.paymentOption == \'ATM_DEBIT\' || $ctrl.paymentModel.paymentOption == \'CREDIT\' || $ctrl.paymentModel.paymentOption == \'BALANCE\' || $ctrl.paymentModel.paymentOption == \'VNPAYQR\') || ($ctrl.bookingModel.bookingInfo.paymentStatus == \'SUCCEEDED\' && $ctrl.bookingModel.bookingInfo.displayPriceInfo.discountAmount > 0)"><div class="col-xs-5 name" ng-show="($ctrl.bookingModel.voucher.discountAmount > 0 || $ctrl.bookingModel.bookingInfo.displayPriceInfo.discountAmount > 0)">Mã giảm giá</div><div class="col-xs-7 value pull-right text-right" ng-show="($ctrl.bookingModel.voucher.discountAmount > 0 || $ctrl.bookingModel.bookingInfo.displayPriceInfo.discountAmount > 0)"><span class="bold">- {{$ctrl.bookingModel | bookingPriceInfo:\'discount\' | number}} VNĐ&nbsp;</span></div></div><div class="row static-info"><div class="col-xs-5 name bold" data-translate="global.menu.account.profiles.totalpay">Tổng thanh toán</div><div class="col-xs-7 value pull-right text-right"><span class="price-text">{{$ctrl.bookingModel | bookingPriceInfo:\'total_price\' | number}} VNĐ&nbsp;</span></div></div></div></div></div></ng-switch>'),
                e.put("app/components/booking/flight-booking-summary.html", '<div class="portlet light"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.summary.title"></span></span></div></div><div class="portlet-body"><!-- Total --><div class="row static-info"><div class="col-xs-5 name">Giá vé</div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.bookingModel | bookingPriceInfo:\'total_fare\' | number}} VNĐ&nbsp;</span></div></div><!-- Service Tax --><div class="row static-info"><div class="col-xs-5 name">Thuế và Phí</div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.bookingModel | bookingPriceInfo:\'total_tax\' | number}} VNĐ&nbsp;</span></div></div><div class="horizontal-line"></div><div class="row static-info"><div class="col-xs-5 name" data-translate="global.menu.account.profiles.total">Tổng</div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.bookingModel | bookingPriceInfo:\'total_netprice\' | number}} VNĐ&nbsp;</span></div></div><div class="horizontal-line"></div><div class="row static-info"><div class="col-xs-5 name" data-translate="global.menu.account.profiles.charge">Phí Dịch Vụ</div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.bookingModel | bookingPriceInfo:\'total_service_fee\' | number}} VNĐ&nbsp;</span></div></div><div class="row static-info"><div class="col-xs-5 name" data-translate="global.menu.account.profiles.Luggage">Phí Hành Lý</div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.bookingModel | bookingPriceInfo:\'luggage_price\' | number}} VNĐ&nbsp;</span></div></div><div class="row static-info"><div class="col-xs-5 name">Phí Thức Ăn</div><div class="col-xs-7 value pull-right text-right"><span class="bold">{{$ctrl.bookingModel | bookingPriceInfo:\'meal_price\' | number}} VNĐ&nbsp;</span></div></div><div class="row static-info" ng-show="$ctrl.showCoupon && ($ctrl.paymentModel.paymentOption == \'ATM_DEBIT\' || $ctrl.paymentModel.paymentOption == \'CREDIT\' || $ctrl.paymentModel.paymentOption == \'BALANCE\' || $ctrl.paymentModel.paymentOption == \'VNPAYQR\') || ($ctrl.bookingModel.bookingInfo.paymentStatus == \'SUCCEEDED\' && $ctrl.bookingModel.bookingInfo.displayPriceInfo.discountAmount > 0)"><div class="col-xs-5 name" data-translate="global.menu.account.profiles.Promotion">Mã giảm giá</div><div class="col-xs-7 value pull-right text-right" ng-show="($ctrl.bookingModel.voucher.discountAmount > 0 || $ctrl.bookingModel.bookingInfo.displayPriceInfo.discountAmount > 0)"><span class="bold">- {{$ctrl.bookingModel | bookingPriceInfo:\'discount\' | number}} VNĐ&nbsp;</span></div></div><div class="row static-info" ng-show="$ctrl.showPriceCoupon"><div class="col-xs-5 name" data-translate="global.menu.account.profiles.Promotion">Mã giảm giá</div><div class="col-xs-7 value pull-right text-right" ng-show="($ctrl.bookingModel.voucher.discountAmount > 0 || $ctrl.bookingModel.bookingInfo.displayPriceInfo.discountAmount > 0)"><span class="bold">- {{$ctrl.bookingModel | bookingPriceInfo:\'discount\' | number}} VNĐ&nbsp;</span></div></div><div class="row static-info" ng-show="$ctrl.showCoupon && ($ctrl.paymentModel.paymentOption == \'ATM_DEBIT\' || $ctrl.paymentModel.paymentOption == \'CREDIT\' || $ctrl.paymentModel.paymentOption == \'BALANCE\' || $ctrl.paymentModel.paymentOption == \'VNPAYQR\')"><div class="col-xs-5 name"><input type="text" ng-model="$ctrl.bookingModel.voucher.voucherCode"></div><div class="col-xs-7 value pull-right text-right"><span class="bold"><button class="btn btn-green btn-voucher" ng-click="$ctrl.validateVoucher()" ng-disabled="!$ctrl.bookingModel.voucher.voucherCode" data-translate="global.menu.account.profiles.redeem">Áp dụng</button></span></div><div class="error col-md-12" ng-show="$ctrl.wrongVoucher"><p class="help-block" ng-show="$ctrl.wrongVoucher" data-translate="global.menu.account.profiles.promotion1">Mã giảm giá không đúng</p></div></div><!-- TOTAL FEE --><div class="row static-info"><div class="col-md-12 value pull-right text-right"><span class="price-text">{{$ctrl.bookingModel | bookingPriceInfo:\'total_price\' | number}} VNĐ&nbsp;</span></div></div><div class="row static-info" ng-show="!$ctrl.bookingModel.airView"><div class="col-xs-5 name">&nbsp;</div><div class="col-xs-7 value pull-right text-right text-color3 hand" ng-click="$ctrl.bookingModel.showSummaryDetails=!$ctrl.bookingModel.showSummaryDetails"><span ng-show="!$ctrl.bookingModel.showSummaryDetails" data-translate="global.menu.account.profiles.detail1">Xem chi tiết </span><span ng-show="$ctrl.bookingModel.showSummaryDetails" data-translate="global.menu.account.profiles.detail2">Ẩn chi tiết </span><span class="fa fa-info-circle"></span></div></div><div class="row static-info"><div class="col-sm-12" ng-show="$ctrl.bookingModel.airView"><div class="btn btn-green" style="width: 100%" data-translate="global.menu.account.profiles.pay">Thanh toán</div></div></div></div></div>'), e.put("app/components/booking/hotel-booking-billing-info-view.html", '<div class="portlet light" ng-show="$ctrl.bookingModel.biCompany != null || $ctrl.bookingModel.biMst != null || $ctrl.bookingModel.biMobile != null || $ctrl.bookingModel.biAddress != null || $ctrl.bookingModel.tPCName != null || $ctrl.bookingModel.tPCfName != null || $ctrl.bookingModel.tPCPhone != null || $ctrl.bookingModel.tPCfemail != null || $ctrl.bookingModel.tPCNote !=null"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.billinfo.title"></span></span></div></div><div class="portlet-body form"><div class="portlet-body"><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.company"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biCompany}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.mst"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biMst}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.mobile"></span></div><div class="col-md-9 value">(+{{$ctrl.bookingModel.biMobileCode}})&nbsp;{{$ctrl.bookingModel.biMobile}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.address"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biAddress}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="hotel.booking.info.custinfo.familyname">Họ</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.tPCfName}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="hotel.booking.info.custinfo.name">Tên đệm và Tên</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.tPCName}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="hotel.booking.info.custinfo.phone">Số Điện thoại</span></div><div class="col-md-9 value long-value">(+{{$ctrl.bookingModel.tPCPhoneCode}})&nbsp; {{$ctrl.bookingModel.tPCPhone}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Email</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.tPCemail}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="hotel.booking.info.custinfo.note">Ghi chú</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.tPCNote}}</div></div></div><!--<div class="row static-info">--><!--<div class="col-md-3 name"> <span data-translate="flight.booking.info.billinfo.address"></span> </div>--><!--<div class="col-md-9 value"> {{$ctrl.bookingModel.biAddress}}--><!--</div>--><!--</div>--><!--<div class="row static-info">--><!--<div class="col-md-3 name"> <span data-translate="flight.booking.info.billinfo.address"></span> </div>--><!--<div class="col-md-9 value"> {{$ctrl.bookingModel.biAddress}}--><!--</div>--><!--</div>--><!--<div class="row static-info">--><!--<div class="col-md-3 name"> <span data-translate="flight.booking.info.billinfo.address"></span> </div>--><!--<div class="col-md-9 value"> {{$ctrl.bookingModel.biAddress}}--><!--</div>--><!--</div>--><!--<div class="row static-info">--><!--<div class="col-md-3 name"> <span data-translate="flight.booking.info.billinfo.address"></span> </div>--><!--<div class="col-md-9 value"> {{$ctrl.bookingModel.biAddress}}--><!--</div>--><!--</div>--></div></div>'), e.put("app/components/booking/hotel-booking-billing-info.html", '<div class="portlet light flight-booking-billing-info hotel-border hotel-border-radius"><div class="portlet-title"><div class="caption"><!--<span class="fa fa-square-o" ng-if="$ctrl.bookingModel.showForm == false" ng-click="$ctrl.doShowForm();"></span>--><!--<span class="fa fa-check-square-o" ng-if="$ctrl.bookingModel.showForm == true" ng-click="$ctrl.doShowForm();"></span>--><div class="mt-checkbox-list" style="padding: 0px"><label class="mt-checkbox green mt-checkbox-outline" style="margin-bottom: 0px"><input type="checkbox" ng-model="$ctrl.bookingModel.showForm" ng-click="$ctrl.doShowForm();"> <span>&nbsp;</span></label><span style="margin-left: 30px" class="caption-subject font-dark bold uppercase" data-translate="flight.booking.info.billinfo.title"></span></div><!--<span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.billinfo.title"></span> </span>--></div></div><div class="portlet-body form" ng-if="$ctrl.bookingModel.showForm == true"><!-- BEGIN FORM--><div class="form-body"><div class="form-group"><label class="control-label"><div style="display: flex"><span data-translate="flight.booking.info.billinfo.company"></span>:<div style="color: red">*</div></div></label><input type="text" id="biCompany" name="biCompany" required ng-maxlength="320" class="gtd-text-large form-control" ng-model="$ctrl.bookingModel.biCompany" placeholder="{{\'flight.plchdr.company\' | translate}}"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biCompany.$touched) && $ctrl.form.biCompany.$invalid"><p class="help-block" ng-show="$ctrl.form.biCompany.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form.biCompany.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="320"></p></div></div><div class="form-group"><label class="control-label"><div style="display: flex"><span data-translate="flight.booking.info.billinfo.mst"></span>:<div style="color: red">*</div></div></label><input type="text" id="biMst" name="biMst" ng-maxlength="80" required class="gtd-text-large form-control" ng-model="$ctrl.bookingModel.biMst" placeholder="{{\'flight.plchdr.mst\' | translate}}"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biMst.$touched) && $ctrl.form.biMst.$invalid"><p class="help-block" ng-show="$ctrl.form.biMst.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form.biMst.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="80"></p></div></div><div class="form-group"><label class="control-label"><div style="display: flex"><span>{{\'hotel.search.result.company\' | translate}}</span>:<div style="color: red">*</div></div></label><textarea id="biAddress" name="biAddress" ng-maxlength="320" required class="form-control gtd-textarea-default" ng-model="$ctrl.bookingModel.biAddress" placeholder="{{\'flight.plchdr.address\' | translate}}" style="resize:none"></textarea><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biAddress.$touched) && $ctrl.form.biAddress.$invalid"><p class="help-block" ng-show="$ctrl.form.biAddress.$invalid" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form.biAddress.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="320"></p></div></div><!--<div class="row">--><!--<div class="col-sm-6 margin-bottom-10">--><!--<span class="bold" style="font-size: 18px">Thông tin gửi hóa đơn</span>--><!--</div>--><!--<div class="col-sm-6 margin-bottom-10" style="text-align: right">--><!--<input ng-model="$ctrl.bookingModel.biChecked" ng-click="$ctrl.updateBillingInfo()" type="checkbox" />--><!--<span class="text-right">Lấy thông tin người liên hệ</span>--><!--</div>--><!--</div>--><!--<div class="form-group">--><!--<label class="control-label"><span>Họ người nhận</span></label>--><!--<input type="text" maxlength="130"--><!--id="biFName" name="biFName" required class="gtd-text-large form-control" ng-model="$ctrl.bookingModel.biFName" placeholder="Họ người nhận">--><!--<div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biFName.$touched) && $ctrl.form.biFName.$invalid">--><!--<p class="help-block" ng-show="$ctrl.form.biFName.$error.required" data-translate="entity.validation.required"></p>--><!--</div>--><!--</div>--><!--<div class="form-group">--><!--<label class="control-label"><span>Tên đệm và tên</span></label>--><!--<input type="text" maxlength="130"--><!--id="biLName" name="biLName" required class="gtd-text-large form-control" ng-model="$ctrl.bookingModel.biLName" placeholder="Tên đệm và tên">--><!--<div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biLName.$touched) && $ctrl.form.biLName.$invalid">--><!--<p class="help-block" ng-show="$ctrl.form.biLName.$error.required" data-translate="entity.validation.required"></p>--><!--</div>--><!--</div>--><!--<div class="form-group">--><!--<label class="control-label"><span>Email</span></label>--><!--<input type="text" maxlength="120"--><!--gtd-email--><!--id="biEmail" name="biEmail" required class="gtd-text-large form-control" ng-model="$ctrl.bookingModel.biEmail" placeholder="Email">--><!--<div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biEmail.$touched) && $ctrl.form.biEmail.$invalid">--><!--<p class="help-block" ng-show="$ctrl.form.biEmail.$error.required" data-translate="entity.validation.email"></p>--><!--</div>--><!--</div>--><!--<div class="form-group">--><!--<label class="control-label"><span>Địa chỉ nhận</span></label>--><!--<input type="text" maxlength="320"--><!--id="biPersonAddress" name="biPersonAddress" required class="gtd-text-large form-control" ng-model="$ctrl.bookingModel.biPersonAddress" placeholder="Địa chỉ nhận">--><!--<div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biPersonAddress.$touched) && $ctrl.form.biPersonAddress.$invalid">--><!--<p class="help-block" ng-show="$ctrl.form.biPersonAddress.$error.required" data-translate="entity.validation.required"></p>--><!--</div>--><!--</div>--><div class="row"><div class="form-group"><div class="col-sm-4 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.billinfo.mobile"></span>:<div style="color: red">*</div></div><!--<select required class="gtd-text-small form-control" ng-model="$ctrl.bookingModel.biMobileCode">--><!--<option ng-repeat="country in $ctrl.allCountries" value="{{country.phoneCode}}">{{country.name}} (+{{country.phoneCode}})</option>--><!--</select>--><select class="form-control" id="biMobileCode" name="biMobileCode" ng-model="$ctrl.bookingModel.biMobileCode" required ng-options="country.phoneCode as (country.name + \' (+\' + country.phoneCode + \')\') for country in $ctrl.allCountries"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biMobileCode.$touched) && $ctrl.form.biMobileCode.$invalid"><p class="help-block" ng-show="$ctrl.form.biMobileCode.$error.required" data-translate="entity.validation.required"></p></div></div><div class="col-sm-8 cust-cell"><!-- >input required type="text"\n                               style="margin-bottom: 10px !important;"\n                               ng-if="$ctrl.bookingModel.biMobileCode==84"\n                               id="biVnPhone" name="biVnPhone"\n                               gtd-vn-phone maxlength="20"\n                               class="gtd-text-medium form-control " placeholder="{{\'flight.plchdr.phone\' | translate}}"\n                               ng-model="$ctrl.bookingModel.biMobile">\n\n                        <div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biVnPhone.$touched) && $ctrl.form.biVnPhone.$invalid">\n                            <p class="help-block" ng-show="$ctrl.form.biVnPhone.$invalid" data-translate="entity.validation.vnphone"></p>\n                        </div>\n\n                        <input required type="text"\n                               id="biPhone" name="biPhone"\n                               style="margin-bottom: 10px !important;"\n                               ng-if="!($ctrl.bookingModel.biMobileCode==84)"\n                               gtd-phone maxlength="20"\n                               class="gtd-text-medium form-control " placeholder="{{\'flight.plchdr.phone\' | translate}}"\n                               ng-model="$ctrl.bookingModel.biMobile">\n                        <div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biPhone.$touched) && $ctrl.form.biPhone.$invalid">\n                            <p class="help-block" ng-show="$ctrl.form.biPhone.$invalid" data-translate="entity.validation.phone"></p>\n                        </div --> &nbsp; <input required type="text" id="biPhone" name="biPhone" style="margin-bottom: 10px !important" gtd-phone maxlength="20" class="gtd-text-medium form-control" placeholder="{{\'flight.plchdr.phone\' | translate}}" ng-model="$ctrl.bookingModel.biMobile"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form.biPhone.$touched) && $ctrl.form.biPhone.$invalid"><p class="help-block" ng-show="$ctrl.form.biPhone.$invalid" data-translate="entity.validation.phone"></p></div></div></div></div></div><!-- END FORM--><div style="padding: 0px"><label class="" style="margin-bottom: 0px"><span>&nbsp;</span></label><span class="caption-subject font-dark bold uppercase">{{\'hotel.search.result.voice\' | translate}}</span></div><span>&nbsp;</span><div class="row"><div class="form-group hotel-customer" ng-if="$ctrl.isAuthenticated() == true && $ctrl.customerTravellers.length > 0 && ($ctrl.customerTravellers | traveller:\'ADT\').length > 0"><div class="col-sm-4">{{\'flight.booking.info.custinfo.save\' |translate}}</div><div class="col-sm-8"><select ng-if="$ctrl.isAuthenticated() == true" class="form-control regular-cust-select" ng-options="traveller as (traveller.surName + \' \' + traveller.firstName) for traveller in ($ctrl.customerTravellers | traveller:\'ADT\') track by traveller.id" ng-model="item.selectedTraveller" ng-change="$ctrl.chooseContact(item)"><option value="">{{\'flight.plchdr.choose\' | translate}}</option></select></div></div></div><div class="row"><div class="form-group"><div class="col-sm-6 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.custinfo.familyname"></span>:<div style="color: red">*</div></div><input id="tPCfName{{$index}}" name="tPCfName{{$index}}" ng-maxlength="130" ng-model="$ctrl.bookingModel.tPCfName" type="text" gtd-no-special-char gtd-capitalize="true" class="gtd-text-medium form-control" placeholder="{{\'flight.plchdr.surname\' | translate}}" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'tPCfName\' + $index].$touched) && $ctrl.form[\'tPCfName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'tPCfName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'tPCfName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p></div></div><div class="col-sm-6 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.custinfo.name"></span>:<div style="color: red">*</div></div><input id="tPCName" name="tPCName" ng-maxlength="130" ng-model="$ctrl.bookingModel.tPCName" type="text" gtd-no-special-char gtd-capitalize="true" class="gtd-text-medium form-control" placeholder="{{\'flight.plchdr.name\' | translate}}" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'tPCName\' + $index].$touched) && $ctrl.form[\'tPCName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'tPCName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'tPCName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p></div></div></div></div><div class="row"><div class="form-group"><div class="col-sm-4 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.contactinfo.mobile"></span>:<div style="color: red">*</div></div><select id="tPCPhoneCode" name="tPCPhoneCode" ng-model="$ctrl.bookingModel.tPCPhoneCode" class="form-control" required ng-options="country.phoneCode as (country.name + \' (+\' + country.phoneCode + \')\') for country in $ctrl.allCountries"></select><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'tPCPhoneCode\' + $index].$touched) && $ctrl.form[\'tPCPhoneCode\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'tPCPhoneCode\' + $index].$error.required" data-translate="entity.validation.required"></p></div></div><div class="col-sm-8 cust-cell">&nbsp; <input type="text" id="tPCPhone" name="tPCPhone" gtd-phone ng-model="$ctrl.bookingModel.tPCPhone" class="gtd-text-medium form-control" placeholder="{{\'flight.plchdr.phone\' | translate}}" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'tPCPhone\' + $index].$touched) && $ctrl.form[\'tPCPhone\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'tPCPhone\' + $index].$invalid" data-translate="entity.validation.phone"></p></div></div></div></div><div class="row"><div class="col-sm-12"><div class="form-group"><label class="control-label"><div style="display: flex"><span data-translate="flight.booking.info.contactinfo.email"></span>:<div style="color: red">*</div></div></label><input id="tPCemail" name="tPCemail" ng-maxlength="120" type="email" class="form-control" gtd-email ng-model="$ctrl.bookingModel.tPCemail" required placeholder="{{\'flight.plchdr.email\' | translate}}"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'tPCemail\' + $index].$touched) && $ctrl.form[\'tPCemail\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'tPCemail\' + $index].$invalid" data-translate="entity.validation.email"></p><p class="help-block" ng-show="$ctrl.form[\'tPCemail\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="120"></p></div></div></div></div><div class="row"><div class="col-sm-12"><div class="form-group"><span data-translate="hotel.booking.info.custinfo.note">Ghi chú</span><textarea class="form-control" name="" id="" rows="3" style="resize:none" ng-model="$ctrl.bookingModel.tPCNote" id="tPCNote" name="tPCNote" placeholder="{{\'hotel.plchdr.note\' | translate}}"></textarea></div></div></div></div></div>'), e.put("app/components/booking/hotel-booking-contact-info-view.html", '<div class="portlet light hotel-border hotel-border-radius"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.contactinfo.title"></span></span></div></div><div class="portlet-body" ng-repeat="item in $ctrl.bookingModel.contacts"><div class="form-group"><label class="control-label person-header uppercase"><b>{{\'hotel.search.result.contact\' | translate}}</b></label><!--<span class="fa fa-plus-square-o pull-right" ng-click="$ctrl.showCust(item)" ng-show="item.show != true"></span>--><!--<span class="fa fa-minus-square-o pull-right" ng-click="$ctrl.hideCust(item)"  ng-show="item.show == true"></span>--></div><!--<div class="row static-info" ng-show="item.show == true">--><!--<div class="col-md-3 name"> <span data-translate="flight.booking.info.custinfo.gender"></span></div>--><!--<div class="col-md-9 value">--><!--{{\'\' + item.ciGender | lookupt :\'ota_customer\':\'passenger_gender\' | translate}}--><!--</div>--><!--</div>--><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.familyname"></span></div><div class="col-md-9 value long-value">{{item.ciFName}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.name"></span></div><div class="col-md-9 value long-value">{{item.ciName}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.contactinfo.mobile"></span></div><div class="col-md-9 value">(+{{item.ciMobileCode}})&nbsp;{{item.ciMobile}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.contactinfo.email"></span></div><div class="col-md-9 value long-value">{{item.ciEmail}}</div></div></div></div>'), e.put("app/components/booking/hotel-booking-contact-info.html", '<div class="portlet light flight-booking-contact-info hotel-border hotel-border-radius"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.contactinfo.title"></span></span></div></div><div class="portlet-body form"><!-- BEGIN FORM--><div class="form-body" ng-repeat="item in $ctrl.bookingModel.contacts"><div class="form-group hotel-customer cust-header"><label class="control-label person-header">{{\'hotel.search.result.contact\' | translate}}</label><div class="cust-header-right hand" ng-click="$ctrl.removeContact($index)" ng-show="$ctrl.bookingModel.contacts.length > 1"><span class="fa fa-minus-square-o"></span> <span>Xoá</span></div></div><div class="row"><div class="form-group hotel-customer" ng-if="$ctrl.isAuthenticated() == true && $ctrl.customerTravellers.length > 0 && ($ctrl.customerTravellers | traveller:\'ADT\').length > 0"><div class="col-sm-4" data-translate="hotel.booking.info.custinfo.save">Chọn khách hàng đã lưu</div><div class="col-sm-8"><select ng-if="$ctrl.isAuthenticated() == true" class="form-control regular-cust-select" ng-options="traveller as (traveller.surName + \' \' + traveller.firstName) for traveller in ($ctrl.customerTravellers | traveller:\'ADT\') track by traveller.id" ng-model="item.selectedTraveller" ng-change="$ctrl.chooseContact(item)"><option value="">{{\'flight.plchdr.choose\' | translate}}</option></select></div></div></div><div class="row"><div class="form-group"><!--<div class="col-sm-4 cust-cell">--><!--Giới tính--><!--<div class="table-cell">--><!--<select--><!--id="ciGender{{$index}}" name="ciGender{{$index}}"--><!--class="gtd-text-small form-control" ng-model="item.ciGender" required>--><!--<option value="" disabled selected hidden>{{\'flight.plchdr.choose\' | translate}}</option>--><!--<option ng-repeat="title in $ctrl.adultTitleLookups" value="{{title.lookupValue}}">{{title.lang | translate}}</option>--><!--</select>--><!--</div>--><!--<div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciGender\' + $index].$touched) && $ctrl.form[\'ciGender\' + $index].$invalid">--><!--<p class="help-block" ng-show="$ctrl.form[\'ciGender\' + $index].$error.required" data-translate="entity.validation.required"></p>--><!--</div>--><!--</div>--><div class="col-sm-6 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.custinfo.familyname"></span>:<div style="color: red">*</div></div><input id="ciFName{{$index}}" name="ciFName{{$index}}" ng-maxlength="130" gtd-no-number="" type="text" gtd-no-special-char gtd-capitalize="true" class="gtd-text-medium form-control" ng-model="item.ciFName" placeholder="{{\'flight.plchdr.surname\' | translate}}" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciFName\' + $index].$touched) && $ctrl.form[\'ciFName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'ciFName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'ciFName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p><p class="help-block" ng-show="$ctrl.form[\'ciFName\' + $index].$error.noNumber" data-translate="entity.validation.noNumber"></p></div></div><div class="col-sm-6 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.custinfo.name"></span>:<div style="color: red">*</div></div><input id="ciName{{$index}}" name="ciName{{$index}}" ng-maxlength="130" gtd-no-number type="text" gtd-no-special-char gtd-capitalize="true" class="gtd-text-medium form-control" ng-model="item.ciName" placeholder="{{\'flight.plchdr.name\' | translate}}" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciName\' + $index].$touched) && $ctrl.form[\'ciName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'ciName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'ciName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p><p class="help-block" ng-show="$ctrl.form[\'ciName\' + $index].$error.noNumber" data-translate="entity.validation.noNumber"></p></div></div><!--<div class="table-cell cust-cell">Giới tính</div>--><!--<div class="table-cell cust-cell"><span data-translate="flight.booking.info.custinfo.familyname"/></div>--><!--<div class="table-cell cust-cell padding-left-15"><span data-translate="flight.booking.info.custinfo.name"/></div>--><!--<div class="table-cell">--><!--<select class="gtd-text-small form-control" ng-model="item.ciGender" required>--><!--<option ng-repeat="title in $ctrl.adultTitleLookups" value="{{title.lookupValue}}">{{title.lang | translate}}</option>--><!--</select>--><!--</div>--><!--<div class="table-cell">--><!--<input type="text" gtd-no-special-char class="gtd-text-medium form-control" ng-model="item.ciFName" required>--><!--</div>--><!--<div class="table-cell">--><!--<input type="text" gtd-no-special-char class="gtd-text-medium form-control margin-left-15" ng-model="item.ciName" required>--><!--</div>--></div></div><div class="row"><div class="form-group"><div class="col-sm-4 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.contactinfo.mobile"></span>:<div style="color: red">*</div></div><select id="ciMobileCode{{$index}}" name="ciMobileCode{{$index}}" class="form-control" ng-model="item.ciMobileCode" required ng-options="country.phoneCode as (country.name + \' (+\' + country.phoneCode + \')\') for country in $ctrl.allCountries"><!--<option ng-repeat="country in $ctrl.allCountries" value="{{country.phoneCode}}">{{country.name}} (+{{country.phoneCode}})</option>--></select><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciMobileCode\' + $index].$touched) && $ctrl.form[\'ciMobileCode\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'ciMobileCode\' + $index].$error.required" data-translate="entity.validation.required"></p></div></div><div class="col-sm-8 cust-cell">&nbsp;<!--<input type="text"--><!--id="ciMobileVn{{$index}}" name="ciMobileVn{{$index}}"--><!--ng-if="item.ciMobileCode==84"--><!--gtd-vn-phone--><!--class="gtd-text-medium form-control " placeholder="{{\'flight.plchdr.phone\' | translate}}"--><!--ng-model="item.ciMobile" required />--><!--<div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciMobileVn\' + $index].$touched) && $ctrl.form[\'ciMobileVn\' + $index].$invalid">--><!--<p class="help-block" ng-show="$ctrl.form[\'ciMobileVn\' + $index].$invalid" data-translate="entity.validation.phone"/>--><!--</div>--> <input type="text" id="ciMobile{{$index}}" name="ciMobile{{$index}}" gtd-phone class="gtd-text-medium form-control" placeholder="{{\'flight.plchdr.phone\' | translate}}" ng-model="item.ciMobile" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciMobile\' + $index].$touched) && $ctrl.form[\'ciMobile\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'ciMobile\' + $index].$invalid" data-translate="entity.validation.phone"></p></div></div></div></div><div class="row"><div class="form-group"><div class="col-sm-12"><label class="control-label"><div style="display: flex"><span data-translate="flight.booking.info.contactinfo.email"></span>:<div style="color: red">*</div></div></label><input id="ciEmail{{$index}}" name="ciEmail{{$index}}" ng-maxlength="120" type="email" class="form-control" ng-model="item.ciEmail" gtd-email required placeholder="{{\'flight.plchdr.email\' | translate}}"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'ciEmail\' + $index].$touched) && $ctrl.form[\'ciEmail\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'ciEmail\' + $index].$invalid" data-translate="entity.validation.email"></p><p class="help-block" ng-show="$ctrl.form[\'ciEmail\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="120"></p></div></div></div></div><div class="form-group" style="margin-bottom: 0px" ng-if="$ctrl.isAuthenticated() == true"><div class="mt-checkbox-list" style="padding: 0px"><label class="mt-checkbox green mt-checkbox-outline" style="margin-bottom: 0px"><input type="checkbox" value="1" name="test" ng-model="item.checked"> <span></span></label><span style="margin-left: 30px" data-translate="hotel.booking.info.custinfo.saved">Lưu thông tin hành khách này</span></div></div></div><!-- END FORM--><!--<div class="hand label label-outline green" ng-click="$ctrl.addBlankContacts()">--><!--<span class="fa fa-plus-circle icon"></span>--><!--Thêm liên hệ--><!--</div>--></div></div>'),
                e.put("app/components/booking/hotel-booking-customer-info-view.html", '<div class="portlet light hotel-customer hotel-border hotel-border-radius"><div ng-repeat="item in $ctrl.selectedHotelProduct.rooms"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase">{{\'hotel.booking.info.custinfo.room\' | translate }} {{$index + 1}} - </span><span class="text-color2-em">{{item.pax.adultQuantity}} {{\'hotel.booking.info.custinfo.Adult\' | translate }}</span> <span class="text-color2-em" ng-show="item.pax.childQuantity > 0">, {{item.pax.childQuantity}} {{\'hotel.booking.info.custinfo.Child\' | translate }}</span> <span class="text-color2-em" ng-if="item.pax.childrenAges">(<span ng-repeat="age in item.pax.childrenAges">{{ age }}<span ng-if="!$last">, </span></span>{{\'hotel.booking.info.custinfo.yearold\' | translate }})</span></div><div class="caption"><span class="uppercase bold">{{\'hotel.search.result.contact\' | translate}}</span> <span class="fa fa-plus-square-o pull-right" ng-click="$ctrl.showCust(item);" ng-show="item.show != true"></span> <span class="fa fa-minus-square-o pull-right" ng-click="$ctrl.hideCust(item);" ng-show="item.show == true"></span> <span class="fa fa-pencil-square-o pull-right" ng-click="$ctrl.doBack();"></span></div></div><div class="portlet-body" style="margin-bottom: 30px"><div class="form-body"><div class="row static-info" ng-show="item.show == true"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.familyname"></span></div><div class="col-md-9 value uppercase long-value">{{item.cuFamilyName}}</div></div><div class="row static-info uppercase" ng-show="item.show == true"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.name"></span></div><div class="col-md-9 value long-value">{{item.cuName}}</div></div></div></div></div><!--<div class="portlet-title">--><!--<div class="caption">--><!--<span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.custinfo.title"></span> </span>--><!--</div>--><!--</div>--><!--<div class="portlet-body">--><!--<div class="form-body" ng-repeat="item in $ctrl.bookingModel.customers">--><!--<div class="row static-info">--><!--<div class="col-md-3 name"> <span data-translate="flight.booking.info.custinfo.fullname"></span></div>--><!--<div class="col-md-9 value">--><!--{{item.cuFamilyName}}&nbsp;{{item.cuName}}--><!--</div>--><!--</div>--><!--<div class="row static-info">--><!--<div class="col-md-3 name"> <span data-translate="flight.booking.info.custinfo.fullname"></span></div>--><!--<div class="col-md-9 value">--><!--{{item.cuFamilyName}}&nbsp;{{item.cuName}}--><!--</div>--><!--</div>--><!--</div>--><!--</div>--></div>'), e.put("app/components/booking/hotel-booking-customer-info.html", '<div class="portlet light hotel-customer flight-booking-customer-info hotel-border-radius hotel-border"><div ng-repeat="item in $ctrl.selectedHotelProduct.rooms"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase">{{\'hotel.booking.info.custinfo.room\' | translate}} {{$index + 1}} - </span><span class="">{{item.pax.adultQuantity}} {{\'hotel.booking.info.custinfo.Adult\' | translate}}</span> <span class="" ng-show="item.pax.childQuantity > 0">, {{item.pax.childQuantity}} {{\'hotel.booking.info.custinfo.Child\' | translate}}</span> <span class="" ng-if="item.pax.childrenAges">(<span ng-repeat="age in item.pax.childrenAges">{{ age }}<span ng-if="!$last">, </span></span>{{\'hotel.booking.info.custinfo.yearold\' | translate }})</span></div></div><div class="portlet-body"><div class="form-body"><div class="bold uppercase">{{\'hotel.search.result.guest\' | translate}}</div><div class="row"><div class="form-group hotel-customer" ng-if="$ctrl.isAuthenticated() == true"><div class="col-sm-4" data-translate="hotel.booking.info.custinfo.save">Chọn khách hàng đã lưu</div><div class="col-sm-8"><select ng-if="$ctrl.isAuthenticated() == true" class="form-control regular-cust-select" ng-options="traveller as (traveller.surName + \' \' + traveller.firstName) for traveller in $ctrl.customerTravellers track by traveller.id" ng-model="item.selectedTraveller" ng-change="$ctrl.chooseCustomer(item)" id="bookingcustomerselect"><option value="">{{\'flight.plchdr.choose\' | translate}}</option></select></div></div></div><div class="row"><div class="form-group"><div class="col-sm-6 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.custinfo.familyname"></span>:<div style="color: red">*</div></div><div class="text-italic text-color2-em">{{\'hotel.search.result.input\' | translate}}</div><input type="text" id="cuFamilyName{{$index}}" name="cuFamilyName{{$index}}" ng-maxlength="130" gtd-no-number="" placeholder="{{\'flight.plchdr.surname\' | translate}}" ng-change="$ctrl.syncContactInfo($ctrl.selectedHotelProduct.rooms)" gtd-no-special-char gtd-capitalize="true" class="gtd-text-medium form-control" ng-model="item.cuFamilyName" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuFamilyName\' + $index].$touched) && $ctrl.form[\'cuFamilyName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'cuFamilyName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'cuFamilyName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p><p class="help-block" ng-show="$ctrl.form[\'cuFamilyName\' + $index].$error.noNumber" data-translate="entity.validation.noNumber"></p></div></div><div class="col-sm-6 cust-cell"><div style="display: flex"><span data-translate="flight.booking.info.custinfo.name"></span>:<div style="color: red">*</div></div><div class="text-italic text-color2-em">{{\'hotel.search.result.input\' | translate}}</div><input type="text" id="cuName{{$index}}" name="cuName{{$index}}" ng-maxlength="130" gtd-no-number placeholder="{{\'flight.plchdr.name\' | translate}}" ng-change="$ctrl.syncContactInfo($ctrl.selectedHotelProduct.rooms)" gtd-no-special-char gtd-capitalize="true" class="gtd-text-medium form-control" ng-model="item.cuName" required><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'cuName\' + $index].$touched) && $ctrl.form[\'cuName\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'cuName\' + $index].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'cuName\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="130"></p><p class="help-block" ng-show="$ctrl.form[\'cuName\' + $index].$error.noNumber" data-translate="entity.validation.noNumber"></p></div></div></div></div><div class="row"><div class="col-sm-12"><div class="mt-checkbox-list" style="padding: 0px;margin-bottom: 30px"><label class="mt-checkbox green mt-checkbox-outline" style="margin-bottom: 0px"><input ng-model="item.checked" ng-click="$ctrl.updateSelection($index, $ctrl.selectedHotelProduct.rooms)" type="checkbox"> <span></span></label><span style="margin-left: 30px" data-translate="hotel.booking.info.custinfo.choose">Dùng làm thông tin liên hệ</span></div></div></div></div></div></div></div>'), e.put("app/components/booking/hotel-booking-history-billing-info-view.html", '<div class="portlet light" ng-show="$ctrl.bookingModel.biCompany != null || $ctrl.bookingModel.biMst != null || $ctrl.bookingModel.biMobile != null || $ctrl.bookingModel.biAddress != null || $ctrl.bookingModel.tPCName != null || $ctrl.bookingModel.tPCfName != null || $ctrl.bookingModel.tPCPhone != null || $ctrl.bookingModel.tPCfemail != null || $ctrl.bookingModel.tPCNote !=null"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.billinfo.title"></span></span></div></div><div class="portlet-body form"><div class="portlet-body"><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.company"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biCompany}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.mst"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biMst}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.mobile"></span></div><!-- <div class="col-md-9 value"> (+{{$ctrl.bookingModel.biMobileCode}})&nbsp;{{$ctrl.bookingModel.biMobile}}</div> --><div class="col-md-9 value">{{$ctrl.bookingModel.biMobile}}</div></div><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.billinfo.address"></span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.biAddress}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Họ</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.bookingInfo.taxPersonalInfoContact.fname}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Tên đệm và Tên</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.bookingInfo.taxPersonalInfoContact.name}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Số Điện thoại</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.bookingInfo.taxPersonalInfoContact.phone}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Email</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.bookingInfo.taxPersonalInfoContact.email1}}</div></div><div class="row static-info"><div class="col-md-3 name"><span>Ghi chú</span></div><div class="col-md-9 value long-value">{{$ctrl.bookingModel.bookingInfo.taxPersonalInfoContact.note}}</div></div></div></div></div>'), e.put("app/components/booking/hotel-booking-summary-details-item.html", '<!-- Header --><div class="row static-info"><div class="col-md-12"><span class="bold uppercase">{{ $ctrl.room.roomCategory }}</span></div></div><div><div class="row static-info"><div class="col-md-5 bold name text-color3">{{ "hotel.booking.summary.room" | translate }} {{ $ctrl.index + 1 }}:</div><div class="col-md-7 value pull-right text-right">/ <span class="">{{ ($ctrl.room.ratesPerNight | filter: {\'id\':\'base_rate\'}).length }} {{ "hotel.booking.summary.night" | translate }}</span></div></div><div class="row static-info"><div class="col-md-12"><span>{{ $ctrl.room.pax.adultQuantity }} {{ "hotel.booking.summary.adult" | translate }}</span> <span ng-show="$ctrl.room.pax.childQuantity > 0">, {{ $ctrl.room.pax.childQuantity }} {{ "hotel.booking.summary.children" | translate }}</span> <span ng-show="$ctrl.room.pax.childrenAges.length > 0">(<span ng-repeat="age in $ctrl.room.pax.childrenAges">{{ age }}<span ng-if="!$last">, </span></span>{{\'hotel.booking.info.custinfo.yearold\' | translate }})</span></div></div><div ng-repeat="night in $ctrl.orderedDate"><div class="row static-info"><div class="col-md-6 name"><span style="text-transform: capitalize; font-weight: bold">{{ night | momentdate: "date":"DD-MM-YYYY" }}</span></div><div class="col-md-6 value pull-right text-right"><span class="">{{ $ctrl.nightlyFee[night][$ctrl.BASE_RATE] | number }} </span><span class="text-color2-em">VNĐ</span></div></div><div style="margin-left: 5px" class="row static-info" ng-repeat="feeType in $ctrl.feeTypes" ng-style="!$ctrl.nightlyFee[night][feeType] && {\'display\':\'none\'}"><div class="col-md-6 name"><span style="text-transform: capitalize">{{ "hotel.search.surcharges." + feeType | translate }}</span></div><div class="col-md-6 value pull-right text-right"><span class="">{{ $ctrl.nightlyFee[night][feeType] | number }} </span><span class="text-color2-em">VNĐ</span></div></div><div ng-if="$last" class="horizontal-line"></div></div></div>'), e.put("app/components/booking/hotel-booking-summary-details.html", '<ng-switch on="$ctrl.bookingModel.showSummaryDetails"><div class="portlet light" ng-switch-when="true"><div class="portlet-body"><gtd-hotel-booking-summary-details-item ng-repeat="room in $ctrl.selectedHotelProduct.rooms" room="room" index="$index"></gtd-hotel-booking-summary-details-item></div><div class="row static-info" ng-repeat="item in $ctrl.selectedHotelProduct.surcharges"><div class="col-md-6 name"><span class="bold">{{ "hotel.search.surcharges." + item.description | translate }}</span></div><div class="col-md-6 value pull-right text-right"><span class="bold">{{ item.amount | number }} </span><span class="text-color2-em">VNĐ</span></div></div><div class="horizontal-line"></div><div class="row static-info"><div class="col-md-5 name bold text-color3">{{ "hotel.booking.summary.sub" | translate }}</div><div class="col-md-7 value pull-right text-right"><span class="bold">{{ $ctrl.bjson | bookingPriceInfo: "total_netprice" | number }} </span><span class="text-color2-em">VNĐ</span></div></div><div class="horizontal-line"></div><div class="row static-info"><div class="col-md-5 name">{{ "hotel.booking.summary.service" | translate }}</div><div class="col-md-7 value pull-right text-right"><span class="">{{ $ctrl.bjson | bookingPriceInfo: "total_service_fee" | number }} </span><span class="text-color2-em">VNĐ</span></div></div><div class="row static-info" ng-show="$ctrl.showCoupon && ($ctrl.paymentModel.paymentOption == \'ATM_DEBIT\' || $ctrl.paymentModel.paymentOption == \'CREDIT\' || $ctrl.paymentModel.paymentOption == \'BALANCE\' || $ctrl.paymentModel.paymentOption == \'VNPAYQR\' || $ctrl.paymentModel.paymentOption == \'VIETTELPAY\' || $ctrl.paymentModel.paymentOption == \'MOMO\') || ($ctrl.bookingModel.bookingInfo.paymentStatus == \'SUCCEEDED\' && $ctrl.bookingModel.bookingInfo.displayPriceInfo.discountAmount > 0) || $ctrl.bookingModel.bookingInfo.displayPriceInfo.discountAmount"><div class="col-md-5 name bold">{{ "hotel.booking.summary.coupon" | translate }}</div><div class="col-md-7 value pull-right text-right" ng-show="($ctrl.bjson.voucher.discountAmount > 0 || $ctrl.bjson.bookingInfo.displayPriceInfo.discountAmount > 0)"><span class="bold">- {{ $ctrl.bjson | bookingPriceInfo: "discount" | number }} </span><span class="text-color2-em">VNĐ</span></div></div><div class="gr-voucher" ng-show="$ctrl.promoSelect != true"><div class="row static-info" ng-show="$ctrl.showCoupon && ($ctrl.paymentModel.paymentOption == \'ATM_DEBIT\' || $ctrl.paymentModel.paymentOption == \'CREDIT\' || $ctrl.paymentModel.paymentOption == \'BALANCE\' || $ctrl.paymentModel.paymentOption == \'VNPAYQR\' || $ctrl.paymentModel.paymentOption == \'VIETTELPAY\' || $ctrl.paymentModel.paymentOption == \'MOMO\')"><div class="col-md-5 name"><input type="text" ng-model="$ctrl.bookingModel.voucher.voucherCode"></div><div class="col-md-7 value pull-right text-right"><span class="bold"><button class="btn btn-green btn-voucher" ng-click="$ctrl.validateVoucher()" ng-disabled="!$ctrl.bookingModel.voucher.voucherCode" data-translate="global.menu.account.profiles.redeem">Áp dụng</button></span></div><div class="error col-md-12" ng-show="$ctrl.wrongVoucher"><p class="help-block" ng-show="$ctrl.wrongVoucher">Mã giảm giá không đúng</p></div></div></div><div class="horizontal-line" ng-show="\n            ($ctrl.showCoupon && ($ctrl.paymentModel.paymentOption == \'ATM_DEBIT\' || $ctrl.paymentModel.paymentOption == \'CREDIT\' || $ctrl.paymentModel.paymentOption == \'BALANCE\' || $ctrl.paymentModel.paymentOption == \'VNPAYQR\' || $ctrl.paymentModel.paymentOption == \'VIETTELPAY\') || ($ctrl.bookingModel.bookingInfo.paymentStatus == \'SUCCEEDED\' && $ctrl.bookingModel.bookingInfo.displayPriceInfo.discountAmount > 0))\n            || ($ctrl.showCoupon && ($ctrl.paymentModel.paymentOption == \'ATM_DEBIT\' || $ctrl.paymentModel.paymentOption == \'CREDIT\' || $ctrl.paymentModel.paymentOption == \'BALANCE\' || $ctrl.paymentModel.paymentOption == \'VNPAYQR\' || $ctrl.paymentModel.paymentOption == \'VIETTELPAY\'))"></div><div class="row static-info"><div class="col-md-5 name bold text-color3">{{ "hotel.booking.summary.total" | translate }}</div><div class="col-md-7 value pull-right text-right"><span class="price-text-sm">{{ $ctrl.bjson | bookingPriceInfo: "total_price" | number }} </span><span class="text-color2-em">VNĐ</span></div><div class="col-md-12 text-italic">({{ $ctrl.selectedHotelProduct.totalPerson }} {{ "hotel.booking.summary.guest" | translate }} / {{ ($ctrl.selectedHotelProduct.rooms[0].ratesPerNight | filter: {\'id\':\'base_rate\'}).length }} {{ "hotel.booking.summary.night" | translate }})</div></div></div></ng-switch>'), e.put("app/components/booking/hotel-booking-summary.html", '<div class="portlet light"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.summary.title"></span></span></div></div><div class="portlet-body"><!-- FARE --><div><div class="row static-info"><div class="col-md-6 name">{{$ctrl.selectedHotelProduct.rooms.length}} {{\'hotel.booking.info.custinfo.room\' | translate}}/ {{($ctrl.selectedHotelProduct.rooms[0].ratesPerNight | filter: {\'id\':\'base_rate\'}).length}} {{\'hotel.booking.info.custinfo.night\' | translate}}</div><div class="col-md-6 value pull-right text-right"><span class="">{{$ctrl.bjson | bookingPriceInfo:\'total_fare\' | number}} </span><span class="text-color2-em">VNĐ</span></div></div><div class="row static-info"><div class="col-md-6 name">{{\'hotel.search.result.taxfee\' | translate}}</div><div class="col-md-6 value pull-right text-right"><span class="">{{$ctrl.bjson | bookingPriceInfo:\'total_tax\' | number}} </span><span class="text-color2-em">VNĐ</span></div><!--<div class="col-md-5 name">--><!--Thuế & Phí--><!--</div>--><!--<div class="col-md-7 value pull-right">--><!--<span class="">--><!--{{$ctrl.selectedHotelProduct.price | number}}--><!--</span>--><!--<span class="text-color2-em">VNĐ</span>--><!--</div>--></div><!--<div class="row static-info">--><!--<div class="col-md-5 name">--><!--Phí dịch vụ--><!--</div>--><!--<div class="col-md-7 value pull-right">--><!--<span class="">--><!--{{$ctrl.selectedHotelProduct.totalPrice | number}}--><!--</span>--><!--<span class="text-color2-em">VNĐ</span>--><!--</div>--><!--</div>--><div class="horizontal-line"></div><div class="row static-info"><div class="col-md-6 name bold">{{\'hotel.booking.summary.sub\' | translate}}</div><div class="col-md-6 value pull-right text-right"><span class="bold">{{$ctrl.bjson | bookingPriceInfo:\'total_netprice\' | number}} </span><span class="text-color2-em">VNĐ</span></div></div><div class="horizontal-line"></div><div class="row static-info"><div class="col-md-5 name">{{\'hotel.booking.summary.service\' | translate}}</div><div class="col-md-7 value pull-right text-right"><span class="">{{$ctrl.bjson | bookingPriceInfo:\'total_service_fee\' | number}} </span><span class="text-color2-em">VNĐ</span></div></div><div class="row static-info" ng-show="($ctrl.showCoupon && ($ctrl.paymentModel.paymentOption == \'ATM_DEBIT\' || $ctrl.paymentModel.paymentOption == \'CREDIT\' || $ctrl.paymentModel.paymentOption == \'BALANCE\' || $ctrl.paymentModel.paymentOption == \'VNPAYQR\' || $ctrl.paymentModel.paymentOption == \'VIETTELPAY\') || $ctrl.paymentModel.paymentOption == \'MOMO\' || ($ctrl.bookingModel.bookingInfo.paymentStatus == \'SUCCEEDED\' && $ctrl.bookingModel.bookingInfo.displayPriceInfo.discountAmount > 0)) || $ctrl.bjson.bookingInfo.displayPriceInfo.discountAmount"><div class="col-md-6 name bold">{{\'hotel.booking.summary.coupon\' | translate}}</div><div class="col-md-6 value pull-right text-right" ng-show="($ctrl.bjson.voucher.discountAmount > 0 || $ctrl.bjson.bookingInfo.displayPriceInfo.discountAmount > 0) || $ctrl.bjson.bookingInfo.displayPriceInfo.discountAmount"><span class="bold">- {{$ctrl.bjson | bookingPriceInfo:\'discount\' | number}} </span><span class="text-color2-em">VNĐ</span></div></div><div class="row static-info" ng-show="$ctrl.showPriceCoupon"><div class="col-md-6 name bold">Mã giảm giá</div><div class="col-md-6 value pull-right text-right" ng-show="($ctrl.bjson.voucher.discountAmount > 0 || $ctrl.bjson.bookingInfo.displayPriceInfo.discountAmount > 0) || $ctrl.bjson.bookingInfo.displayPriceInfo.discountAmount"><span class="bold">- {{$ctrl.bjson | bookingPriceInfo:\'discount\' | number}} </span><span class="text-color2-em">VNĐ</span></div></div><!--$ctrl.showCoupon{{$ctrl.showCoupon}},$ctrl.paymentModel.paymentOption{{$ctrl.paymentModel.paymentOption}}--><div class="gr-voucher" ng-show="$ctrl.promoSelect != true"><div class="row static-info" ng-show="$ctrl.showCoupon && ($ctrl.paymentModel.paymentOption == \'ATM_DEBIT\' || $ctrl.paymentModel.paymentOption == \'CREDIT\' || $ctrl.paymentModel.paymentOption == \'BALANCE\' || $ctrl.paymentModel.paymentOption == \'VNPAYQR\' || $ctrl.paymentModel.paymentOption == \'VIETTELPAY\' || $ctrl.paymentModel.paymentOption == \'MOMO\')"><div class="col-md-6 name"><input type="text" ng-model="$ctrl.bookingModel.voucher.voucherCode"></div><div class="col-md-6 value pull-right text-right"><span class="bold"><button class="btn btn-green btn-voucher" ng-click="$ctrl.validateVoucher()" ng-disabled="!$ctrl.bookingModel.voucher.voucherCode">{{\'hotel.booking.summary.redeem\'| translate}}</button></span></div><div class="error col-md-12" ng-show="$ctrl.wrongVoucher"><p class="help-block" ng-show="$ctrl.wrongVoucher">Mã giảm giá không đúng</p></div><div class="error col-md-12" ng-show="$ctrl.beyondQuota"><p class="help-block" ng-show="$ctrl.beyondQuota">Bạn đã được khuyến mãi trong chương trình này</p></div></div></div><div class="horizontal-line" ng-show="\n            ($ctrl.showCoupon && ($ctrl.paymentModel.paymentOption == \'ATM_DEBIT\' || $ctrl.paymentModel.paymentOption == \'CREDIT\' || $ctrl.paymentModel.paymentOption == \'BALANCE\' || $ctrl.paymentModel.paymentOption == \'VNPAYQR\' || $ctrl.paymentModel.paymentOption == \'VIETTELPAY\') || $ctrl.paymentModel.paymentOption == \'MOMO\' || ($ctrl.bookingModel.bookingInfo.paymentStatus == \'SUCCEEDED\' && $ctrl.bookingModel.bookingInfo.displayPriceInfo.discountAmount > 0))\n            || ($ctrl.showCoupon && ($ctrl.paymentModel.paymentOption == \'ATM_DEBIT\' || $ctrl.paymentModel.paymentOption == \'CREDIT\' || $ctrl.paymentModel.paymentOption == \'BALANCE\' || $ctrl.paymentModel.paymentOption == \'VNPAYQR\' || $ctrl.paymentModel.paymentOption == \'VIETTELPAY\' || $ctrl.paymentModel.paymentOption == \'MOMO\'))"></div><div class="row static-info"><div class="col-md-6 name bold">{{\'hotel.booking.summary.total\' | translate}}</div><div class="col-md-6 value pull-right text-right"><span class="price-text-sm">{{$ctrl.bjson | bookingPriceInfo:\'total_price\' | number}} </span><span class="text-color2-em">VNĐ</span></div><div class="col-md-12 text-italic">({{$ctrl.selectedHotelProduct.totalPerson}} {{\'hotel.booking.summary.guest\' | translate}} / {{($ctrl.selectedHotelProduct.rooms[0].ratesPerNight | filter: {\'id\':\'base_rate\'}).length}} {{\'hotel.booking.summary.night\' | translate}})</div></div></div><!-- Service Tax --><!--<div class="row static-info">--><!--<div class="col-md-5 name"> Phí dịch vụ </div>--><!--<div class="col-md-7 value pull-right">--><!--VNĐ--><!--<span class="bold">--><!--{{$ctrl.bookingModel.departPricedItinerary.airItineraryPricingInfo.itinTotalFare.serviceTax.amount | number}}--><!--</span> * 1--><!--</div>--><!--</div>--><!--<div class="horizontal-line"/>--><!-- TOTAL FEE --><!--<div class="row static-info">--><!--<div class="col-md-5 name"> &nbsp; </div>--><!--<div class="col-md-7 value pull-right"> VNĐ&nbsp;--><!--<span class="price-text">--><!--{{$ctrl.selectedHotelProduct.price | number}}--><!--</span>--><!--</div>--><!--</div>--><div class="row static-info" ng-show="!$ctrl.bookingModel.airView"><div class="col-md-6 name">&nbsp;</div><div class="col-md-6 value pull-right text-right text-color3 hand" ng-click="$ctrl.bookingModel.showSummaryDetails=!$ctrl.bookingModel.showSummaryDetails"><span ng-show="!$ctrl.bookingModel.showSummaryDetails">{{\'hotel.booking.summary.detail\' | translate}}</span> <span ng-show="$ctrl.bookingModel.showSummaryDetails">{{\'hotel.booking.summary.hide\' | translate}} </span><span class="fa fa-info-circle"></span></div></div><div class="row static-info"><div class="col-md-12 name">{{\'hotel.booking.summary.full-payment\' | translate}}</div></div><div class="col-sm-12" ng-show="$ctrl.bookingModel.airView"><div class="btn btn-green" style="width: 100%">Thanh toán</div></div></div></div>'), e.put("app/components/booking/hotel-profile-booking-customer-info-view.html", '<div class="portlet light hotel-customer"><div ng-repeat="item in $ctrl.bookingModel.travelerInfo.airTravelers"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase">{{\'hotel.booking.info.custinfo.room\' | translate}} {{$index + 1}} - </span><span class="">{{$ctrl.selectedHotelProduct.rooms[$index].pax.adultQuantity}} {{\'hotel.booking.info.custinfo.Adult\' | translate}}</span> <span class="" ng-show="item.pax.childQuantity > 0">, {{$ctrl.selectedHotelProduct.rooms[$index].pax.childQuantity}} {{\'hotel.booking.info.custinfo.Child\' | translate}}</span> <span class="" ng-if="item.pax.childrenAges">(<span ng-repeat="age in $ctrl.selectedHotelProduct.rooms[$index].pax.childrenAges">{{ age }}<span ng-if="!$last">, </span></span>{{\'hotel.booking.info.custinfo.yearold\' | translate }})</span></div><div class="caption"><span class="uppercase bold">{{\'hotel.search.result.contact\' | translate}}</span></div></div><div class="portlet-body" style="margin-bottom: 30px"><div class="form-body"><div class="row static-info"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.familyname"></span></div><div class="col-md-9 value uppercase long-value">{{item.passengerName.lastName}}</div></div><div class="row static-info uppercase"><div class="col-md-3 name"><span data-translate="flight.booking.info.custinfo.name"></span></div><div class="col-md-9 value long-value">{{item.passengerName.firstName}}</div></div></div></div></div><!--<div class="portlet-title">--><!--<div class="caption">--><!--<span class="caption-subject font-dark bold uppercase"><span data-translate="flight.booking.info.custinfo.title"></span> </span>--><!--</div>--><!--</div>--><!--<div class="portlet-body">--><!--<div class="form-body" ng-repeat="item in $ctrl.bookingModel.customers">--><!--<div class="row static-info">--><!--<div class="col-md-3 name"> <span data-translate="flight.booking.info.custinfo.fullname"></span></div>--><!--<div class="col-md-9 value">--><!--{{item.cuFamilyName}}&nbsp;{{item.cuName}}--><!--</div>--><!--</div>--><!--<div class="row static-info">--><!--<div class="col-md-3 name"> <span data-translate="flight.booking.info.custinfo.fullname"></span></div>--><!--<div class="col-md-9 value">--><!--{{item.cuFamilyName}}&nbsp;{{item.cuName}}--><!--</div>--><!--</div>--><!--</div>--><!--</div>--></div>'), e.put("app/components/flight/flight-detail-view-inter-transit.html", '<!-- flight-detail-view-inter-transit.html --><div class="portlet" style="border: none;margin-bottom: 0px"><div class="portlet-body"><!-- BEGIN FORM--><div class="flight-detail-table-wrapper flight-detail-popup"><div class="flight-detail-table"><div class="" ng-repeat="item in argument2.originDestinationOptions[0].flightSegments"><div class="row margin-bottom-15 margin-top-10" ng-if="item.stopQuantityInfo.duration > 0"><div class="col-xs-2">&nbsp;</div><div class="col-xs-10 text-center"><span class="label label-white label-duration">Quá cảnh ở {{item.stopQuantityInfo.locationName}} - {{item.stopQuantityInfo.duration | duration:\'short\'}}<!--<span ng-show="argument2.originDestinationOptions[0].flightSegments.length == 1"> - Bay thẳng</span>--><!--<span ng-show="argument2.originDestinationOptions[0].flightSegments.length > 1"> - {{argument.pricedItineraries[0].originDestinationOptions[0].flightSegments.length}} chặng</span>--></span></div></div><div class="row margin-bottom-15"><div class="col-xs-2"><div><!--<span class="airline-image">--> <img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.operatingAirline.code+ \'.gif\'}}" class="logo-airline"><!--</span>--></div><div><span>{{item.operatingAirline.name}} {{item.operatingAirline.flightNumber}}</span></div></div><div class="col-xs-4"><div class="text-center"><span class="bold"><!--{{argument.originLocationCode | airport:\'city\'}}&nbsp;({{argument.originLocationCode}})--> {{item.departureCity}}&nbsp;({{item.departureAirportLocationCode}})</span></div><div class="text-center"><span><!--{{argument.originLocationCode | airport:\'name\'}}--> {{item.departureAirportLocationName}}</span></div><div class="text-center"><span class="gtd-h3">{{item.departureDateTime | momentdate:\'hour\'}} </span><span class="">{{item.departureDateTime | momentdate:\'date\' | capitalize}}</span></div></div><div class="col-xs-2"><div>{{item.journeyDuration | duration}}</div><img src="../../../content/images/aeroplane-path-007a488e51.png" class="" style="width: 100%;height: 20px"></div><div class="col-xs-4"><div class="text-center"><span class="bold"><!--{{argument.destinationLocationCode | airport:\'city\'}}&nbsp;({{argument.destinationLocationCode}})--> {{item.arrivalCity}}&nbsp;({{item.arrivalAirportLocationCode}})</span></div><div class="text-center"><span>{{item.arrivalAirportLocationName}}</span></div><div class="text-center"><span class="gtd-h3">{{item.arrivalDateTime | momentdate:\'hour\'}} </span><span class="">{{item.arrivalDateTime | momentdate:\'date\' | capitalize}}</span></div></div></div></div></div><div class="flight-detail-table margin-top-30" ng-show="argument2.originDestinationOptions.length > 1"><div class="" ng-repeat="item in argument2.originDestinationOptions[1].flightSegments"><div class="row margin-bottom-15 margin-top-10" ng-if="item.stopQuantityInfo.duration > 0"><div class="col-xs-2">&nbsp;</div><div class="col-xs-10 text-center"><span class="label label-white label-duration">Quá cảnh ở {{item.stopQuantityInfo.locationName}} - {{item.stopQuantityInfo.duration | duration:\'short\'}}<!--<span ng-show="argument2.originDestinationOptions[1].flightSegments.length == 1"> - Bay thẳng</span>--><!--<span ng-show="argument2.originDestinationOptions[1].flightSegments.length > 1"> - {{argument.pricedItineraries[0].originDestinationOptions[1].flightSegments.length}} chặng</span>--></span></div></div><div class="row margin-bottom-15"><div class="col-xs-2"><div><!--<span class="airline-image">--> <img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.operatingAirline.code+ \'.gif\'}}" class="logo-airline"><!--</span>--></div><div><span>{{item.operatingAirline.name}} {{item.operatingAirline.flightNumber}}</span></div></div><div class="col-xs-4"><div class="text-center"><span class="bold">{{item.departureCity}}&nbsp;({{item.departureAirportLocationCode}})</span></div><div class="text-center"><span><!--{{argument.originLocationCode | airport:\'name\'}}--> {{item.departureAirportLocationName}}</span></div><div class="text-center text-capitalize"><span class="gtd-h3">{{item.departureDateTime | momentdate:\'hour\'}} </span><span class="">{{item.departureDateTime | momentdate:\'date\' | capitalize}}</span></div></div><div class="col-xs-2"><div>{{item.journeyDuration | duration}}</div><img src="../../../content/images/aeroplane-path-007a488e51.png" class="" style="width: 100%;height: 20px"></div><div class="col-xs-4"><div class="text-center"><span class="bold"><!--{{argument.destinationLocationCode | airport:\'city\'}}&nbsp;({{argument.destinationLocationCode}})--> {{item.arrivalCity}}&nbsp;({{item.arrivalAirportLocationCode}})</span></div><div class="text-center"><span><!--{{argument.destinationLocationCode | airport:\'name\'}}--> {{item.arrivalAirportLocationName}}</span></div><div class="text-center text-capitalize"><span class="gtd-h3">{{item.arrivalDateTime | momentdate:\'hour\'}} </span><span class="">{{item.arrivalDateTime | momentdate:\'date\' | capitalize}}</span></div></div></div></div></div></div><!-- END FORM--></div></div>'),
                e.put("app/components/flight/flight-detail-view-inter.html", '<!-- flight-detail-view-inter.html --><div class="portlet" style="border: none;margin-bottom: 0px"><div class="portlet-body"><!-- BEGIN FORM--><div class="flight-detail-table-wrapper flight-detail-popup"><div class="flight-detail-table" ng-show="argument3 == \'1\'"><div class="" ng-repeat="item in argument2.originDestinationOptions[0].flightSegments"><div class="row margin-bottom-15 margin-top-10" ng-if="item.stopQuantityInfo.duration > 0"><div class="col-xs-2">&nbsp;</div><div class="col-xs-10 text-center"><span class="label label-white label-duration" style="padding: unset;display: inline-block;width: 90%">Quá cảnh ở {{item.stopQuantityInfo.locationName}} - {{item.stopQuantityInfo.duration | duration:\'short\'}}<!--<span ng-show="argument2.originDestinationOptions[0].flightSegments.length == 1"> - Bay thẳng</span>--><!--<span ng-show="argument2.originDestinationOptions[0].flightSegments.length > 1"> - {{argument.pricedItineraries[0].originDestinationOptions[0].flightSegments.length}} chặng</span>--></span></div></div><div class="row margin-bottom-15"><div class="col-xs-2"><div><!--<span class="airline-image">--> <img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.operatingAirline.code+ \'.gif\'}}" class="logo-airline-small"><!--</span>--></div><div><span>{{item.operatingAirline.name}} {{item.operatingAirline.flightNumber}}</span></div></div><div class="col-xs-4"><div class="text-center"><span class="bold"><!--{{argument.originLocationCode | airport:\'city\'}}&nbsp;({{argument.originLocationCode}})--> {{item.departureCity}}&nbsp;({{item.departureAirportLocationCode}})</span></div><div class="text-center"><span><!--{{argument.originLocationCode | airport:\'name\'}}--> {{item.departureAirportLocationName}}</span></div><div class="text-center"><span class="gtd-h3">{{item.departureDateTime | momentdate:\'hour\'}} </span><span class="">{{item.departureDateTime | momentdate:\'date\' | capitalize}}</span></div></div><div class="col-xs-2 popover-img"><div ng-show="argument2.originDestinationOptions[0].flightSegments.length > 1">{{item.journeyDuration | duration:\'defvn\'}}</div><img src="../../../content/images/icon-hanhtrinh-e68cfe378c.png" class="" style="width: 60%;height: auto; text-align: center"></div><div class="col-xs-4"><div class="text-center"><span class="bold"><!--{{argument.destinationLocationCode | airport:\'city\'}}&nbsp;({{argument.destinationLocationCode}})--> {{item.arrivalCity}}&nbsp;({{item.arrivalAirportLocationCode}})</span></div><div class="text-center"><span>{{item.arrivalAirportLocationName}}</span></div><div class="text-center"><span class="gtd-h3">{{item.arrivalDateTime | momentdate:\'hour\'}} </span><span class="">{{item.arrivalDateTime | momentdate:\'date\' | capitalize}}</span></div></div></div><div class="row margin-bottom-15 margin-top-10" ng-if="$last"><div class="col-xs-2">&nbsp;</div><div class="col-xs-10 text-center"><span class="label label-white label-duration">{{argument2.originDestinationOptions[0].journeyDuration | duration:\'short\'}} <span ng-show="argument2.originDestinationOptions[0].flightSegments.length == 1">- Bay thẳng</span> <span ng-show="argument2.originDestinationOptions[0].flightSegments.length > 1">- {{argument.pricedItineraries[0].originDestinationOptions[0].flightSegments.length}} chặng</span></span></div></div></div></div><div class="flight-detail-table" ng-show="argument2.originDestinationOptions.length > 1 && argument3 == \'2\'"><div class="" ng-repeat="item in argument2.originDestinationOptions[1].flightSegments"><div class="row margin-bottom-15 margin-top-10" ng-if="item.stopQuantityInfo.duration > 0"><div class="col-xs-2">&nbsp;</div><div class="col-xs-10 text-center"><span class="label label-white label-duration" style="padding: unset;display: inline-block;width: 90%">Quá cảnh ở {{item.stopQuantityInfo.locationName}} - {{item.stopQuantityInfo.duration | duration:\'short\'}}<!--<span ng-show="argument2.originDestinationOptions[1].flightSegments.length == 1"> - Bay thẳng</span>--><!--<span ng-show="argument2.originDestinationOptions[1].flightSegments.length > 1"> - {{argument.pricedItineraries[0].originDestinationOptions[1].flightSegments.length}} chặng</span>--></span></div></div><div class="row margin-bottom-15"><div class="col-xs-2"><div><!--<span class="airline-image">--> <img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.operatingAirline.code+ \'.gif\'}}" class="logo-airline-small"><!--</span>--></div><div><span>{{item.operatingAirline.name}} {{item.operatingAirline.flightNumber}}</span></div></div><div class="col-xs-4"><div class="text-center"><span class="bold">{{item.departureCity}}&nbsp;({{item.departureAirportLocationCode}})</span></div><div class="text-center"><span><!--{{argument.originLocationCode | airport:\'name\'}}--> {{item.departureAirportLocationName}}</span></div><div class="text-center text-capitalize"><span class="gtd-h3">{{item.departureDateTime | momentdate:\'hour\'}} </span><span class="">{{item.departureDateTime | momentdate:\'date\' | capitalize}}</span></div></div><div class="col-xs-2"><div ng-show="argument2.originDestinationOptions[0].flightSegments.length > 1">{{item.journeyDuration | duration:\'defvn\'}}</div><img src="../../../content/images/aeroplane-path-007a488e51.png" class="" style="width: 100%;height: 20px"></div><div class="col-xs-4"><div class="text-center"><span class="bold"><!--{{argument.destinationLocationCode | airport:\'city\'}}&nbsp;({{argument.destinationLocationCode}})--> {{item.arrivalCity}}&nbsp;({{item.arrivalAirportLocationCode}})</span></div><div class="text-center"><span><!--{{argument.destinationLocationCode | airport:\'name\'}}--> {{item.arrivalAirportLocationName}}</span></div><div class="text-center text-capitalize"><span class="gtd-h3">{{item.arrivalDateTime | momentdate:\'hour\'}} </span><span class="">{{item.arrivalDateTime | momentdate:\'date\' | capitalize}}</span></div></div></div><div class="row margin-bottom-15 margin-top-10" ng-if="$last"><div class="col-xs-2">&nbsp;</div><div class="col-xs-10 text-center"><span class="label label-white label-duration">{{argument2.originDestinationOptions[1].journeyDuration | duration:\'short\'}} <span ng-show="argument2.originDestinationOptions[1].flightSegments.length == 1">- Bay thẳng</span> <span ng-show="argument2.originDestinationOptions[1].flightSegments.length > 1">- {{argument.pricedItineraries[0].originDestinationOptions[1].flightSegments.length}} chặng</span></span></div></div></div></div></div><!-- END FORM--></div></div>'), e.put("app/components/flight/flight-detail-view.html", '<div class="portlet"><div class="portlet-body"><!-- BEGIN FORM--><div class="flight-detail-table-wrapper"><!-- Domestic view --><table class="flight-detail-table" ng-if="argument4 == \'domestic\'"><tr class="flight-detail-table-row"><td class="flight-detail-table-cell1"><div><span class="airline-image"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + argument.airline+ \'.gif\'}}" class="logo-airline"></span></div><div><span>{{argument.airlineName}} {{argument.fightNo}}</span></div></td><td class="flight-detail-table-cell2"><div class="fromNode">&nbsp;</div><div class="vertical-line">&nbsp;</div><div class="toNode">&nbsp;</div></td><td class="flight-detail-table-cell3"><table class="child-table" style="margin-bottom: 20px;width: 100%"><tr class="child-table-row"><td class="child-table-col1"><div class="bold"><span>{{argument.originLocationCode | airport:\'city\'}}&nbsp;({{argument.originLocationCode}})</span></div></td><td class="child-table-col2"><div class="time-text"><span ng-show="argument3 == \'international-return\'">{{argument2.originDestinationOptions[1].originDateTime | momentdate:\'hour\'}}</span> <span ng-show="argument3 != \'international-return\'">{{argument2.originDestinationOptions[0].originDateTime | momentdate:\'hour\'}}</span></div></td><td class="child-table-col3"><div><span><span ng-show="argument3 == \'international-return\'">{{argument2.originDestinationOptions[1].originDateTime | momentdate}}</span> <span ng-show="argument3 != \'international-return\'">{{argument2.originDestinationOptions[0].originDateTime | momentdate}}</span><!--{{argument2.originDestinationOptions[0].flightSegments[0].departureDateTime | date:\'dd-MM-yyyy\'}}--></span></div></td></tr><tr class="child-table-row"><td colspan="3"><div><span>{{argument.originLocationCode | airport:\'name\'}}</span></div></td></tr><tr class="child-table-row"><td colspan="3"><div class="flight-type"><span>{{argument2.originDestinationOptions[0].journeyDuration | duration}}</span></div></td></tr><tr class="child-table-row"><td class="child-table-col1"><div class="bold"><span>{{argument.destinationLocationCode | airport:\'city\'}}&nbsp;({{argument.destinationLocationCode}})</span></div></td><td class="child-table-col2"><div class="time-text"><span ng-show="argument3 == \'international-return\'">{{argument2.originDestinationOptions[1].destinationDateTime | momentdate:\'hour\'}}</span> <span ng-show="argument3 != \'international-return\'">{{argument2.originDestinationOptions[0].destinationDateTime | momentdate:\'hour\'}}</span><!--{{argument2.originDestinationOptions[0].flightSegments[0].arrivalDateTime | momentdate:\'hour\'}}--></div></td><td class="child-table-col3"><div><span ng-show="argument3 == \'international-return\'">{{argument2.originDestinationOptions[1].destinationDateTime | momentdate}}</span> <span ng-show="argument3 != \'international-return\'">{{argument2.originDestinationOptions[0].destinationDateTime | momentdate}}</span><!--{{argument2.originDestinationOptions[0].flightSegments[0].arrivalDateTime | momentdate}}--></div></td></tr><tr class="child-table-row"><td colspan="3"><div><span>{{argument.destinationLocationCode | airport:\'name\'}}</span></div></td></tr></table></td><!--<td class="flight-detail-table-cell4">--><!--<div class="vertical-line">&nbsp;</div>--><!--</td>--><!--<td class="flight-detail-table-cell5">--><!--<div class="feature-item" ng-repeat="item in $ctrl.departFlightModel.features">--><!--{{item.text}}--><!--</div>--><!--<div class="ticket-type">{{$ctrl.departFlightModel.ticketType}}</div>--><!--</td>--></tr></table><!-- Multi segment view --><table class="flight-detail-table" ng-if="argument4 == \'international\' && argument3 != \'international-return\'"><tr class="flight-detail-table-row" ng-repeat="segment in argument2.originDestinationOptions[0].flightSegments"><td class="flight-detail-table-cell1"><div><span class="airline-image"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + segment.operatingAirline.code+ \'.gif\'}}" class="logo-airline"></span></div><div><span>{{segment.operatingAirline.name}} {{segment.operatingAirline.flightNumber}}</span></div></td><td class="flight-detail-table-cell2"><div class="fromNode">&nbsp;</div><div class="vertical-line">&nbsp;</div><div class="toNode">&nbsp;</div></td><td class="flight-detail-table-cell3"><table class="child-table" style="margin-bottom: 20px;width: 100%" ng-if="argument3 != \'international-return\'"><tr class="child-table-row"><td class="child-table-col1"><div class="bold"><span>{{segment.departureCity}}&nbsp;({{segment.departureAirportLocationCode}})</span></div></td><td class="child-table-col2"><div class="time-text"><span>{{segment.departureDateTime | momentdate:\'hour\'}}</span></div></td><td class="child-table-col3"><div><span><span>{{segment.departureDateTime | momentdate}}</span></span></div></td></tr><tr class="child-table-row"><td colspan="3"><div><span>{{segment.departureAirportLocationName}}</span></div></td></tr><tr class="child-table-row"><td colspan="3"><div class="flight-type"><span>{{segment.journeyDuration | duration}}</span></div></td></tr><tr class="child-table-row"><td class="child-table-col1"><div class="bold"><span>{{segment.arrivalCity}}&nbsp;({{segment.arrivalAirportLocationCode}})</span></div></td><td class="child-table-col2"><div class="time-text"><span>{{segment.arrivalDateTime | momentdate:\'hour\'}}</span></div></td><td class="child-table-col3"><div><span>{{segment.arrivalDateTime | momentdate}}</span></div></td></tr><tr class="child-table-row"><td colspan="3"><div><span>{{segment.arrivalAirportLocationName}}</span></div></td></tr></table></td></tr></table><table class="flight-detail-table" ng-if="argument4 == \'international\' && argument3 == \'international-return\'"><tr class="flight-detail-table-row" ng-repeat="segment in argument2.originDestinationOptions[1].flightSegments"><td class="flight-detail-table-cell1"><div><span class="airline-image"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + segment.operatingAirline.code+ \'.gif\'}}" class="logo-airline"></span></div><div><span>{{segment.operatingAirline.name}} {{segment.operatingAirline.flightNumber}}</span></div></td><td class="flight-detail-table-cell2"><div class="fromNode">&nbsp;</div><div class="vertical-line">&nbsp;</div><div class="toNode">&nbsp;</div></td><td class="flight-detail-table-cell3"><table class="child-table" style="margin-bottom: 20px;width: 100%" ng-if="argument3 == \'international-return\'"><tr class="child-table-row"><td class="child-table-col1"><div class="bold"><span>{{segment.departureCity}}&nbsp;({{segment.departureAirportLocationCode}})</span></div></td><td class="child-table-col2"><div class="time-text"><span>{{segment.departureDateTime | momentdate:\'hour\'}}</span></div></td><td class="child-table-col3"><div><span><span>{{segment.departureDateTime | momentdate}}</span></span></div></td></tr><tr class="child-table-row"><td colspan="3"><div><span>{{segment.departureAirportLocationName}}</span></div></td></tr><tr class="child-table-row"><td colspan="3"><div class="flight-type"><span>{{segment.journeyDuration | duration}}</span></div></td></tr><tr class="child-table-row"><td class="child-table-col1"><div class="bold"><span>{{segment.arrivalCity}}&nbsp;({{segment.arrivalAirportLocationCode}})</span></div></td><td class="child-table-col2"><div class="time-text"><span>{{segment.arrivalDateTime | momentdate:\'hour\'}}</span></div></td><td class="child-table-col3"><div><span>{{segment.arrivalDateTime | momentdate}}</span></div></td></tr><tr class="child-table-row"><td colspan="3"><div><span>{{segment.arrivalAirportLocationName}}</span></div></td></tr></table></td></tr></table></div><!-- END FORM--></div></div>'), e.put("app/components/flight/flight-detail-view1.html", '<!-- flight-detail-view1.html --><div class="portlet" style="border: none;margin-bottom: 0px"><div class="portlet-body"><!-- BEGIN FORM--><div class="flight-detail-table-wrapper flight-detail-popup"><div class="flight-detail-table"><div class="group-info-detail"><div class="Airline-name"><div class="img-airline"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + argument.airline+ \'.gif\'}}" class="logo-airline-small"></div><div class="name-airline-item"><span class="name-al">{{argument.airlineName}}</span> <span class="code-al">{{argument.fightNo}}</span></div></div><div class="airline-detail"><div class="flight-detail-from"><div class="text-center"><span class="bold">{{argument.originCity}}&nbsp;({{argument.originLocationCode}})</span></div><div class="text-center"><span>{{argument.originLocationName}}</span></div><div class="text-center"><span class="gtd-h3">{{argument.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'hour\'}} </span><span class="">{{argument.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'date\' | capitalize}}</span></div></div><div class="icon-from-to"><span class="fa fa-long-arrow-right"></span></div><div class="flight-detail-to"><div class="text-center"><span class="bold">{{argument.destinationCity}}&nbsp;({{argument.destinationLocationCode}})</span></div><div class="text-center"><span>{{argument.destinationLocationName}}</span></div><div class="text-center"><span class="gtd-h3">{{argument.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].arrivalDateTime | momentdate:\'hour\'}} </span><span class="">{{argument.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].arrivalDateTime | momentdate:\'date\' | capitalize}}</span></div></div></div></div><!-- <div class="duration-flight">\n                    {{argument.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].journeyDuration | duration}} - Bay thẳng\n                </div> --></div></div><div ng-if="argument.airline == \'0V\'" style="font-size: 11px; padding-left: 12px; margin-top: -5px; color: #D84A38">Hãng khai thác Vietnam Air Service</div><!-- END FORM--></div></div>'), e.put("app/components/flight/flight-fare-rules.html", "{{argument4}}"), e.put("app/components/flight/flight-info.html", '<div class="header-table"><div class="row header-table-row flight-info-header-curve" ng-show="$ctrl.gtdShowHeader != \'false\'"><div class="col-xs-1 header-table-base"><img src="../../../content/images/plane-taking-off-white-edba9354c2.png"></div><div class="col-xs-3 header-table-base" style="text-align: center;border-right: 1px solid;border-color: rgb(160,200,200)"><span ng-show="$ctrl.flightModel.searchType == \'oneway\'">Vé một chiều</span> <span ng-show="$ctrl.flightModel.searchType == \'roundtrip\' && $ctrl.flightModel.flightIdx == 1">Vé chiều đi</span> <span ng-show="$ctrl.flightModel.searchType == \'roundtrip\' && $ctrl.flightModel.flightIdx == 2">Vé chiều về</span></div><div class="col-xs-4 header-table-base text-capitalize" style="text-align: center;border-right: 1px solid;border-color: rgb(160,200,200)">{{$ctrl.flightModel.checkIn | momentdate:\'date\'}}</div><div class="col-xs-4 header-table-base" style="text-align: center"><span ng-show="$ctrl.flightModel.passengerNameRecords != null && $ctrl.flightModel.passengerNameRecords != \'\'">Mã đặt chỗ </span><span class="refno-text">{{$ctrl.flightModel.passengerNameRecords}}</span></div></div><div class="row row-eq-height bg-color2"><div class="col-xs-10"><div class="row margin-bottom-5 margin-top-5" ng-repeat="segment in $ctrl.flightModel.flightSegments"><div class="col-xs-2 detail-table-col-base"><div><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + segment.operatingAirline.code+ \'.gif\'}}"></div><div><span>{{segment.operatingAirline.name}}</span>&nbsp; <span>{{segment.operatingAirline.flightNumber}}</span></div></div><div class="col-xs-4 detail-table-col-base"><div><span class="time-text">{{segment.departureDateTime | unixtime | momentdate:\'hour\'}}</span></div><div><span class="loc-text">{{segment.departureCity}}&nbsp;({{segment.departureAirportLocationCode}})</span></div><div><span>{{segment.departureAirportLocationName}}</span></div><div><span>{{segment.departureDateTime | unixtime | momentdate}}</span></div></div><div class="col-xs-2 detail-table-col-base"><div ng-show="$ctrl.flightModel.noOfTransit == 1"><span>{{$ctrl.flightModel.duration | duration:\'short\'}}</span></div><div ng-show="$ctrl.flightModel.noOfTransit > 1"><span>{{segment.journeyDuration | duration:\'short\'}}</span></div><div><span class="fa fa-long-arrow-right"></span></div><div ng-show="$ctrl.flightModel.noOfTransit == 1"><span ng-show="$ctrl.flightModel.noOfTransit == 1">Bay thẳng</span> <span ng-show="$ctrl.flightModel.noOfTransit > 1">Quá cảnh</span></div></div><div class="col-xs-4 detail-table-col-base"><div><span class="time-text">{{segment.arrivalDateTime | unixtime | momentdate:\'hour\'}}</span></div><div><span class="loc-text">{{segment.arrivalCity}}&nbsp;({{segment.arrivalAirportLocationCode}})</span></div><div><span>{{segment.arrivalAirportLocationName}}</span></div><div><span>{{segment.arrivalDateTime | unixtime | momentdate}}</span></div></div></div></div><div class="col-xs-2 detail-table-col-base" style="position: relative"><!--<div>--><div class="" style="position: absolute;top: 40%; left: 5%"><div>{{$ctrl.flightModel.cabinClassName == null ? \'promo\' : $ctrl.flightModel.cabinClassName | gender:\'cabinclass\'}}</div><div class="" ng-show="$ctrl.flightModel.noOfTransit > 1"><span>{{$ctrl.flightModel.duration | duration:\'short\'}}</span></div><div class="" ng-show="$ctrl.flightModel.noOfTransit > 1"><span ng-show="$ctrl.flightModel.noOfTransit > 1">Quá cảnh</span></div></div><!--</div>--></div></div><div class="row bg-color2 detail-table-row margin-left-m15" ng-show="$ctrl.gtdShowCustomer != \'false\'"><div colspan="col-xs-12"><span class="padding-left-15">Hành khách: &nbsp;</span> <span class="name-text" ng-repeat="item in $ctrl.flightModel.travelerInfo.airTravelers">{{item.passengerName.lastName}}&nbsp;{{item.passengerName.firstName}} <span ng-if="!$last">,</span></span></div></div><div class="row header-table-row flight-info-footer-curve" ng-show="!($ctrl.flightModel.searchType == \'roundtrip\' && $ctrl.flightModel.flightIdx == 1)"><div class="col-xs-12">&nbsp;</div></div></div>'), e.put("app/components/flight/flight-search-adv.html", '<div class="row"><div class="col-md-12 flight-search-filter"><div class="search-filter"><div class="search-header"><span class="header-text" translate="flight.search.advsearch.filter"></span>&nbsp; <span class="fa fa-minus-square-o" ng-show="$ctrl.showAdv && $ctrl.isMobile" ng-click="$ctrl.showAdv = false;"></span> <span class="fa fa-plus-square-o" ng-show="(!$ctrl.showAdv) && $ctrl.isMobile" ng-click="$ctrl.showAdv = true;">--></span> <a ng-click="$ctrl.resetFilter();"><span class="pull-right" translate="flight.search.advsearch.cancel"></span> <span class="pull-right fa fa-refresh refresh-icon"></span></a></div><div ng-show="$ctrl.showAdv"><ng-switch on="$ctrl.searchOptions.dtype != \'domestic\'"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.transit"></span></div><div class="mt-checkbox-list"><label class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.transitCarouselArrays">{{item.text}} <input type="checkbox" name="tranitOpts" value="{{item.id}}" ng-model="$ctrl.transitCarouselArrays[$index].checked" ng-click="$ctrl.doFilter()"> <span></span></label></div></div></ng-switch><ng-switch on="!($ctrl.searchOptions.dtype == \'international\' && $ctrl.searchOptions.searchType != \'oneway\' && $ctrl.searchOptions.selectStep == 2)"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.departuretime"></span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.fromTimeCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div class="time-first-last time-up" ng-if="$first"><span data-translate="flight.search.header.before">Trước</span></div><div class="time-first-last time-down" ng-if="$first"><span>6:00</span></div><div class="time-first-last time-up" ng-if="$last"><span data-translate="flight.search.header.after">Sau</span></div><div class="time-first-last time-down" ng-if="$last"><span>18:00</span></div><div class="time-up" ng-if="!($first || $last)"><span>{{item.from}}</span></div><div class="time-middle" ng-if="!($first || $last)"><span>-</span></div><div class="time-down" ng-if="!($first || $last)"><span>{{item.to}}</span></div></a></div></div></div></div><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.arrivaltime"></span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-repeat="item in $ctrl.toTimeCarouselArrays" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.toTimeCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div class="time-first-last time-up" ng-if="$first"><span data-translate="flight.search.header.before">Trước</span></div><div class="time-first-last time-down" ng-if="$first"><span>6:00</span></div><div class="time-first-last time-up" ng-if="$last"><span data-translate="flight.search.header.after">Sau</span></div><div class="time-first-last time-down" ng-if="$last"><span>18:00</span></div><div class="time-up" ng-if="!($first || $last)"><span>{{item.from}}</span></div><div class="time-middle" ng-if="!($first || $last)"><span>-</span></div><div class="time-down" ng-if="!($first || $last)"><span>{{item.to}}</span></div></a></div></div></div></div></ng-switch><!-- RETURN TIME --><ng-switch on="$ctrl.searchOptions.dtype == \'international\' && $ctrl.searchOptions.searchType != \'oneway\' && $ctrl.searchOptions.selectStep == 2"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text">Giờ khởi hành chiều về</span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.fromTimeReturnCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div class="time-first-last time-up" ng-if="$first"><span data-translate="flight.search.header.before">Trước</span></div><div class="time-first-last time-down" ng-if="$first"><span>6:00</span></div><div class="time-first-last time-up" ng-if="$last"><span data-translate="flight.search.header.after">Sau</span></div><div class="time-first-last time-down" ng-if="$last"><span>18:00</span></div><div class="time-up" ng-if="!($first || $last)"><span>{{item.from}}</span></div><div class="time-middle" ng-if="!($first || $last)"><span>-</span></div><div class="time-down" ng-if="!($first || $last)"><span>{{item.to}}</span></div></a></div></div></div></div><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text">Giờ đến chiều về</span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.toTimeReturnCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div class="time-first-last time-up" ng-if="$first"><span data-translate="flight.search.header.before">Trước</span></div><div class="time-first-last time-down" ng-if="$first"><span>6:00</span></div><div class="time-first-last time-up" ng-if="$last"><span data-translate="flight.search.header.after">Sau</span></div><div class="time-first-last time-down" ng-if="$last"><span>18:00</span></div><div class="time-up" ng-if="!($first || $last)"><span>{{item.from}}</span></div><div class="time-middle" ng-if="!($first || $last)"><span>-</span></div><div class="time-down" ng-if="!($first || $last)"><span>{{item.to}}</span></div></a></div></div></div></div></ng-switch><!-- Airlines --><ng-switch on="!($ctrl.searchOptions.searchType == \'roundtrip\' && $ctrl.searchOptions.selectStep == 2)" ng-if="$ctrl.airlineCarouselArrays != null && $ctrl.airlineCarouselArrays.length>0"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.airlines"></span></div><div class="mt-checkbox-list"><div class="checkbox-wrapper" ng-repeat="item in $ctrl.airlineCarouselArrays track by $index" ng-if="($ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.dtype == \'international\' && item.id == $ctrl.searchResult.groupPricedItineraries[0].airline) || !($ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.dtype == \'international\')" ng-show="$ctrl.loadMore || $index <= 4"><label class="mt-checkbox mt-checkbox-outline"><input class="airline-{{item.id}}" type="checkbox" name="airlineOpts" value="{{item.id}} {{item.checked}}" ng-model="$ctrl.airlineCarouselArrays[$index].checked" ng-click="$ctrl.doFilter()"><div style="display: inline-block"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.id+ \'.gif\'}}" class="logo-airline-small"> {{item.text}}</div><span></span></label></div></div><div class="pull-right text-underlined" style="margin-top: -10px"><span ng-show="$ctrl.loadMore == false && $ctrl.airlineCarouselArrays.length > 5" ng-click="$ctrl.loadMore = !$ctrl.loadMore">Xem tất cả</span> <span ng-show="$ctrl.loadMore && $ctrl.airlineCarouselArrays.length > 5" ng-click="$ctrl.loadMore = !$ctrl.loadMore">Thu gọn</span></div></div></ng-switch><div class="search-filter-divider"></div><div class="search-detail"><div><span class="search-label-text" translate="flight.search.advsearch.class"></span></div><div class="search-detail"><div class="mt-checkbox-list"><label class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.classCarouselArrays">{{item.text | translate}} <input type="checkbox" name="classOpts" value="{{item.id}}" ng-model="$ctrl.classCarouselArrays[$index].checked" ng-click="$ctrl.doFilter()"> <span></span></label></div></div></div><ng-switch on="$ctrl.searchOptions.dtype == \'domestic\'"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text">{{\'flight.search.header.conditions\' |translate}}</span></div><div class="mt-checkbox-list"><label class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.policyArrays">{{item.text}} <input type="checkbox" name="policyOpts" value="{{item.id}}" ng-model="$ctrl.policyArrays[$index].checked" ng-click="$ctrl.doFilter()"> <span></span></label></div></div></ng-switch></div></div></div></div>'), e.put("app/components/flight/flight-search-date-paginator.html", '<div ng-switch="$ctrl.dateCarouselArrays.length > 0"><div class="flight-search-paginator" style="display: inline-block"><div class="arrow" style="display: inline-block"><span class="fa fa-angle-left"></span></div><div class="pagination" style="display: inline-block"><div ng-repeat="item in $ctrl.dateCarouselArrays" class="date-box" ng-class="{active: $ctrl.activeDateIdx==$index}" ng-click="$ctrl.activeDateIdx=$index" style="display: inline-block"><div>{{item.text}}</div><div><span class="price-text"><b>{{item.price}}</b></span> <span>{{item.unit}}</span></div></div></div><div class="arrow" style="display: inline-block"><span class="fa fa-angle-right"></span></div><!--<div class="date-carousel">--><!--<div ng-repeat="item in $ctrl.dateCarouselArrays" class="date-box">--><!--<div>{{item.text}}</div>--><!--<div>--><!--<span class="price-text"><b>{{item.price}}</b></span>--><!--<span>{{item.unit}}</span>--><!--</div>--><!--</div>--><!--</div>--><div style="clear:both"></div></div><!--<div class="flight-search-paginator-other" ng-switch-when="true">--><!--<a class="clickable">--><!--<span class="fa fa-calendar-plus-o text-calendar"></span>--><!--<span class="text-detail" data-translate="flight.search.result.otherdateopt">Ve ngay khac</span>--><!--</a>--><!--</div>--></div>'), e.put("app/components/flight/flight-search-footer.html", '<div class="container reset-container"><div class="row"><!--<div class="col-lg-12">--><div class="footer-popular-place-box"><div class="flight-footer-title uppercase"><b><span data-translate="flight.search.footer.popular-place"></span></b></div><div class="flight-footer-detail"><span ng-repeat="item in $ctrl.popularPlaces"><a>{{item}}</a> <span ng-class="{\'footer-last\': $last}">|</span></span></div></div><div class="footer-popular-flight-box"><div class="flight-footer-title uppercase"><b><span data-translate="flight.search.footer.popular-flight"></span></b></div><div class="flight-footer-detail"><span ng-repeat="item in $ctrl.popularFlights"><a>{{item}}</a> <span ng-class="{\'footer-last\': $last}">|</span></span></div></div><div class="footer-popular-hotel-box"><div class="flight-footer-title uppercase"><b><span data-translate="flight.search.footer.popular-hotel"></span></b></div><div class="flight-footer-detail"><span ng-repeat="item in $ctrl.popularHotels"><a>{{item}}</a> <span ng-class="{\'footer-last\': $last}">|</span></span></div></div><!--</div>--></div></div>'),
                e.put("app/components/flight/flight-search-header.html", '<form name="airSearchForm" novalidate><input type="hidden" ng-model="$ctrl.searchOptions.page"> <input type="hidden" ng-model="$ctrl.searchOptions.size"><div class="flight-search-header" gtd-spinner-passenger-quantity search-options="$ctrl.searchOptions"><div class="container reset-container"><input type="hidden" ng-model="$ctrl.searchOptions.searchType"> <input type="hidden" ng-model="$ctrl.searchOptions.dtype"><div class="row" ng-switch="$ctrl.searchOptions.searchType == \'roundtrip\'"><div class="no-margin-left no-padding-left col-md-4 col-sm-12"><div class="header-destination-box header-destination-box-no-margin"><div class="uppercase"><span id="oneway" data-translate="flight.search.header.oneway" class="selectType select-oneway" ng-click="changeSelect(\'oneway\')" ng-class="{true:\'\', false:\'selected\'}[$ctrl.searchOptions.searchType == \'roundtrip\']"></span> <span id="roundtrip" data-translate="flight.search.header.rountrip" class="selectType select-roundtrip" ng-click="changeSelect(\'roundtrip\')" ng-class="{true:\'selected\', false:\'\'}[$ctrl.searchOptions.searchType == \'roundtrip\']"></span></div><div class="form-group" ng-switch="$ctrl.searchOptions.dtype == \'domestic\'"><!--<div class="input-group select2-bootstrap-prepend">--><div class="col-md-5 col-sm-5 col-xs-5 no-margin no-padding"><select id="fromAirPort" name="fromAirPort" ng-model="$ctrl.searchOptions.fromAirPort" gtd-airport-select gtd-mode="$ctrl.searchOptions.dtype" gtd-search-options="$ctrl.searchOptions" gtd-direction="\'FROM\'" required autocomplete="off" class="form-control from-to-airport select2"></select><!-- <input type="text"\n                                            name="fromAirPort"\n                                            id="fromAirPortInt"\n                                            ng-model="$ctrl.searchOptions.fromAirPort"\n                                            class="fromAirPort form-control"\n                                            uib-typeahead="o.code as (o.city + \' (\' + o.code  + \' - \' + o.name + \')\' + \', \' + o.country ) for o in $ctrl.searchAirports($viewValue, \'FROM\')"\n                                            typeahead-input-formatter="$ctrl.formatLabel($model)"\n                                            typeahead-loading="loadingLocations"\n                                            typeahead-no-results="noResults"\n                                            typeahead-min-length="0"\n                                            typeahead-editable="false"\n                                            gtd-typeahead-focus\n                                            required\n                                            autocomplete="off"\n                                            ng-if="$ctrl.iOS"\n                                    > --></div><div class="col-md-2 col-sm-2 col-xs-2 from-to-airport-seperator-h no-margin no-padding"><span class="input-group-addon from-to-airport-seperator-h" ng-switch-when="true" ng-if="!$ctrl.iOS"><a class="switchDirectionBtn" gtd-swap-select2 gtd-from="fromAirPort" gtd-to="toAirPort"><span class="fa fa-exchange clickable-color1"></span> </a></span><span class="input-group-addon from-to-airport-seperator-h" ng-switch-when="false" ng-if="!$ctrl.iOS"><a class="switchDirectionBtn" gtd-swap-select2-inter gtd-from="fromAirPort" gtd-to="toAirPort"><span class="fa fa-exchange clickable-color1"></span> </a></span><span class="input-group-addon from-to-airport-seperator-h" ng-if="$ctrl.iOS" ng-click="$ctrl.switchTypeAhead();"><a class="" gtd-from="fromAirPortInt" gtd-to="toAirPortInt"><span class="fa fa-exchange clickable-color1"></span></a></span></div><div class="col-md-5 col-sm-5 col-xs-5 no-margin no-padding"><select id="toAirPort" name="toAirport" ng-model="$ctrl.searchOptions.toAirPort" gtd-airport-select gtd-mode="$ctrl.searchOptions.dtype" gtd-search-options="$ctrl.searchOptions" gtd-direction="\'TO\'" autocomplete="off" required class="form-control from-to-airport select2"></select><!-- <input type="text"\n                                            name="toAirPort"\n                                            id="toAirPortInt"\n                                            ng-model="$ctrl.searchOptions.toAirPort"\n\n                                            ng-if="$ctrl.iOS"\n\n                                            uib-typeahead="o.code as (o.city + \' (\' + o.code  + \' - \' + o.name + \')\' + \', \' + o.country ) for o in $ctrl.searchAirports($viewValue, \'TO\')"\n                                            typeahead-input-formatter="$ctrl.formatLabel($model)"\n                                            typeahead-loading="loadingLocations"\n                                            typeahead-no-results="noResults"\n                                            typeahead-min-length="0"\n                                            typeahead-editable="false"\n                                            gtd-typeahead-focus\n\n                                            required\n                                            autocomplete="off"\n                                            class="form-control toAirPort"> --></div><!--</div>--></div></div></div><div class="no-margin col-md-4 col-sm-6 col-xs-12"><div class="row"><div class="no-margin col-xs-6"><div class="header-date-box" data-date-format="dd-mm-yyyy"><div class="uppercase"><span data-translate="flight.search.header.departuredate"></span></div><div class="input-icon right" onclick="$(\'#departureDate_\').datepicker(\'show\');"><i class="fa fa-calendar btn icon-centre"></i> <input id="departureDate_" class="form-control" size="16" type="text" value="" readonly="readonly" style="background-color: unset" gtd-dual-date-picker end-id="returnDate_" is-start="true" required ng-model="$ctrl.searchOptions.departureDate"></div></div></div><div class="col-xs-6 itemDatetime" ng-class="{true:\'\', false:\'disable\'}[$ctrl.searchOptions.searchType == \'roundtrip\']"><div class="header-date-box" data-date-format="dd-mm-yyyy"><div class="uppercase"><span data-translate="flight.search.header.returndate"></span></div><div class="input-icon right" onclick="$(\'#returnDate_\').datepicker(\'show\');"><i class="fa fa-calendar btn icon-centre"></i> <input id="returnDate_" class="form-control" size="16" type="text" value="" readonly="readonly" style="background-color: unset" start-id="departureDate_" ng-model="$ctrl.searchOptions.returnDate" ng-required="!($ctrl.searchOptions.searchType==\'oneway\')" gtd-dual-date-picker></div></div></div></div></div><div class="no-margin col-md-3 col-sm-5 col-xs-9 selectNumber"><div class="header-passenger-select"><div class="group-numb-air"><div class="header-passenger-box"><div class="uppercase"><span data-translate="flight.search.header.adult"></span></div><div class="input-icon right"><input id="adultNo" type="text" class="touchspin-vertical" gtd-touch-spinner readonly="readonly" style="background-color: unset" gtd-min="1" gtd-max="9" ng-model="$ctrl.searchOptions.adultNo"></div></div><div class="header-passenger-box"><div class="uppercase"><span data-translate="flight.search.header.children"></span></div><div class="input-icon right"><input id="childrenNo" type="text" value="" class="touchspin-vertical" gtd-touch-spinner readonly="readonly" style="background-color: unset" ng-model="$ctrl.searchOptions.childrenNo" gtd-min="0"></div></div><div class="header-passenger-box"><div class="uppercase"><span data-translate="flight.search.header.newborn"></span></div><div class="input-icon right"><input id="newBornNo" type="text" value="" class="touchspin-vertical" gtd-touch-spinner readonly="readonly" style="background-color: unset" ng-model="$ctrl.searchOptions.newBornNo" gtd-min="0"></div></div></div></div></div><div class="col-sm-1 col-xs-3 btnSubmitSearch"><div class="uppercase no-margin flight-search-button"><button class="btn gtd-btn-default gtd-btn-small1" type="submit" ng-disabled="airSearchForm.$invalid" ng-click="$ctrl.doSearchImpl()"><!--<span class="uppercase fa fa-search">&nbsp;--> <span class="uppercase fa fa-search"></span> <span class="uppercase" data-translate="flight.search.header.search"></span></button></div></div></div></div></div></form>'), e.put("app/components/flight/flight-search-result.html", '<div class="row"><div class="col-md-12"><div class="tile-container"><!-- HEADER --><div class="heading-detail"><ng-switch on="$ctrl.searchOptions.selectStep == 1"><div class="row"><div class="pull-left no-padding background-header" style="width: 100%; padding: 20px"><div class="header-logo-section" ng-switch-when="true" ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'"><div class="title-header-icon-block"><div><img src="../../../content/images/plane_depart_red-1335a38c01.png"></div><div><span data-translate="flight.search.result.a2b" class="header-a2b-text uppercase"></span></div></div></div><div class="title-header-text-block" ng-switch-when="true" ng-class="{true:\'header-content-section\', false:\'col-sm-12\'}[$ctrl.searchOptions.searchType == \'roundtrip\']"><div class="title-header"><span class="title-header-main"><span class="full-name-airline">({{$ctrl.searchOptions.fromAirPort}})</span> - <span class="full-name-airline">({{$ctrl.searchOptions.toAirPort}})</span> </span><span class="title-header-sub">{{$ctrl.searchResult.page.totalElements | number}} {{\'flight.search.header.flight\'| translate}}</span></div><div class="title-header-last" ng-if="$ctrl.searchResult.groupPricedItineraries.length>0"><span class="title-heahand show-sub-flightder-sub text-capitalize">{{$ctrl.searchResult.groupPricedItineraries[0].departureDateTime | momentdate:\'date\'}} , </span><span class="title-header-sub text-capitalize">{{$ctrl.searchOptions.adultNo}} {{\'flight.search.header.adult\' |translate}} </span><span class="title-header-sub text-capitalize" ng-show="$ctrl.searchOptions.childrenNo != 0">, {{$ctrl.searchOptions.childrenNo}} {{\'flight.search.header.children\' |translate}}</span> <span class="title-header-sub text-capitalize" ng-show="$ctrl.searchOptions.newBornNo != 0">, {{$ctrl.searchOptions.newBornNo}} {{\'flight.search.header.newborn\' |translate}}</span></div></div></div></div></ng-switch></div><ng-switch on="$ctrl.searchOptions.selectStep == 2"><div ng-switch-when="true" class="depart-block block-flight-first" ng-if="$ctrl.searchOptions.dtype == \'domestic\'"><div class="row"><div class="col-sm-12"><div class="header-logo-section"><div class="title-header-icon-block1"><div class="icon-flight"><img src="../../../content/images/plane_depart_grey-7dbd71454b.png"></div><div><span data-translate="flight.search.result.a2b" class="header-a2b-text1 uppercase"></span></div></div></div><div class="header-content-section"><div class="col-sm-7 col-xs-7 title-header-text-block"><div class="title-header1"><span class="title-header-main"><span class="full-name-airline">{{$ctrl.departGroupItem.originCity}}</span> &nbsp;({{$ctrl.departGroupItem.originLocationCode}}) - <span class="full-name-airline">{{$ctrl.departGroupItem.destinationCity}}</span> &nbsp;({{$ctrl.departGroupItem.destinationLocationCode}}) </span>&nbsp;</div><div class="title-header1"><span class="title-header-sub text-capitalize">{{$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'date\'}} <span class="quantity-numb">, {{$ctrl.departPricedItinerary.airItineraryPricingInfo.adultFare.passengerTypeQuantities.quantity}} {{\'flight.search.header.adult\' |translate}}</span>&nbsp; <span class="title-header-sub text-capitalize" ng-show="$ctrl.searchResult.groupPricedItineraries[0].pricedItineraries[0].airItineraryPricingInfo.childFare != null">, {{$ctrl.searchResult.groupPricedItineraries[0].pricedItineraries[0].airItineraryPricingInfo.childFare.passengerTypeQuantities.quantity}} {{\'flight.search.header.children\' |translate}}&nbsp;</span> <span class="title-header-sub text-capitalize" ng-show="$ctrl.searchResult.groupPricedItineraries[0].pricedItineraries[0].airItineraryPricingInfo.infantFare != null">, {{$ctrl.searchResult.groupPricedItineraries[0].pricedItineraries[0].airItineraryPricingInfo.infantFare.passengerTypeQuantities.quantity}} {{\'flight.search.header.newborn\' |translate}}&nbsp;</span></span></div></div><!-- <div class="col-sm-1 title-headerflight-detail1-block" style="padding: 0px;">\n                                    <img\n                                        ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + $ctrl.departGroupItem.airline + \'.gif\'}}"\n                                        class="logo-airline"/>\n                                </div> --><div class="col-sm-3 col-xs-5 title-headerflight-detail1-block"><div><span>{{$ctrl.departGroupItem.airlineName}}&nbsp;{{$ctrl.departGroupItem.fightNo}}</span></div><div><span>{{$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'hour\'}}</span> <span class="fa fa-long-arrow-right"></span> <span>{{$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments[$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments.length -1].arrivalDateTime | momentdate:\'hour\'}}</span></div></div><div class="col-sm-2 col-xs-5 title-headerflight-detail2-block"><div class="margin-bottom-5"><span ng-if="$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments.length <= 1">{{\'flight.search.header.non-stop\' |translate}}</span> <span ng-if="$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments.length > 1">{{\'flight.search.header.transit\' |translate}}</span></div></div></div></div></div></div><div class="pull-right" ng-switch-when="true" ng-click="$ctrl.changeFlight()" ng-if="$ctrl.searchOptions.dtype != \'international\'"><a class="label label-outline label-change">{{\'flight.search.header.change\' |translate}} <span class="text-color4 fa fa-pencil-square-o"></span></a></div><div ng-switch-when="true" class="depart-block depart-block-international" ng-if="$ctrl.searchOptions.dtype == \'international\'"><div class="row"><div class="col-sm-12 group-block"><div class="header-logo-section"><div class="title-header-icon-block1"><div class="img-block"><img src="../../../content/images/plane_depart_grey-7dbd71454b.png"></div><div class="name-block"><span data-translate="flight.search.result.a2b" class="header-a2b-text1 uppercase"></span></div></div></div><div class="header-content-section"><div class="col-sm-2 title-header-text-block block-item-flight-info"><div class="title-header1"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + $ctrl.departGroupItem.airline + \'.gif\'}}" class="logo-airline"></div><div class="title-header1"><span>{{$ctrl.departGroupItem.airline}}&nbsp;{{$ctrl.departGroupItem.fightNo}}</span></div></div><div class="col-sm-3 title-header-text-block"><div class="title-header1"><span class="title-header-main bold">{{$ctrl.departGroupItem.originLocationCode}}&nbsp;-&nbsp;{{$ctrl.departGroupItem.destinationLocationCode}} </span>&nbsp;</div><div class="title-header1"><span class="title-header-sub title-header-time-flight gtd-h4">{{$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].originDateTime | momentdate:\'hour\'}}&nbsp;-&nbsp; {{$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].destinationDateTime | momentdate:\'hour\'}} <span class="flight-date-diff-text">{{$ctrl.orgDepartPricedItinerary.originDestinationOptions[0] | flightdatediff}}</span></span></div></div><div class="col-sm-2 title-header-text-block"><div class="title-header1"><div><span>{{$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].journeyDuration | duration:\'short\'}}</span></div></div><div class="title-header1"><div>{{$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</div></div></div><div class="col-sm-2 title-headerflight-detail1-block" style="text-align: right"><div class="title-header1"><div><span ng-if="$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].flightSegments.length <= 1">{{\'flight.search.header.non-stop\' |translate}}</span> <span ng-if="$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].flightSegments.length > 1">{{\'flight.search.header.transit\' |translate}}</span></div></div></div><div class="col-sm-3 title-headerflight-detail2-block" style="text-align: right"><div><span ng-if="!($ctrl.departSearchOptions.dtype == \'international\' && $ctrl.departSearchOptions.searchType == \'roundtrip\')">Giá một chiều</span> <span ng-if="($ctrl.departSearchOptions.dtype == \'international\' && $ctrl.departSearchOptions.searchType == \'roundtrip\')">Giá khứ hồi</span></div><div class="uppercase"><span class="gtd-h3 text-color4 bold">{{$ctrl.orgDepartPricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span>&nbsp;VNĐ</div></div></div></div></div></div><div class="pull-right" ng-switch-when="true" ng-click="$ctrl.changeFlight()" ng-if="$ctrl.searchOptions.dtype == \'international\'"><a class="label label-outline label-change">Thay đổi chuyến đi <span class="text-color4 fa fa-pencil-square-o"></span></a></div><div ng-switch-when="true" class="return-block"><div class="row"><div class="col-sm-12 no-padding"><div class="header-logo-section"><div class="title-header-icon-block margin-bottom-5 block-return-airline"><div><img src="../../../content/images/plane_return_red-a9ebd7c25b.png"></div><div><span data-translate="flight.search.result.b2a" class="header-a2b-text uppercase"></span></div></div></div><div ng-class="{true:\'header-content-section\', false:\'col-sm-12\'}[$ctrl.searchOptions.searchType == \'roundtrip\']" class="title-header-text-block"><div class="col-sm-12"><div class="title-header"><span class="title-header-main" ng-if="$ctrl.returnSearchOptions.dtype == \'domestic\'">{{$ctrl.returnSearchOptions.fromAirPort | airport : \'city-code\'}} - {{$ctrl.returnSearchOptions.toAirPort | airport : \'city-code\'}}&nbsp;</span> <span class="title-header-main" ng-if="$ctrl.returnSearchOptions.dtype == \'international\'">{{$ctrl.returnSearchOptions.toAirPort | airport : \'city-code\'}} - {{$ctrl.returnSearchOptions.fromAirPort | airport : \'city-code\'}}&nbsp;</span> <span class="title-header-sub" ng-if="$ctrl.returnSearchOptions.dtype == \'domestic\'">{{$ctrl.searchResult.page.totalElements | number}} {{\'flight.search.header.flight\' |translate}}</span> <span class="title-header-sub" ng-if="$ctrl.returnSearchOptions.dtype == \'international\'">{{$ctrl.searchResult.groupPricedItineraries[0].pricedItineraries.length | number}} {{\'flight.search.header.flight\' |translate}}</span></div><div class="title-header-last"><span class="title-header-sub text-capitalize" ng-if="$ctrl.returnSearchOptions.dtype == \'domestic\'">{{$ctrl.returnSearchOptions.departureDate | momentdate:\'date\':\'DD-MM-YYYY\'}} , {{$ctrl.returnSearchOptions.adultNo}} {{\'flight.search.header.adult\' |translate}}</span> <span class="title-header-sub text-capitalize" ng-if="$ctrl.returnSearchOptions.dtype != \'domestic\'">{{$ctrl.returnSearchOptions.returnDate | momentdate:\'date\':\'DD-MM-YYYY\'}} , {{$ctrl.returnSearchOptions.adultNo}} {{\'flight.search.header.adult\' |translate}}</span> <span class="title-header-sub text-capitalize" ng-show="$ctrl.returnSearchOptions.childrenNo > 0">, {{$ctrl.returnSearchOptions.childrenNo}} {{\'flight.search.header.children\' |translate}}</span> <span class="title-header-sub text-capitalize" ng-show="$ctrl.returnSearchOptions.newBornNo > 0">, {{$ctrl.returnSearchOptions.newBornNo}} {{\'flight.search.header.newborn\' |translate}}</span></div></div></div></div></div></div></ng-switch><!-- END HEADER --><slick settings="$ctrl.slickConfig" class="airline-navigation" ng-if="$ctrl.showCarousel==true && !($ctrl.searchOptions.searchType == \'roundtrip\' && $ctrl.searchOptions.selectStep == 2)"><div class="item hand" ng-repeat="item in $ctrl.airlineCarouselArrays" ng-class="{\'active-airline\': $ctrl.searchOptions.advanceFilters != null && $ctrl.searchOptions.advanceFilters.airlineOptions.length > 0 && $ctrl.searchOptions.advanceFilters.airlineOptions.indexOf(item.id) > -1}" ng-if="($ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.dtype == \'international\' && item.id == $ctrl.searchResult.groupPricedItineraries[0].airline) || !($ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.dtype == \'international\')"><div class="img-airlines"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.id + \'.gif\'}}" class="logo-airline" style="width: unset;height: unset !important;max-height: 25px;max-width: 95px;height: 25px !important"></div><div class="info-airlines"><div class="airline-code">{{item.text}}</div><div class="airline-code-hid" style="display: none">{{item.id}}</div><div>{{\'flight.search.result.from\' | translate}} &nbsp;<span>{{item.price | number}}</span> <span>{{item.unit}}</span></div></div></div></slick><div class="form-group sort-group pull-right margin-right-m15 flight-sort-div nav-sort-flight" ng-if="$ctrl.searchResult.groupPricedItineraries != null && $ctrl.searchResult.groupPricedItineraries.length > 0"><div class="col-sm-12"><div class="col-sm-3 btn btn-default btn-item-sort" ng-class="{\'time-active\':$ctrl.searchOptions.sortField==\'departureDate\'}" ng-click="$ctrl.setSort(\'departureDate\');$ctrl.sort();"><a class="clickable" ng-show="$ctrl.searchOptions.departureDateDir==\'desc\'"><span data-translate="flight.search.result.start"></span>&nbsp;<span class="margin-left-fa fa fa-angle-down"></span> </a><a class="clickable" ng-show="$ctrl.searchOptions.departureDateDir==\'asc\'"><span data-translate="flight.search.result.start"></span>&nbsp;<span class="margin-left-fa fa fa-angle-up"></span></a></div><div class="col-sm-3 btn btn-default btn-item-sort" ng-class="{\'time-active\':$ctrl.searchOptions.sortField==\'arrivalDate\'}" ng-click="$ctrl.setSort(\'arrivalDate\');$ctrl.sort();"><a class="clickable" ng-show="$ctrl.searchOptions.arrivalDateDir==\'desc\'"><span data-translate="flight.search.result.arrivaltime">&nbsp;</span><span class="margin-left-fa fa fa-angle-down"></span></a> <a class="clickable" ng-show="$ctrl.searchOptions.arrivalDateDir==\'asc\'"><span data-translate="flight.search.result.arrivaltime">&nbsp;</span><span class="margin-left-fa fa fa-angle-up"></span></a></div><div class="col-sm-3 btn btn-default btn-item-sort" ng-class="{\'time-active\':$ctrl.searchOptions.sortField==\'duration\'}" ng-click="$ctrl.setSort(\'duration\');$ctrl.sort();"><a class="clickable" ng-show="$ctrl.searchOptions.durationDir==\'desc\'"><span data-translate="flight.search.result.time"></span>&nbsp;<span class="margin-left-fa fa fa-angle-down"></span></a> <a class="clickable" ng-show="$ctrl.searchOptions.durationDir==\'asc\'"><span data-translate="flight.search.result.time"></span>&nbsp;<span class="margin-left-fa fa fa-angle-up"></span></a></div><div class="col-sm-3 btn btn-default btn-item-sort" ng-class="{\'time-active\':$ctrl.searchOptions.sortField==\'price\'}" ng-click="$ctrl.setSort(\'price\');$ctrl.sort();"><a class="clickable" ng-show="$ctrl.searchOptions.priceDir==\'desc\'"><span data-translate="flight.search.result.price"></span>&nbsp;<span class="margin-left-fa fa fa-angle-down"></span></a> <a class="clickable" ng-show="$ctrl.searchOptions.priceDir==\'asc\'"><span data-translate="flight.search.result.price"></span>&nbsp;<span class="margin-left-fa fa fa-angle-up"></span></a></div></div></div><ng-switch on="$ctrl.searchOptions.dtype != \'international\'"><div class="search-result-wrapper" ng-switch-when="true"><div class="row search-result-item flight-search-international-searchresult flight-search-international-searchresult-depart col-sm-12" ng-class="{\'little-item\': item.totalPricedItinerary == 1}" ng-repeat="item in $ctrl.searchResult.groupPricedItineraries" ng-class="{\'active-group-item\':item.over}" ng-mouseenter="item.over=true" ng-mouseleave="item.over=false"><div class="row search-item-header no-margin-left no-margin-right"><!--<div class="col-sm-1 search-item-header-begin-box"/>--><!--<div class="col-sm-12">--><div class="col-sm-7 margin-left-m15"><div class="row"><div class="col-sm-3 no-padding-right search-item-header-airline-box"><div class="img-airline-item"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.airline+ \'.gif\'}}" class="logo-airline-small"></div><div class="name-airline-item"><span>{{item.airlineName}} <span class="code-airline">{{item.fightNo}}</span></span></div></div><div class="col-sm-4 col-xs-3 no-padding search-item-header-group search-item-header-from-box"><div class="margin-bottom-8 name-code-location"><span><span class="full-origincity">{{item.originCity}}</span> ({{item.originLocationCode}})</span></div><div><span class="gtd-h2">{{item.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'hour\'}}</span></div></div><div class="col-xs-1 no-padding search-item-header-box icon-form-to-search"><div><span class="fa fa-long-arrow-right"></span></div></div><div class="col-sm-4 col-xs-3 no-padding search-item-header-group search-item-header-to-box"><div class="margin-bottom-8 name-code-location"><span><span class="full-origincity">{{item.destinationCity}}</span> ({{item.destinationLocationCode}})</span></div><div><span class="gtd-h2">{{item.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].arrivalDateTime | momentdate:\'hour\'}}</span></div></div><div class="col-xs-5 hidden-sm-down group-item-price"><div class="price-responsive"><div class="note-price">Giá từ</div><div class="price-default">{{item.pricedItineraries[0].airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}} <span>VND</span></div></div></div></div><div ng-if="item.airline == \'0V\'" style="font-size: 11px; padding-left: 12px; margin-bottom: -5px">Hãng khai thác Vietnam Air Service</div></div><div class="col-sm-5"><div class="row"><div class="col-sm-7 col-xs-12 search-item-header-group search-item-header-time-box"><div class="flight-time hidden-sm-up"><span>{{item.pricedItineraries[0].originDestinationOptions[0].journeyDuration | duration}}</span></div><div class="flight-detail"><a class="flight-detail-text" style="text-decoration: none" tabindex="0" gtd-popover gtd-template-path="app/components/flight/flight-detail-view1.html" argument="item" ibe-keys="ibeKeys">{{\'flight.search.header.detail\' |translate}}</a></div></div><div class="col-xs-5 search-item-header-type-box"><div><a class="clickable"><span class="label label-cancelled">{{\'flight.search.header.non-stop\' |translate}}</span></a></div></div></div></div><!--</div>--></div><div class="list-search-item" ng-class="{\'multiple\': item.totalPricedItinerary > 1}"><div class="row search-item-detail no-margin-left no-margin-right" ng-repeat="pricedItinerary in item.pricedItineraries"><div class="col-sm-7 margin-left-m15 margin-right-m15 no-padding-left no-padding-right"><div class="row"><div class="col-xs-4 search-item-detail-class-type-box"><div class="type-flight-name"><span>{{pricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName == null ? pricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassText : pricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div><div class="col-xs-4 search-item-detail-feature-box"><div><span class="fa fa-suitcase" ng-if="pricedItinerary.baggageItems != null && pricedItinerary.baggageItems[0] != null"></span> <span ng-if="pricedItinerary.baggageItems != null && pricedItinerary.baggageItems[0] != null">{{pricedItinerary.baggageItems[0].name}}</span> <span ng-if="item.airSupplier == \'VN\' && pricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassCode == \'P\'">(Xin tham khảo điều kiện kèm theo)</span><!--<span class="fa fa-cutlery"></span>--><!--<span>&nbsp; Suất ăn</span>--></div></div><div class="col-xs-4 search-item-detail-condition-box popover-fare-rules"><div class="clickable btn-conditions"><a class="btn btn-outline-grey fare-rules-button" tabindex="0" gtd-fare-rules-popover gtd-template-path="app/components/flight/flight-fare-rules.html" argument="$ctrl.searchOptions" argument2="item" argument3="pricedItinerary">{{\'flight.search.header.condition\' |translate}}</a></div></div></div></div><div class="col-sm-5"><div class="item-sub-flight-select"><div class="row"><div class="no-padding col-xs-7 search-item-detail-price-box"><div class="sub-flight-item"><div><span class="price-text">{{pricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}} </span><span>VND</span></div><div class="note-price-flight"><span>({{\'flight.search.header.include\' |translate}} +{{pricedItinerary.airItineraryPricingInfo.itinTotalFare.serviceTax.amount | number}}vnđ {{\'flight.search.header.tax\' |translate}})</span></div></div></div><div class="col-xs-5 search-item-detail-booking-box"><div class="btn-select-flight"><span class="label label-color4 label-booking hand" ng-click="$ctrl.bookingClicked(item, pricedItinerary)">{{\'flight.search.header.choose\' |translate}}</span></div></div></div></div></div></div></div><div class="sm-rs-flight" ng-click="$ctrl.showSFlight($event)" ng-show="item.totalPricedItinerary == 1"></div><div class="search-item-expand-collapse" ng-show="item.totalPricedItinerary > 1"><div class="start-col"></div><div class="col"></div><span class="hand show-sub-flight" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary > item.pricedItineraries.length" ng-click="$ctrl.loadMore($event, item)"><span class="name-s">{{\'flight.search.header.moreVI\' |translate}} {{\'flight.search.header.moreEN\' |translate}} {{\'flight.search.header.option\' |translate}}</span> </span><span class="hand" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary == item.pricedItineraries.length" ng-click="$ctrl.loadLess($event, item)">Thu gọn lựa chọn</span></div></div><div ng-show="$ctrl.busy">Loading data...</div></div></ng-switch><ng-switch on="$ctrl.searchOptions.dtype == \'international\'"><div class="search-result-wrapper search-result-wrapper-roundtrip" ng-switch-when="true"><!-- Step 1 - Return International 1 --><div class="flight-search-international-searchresult search-result-item flight-search-international-searchresult-depart col-sm-12" ng-repeat="item in $ctrl.searchResult.groupPricedItineraries" ng-if="$ctrl.searchOptions.selectStep == 1" ng-class="{\'little-item\': item.totalPricedItinerary == 1}" ng-class="{\'active-group-item\':item.over}" ng-mouseenter="item.over=true" ng-mouseleave="item.over=false"><div class="top-info-flight"><div class="row no-margin-left no-margin-right"><div class="col-sm-4 col-xs-12"><div class="group-info"><div class="airline-item"><div class="img-airline"><img class="airline-image-small" ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.airline+ \'.gif\'}}"></div><div class="name-airline-item">{{item.airlineName}} {{item.fightNo}}</div></div><div class="time-type"><span>{{item.pricedItineraries[0].originDestinationOptions[0].journeyDuration | duration:\'short\'}}</span><!-- - {{item.pricedItineraries[0].airItineraryPricingInfo.fareSourceCode}}--> <span>- {{item.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div></div><div class="col-sm-3 col-xs-3"><div class="detination-item detination-item-from"><div class="time-flight"><span class="time-flight">{{item.pricedItineraries[0].originDestinationOptions[0].originDateTime | momentdate:\'hour\'}}</span> <span class="flight-date-diff-text">{{item.pricedItineraries[0].originDestinationOptions[0] | flightdatediff}}</span></div><div class="airline-name"><span class="full-name-airline">{{item.pricedItineraries[0].originDestinationOptions[0].originCity}}</span> ({{item.pricedItineraries[0].originDestinationOptions[0].originLocationCode}})</div></div></div><div class="col-sm-3 col-xs-3"><div class="detination-item"><!-- <span ng-if="item.pricedItineraries[0].originDestinationOptions[0].flightSegments.length > 1" class="fa fa-long-arrow-right"></span> --> <span class="time-flight">{{item.pricedItineraries[0].originDestinationOptions[0].destinationDateTime | momentdate:\'hour\'}}</span><div class="airline-name"><span class="full-name-airline">{{item.pricedItineraries[0].originDestinationOptions[0].destinationCity}}</span> ({{item.pricedItineraries[0].originDestinationOptions[0].destinationLocationCode}})</div></div></div><div class="col-xs-6 price-flight-responsive"><div class="price-flight margin-t-5"><span class="type-price"><span ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'">Giá khứ hồi</span> <span ng-if="$ctrl.searchOptions.searchType == \'oneway\'">Giá một chiều</span> </span><span><span class="price-text">{{item.pricedItineraries[0].airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span> VNĐ</span></div></div><div class="col-sm-2 dipl"><div class="airline-type"><span ng-if="item.pricedItineraries[0].originDestinationOptions[0].flightSegments.length > 1">{{item.pricedItineraries[0].originDestinationOptions[0].flightSegments.length - 1}} điểm dừng</span> <span ng-if="item.pricedItineraries[0].originDestinationOptions[0].flightSegments.length <= 1">Bay thẳng</span></div><div class="segment-item"><span class="segment-text" ng-if="!$first" ng-repeat="segment in item.pricedItineraries[0].originDestinationOptions[0].flightSegments">{{segment.departureAirportLocationCode}}</span></div></div></div><div class="flight-detail hidden-sm-down"><a class="flight-detail-text ng-binding ng-isolate-scope" style="text-decoration: none" tabindex="0" gtd-popover gtd-template-path="app/components/flight/flight-detail-view-inter.html" argument="item" argument2="item.pricedItineraries[0]" argument3="1" ibe-keys="ibeKeys" data-original-title="" title="">Chi tiết hành trình</a></div></div><div class="list-search-item" ng-class="{\'multiple\': item.totalPricedItinerary > 1}"><div class="bottom-info-flight"><div class="row no-margin-left no-margin-right"><div class="col-sm-2"><div class="summary-cell see-more-flight margin-t-5"><span class="hand text-color4 text-underlined" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary > item.pricedItineraries.length" ng-click="$ctrl.loadMore($event, item)">Thêm lựa chọn </span><span class="hand text-color4 text-underlined" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary == item.pricedItineraries.length" ng-click="$ctrl.loadLess($event, item)">Thu gọn </span><!--<a class="text-color4 hand" style="color:#D84A38"--><!--&gt;Thêm lựa chọn</a>--></div></div><div class="col-sm-4"><div class="summary-cell margin-t-5"><a class="text-color3 hand hidden-sm-tk" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-popover gtd-template-path="app/components/flight/flight-detail-view-inter.html" argument="item" argument2="item.pricedItineraries[0]" argument3="1" ibe-keys="ibeKeys">{{\'flight.search.header.detail\' |translate}}</a> <span class="text-color3 hidden-sm-tk">|</span> <a class="text-color3 hand popover-fare-rules" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-fare-rules-popover gtd-template-path="app/components/flight/flight-fare-rules.html" argument="$ctrl.searchOptions" argument2="item" argument3="item.pricedItineraries[0]" ibe-keys="ibeKeys">{{\'flight.search.header.condition\' |translate}}</a></div></div><div class="col-sm-4"><div class="time-type time-type-responsive"><span>{{item.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div><div class="price-flight margin-t-5"><span class="type-price"><span ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'">Giá khứ hồi</span> <span ng-if="$ctrl.searchOptions.searchType == \'oneway\'">Giá một chiều</span> </span><span><span class="price-text">{{item.pricedItineraries[0].airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span> VNĐ</span></div></div><div class="col-sm-2 btn-select-flight"><div class="btn-red btn" ng-click="$ctrl.bookingClicked(item, item.pricedItineraries[0])">Chọn vé</div></div></div></div><div class="sub-flight"><div class="row no-margin-left no-margin-right additonal-option-row" ng-repeat="pricedItinerary in item.pricedItineraries track by $index" ng-if="$index != 0"><div class="col-sm-2 col-xs-6"><div class="margin-t-5"><span class="bold">{{pricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div><div class="col-sm-4"><div class="summary-cell margin-t-5"><a class="text-color3 hand hidden-sm-tk" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-popover gtd-template-path="app/components/flight/flight-detail-view-inter.html" argument="item" argument2="pricedItinerary" argument3="1" ibe-keys="ibeKeys">{{\'flight.search.header.detail\' |translate}}</a> <span class="text-color3 hidden-sm-tk">|</span> <a class="text-color3 hand popover-fare-rules" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-fare-rules-popover gtd-template-path="app/components/flight/flight-fare-rules.html" argument="$ctrl.searchOptions" argument2="item" argument3="pricedItinerary" ibe-keys="ibeKeys">{{\'flight.search.header.condition\' |translate}}</a></div></div><div class="col-sm-4"><div class="margin-t-5"><span class="price-type" ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'">Giá khứ hồi</span> <span class="price-type" ng-if="$ctrl.searchOptions.searchType == \'oneway\'">Giá một chiều</span> <span class="price-text">{{pricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span> VNĐ</div></div><div class="col-sm-2"><div class="btn-color5 btn" ng-click="$ctrl.bookingClicked(item, pricedItinerary)">Chọn vé</div></div></div></div></div><div class="sm-rs-flight" ng-click="$ctrl.showSFlight($event)" ng-show="item.totalPricedItinerary == 1"></div><div class="summary-cell search-item-expand-collapse summary-cell-responsive margin-t-5"><span class="hand show-sub-flight" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary > item.pricedItineraries.length" ng-click="$ctrl.loadMore($event, item)"><span class="hand text-color4 text-underlined name-s" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary > item.pricedItineraries.length" ng-click="$ctrl.loadMore($event, item)">Thêm lựa chọn </span></span><span class="hand text-color4 text-underlined" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary == item.pricedItineraries.length" ng-click="$ctrl.loadLess($event, item)">Thu gọn lựa chọn</span></div></div><!-- Step 2 - Return International 2 --><div class="flight-search-international-searchresult flight-search-international-searchresult-return col-sm-12" ng-init="item = $ctrl.searchResult.groupPricedItineraries[0]" ng-repeat="pricedItinerary in $ctrl.searchResult.groupPricedItineraries[0].pricedItineraries" ng-if="$ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.searchType == \'roundtrip\'" ng-class="{\'active-group-item\':pricedItinerary.over}" ng-mouseenter="pricedItinerary.over=true" ng-mouseleave="pricedItinerary.over=false"><div class="top-info-flight"><div class="row no-margin-left no-margin-right"><div class="col-sm-4 col-xs-12"><div class="group-info"><div class="airline-item"><div class="img-airline"><img class="airline-image-small" ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.airline+ \'.gif\'}}"></div><div class="name-airline-item">{{pricedItinerary.originDestinationOptions[1].flightSegments[0].operatingAirline.name}} {{pricedItinerary.originDestinationOptions[1].flightSegments[0].operatingAirline.flightNumber}}</div></div><div class="time-type"><span>{{pricedItinerary.originDestinationOptions[1].journeyDuration | duration:\'short\'}}</span><!-- - {{item.pricedItineraries[0].airItineraryPricingInfo.fareSourceCode}}--> <span>- {{pricedItinerary.originDestinationOptions[1].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div></div><div class="col-sm-3 col-xs-3"><div class="detination-item detination-item-from"><div class="time-flight"><span class="time-flight">{{pricedItinerary.originDestinationOptions[1].originDateTime | momentdate:\'hour\'}}</span> <span class="flight-date-diff-text">{{pricedItinerary.originDestinationOptions[1] | flightdatediff}}</span></div><div class="airline-name"><span class="full-name-airline">{{pricedItinerary.originDestinationOptions[1].originCity}}</span> ({{pricedItinerary.originDestinationOptions[1].originLocationCode}})</div></div></div><div class="col-sm-3 col-xs-3"><div class="detination-item"><span class="time-flight">{{pricedItinerary.originDestinationOptions[1].destinationDateTime | momentdate:\'hour\'}}</span><div class="airline-name"><span class="full-name-airline">{{pricedItinerary.originDestinationOptions[1].destinationCity}}</span> ({{pricedItinerary.originDestinationOptions[1].destinationLocationCode}})</div></div></div><div class="col-xs-6 price-flight-responsive"><div class="price-flight margin-t-5"><span class="type-price"><span ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'">Giá khứ hồi</span> <span ng-if="$ctrl.searchOptions.searchType == \'oneway\'">Giá một chiều</span> </span><span><span class="price-text">+ {{pricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | diffprice:$ctrl.orgDepartPricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span> VNĐ</span></div></div><div class="col-sm-2 dipl"><div class="airline-type"><span ng-if="pricedItinerary.originDestinationOptions[1].flightSegments.length > 1">{{pricedItinerary.originDestinationOptions[1].flightSegments.length - 1}} điểm dừng</span> <span ng-if="pricedItinerary.originDestinationOptions[1].flightSegments.length <= 1">Bay thẳng</span></div><div class="segment-item"><span class="segment-text" ng-if="!$first" ng-repeat="segment in pricedItinerary.originDestinationOptions[1].flightSegments">{{segment.departureAirportLocationCode}}</span></div></div></div></div><div class="bottom-info-flight"><div class="row no-margin-left no-margin-right"><div class="col-sm-2"></div><div class="col-sm-4"><div class="summary-cell see-more-flight margin-t-5"><a class="text-color3 hand" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-popover gtd-template-path="app/components/flight/flight-detail-view-inter.html" argument="item" argument2="pricedItinerary" argument3="2" ibe-keys="ibeKeys">{{\'flight.search.header.detail\' |translate}}</a> <span class="text-color3">|</span> <a class="text-color3 hand popover-fare-rules" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-fare-rules-popover gtd-template-path="app/components/flight/flight-fare-rules.html" argument="$ctrl.searchOptions" argument2="item" argument3="pricedItinerary">{{\'flight.search.header.condition\' |translate}}</a></div></div><div class="col-md-4"><div class="price-flight margin-t-5"><span><span ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'">Giá khứ hồi</span> <span ng-if="$ctrl.searchOptions.searchType == \'oneway\'">Giá một chiều</span> </span><span><span class="price-text">+&nbsp;{{pricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | diffprice:$ctrl.orgDepartPricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span> &nbsp;VNĐ</span></div></div><div class="col-sm-2"><div class="btn-red btn btn-red-response" ng-click="$ctrl.bookingClicked(item, pricedItinerary)">Chọn vé</div></div></div></div></div></div></ng-switch></div><div class="row text-center"><button ng-click="$ctrl.nextPage()" ng-if="$ctrl.searchResult.page.nextPageNumber !== -1" class="btn gtd-btn-default">Xem thêm</button></div></div></div><script type="text/ng-template" id="0"><div>{{dynamicPopover.content}}</div>\n    <div class="form-group">sdfsdf\n        <label>Popup Title:</label>\n        <input type="text" ng-model="dynamicPopover.title" class="form-control">\n    </div></script>'),
                e.put("app/components/flight/fsoft-flight-search-adv.html", '<div class="row" ng-if="$ctrl.searchResult.groupPricedItineraries.length > 0"><div class="col-md-12 flight-search-filter"><div class="search-filter"><div class="search-header"><span class="header-text" translate="flight.search.advsearch.filter"></span>&nbsp; <span class="fa fa-minus-square-o" ng-show="$ctrl.showAdv && $ctrl.isMobile" ng-click="$ctrl.showAdv = false;"></span> <span class="fa fa-plus-square-o" ng-show="(!$ctrl.showAdv) && $ctrl.isMobile" ng-click="$ctrl.showAdv = true;">--></span> <a ng-click="$ctrl.resetFilter();"><span class="pull-right" translate="flight.search.advsearch.cancel"></span> <span class="pull-right fa fa-refresh refresh-icon"></span></a></div><div ng-show="$ctrl.showAdv"><ng-switch on="$ctrl.searchOptions.dtype != \'domestic\'"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.transit"></span></div><div class="mt-checkbox-list"><label class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.transitCarouselArrays">{{item.text}} <input type="checkbox" name="tranitOpts" value="{{item.id}}" ng-model="$ctrl.transitCarouselArrays[$index].checked" ng-click="$ctrl.doFilter()"> <span></span></label></div></div></ng-switch><ng-switch on="!($ctrl.searchOptions.dtype == \'international\' && $ctrl.searchOptions.searchType != \'oneway\' && $ctrl.searchOptions.selectStep == 2)"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.departuretime"></span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.fromTimeCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div class="time-first-last time-up" ng-if="$first"><span data-translate="flight.search.header.before">Trước</span></div><div class="time-first-last time-down" ng-if="$first"><span>6:00</span></div><div class="time-first-last time-up" ng-if="$last"><span data-translate="flight.search.header.after">Sau</span></div><div class="time-first-last time-down" ng-if="$last"><span>6:00</span></div><div class="time-up" ng-if="!($first || $last)"><span>{{item.from}}</span></div><div class="time-middle" ng-if="!($first || $last)"><span>-</span></div><div class="time-down" ng-if="!($first || $last)"><span>{{item.to}}</span></div></a></div></div></div></div><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.arrivaltime"></span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-repeat="item in $ctrl.toTimeCarouselArrays" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.toTimeCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div class="time-first-last time-up" ng-if="$first"><span data-translate="flight.search.header.before">Trước</span></div><div class="time-first-last time-down" ng-if="$first"><span>6:00</span></div><div class="time-first-last time-up" ng-if="$last"><span data-translate="flight.search.header.after">Sau</span></div><div class="time-first-last time-down" ng-if="$last"><span>18:00</span></div><div class="time-up" ng-if="!($first || $last)"><span>{{item.from}}</span></div><div class="time-middle" ng-if="!($first || $last)"><span>-</span></div><div class="time-down" ng-if="!($first || $last)"><span>{{item.to}}</span></div></a></div></div></div></div></ng-switch><!-- RETURN TIME --><ng-switch on="$ctrl.searchOptions.dtype == \'international\' && $ctrl.searchOptions.searchType != \'oneway\' && $ctrl.searchOptions.selectStep == 2"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text">Giờ khởi hành chiều về</span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.fromTimeReturnCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div class="time-first-last time-up" ng-if="$first"><span data-translate="flight.search.header.before">Trước</span></div><div class="time-first-last time-down" ng-if="$first"><span>6:00</span></div><div class="time-first-last time-up" ng-if="$last"><span data-translate="flight.search.header.after">Sau</span></div><div class="time-first-last time-down" ng-if="$last"><span>18:00</span></div><div class="time-up" ng-if="!($first || $last)"><span>{{item.from}}</span></div><div class="time-middle" ng-if="!($first || $last)"><span>-</span></div><div class="time-down" ng-if="!($first || $last)"><span>{{item.to}}</span></div></a></div></div></div></div><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text">Giờ đến chiều về</span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.toTimeReturnCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div class="time-first-last time-up" ng-if="$first"><span data-translate="flight.search.header.before">Trước</span></div><div class="time-first-last time-down" ng-if="$first"><span>6 AM</span></div><div class="time-first-last time-up" ng-if="$last"><span data-translate="flight.search.header.after">Sau</span></div><div class="time-first-last time-down" ng-if="$last"><span>6 PM</span></div><div class="time-up" ng-if="!($first || $last)"><span>{{item.from}}</span></div><div class="time-middle" ng-if="!($first || $last)"><span>-</span></div><div class="time-down" ng-if="!($first || $last)"><span>{{item.to}}</span></div></a></div></div></div></div></ng-switch><!-- Airlines --><ng-switch on="!($ctrl.searchOptions.searchType == \'roundtrip\' && $ctrl.searchOptions.selectStep == 2)" ng-if="$ctrl.filterAirline($ctrl.airlineCarouselArrays) != null && $ctrl.filterAirline($ctrl.airlineCarouselArrays).length>0"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.airlines"></span></div><div class="mt-checkbox-list"><div class="checkbox-wrapper" ng-repeat="item in $ctrl.filterAirline($ctrl.airlineCarouselArrays) track by $index" ng-if="($ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.dtype == \'international\' && item.id == $ctrl.searchResult.groupPricedItineraries[0].airline) || !($ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.dtype == \'international\')" ng-show="$ctrl.loadMore || $index <= 4"><label class="mt-checkbox mt-checkbox-outline"><input class="airline-{{item.id}}" type="checkbox" name="airlineOpts" value="{{item.id}} {{item.checked}}" ng-model="$ctrl.airlineCarouselArrays[$index].checked" ng-click="$ctrl.doFilter()"><div style="display: inline-block"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.id+ \'.gif\'}}" class="logo-airline-small"> {{item.text}}</div><span></span></label></div></div><div class="pull-right text-underlined" style="margin-top: -10px"><span ng-show="$ctrl.loadMore == false && $ctrl.filterAirline($ctrl.airlineCarouselArrays).length > 5" ng-click="$ctrl.loadMore = !$ctrl.loadMore">Xem tất cả</span> <span ng-show="$ctrl.loadMore && $ctrl.filterAirline($ctrl.airlineCarouselArrays).length > 5" ng-click="$ctrl.loadMore = !$ctrl.loadMore">Thu gọn</span></div></div></ng-switch><div class="search-filter-divider"></div><div class="search-detail"><div><span class="search-label-text" translate="flight.search.advsearch.class"></span></div><div class="search-detail"><div class="mt-checkbox-list"><label class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.filterClass($ctrl.classCarouselArrays)">{{item.text | translate}} <input type="checkbox" name="classOpts" value="{{item.id}}" ng-model="$ctrl.classCarouselArrays[$index].checked" ng-click="$ctrl.doFilter()"> <span></span></label></div></div></div><ng-switch on="$ctrl.searchOptions.dtype == \'domestic\'"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text">{{\'flight.search.header.conditions\' |translate}}</span></div><div class="mt-checkbox-list"><label class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.policyArrays">{{item.text}} <input type="checkbox" name="policyOpts" value="{{item.id}}" ng-model="$ctrl.policyArrays[$index].checked" ng-click="$ctrl.doFilter()"> <span></span></label></div></div></ng-switch></div></div></div></div>'), e.put("app/components/flight/fsoft-flight-search-result.html", '<div class="text-danger bold h5" style="padding-bottom: 20px" ng-if="$ctrl.searchResult.groupPricedItineraries.length <= 0 && $ctrl.searchResult.page.totalElements > 0"><span data-translate="flight.noresultext">Không tìm kiếm thấy chuyến bay phù hợp. Vui lòng nhập lại điều kiện tìm kiếm!</span></div><div class="row" ng-if="$ctrl.searchResult.groupPricedItineraries.length > 0"><div class="col-md-12"><div class="tile-container"><!-- HEADER --><div class="heading-detail"><ng-switch on="$ctrl.searchOptions.selectStep == 1"><div class="row"><div class="pull-left no-padding background-header" style="width: 100%; padding: 20px"><div class="header-logo-section" ng-switch-when="true" ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'"><div class="title-header-icon-block"><div><img src="../../../content/images/plane_depart_red-1335a38c01.png"></div><div><span data-translate="flight.search.result.a2b" class="header-a2b-text uppercase"></span></div></div></div><div class="title-header-text-block" ng-switch-when="true" ng-class="{true:\'header-content-section\', false:\'col-sm-12\'}[$ctrl.searchOptions.searchType == \'roundtrip\']"><div class="title-header"><span class="title-header-main"><span class="full-name-airline">({{$ctrl.searchOptions.fromAirPort}})</span> - <span class="full-name-airline">({{$ctrl.searchOptions.toAirPort}})</span></span></div><div class="title-header-last" ng-if="$ctrl.searchResult.groupPricedItineraries.length>0"><span class="title-heahand show-sub-flightder-sub text-capitalize">{{$ctrl.searchResult.groupPricedItineraries[0].departureDateTime | momentdate:\'date\'}} , </span><span class="title-header-sub text-capitalize">{{$ctrl.searchOptions.adultNo}} {{\'flight.search.header.adult\' |translate}} </span><span class="title-header-sub text-capitalize" ng-show="$ctrl.searchOptions.childrenNo != 0">, {{$ctrl.searchOptions.childrenNo}} {{\'flight.search.header.children\' |translate}}</span> <span class="title-header-sub text-capitalize" ng-show="$ctrl.searchOptions.newBornNo != 0">, {{$ctrl.searchOptions.newBornNo}} {{\'flight.search.header.newborn\' |translate}}</span></div></div></div></div></ng-switch></div><ng-switch on="$ctrl.searchOptions.selectStep == 2"><div ng-switch-when="true" class="depart-block block-flight-first" ng-if="$ctrl.searchOptions.dtype == \'domestic\'"><div class="row"><div class="col-sm-12"><div class="header-logo-section"><div class="title-header-icon-block1"><div class="icon-flight"><img src="../../../content/images/plane_depart_grey-7dbd71454b.png"></div><div><span data-translate="flight.search.result.a2b" class="header-a2b-text1 uppercase"></span></div></div></div><div class="header-content-section"><div class="col-sm-7 col-xs-7 title-header-text-block"><div class="title-header1"><span class="title-header-main"><span class="full-name-airline">{{$ctrl.departGroupItem.originCity}}</span> &nbsp;({{$ctrl.departGroupItem.originLocationCode}}) - <span class="full-name-airline">{{$ctrl.departGroupItem.destinationCity}}</span> &nbsp;({{$ctrl.departGroupItem.destinationLocationCode}}) </span>&nbsp;</div><div class="title-header1"><span class="title-header-sub text-capitalize">{{$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'date\'}} <span class="quantity-numb">, {{$ctrl.departPricedItinerary.airItineraryPricingInfo.adultFare.passengerTypeQuantities.quantity}} {{\'flight.search.header.adult\' |translate}}</span>&nbsp; <span class="title-header-sub text-capitalize" ng-show="$ctrl.searchResult.groupPricedItineraries[0].pricedItineraries[0].airItineraryPricingInfo.childFare != null">, {{$ctrl.searchResult.groupPricedItineraries[0].pricedItineraries[0].airItineraryPricingInfo.childFare.passengerTypeQuantities.quantity}} {{\'flight.search.header.children\' |translate}}&nbsp;</span> <span class="title-header-sub text-capitalize" ng-show="$ctrl.searchResult.groupPricedItineraries[0].pricedItineraries[0].airItineraryPricingInfo.infantFare != null">, {{$ctrl.searchResult.groupPricedItineraries[0].pricedItineraries[0].airItineraryPricingInfo.infantFare.passengerTypeQuantities.quantity}} {{\'flight.search.header.newborn\' |translate}}&nbsp;</span></span></div></div><!-- <div class="col-sm-1 title-headerflight-detail1-block" style="padding: 0px;">\n                                    <img\n                                        ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + $ctrl.departGroupItem.airline + \'.gif\'}}"\n                                        class="logo-airline"/>\n                                </div> --><div class="col-sm-3 col-xs-5 title-headerflight-detail1-block"><div><span>{{$ctrl.departGroupItem.airlineName}}&nbsp;{{$ctrl.departGroupItem.fightNo}}</span></div><div><span>{{$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'hour\'}}</span> <span class="fa fa-long-arrow-right"></span> <span>{{$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments[$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments.length -1].arrivalDateTime | momentdate:\'hour\'}}</span></div></div><div class="col-sm-2 col-xs-5 title-headerflight-detail2-block"><div class="margin-bottom-5"><span ng-if="$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments.length <= 1">{{\'flight.search.header.non-stop\' |translate}}</span> <span ng-if="$ctrl.departPricedItinerary.originDestinationOptions[0].flightSegments.length > 1">{{\'flight.search.header.transit\' |translate}}</span></div></div></div></div></div></div><div class="pull-right" ng-switch-when="true" ng-click="$ctrl.changeFlight()" ng-if="$ctrl.searchOptions.dtype != \'international\'"><a class="label label-outline label-change">{{\'flight.search.header.change\' |translate}} <span class="text-color4 fa fa-pencil-square-o"></span></a></div><div ng-switch-when="true" class="depart-block depart-block-international" ng-if="$ctrl.searchOptions.dtype == \'international\'"><div class="row"><div class="col-sm-12 group-block"><div class="header-logo-section"><div class="title-header-icon-block1"><div class="img-block"><img src="../../../content/images/plane_depart_grey-7dbd71454b.png"></div><div class="name-block"><span data-translate="flight.search.result.a2b" class="header-a2b-text1 uppercase"></span></div></div></div><div class="header-content-section"><div class="col-sm-2 title-header-text-block block-item-flight-info"><div class="title-header1"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + $ctrl.departGroupItem.airline + \'.gif\'}}" class="logo-airline"></div><div class="title-header1"><span>{{$ctrl.departGroupItem.airline}}&nbsp;{{$ctrl.departGroupItem.fightNo}}</span></div></div><div class="col-sm-3 title-header-text-block"><div class="title-header1"><span class="title-header-main bold">{{$ctrl.departGroupItem.originLocationCode}}&nbsp;-&nbsp;{{$ctrl.departGroupItem.destinationLocationCode}} </span>&nbsp;</div><div class="title-header1"><span class="title-header-sub title-header-time-flight gtd-h4">{{$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].originDateTime | momentdate:\'hour\'}}&nbsp;-&nbsp; {{$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].destinationDateTime | momentdate:\'hour\'}} <span class="flight-date-diff-text">{{$ctrl.orgDepartPricedItinerary.originDestinationOptions[0] | flightdatediff}}</span></span></div></div><div class="col-sm-2 title-header-text-block"><div class="title-header1"><div><span>{{$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].journeyDuration | duration:\'short\'}}</span></div></div><div class="title-header1"><div>{{$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</div></div></div><div class="col-sm-2 title-headerflight-detail1-block" style="text-align: right"><div class="title-header1"><div><span ng-if="$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].flightSegments.length <= 1">{{\'flight.search.header.non-stop\' |translate}}</span> <span ng-if="$ctrl.orgDepartPricedItinerary.originDestinationOptions[0].flightSegments.length > 1">{{\'flight.search.header.transit\' |translate}}</span></div></div></div><div class="col-sm-3 title-headerflight-detail2-block" style="text-align: right"><div><span ng-if="!($ctrl.departSearchOptions.dtype == \'international\' && $ctrl.departSearchOptions.searchType == \'roundtrip\')">Giá một chiều</span> <span ng-if="($ctrl.departSearchOptions.dtype == \'international\' && $ctrl.departSearchOptions.searchType == \'roundtrip\')">Giá khứ hồi</span></div><div class="uppercase"><span class="gtd-h3 text-color4 bold">{{$ctrl.orgDepartPricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span>&nbsp;VNĐ</div></div></div></div></div></div><div class="pull-right" ng-switch-when="true" ng-click="$ctrl.changeFlight()" ng-if="$ctrl.searchOptions.dtype == \'international\'"><a class="label label-outline label-change">Thay đổi chuyến đi <span class="text-color4 fa fa-pencil-square-o"></span></a></div><div ng-switch-when="true" class="return-block"><div class="row"><div class="col-sm-12 no-padding"><div class="header-logo-section"><div class="title-header-icon-block margin-bottom-5 block-return-airline"><div><img src="../../../content/images/plane_return_red-a9ebd7c25b.png"></div><div><span data-translate="flight.search.result.b2a" class="header-a2b-text uppercase"></span></div></div></div><div ng-class="{true:\'header-content-section\', false:\'col-sm-12\'}[$ctrl.searchOptions.searchType == \'roundtrip\']" class="title-header-text-block"><div class="col-sm-12"><div class="title-header"><span class="title-header-main" ng-if="$ctrl.returnSearchOptions.dtype == \'domestic\'">{{$ctrl.returnSearchOptions.fromAirPort | airport : \'city-code\'}} - {{$ctrl.returnSearchOptions.toAirPort | airport : \'city-code\'}}&nbsp;</span> <span class="title-header-main" ng-if="$ctrl.returnSearchOptions.dtype == \'international\'">{{$ctrl.returnSearchOptions.toAirPort | airport : \'city-code\'}} - {{$ctrl.returnSearchOptions.fromAirPort | airport : \'city-code\'}}&nbsp;</span> <span class="title-header-sub" ng-if="$ctrl.returnSearchOptions.dtype == \'international\'">{{$ctrl.searchResult.groupPricedItineraries[0].pricedItineraries.length | number}} {{\'flight.search.header.flight\' |translate}}</span></div><div class="title-header-last"><span class="title-header-sub text-capitalize" ng-if="$ctrl.returnSearchOptions.dtype == \'domestic\'">{{$ctrl.returnSearchOptions.departureDate | momentdate:\'date\':\'DD-MM-YYYY\'}} , {{$ctrl.returnSearchOptions.adultNo}} {{\'flight.search.header.adult\' |translate}}</span> <span class="title-header-sub text-capitalize" ng-if="$ctrl.returnSearchOptions.dtype != \'domestic\'">{{$ctrl.returnSearchOptions.returnDate | momentdate:\'date\':\'DD-MM-YYYY\'}} , {{$ctrl.returnSearchOptions.adultNo}} {{\'flight.search.header.adult\' |translate}}</span> <span class="title-header-sub text-capitalize" ng-show="$ctrl.returnSearchOptions.childrenNo > 0">, {{$ctrl.returnSearchOptions.childrenNo}} {{\'flight.search.header.children\' |translate}}</span> <span class="title-header-sub text-capitalize" ng-show="$ctrl.returnSearchOptions.newBornNo > 0">, {{$ctrl.returnSearchOptions.newBornNo}} {{\'flight.search.header.newborn\' |translate}}</span></div></div></div></div></div></div></ng-switch><!-- END HEADER --><slick settings="$ctrl.slickConfig" class="airline-navigation" ng-if="$ctrl.showCarousel==true && !($ctrl.searchOptions.searchType == \'roundtrip\' && $ctrl.searchOptions.selectStep == 2)"><div class="item hand" ng-repeat="item in $ctrl.filterAirline($ctrl.airlineCarouselArrays)" ng-class="{\'active-airline\': $ctrl.searchOptions.advanceFilters != null && $ctrl.searchOptions.advanceFilters.airlineOptions.length > 0 && $ctrl.searchOptions.advanceFilters.airlineOptions.indexOf(item.id) > -1}" ng-if="($ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.dtype == \'international\' && item.id == $ctrl.searchResult.groupPricedItineraries[0].airline) || !($ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.dtype == \'international\')"><div class="img-airlines"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.id + \'.gif\'}}" class="logo-airline" style="width: unset;height: unset !important;max-height: 25px;max-width: 95px;height: 25px !important"></div><div class="info-airlines"><div class="airline-code">{{item.text}}</div><div class="airline-code-hid" style="display: none">{{item.id}}</div><div>{{\'flight.search.result.from\' | translate}} &nbsp;<span>{{item.price | number}}</span> <span>{{item.unit}}</span></div></div></div></slick><div class="form-group sort-group pull-right margin-right-m15 flight-sort-div nav-sort-flight" ng-if="$ctrl.searchResult.groupPricedItineraries != null && $ctrl.searchResult.groupPricedItineraries.length > 0"><div class="col-sm-12"><div class="col-sm-3 btn btn-default btn-item-sort" ng-class="{\'time-active\':$ctrl.searchOptions.sortField==\'departureDate\'}" ng-click="$ctrl.setSort(\'departureDate\');$ctrl.sort();"><a class="clickable" ng-show="$ctrl.searchOptions.departureDateDir==\'desc\'"><span data-translate="flight.search.result.start"></span>&nbsp;<span class="margin-left-fa fa fa-angle-down"></span> </a><a class="clickable" ng-show="$ctrl.searchOptions.departureDateDir==\'asc\'"><span data-translate="flight.search.result.start"></span>&nbsp;<span class="margin-left-fa fa fa-angle-up"></span></a></div><div class="col-sm-3 btn btn-default btn-item-sort" ng-class="{\'time-active\':$ctrl.searchOptions.sortField==\'arrivalDate\'}" ng-click="$ctrl.setSort(\'arrivalDate\');$ctrl.sort();"><a class="clickable" ng-show="$ctrl.searchOptions.arrivalDateDir==\'desc\'"><span data-translate="flight.search.result.arrivaltime">&nbsp;</span><span class="margin-left-fa fa fa-angle-down"></span></a> <a class="clickable" ng-show="$ctrl.searchOptions.arrivalDateDir==\'asc\'"><span data-translate="flight.search.result.arrivaltime">&nbsp;</span><span class="margin-left-fa fa fa-angle-up"></span></a></div><div class="col-sm-3 btn btn-default btn-item-sort" ng-class="{\'time-active\':$ctrl.searchOptions.sortField==\'duration\'}" ng-click="$ctrl.setSort(\'duration\');$ctrl.sort();"><a class="clickable" ng-show="$ctrl.searchOptions.durationDir==\'desc\'"><span data-translate="flight.search.result.time"></span>&nbsp;<span class="margin-left-fa fa fa-angle-down"></span></a> <a class="clickable" ng-show="$ctrl.searchOptions.durationDir==\'asc\'"><span data-translate="flight.search.result.time"></span>&nbsp;<span class="margin-left-fa fa fa-angle-up"></span></a></div><div class="col-sm-3 btn btn-default btn-item-sort" ng-class="{\'time-active\':$ctrl.searchOptions.sortField==\'price\'}" ng-click="$ctrl.setSort(\'price\');$ctrl.sort();"><a class="clickable" ng-show="$ctrl.searchOptions.priceDir==\'desc\'"><span data-translate="flight.search.result.price"></span>&nbsp;<span class="margin-left-fa fa fa-angle-down"></span></a> <a class="clickable" ng-show="$ctrl.searchOptions.priceDir==\'asc\'"><span data-translate="flight.search.result.price"></span>&nbsp;<span class="margin-left-fa fa fa-angle-up"></span></a></div></div></div><ng-switch on="$ctrl.searchOptions.dtype != \'international\'"><div class="search-result-wrapper" ng-switch-when="true"><div class="row search-result-item flight-search-international-searchresult flight-search-international-searchresult-depart col-sm-12" ng-class="{\'little-item\': item.totalPricedItinerary == 1}" ng-repeat="item in $ctrl.filterFlight($ctrl.searchResult.groupPricedItineraries)" ng-class="{\'active-group-item\':item.over}" ng-mouseenter="item.over=true" ng-mouseleave="item.over=false"><div class="row search-item-header no-margin-left no-margin-right"><div class="col-sm-7 margin-left-m15"><div class="row"><div class="col-sm-3 no-padding-right search-item-header-airline-box"><div class="img-airline-item"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.airline+ \'.gif\'}}" class="logo-airline-small"></div><div class="name-airline-item"><span>{{item.airlineName}} <span class="code-airline">{{item.fightNo}}</span></span></div></div><div class="col-sm-4 col-xs-3 no-padding search-item-header-group search-item-header-from-box"><div class="margin-bottom-8 name-code-location"><span><span class="full-origincity">{{item.originCity}}</span> ({{item.originLocationCode}})</span></div><div><span class="gtd-h2">{{item.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'hour\'}}</span></div></div><div class="col-xs-1 no-padding search-item-header-box icon-form-to-search"><div><span class="fa fa-long-arrow-right"></span></div></div><div class="col-sm-4 col-xs-3 no-padding search-item-header-group search-item-header-to-box"><div class="margin-bottom-8 name-code-location"><span><span class="full-origincity">{{item.destinationCity}}</span> ({{item.destinationLocationCode}})</span></div><div><span class="gtd-h2">{{item.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].arrivalDateTime | momentdate:\'hour\'}}</span></div></div><div class="col-xs-5 hidden-sm-down group-item-price"><div class="price-responsive"><div class="note-price">Giá từ</div><div class="price-default">{{item.pricedItineraries[0].airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}} <span>VND</span></div></div></div></div><div ng-if="item.airline == \'0V\'" style="font-size: 11px; padding-left: 12px; margin-bottom: -5px">Hãng khai thác Vietnam Air Service</div></div><div class="col-sm-5"><div class="row"><div class="col-sm-7 col-xs-12 search-item-header-group search-item-header-time-box"><div class="flight-time hidden-sm-up"><span>{{item.pricedItineraries[0].originDestinationOptions[0].journeyDuration | duration}}</span></div><div class="flight-detail"><a class="flight-detail-text" style="text-decoration: none" tabindex="0" gtd-popover gtd-template-path="app/components/flight/flight-detail-view1.html" argument="item" ibe-keys="ibeKeys">{{\'flight.search.header.detail\' |translate}}</a></div></div><div class="col-xs-5 search-item-header-type-box"><div><a class="clickable"><span class="label label-cancelled">{{\'flight.search.header.non-stop\' |translate}}</span></a></div></div></div></div><!--</div>--></div><div class="list-search-item" ng-class="{\'multiple\': item.totalPricedItinerary > 1}"><div class="row search-item-detail no-margin-left no-margin-right" ng-repeat="pricedItinerary in item.pricedItineraries"><div class="col-sm-7 margin-left-m15 margin-right-m15 no-padding-left no-padding-right"><div class="row"><div class="col-xs-4 search-item-detail-class-type-box"><div class="type-flight-name"><span>{{pricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName == null ? pricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassText : pricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div><div class="col-xs-4 search-item-detail-feature-box"><div><span class="fa fa-suitcase" ng-if="pricedItinerary.baggageItems != null && pricedItinerary.baggageItems[0] != null"></span> <span ng-if="pricedItinerary.baggageItems != null && pricedItinerary.baggageItems[0] != null">{{pricedItinerary.baggageItems[0].name}}</span><!--<span class="fa fa-cutlery"></span>--><!--<span>&nbsp; Suất ăn</span>--></div></div><div class="col-xs-4 search-item-detail-condition-box popover-fare-rules"><div class="clickable btn-conditions"><a class="btn btn-outline-grey fare-rules-button" tabindex="0" gtd-fare-rules-popover gtd-template-path="app/components/flight/flight-fare-rules.html" argument="$ctrl.searchOptions" argument2="item" argument3="pricedItinerary">{{\'flight.search.header.condition\' |translate}}</a></div></div></div></div><div class="col-sm-5"><div class="item-sub-flight-select"><div class="row"><div class="no-padding col-xs-7 search-item-detail-price-box"><div class="sub-flight-item"><div><span class="price-text">{{pricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}} </span><span>VND</span></div><div class="note-price-flight"><span>({{\'flight.search.header.include\' |translate}} +{{pricedItinerary.airItineraryPricingInfo.itinTotalFare.serviceTax.amount | number}}vnđ {{\'flight.search.header.tax\' |translate}})</span></div></div></div><div class="col-xs-5 search-item-detail-booking-box"><div class="btn-select-flight"><span class="label label-color4 label-booking hand" ng-click="$ctrl.bookingClicked(item, pricedItinerary)">{{\'flight.search.header.choose\' |translate}}</span></div></div></div></div></div></div></div><div class="sm-rs-flight" ng-click="$ctrl.showSFlight($event)" ng-show="item.totalPricedItinerary == 1"></div><div class="search-item-expand-collapse" ng-show="item.totalPricedItinerary > 1"><div class="start-col"></div><div class="col"></div><span class="hand show-sub-flight" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary > item.pricedItineraries.length" ng-click="$ctrl.loadMore($event, item)"><span class="name-s">{{\'flight.search.header.moreVI\' |translate}} {{\'flight.search.header.moreEN\' |translate}} {{\'flight.search.header.option\' |translate}}</span> </span><span class="hand" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary == item.pricedItineraries.length" ng-click="$ctrl.loadLess($event, item)">Thu gọn lựa chọn</span></div></div><div ng-show="$ctrl.busy">Loading data...</div></div></ng-switch><ng-switch on="$ctrl.searchOptions.dtype == \'international\'"><div class="search-result-wrapper search-result-wrapper-roundtrip" ng-switch-when="true"><!-- Step 1 - Return International 1 --><div class="flight-search-international-searchresult search-result-item flight-search-international-searchresult-depart col-sm-12" ng-repeat="item in $ctrl.filterFlight($ctrl.searchResult.groupPricedItineraries)" ng-if="$ctrl.searchOptions.selectStep == 1" ng-class="{\'little-item\': item.totalPricedItinerary == 1}" ng-class="{\'active-group-item\':item.over}" ng-mouseenter="item.over=true" ng-mouseleave="item.over=false"><div class="top-info-flight"><div class="row no-margin-left no-margin-right"><div class="col-sm-4 col-xs-12"><div class="group-info"><div class="airline-item"><div class="img-airline"><img class="airline-image-small" ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.airline+ \'.gif\'}}"></div><div class="name-airline-item">{{item.airlineName}} {{item.fightNo}}</div></div><div class="time-type"><span>{{item.pricedItineraries[0].originDestinationOptions[0].journeyDuration | duration:\'short\'}}</span><!-- - {{item.pricedItineraries[0].airItineraryPricingInfo.fareSourceCode}}--> <span>- {{item.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div></div><div class="col-sm-3 col-xs-3"><div class="detination-item detination-item-from"><div class="time-flight"><span class="time-flight">{{item.pricedItineraries[0].originDestinationOptions[0].originDateTime | momentdate:\'hour\'}}</span> <span class="flight-date-diff-text">{{item.pricedItineraries[0].originDestinationOptions[0] | flightdatediff}}</span></div><div class="airline-name"><span class="full-name-airline">{{item.pricedItineraries[0].originDestinationOptions[0].originCity}}</span> ({{item.pricedItineraries[0].originDestinationOptions[0].originLocationCode}})</div></div></div><div class="col-sm-3 col-xs-3"><div class="detination-item"><!-- <span ng-if="item.pricedItineraries[0].originDestinationOptions[0].flightSegments.length > 1" class="fa fa-long-arrow-right"></span> --> <span class="time-flight">{{item.pricedItineraries[0].originDestinationOptions[0].destinationDateTime | momentdate:\'hour\'}}</span><div class="airline-name"><span class="full-name-airline">{{item.pricedItineraries[0].originDestinationOptions[0].destinationCity}}</span> ({{item.pricedItineraries[0].originDestinationOptions[0].destinationLocationCode}})</div></div></div><div class="col-xs-6 price-flight-responsive"><div class="price-flight margin-t-5"><span class="type-price"><span ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'">Giá khứ hồi</span> <span ng-if="$ctrl.searchOptions.searchType == \'oneway\'">Giá một chiều</span> </span><span><span class="price-text">{{item.pricedItineraries[0].airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span> VNĐ</span></div></div><div class="col-sm-2 dipl"><div class="airline-type"><span ng-if="item.pricedItineraries[0].originDestinationOptions[0].flightSegments.length > 1">{{item.pricedItineraries[0].originDestinationOptions[0].flightSegments.length - 1}} điểm dừng</span> <span ng-if="item.pricedItineraries[0].originDestinationOptions[0].flightSegments.length <= 1">Bay thẳng</span></div><div class="segment-item"><span class="segment-text" ng-if="!$first" ng-repeat="segment in item.pricedItineraries[0].originDestinationOptions[0].flightSegments">{{segment.departureAirportLocationCode}}</span></div></div></div><div class="flight-detail hidden-sm-down"><a class="flight-detail-text ng-binding ng-isolate-scope" style="text-decoration: none" tabindex="0" gtd-popover gtd-template-path="app/components/flight/flight-detail-view-inter.html" argument="item" argument2="item.pricedItineraries[0]" argument3="1" ibe-keys="ibeKeys" data-original-title="" title="">Chi tiết hành trình</a></div></div><div class="list-search-item" ng-class="{\'multiple\': item.totalPricedItinerary > 1}"><div class="bottom-info-flight"><div class="row no-margin-left no-margin-right"><div class="col-sm-2"><div class="summary-cell see-more-flight margin-t-5"><span class="hand text-color4 text-underlined" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary > item.pricedItineraries.length" ng-click="$ctrl.loadMore($event, item)">Thêm lựa chọn </span><span class="hand text-color4 text-underlined" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary == item.pricedItineraries.length" ng-click="$ctrl.loadLess($event, item)">Thu gọn </span><!--<a class="text-color4 hand" style="color:#D84A38"--><!--&gt;Thêm lựa chọn</a>--></div></div><div class="col-sm-4"><div class="summary-cell margin-t-5"><a class="text-color3 hand hidden-sm-tk" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-popover gtd-template-path="app/components/flight/flight-detail-view-inter.html" argument="item" argument2="item.pricedItineraries[0]" argument3="1" ibe-keys="ibeKeys">{{\'flight.search.header.detail\' |translate}}</a> <span class="text-color3 hidden-sm-tk">|</span> <a class="text-color3 hand popover-fare-rules" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-fare-rules-popover gtd-template-path="app/components/flight/flight-fare-rules.html" argument="$ctrl.searchOptions" argument2="item" argument3="item.pricedItineraries[0]" ibe-keys="ibeKeys">{{\'flight.search.header.condition\' |translate}}</a></div></div><div class="col-sm-4"><div class="time-type time-type-responsive"><span>{{item.pricedItineraries[0].originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div><div class="price-flight margin-t-5"><span class="type-price"><span ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'">Giá khứ hồi</span> <span ng-if="$ctrl.searchOptions.searchType == \'oneway\'">Giá một chiều</span> </span><span><span class="price-text">{{item.pricedItineraries[0].airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span> VNĐ</span></div></div><div class="col-sm-2 btn-select-flight"><div class="btn-red btn" ng-click="$ctrl.bookingClicked(item, item.pricedItineraries[0])">Chọn vé</div></div></div></div><div class="sub-flight"><div class="row no-margin-left no-margin-right additonal-option-row" ng-repeat="pricedItinerary in item.pricedItineraries track by $index" ng-if="$index != 0"><div class="col-sm-2 col-xs-6"><div class="margin-t-5"><span class="bold">{{pricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div><div class="col-sm-4"><div class="summary-cell margin-t-5"><a class="text-color3 hand hidden-sm-tk" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-popover gtd-template-path="app/components/flight/flight-detail-view-inter.html" argument="item" argument2="pricedItinerary" argument3="1" ibe-keys="ibeKeys">{{\'flight.search.header.detail\' |translate}}</a> <span class="text-color3 hidden-sm-tk">|</span> <a class="text-color3 hand popover-fare-rules" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-fare-rules-popover gtd-template-path="app/components/flight/flight-fare-rules.html" argument="$ctrl.searchOptions" argument2="item" argument3="pricedItinerary" ibe-keys="ibeKeys">{{\'flight.search.header.condition\' |translate}}</a></div></div><div class="col-sm-4"><div class="margin-t-5"><span class="price-type" ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'">Giá khứ hồi</span> <span class="price-type" ng-if="$ctrl.searchOptions.searchType == \'oneway\'">Giá một chiều</span> <span class="price-text">{{pricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span> VNĐ</div></div><div class="col-sm-2"><div class="btn-color5 btn" ng-click="$ctrl.bookingClicked(item, pricedItinerary)">Chọn vé</div></div></div></div></div><div class="sm-rs-flight" ng-click="$ctrl.showSFlight($event)" ng-show="item.totalPricedItinerary == 1"></div><div class="summary-cell search-item-expand-collapse summary-cell-responsive margin-t-5"><span class="hand show-sub-flight" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary > item.pricedItineraries.length" ng-click="$ctrl.loadMore($event, item)"><span class="hand text-color4 text-underlined name-s" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary > item.pricedItineraries.length" ng-click="$ctrl.loadMore($event, item)">Thêm lựa chọn </span></span><span class="hand text-color4 text-underlined" ng-show="item.totalPricedItinerary > 1 && item.totalPricedItinerary == item.pricedItineraries.length" ng-click="$ctrl.loadLess($event, item)">Thu gọn lựa chọn</span></div></div><!-- Step 2 - Return International 2 --><div class="flight-search-international-searchresult flight-search-international-searchresult-return col-sm-12" ng-init="item = $ctrl.searchResult.groupPricedItineraries[0]" ng-repeat="pricedItinerary in $ctrl.searchResult.groupPricedItineraries[0].pricedItineraries" ng-if="$ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.searchType == \'roundtrip\'" ng-class="{\'active-group-item\':pricedItinerary.over}" ng-mouseenter="pricedItinerary.over=true" ng-mouseleave="pricedItinerary.over=false"><div class="top-info-flight"><div class="row no-margin-left no-margin-right"><div class="col-sm-4 col-xs-12"><div class="group-info"><div class="airline-item"><div class="img-airline"><img class="airline-image-small" ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.airline+ \'.gif\'}}"></div><div class="name-airline-item">{{pricedItinerary.originDestinationOptions[1].flightSegments[0].operatingAirline.name}} {{pricedItinerary.originDestinationOptions[1].flightSegments[0].operatingAirline.flightNumber}}</div></div><div class="time-type"><span>{{pricedItinerary.originDestinationOptions[1].journeyDuration | duration:\'short\'}}</span> <span>- {{pricedItinerary.originDestinationOptions[1].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div></div><div class="col-sm-3 col-xs-3"><div class="detination-item detination-item-from"><div class="time-flight"><span class="time-flight">{{pricedItinerary.originDestinationOptions[1].originDateTime | momentdate:\'hour\'}}</span> <span class="flight-date-diff-text">{{pricedItinerary.originDestinationOptions[1] | flightdatediff}}</span></div><div class="airline-name"><span class="full-name-airline">{{pricedItinerary.originDestinationOptions[1].originCity}}</span> ({{pricedItinerary.originDestinationOptions[1].originLocationCode}})</div></div></div><div class="col-sm-3 col-xs-3"><div class="detination-item"><span class="time-flight">{{pricedItinerary.originDestinationOptions[1].destinationDateTime | momentdate:\'hour\'}}</span><div class="airline-name"><span class="full-name-airline">{{pricedItinerary.originDestinationOptions[1].destinationCity}}</span> ({{pricedItinerary.originDestinationOptions[1].destinationLocationCode}})</div></div></div><div class="col-xs-6 price-flight-responsive"><div class="price-flight margin-t-5"><span class="type-price"><span ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'">Giá khứ hồi</span> <span ng-if="$ctrl.searchOptions.searchType == \'oneway\'">Giá một chiều</span> </span><span><span class="price-text">+ {{pricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | diffprice:$ctrl.orgDepartPricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span> VNĐ</span></div></div><div class="col-sm-2 dipl"><div class="airline-type"><span ng-if="pricedItinerary.originDestinationOptions[1].flightSegments.length > 1">{{pricedItinerary.originDestinationOptions[1].flightSegments.length - 1}} điểm dừng</span> <span ng-if="pricedItinerary.originDestinationOptions[1].flightSegments.length <= 1">Bay thẳng</span></div><div class="segment-item"><span class="segment-text" ng-if="!$first" ng-repeat="segment in pricedItinerary.originDestinationOptions[1].flightSegments">{{segment.departureAirportLocationCode}}</span></div></div></div></div><div class="bottom-info-flight"><div class="row no-margin-left no-margin-right"><div class="col-sm-2"></div><div class="col-sm-4"><div class="summary-cell see-more-flight margin-t-5"><a class="text-color3 hand" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-popover gtd-template-path="app/components/flight/flight-detail-view-inter.html" argument="item" argument2="pricedItinerary" argument3="2" ibe-keys="ibeKeys">{{\'flight.search.header.detail\' |translate}}</a> <span class="text-color3">|</span> <a class="text-color3 hand popover-fare-rules" style="text-decoration: none;color:#18AA4F" tabindex="0" gtd-fare-rules-popover gtd-template-path="app/component    s/flight/flight-fare-rules.html" argument="$ctrl.searchOptions" argument2="item" argument3="pricedItinerary">{{\'flight.search.header.condition\' |translate}}</a></div></div><div class="col-md-4"><div class="price-flight margin-t-5"><span><span ng-if="$ctrl.searchOptions.searchType == \'roundtrip\'">Giá khứ hồi</span> <span ng-if="$ctrl.searchOptions.searchType == \'oneway\'">Giá một chiều</span> </span><span><span class="price-text">+&nbsp;{{pricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | diffprice:$ctrl.orgDepartPricedItinerary.airItineraryPricingInfo.itinTotalFare.totalFare.amount | number}}</span> &nbsp;VNĐ</span></div></div><div class="col-sm-2"><div class="btn-red btn btn-red-response" ng-click="$ctrl.bookingClicked(item, pricedItinerary)">Chọn vé</div></div></div></div></div></div></ng-switch></div><div class="row text-center"><button ng-click="$ctrl.nextPage()" ng-if="$ctrl.searchResult.page.nextPageNumber !== -1" class="btn gtd-btn-default">Xem thêm</button></div></div></div><script type="text/ng-template" id="0"><div>{{dynamicPopover.content}}</div>\n    <div class="form-group">sdfsdf\n        <label>Popup Title:</label>\n        <input type="text" ng-model="dynamicPopover.title" class="form-control">\n    </div></script>'),
                e.put("app/components/flight/tiki-flight-search-adv.html", '<div class="row"><div class="col-md-12 flight-search-filter"><div class="search-filter"><div class="search-header"><span class="header-text" translate="flight.search.advsearch.filter"></span>&nbsp; <span class="fa fa-minus-square-o" ng-show="$ctrl.showAdv && $ctrl.isMobile" ng-click="$ctrl.showAdv = false;"></span> <span class="fa fa-plus-square-o" ng-show="(!$ctrl.showAdv) && $ctrl.isMobile" ng-click="$ctrl.showAdv = true;"></span> <a ng-click="$ctrl.resetFilter();"><span class="pull-right" translate="flight.search.advsearch.cancel"></span> <span class="pull-right fa fa-refresh refresh-icon"></span></a></div><div ng-show="$ctrl.showAdv"><ng-switch on="$ctrl.searchOptions.dtype != \'domestic\'"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.transit"></span></div><div class="mt-checkbox-list"><label class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.transitCarouselArrays">{{item.text}} <input type="checkbox" name="tranitOpts" value="{{item.id}}" ng-model="$ctrl.transitCarouselArrays[$index].checked" ng-click="$ctrl.doFilter()"> <span></span></label></div></div></ng-switch><ng-switch on="!($ctrl.searchOptions.dtype == \'international\' && $ctrl.searchOptions.searchType != \'oneway\' && $ctrl.searchOptions.selectStep == 2)"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.departuretime"></span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.fromTimeCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div class="time-choosen" ng-if="$first"><div class="time-img"><img src="../../../content/images/icon-tik-RGBi-02-6cf0772061.svg"></div><div><div class="time-first-last time-up" data-translate="flight.search.header.before"><span>Trước</span></div><span class="time-first-last time-down">6:00</span></div></div><div class="time-choosen" ng-if="$last"><div class="time-img"><img src="../../../content/images/icon-tik-RGBi-04-5b309e1a4a.svg"></div><div><div class="time-first-last time-up" data-translate="flight.search.header.after"><span>Sau</span></div><span class="time-first-last time-down">18:00</span></div></div><div class="time-choosen" ng-if="!($first || $last)"><div class="time-img"><div ng-if="item.from==\'6:00\'"><img src="../../../content/images/icon-tik-RGBi-01-8ea148b584.svg"></div><div ng-if="item.from==\'12:00\'"><img src="../../../content/images/icon-tik-RGBi-02-6cf0772061.svg"></div></div><div><div class="time-up"><span>{{item.from}}</span><!-- <span >-</span> --></div><!-- <div class="time-middle"><span>-</span></div> --><div class="time-down"><span>{{item.to}}</span></div></div></div></a></div></div></div></div><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.arrivaltime"></span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-repeat="item in $ctrl.toTimeCarouselArrays" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.toTimeCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div ng-if="$first"><div class="time-img"><img src="../../../content/images/icon-tik-RGBi-02-6cf0772061.svg"></div><div><div class="time-first-last time-up" data-translate="flight.search.header.before"><span>Trước</span></div><span class="time-first-last time-down">6:00</span></div></div><div ng-if="$last"><div class="time-img"><img src="../../../content/images/icon-tik-RGBi-04-5b309e1a4a.svg"></div><div><div class="time-first-last time-up" data-translate="flight.search.header.after"><span>Sau</span></div><span class="time-first-last time-down">18:00</span></div></div><div ng-if="!($first || $last)"><div class="time-img"><div ng-if="item.from==\'6:00\'"><img src="../../../content/images/icon-tik-RGBi-01-8ea148b584.svg"></div><div ng-if="item.from==\'12:00\'"><img src="../../../content/images/icon-tik-RGBi-02-6cf0772061.svg"></div></div><div><div class="time-up"><span>{{item.from}}</span><!-- <span ng-if="$ctrl.class_single_web==\'tiki\'">-</span> --></div><!-- <div class="time-middle"><span>-</span></div> --><div class="time-down"><span>{{item.to}}</span></div></div></div></a></div></div></div></div></ng-switch><!-- RETURN TIME --><ng-switch on="$ctrl.searchOptions.dtype == \'international\' && $ctrl.searchOptions.searchType != \'oneway\' && $ctrl.searchOptions.selectStep == 2"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text">Giờ khởi hành chiều về</span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.fromTimeReturnCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div ng-if="$first"><div class="time-img"><img src="../../../content/images/icon-tik-RGBi-02-6cf0772061.svg"></div><div><div class="time-first-last time-up" data-translate="flight.search.header.before"><span>Trước</span></div><span class="time-first-last time-down">6:00</span></div></div><div ng-if="$last"><div class="time-img"><img src="../../../content/images/icon-tik-RGBi-04-5b309e1a4a.svg"></div><div><div class="time-first-last time-up" data-translate="flight.search.header.after"><span>Sau</span></div><span class="time-first-last time-down">6:00</span></div></div><div ng-if="!($first || $last)"><div class="time-img"><div ng-if="item.from==\'6:00\'"><img src="../../../content/images/icon-tik-RGBi-03-b76117ea36.svg"></div><div ng-if="item.from==\'12:00\'"><img src="../../../content/images/icon-tik-RGBi-02-6cf0772061.svg"></div></div><div><div class="time-up"><span>{{item.from}}</span><!-- <span ng-if="$ctrl.class_single_web==\'tiki\'">-</span> --></div><!-- <div class="time-middle"><span>-</span></div> --><div class="time-down"><span>{{item.to}}</span></div></div></div></a></div></div></div></div><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text">Giờ đến chiều về</span></div><div class="search-detail"><div class="search-item-detail search-item-detail-time-bs"><div class="search-item-detail-time" ng-class="{\'time-filter-active\': item.checked}" ng-repeat="item in $ctrl.toTimeReturnCarouselArrays" ng-click="item.checked=!item.checked;$ctrl.doFilter();"><a class="clickable-color1"><div ng-if="$first"><div class="time-img"><img src="../../../content/images/icon-tik-RGBi-02-6cf0772061.svg"></div><div><div class="time-first-last time-up" data-translate="flight.search.header.before"><span>Trước</span></div><span class="time-first-last time-down">6:00</span></div></div><div ng-if="$last"><div class="time-img"><img src="../../../content/images/icon-tik-RGBi-04-5b309e1a4a.svg"></div><div><div class="time-first-last time-up" data-translate="flight.search.header.after"><span>Sau</span></div><span class="time-first-last time-down">6:00</span></div></div><div ng-if="!($first || $last)"><div class="time-img"><div ng-if="item.from==\'6:00\'"><img src="../../../content/images/icon-tik-RGBi-03-b76117ea36.svg"></div><div ng-if="item.from==\'12:00\'"><img src="../../../content/images/icon-tik-RGBi-02-6cf0772061.svg"></div></div><div><div class="time-up"><span>{{item.from}}</span><!-- <span ng-if="$ctrl.class_single_web==\'tiki\'">-</span> --></div><!-- <div class="time-middle"><span>-</span></div> --><div class="time-down"><span>{{item.to}}</span></div></div></div></a></div></div></div></div></ng-switch><!-- Airlines --><ng-switch on="!($ctrl.searchOptions.searchType == \'roundtrip\' && $ctrl.searchOptions.selectStep == 2)" ng-if="$ctrl.airlineCarouselArrays != null && $ctrl.airlineCarouselArrays.length>0"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text" translate="flight.search.advsearch.airlines"></span></div><div class="mt-checkbox-list"><div class="checkbox-wrapper" ng-repeat="item in $ctrl.airlineCarouselArrays track by $index" ng-if="($ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.dtype == \'international\' && item.id == $ctrl.searchResult.groupPricedItineraries[0].airline) || !($ctrl.searchOptions.selectStep == 2 && $ctrl.searchOptions.dtype == \'international\')" ng-show="$ctrl.loadMore || $index <= 4"><label class="mt-checkbox mt-checkbox-outline"><input class="airline-{{item.id}}" type="checkbox" name="airlineOpts" value="{{item.id}} {{item.checked}}" ng-model="$ctrl.airlineCarouselArrays[$index].checked" ng-click="$ctrl.doFilter()"><div style="display: inline-block"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + item.id+ \'.gif\'}}" class="logo-airline-small"> {{item.text}}</div><span></span></label></div></div><div class="pull-right text-underlined" style="margin-top: -10px"><span ng-show="$ctrl.loadMore == false && $ctrl.airlineCarouselArrays.length > 5" ng-click="$ctrl.loadMore = !$ctrl.loadMore">Xem tất cả</span> <span ng-show="$ctrl.loadMore && $ctrl.airlineCarouselArrays.length > 5" ng-click="$ctrl.loadMore = !$ctrl.loadMore">Thu gọn</span></div></div></ng-switch><div class="search-filter-divider"></div><div class="search-detail"><div><span class="search-label-text" translate="flight.search.advsearch.class"></span></div><div class="search-detail"><div class="mt-checkbox-list"><label class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.classCarouselArrays">{{item.text | translate}} <input type="checkbox" name="classOpts" value="{{item.id}}" ng-model="$ctrl.classCarouselArrays[$index].checked" ng-click="$ctrl.doFilter()"> <span></span></label></div></div></div><ng-switch on="$ctrl.searchOptions.dtype == \'domestic\'"><div class="search-filter-divider" ng-switch-when="true"></div><div class="search-detail" ng-switch-when="true"><div><span class="search-label-text">{{\'flight.search.header.conditions\' |translate}}</span></div><div class="mt-checkbox-list"><label ng-if="$ctrl.enable_template" class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.policyArrays">{{item.text}} <input type="checkbox" name="policyOpts" value="{{item.id}}" ng-model="$ctrl.policyArrays[$index].checked" ng-click="$ctrl.doFilter()"> <i ng-if="$ctrl.policyArrays[$index].checked" class="fa fa-check-circle"></i> <i ng-else class="fa fa-circle-o"></i></label><label ng-if="!$ctrl.enable_template" ng-else class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.policyArrays">{{item.text}} <input type="checkbox" name="policyOpts" value="{{item.id}}" ng-model="$ctrl.policyArrays[$index].checked" ng-click="$ctrl.doFilter()"> <span></span></label></div></div></ng-switch></div></div></div></div>'), e.put("app/components/login/login.html", '<div class="modal-header login-modal-header"><div class="modal-body bg-login"><div class="row"><div class="col-md-5 login-title"><span class="" data-translate="login.title">Sign in</span></div><div class="col-md-7"></div><div class="col-md-8 col-md-offset-2"><div class="alert alert-danger" ng-show="vm.authenticationError" data-translate="login.messages.error.authentication"><strong>Failed to sign in!</strong> Please check your credentials and try again.</div></div><div class="col-md-6 content-left"><form name="editForm" class="form" role="form" ng-submit="vm.login($event)"><a href="https://cms.gotadi.com//loi-ich-thanh-vien" style="float:right; color: black; text-decoration: underline" target="_blank" class="text-underlined"><img src="../../../content/images/1x_star-member-icon-c9ea235692.png" alt="" style="padding: 10px 4px">Quyền lợi thành viên</a><div style="clear:both"></div><div class="form-group"><div class="input-icon"><i class="fa fa-user font-grey"></i> <input type="text" required class="form-control" id="username" placeholder="{{\'global.form.username.placeholder\' | translate}}" ng-model="vm.username"></div></div><div class="form-group"><div class="input-icon"><i class="fa fa-lock font-grey"></i> <input type="password" required class="form-control" id="password" placeholder="{{\'login.form.password.placeholder\' | translate}}" ng-model="vm.password"></div></div><div class="form-group"><label for="rememberMe"><input type="checkbox" id="rememberMe" ng-model="vm.rememberMe" checked="checked"> <span data-translate="login.form.rememberme">Remember me</span></label><a class="alert-link forget-pwd-link" href="" ng-click="vm.requestResetPassword()" data-translate="login.password.forgot">Did you forget your password?</a></div><button type="submit" class="btn btn-green-em" ng-disabled="editForm.$invalid"><span data-translate="login.form.button">Sign in</span> <span class="fa fa-arrow-circle-o-right"></span></button></form><p></p><div class="" translate-compile>Bạn vẫn chưa có tài khoản thành viên? <a class="register-link" href="" ng-click="vm.register()">ĐĂNG KÝ</a></div></div><div class="col-md-6"><!--<br/>--><div class="gtd-h3 social-login-header">Hoặc đăng nhập với</div><jh-social ng-provider="facebook" parent="vm.parent"></jh-social><jh-social ng-provider="google" parent="vm.parent"></jh-social><div class="gtd-h6 social-login-footer">- Chúng tôi sẽ giữ thông tin cá nhân riêng tư của bạn.</div><div class="gtd-h6">- Không có gì được chia sẻ mà không cần sự đồng ý của bạn.</div><div class="gtd-h6">- Thưởng thức đăng nhập nhanh hơn.</div><!--<jh-social ng-provider="twitter"></jh-social>--><!-- jhipster-needle-add-social-button --></div></div></div></div>'), e.put("app/components/profile/profile-doc-info.html", '<div class="portlet new-gtd-porlet-light porlet-doc-info" ng-switch="$ctrl.profileModel.mode"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase">{{\'global.menu.account.profiles.info\' | translate}}</span></div></div><div class="portlet-body" ng-switch-when="view"><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.type\' | translate}}</div><div class="col-sm-9 value">{{$ctrl.profileModel.documentType | lookupt :\'ota_customer\':\'passport_type\' | translate}}</div></div><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.nationality\' | translate}}</div><div class="col-sm-9 value">{{$ctrl.profileModel.country | country}}</div></div><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.passport\' | translate}}</div><div class="col-sm-9 value">{{$ctrl.profileModel.documentNumber}}</div></div><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.date\' | translate}}</div><!--<div class="col-sm-9 value">{{$ctrl.profileModel.expiredDate | momentdate}}</div>--><div class="col-sm-9 value">{{$ctrl.profileModel.expiredDate}}</div></div><!--<div class="row static-info">--><!--<div class="col-sm-3 name">Ngày cấp</div>--><!--&lt;!&ndash;<div class="col-sm-9 value">{{$ctrl.profileModel.issuedDate | momentdate}}</div>&ndash;&gt;--><!--<div class="col-sm-9 value">{{$ctrl.profileModel.issuedDate}}</div>--><!--</div>--><div class="row-seperator-20"></div><div class="row static-info"><div class="col-sm-12 bold">{{\'global.menu.account.profiles.customer-number\'| translate}}</div></div><div class="row static-info"><div class="card-zone" ng-repeat="item in $ctrl.profileModel.memberCards"><div class="card-type">{{item.cardType | lookupt :\'air_member_card\':\'\' | translate}}</div><div class="card-number"><span>{{\'global.menu.account.profiles.card-number\'| translate}}</span> <span>{{item.cardNumber}}</span></div></div></div></div><div class="portlet-body" ng-switch-when="edit"><div class="form-horizontal"><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.type\'| translate}}</label><div class="col-xs-6 profile-reponsive"><select class="form-control" ng-model="$ctrl.profileModel.documentType"><option ng-repeat="title in $ctrl.passportTypeLookups" value="{{title.lookupValue}}">{{title.lang | translate}}</option></select></div><label class="col-xs-3 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.nationality\'| translate}}</label><div class="col-xs-6 profile-reponsive" ng-init="$ctrl.profileModel.country = (!$ctrl.profileModel.country)?\'vn\':($ctrl.profileModel.country)"><select class="form-control" ng-model="$ctrl.profileModel.country"><option ng-repeat="country in $ctrl.allCountries" value="{{country.code}}">{{country.name}}</option></select></div><label class="col-xs-3 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.passport\'| translate}}</label><div class="col-xs-6 profile-reponsive"><input type="text" class="form-control" ng-model="$ctrl.profileModel.documentNumber" ng-maxlength="20" name="documentNumber"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'documentNumber\'].$touched) && $ctrl.form[\'documentNumber\'].$invalid"><p class="help-block" ng-show="$ctrl.form[\'documentNumber\'].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="20">Trường này không được vượt quá 20 ký tự.</p></div></div><label class="col-xs-3 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.date\'| translate}}</label><div class="col-xs-6 profile-reponsive"><div class="input-icon input-icon-sm right"><i class="fa fa-calendar" onclick="$(\'#expiredDate\').bootstrapDP(\'show\');"></i> <input type="text" class="form-control date-picker input-sm" id="expiredDate" gtd-date-picker min-dt="currentDate" ng-model="$ctrl.profileModel.expiredDate"></div></div><label class="col-xs-3 profile-reponsive control-label"></label></div><!--<div class="form-group">--><!--<label class="col-sm-3 control-label">Ngày cấp</label>--><!--<div class="col-sm-6">--><!--<div class="input-icon input-icon-sm right">--><!--<i class="fa fa-calendar" onclick="$(\'#issuedDate\').bootstrapDP(\'show\');"></i>--><!--<input type="text" class="form-control date-picker input-sm"--><!--id="issuedDate"--><!--gtd-date-picker--><!--ng-model="$ctrl.profileModel.issuedDate">--><!--</div>--><!--</div>--><!--<label class="col-sm-3 control-label"></label>--><!--</div>--><div class="row-seperator-20"></div><div class="row static-info"><div class="col-sm-12 bold">{{\'global.menu.account.profiles.customer-number\'| translate}}</div></div><div class="row static-info"><div class="card-zone" ng-repeat="item in $ctrl.profileModel.memberCards"><div class="card-close hand" ng-click="$ctrl.removeCard(item)"><span class="fa fa-times"></span></div><div class="card-type">{{item.cardType | lookupt :\'air_member_card\':\'\' | translate}}</div><div class="card-number"><span>{{\'global.menu.account.profiles.card-number\'| translate}}</span> <span>{{item.cardNumber}}</span></div></div></div><div ng-repeat="editCard in $ctrl.profileModel.editMemberCards track by $index"><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.type\'| translate}}</label><div class="col-xs-6 profile-reponsive"><select class="form-control" ng-model="editCard.curCardType"><option ng-repeat="title in $ctrl.cardTypeLookups" value="{{title.lookupValue}}">{{title.lang | translate}}</option></select></div><div class="col-xs-3 profile-reponsive text-color4 padding-top-5 no-padding-left" ng-click="$ctrl.removeEditMemberCards($index)" ng-if="$ctrl.profileModel.editMemberCards.length > 1"><span class="fa fa-minus-square-o"></span> <span>{{\'global.menu.account.profiles.del\'| translate}}</span></div></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.card-number\'| translate}}</label><div class="col-xs-6 profile-reponsive"><input type="text" class="form-control" ng-model="editCard.curCardNumber" ng-maxlength="20" name="curCardNumber{{$index}}"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'curCardNumber\' + $index].$touched) && $ctrl.form[\'curCardNumber\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'curCardNumber\' + $index].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="20">Trường này không được vượt quá 20 ký tự.</p></div></div><label class="col-xs-3 profile-reponsive control-label"></label></div></div><div class="form-group"><!--<div class="col-sm-12 btn btn-default btn-outline-green text-color3 new-card-text"--><!--ng-click="$ctrl.addMoreCard($ctrl.profileModel)"--><!--&gt;--><div class="col-xs-12 profile-reponsive"><a class="btn btn-color3 btn-outline" ng-click="$ctrl.addMoreCard($ctrl.profileModel)"><span class="fa fa-plus-circle icon"></span>{{\'global.menu.account.profiles.addcard\'| translate}} </a><!--<span class="fa fa-plus-circle icon"></span> Thêm loại thẻ--></div></div></div></div></div>'), e.put("app/components/profile/profile-invoice-info.html", '<div class="portlet new-gtd-porlet-light porlet-invoice-info" ng-switch="$ctrl.profileModel.mode"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase">{{\'global.menu.account.profiles.invoice\'| translate}}</span></div></div><div class="portlet-body" ng-switch-when="view"><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.company\'| translate}}</div><div class="col-sm-9 value long-value">{{$ctrl.shortProfile.taxCompanyName}}</div></div><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.add\'| translate}}</div><div class="col-sm-9 value long-value">{{$ctrl.shortProfile.taxAddress1}}</div></div><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.tax\'| translate}}</div><div class="col-sm-9 value long-value">{{$ctrl.shortProfile.taxNumber}}</div></div></div><div class="portlet-body" ng-switch-when="edit"><div class="form-horizontal"><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.company\'| translate}}</label><div class="col-xs-6 profile-reponsive"><input type="text" name="taxCompanyName" ng-maxlength="320" class="form-control" ng-model="$ctrl.shortProfile.taxCompanyName"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'taxCompanyName\'].$touched) && $ctrl.form[\'taxCompanyName\'].$invalid"><p class="help-block" ng-show="$ctrl.form[\'taxCompanyName\'].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="320">Trường này không được vượt quá 320 ký tự.</p></div></div><label class="col-xs-3 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.add\'| translate}}</label><div class="col-xs-6 profile-reponsive"><input type="text" name="taxAddress1" ng-maxlength="320" class="form-control" ng-model="$ctrl.shortProfile.taxAddress1"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'taxAddress1\'].$touched) && $ctrl.form[\'taxAddress1\'].$invalid"><p class="help-block" ng-show="$ctrl.form[\'taxAddress1\'].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="320">Trường này không được vượt quá 320 ký tự.</p></div></div><label class="col-xs-3 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.tax\'| translate}}</label><div class="col-xs-6 profile-reponsive"><input type="text" name="taxNumber" ng-maxlength="80" class="form-control" ng-model="$ctrl.shortProfile.taxNumber"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'taxNumber\'].$touched) && $ctrl.form[\'taxNumber\'].$invalid"><p class="help-block" ng-show="$ctrl.form[\'taxNumber\'].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="80">Trường này không được vượt quá 80 ký tự.</p></div></div><label class="col-xs-3 profile-reponsive control-label"></label></div></div></div></div>'), e.put("app/components/profile/profile-menu.html", '<div class="portlet light profile-sidebar-portlet"><!-- SIDEBAR USERPIC --><!--    <div class="profile-userpic">--><!--        <img src="../../../content/images/avatar-3458a0c3f5.png" ng-if="!$ctrl.profileModel.avatar.avatarImage" class="img-responsive" alt=""> --><!--        <img data-ng-src="{{\'data:image/png;base64,\' +$ctrl.profileModel.avatar.avatarImage}}" class="img-responsive" ng-if="$ctrl.profileModel.avatar.avatarImage" alt="userProfile image"  >--><!--    </div>--><!--    &lt;!&ndash; END SIDEBAR USERPIC &ndash;&gt;--><!--    &lt;!&ndash; SIDEBAR USER TITLE &ndash;&gt;--><!--    <div class="profile-usertitle">--><!--        <div class="profile-usertitle-header">{{\'global.menu.account.membershipclass\' | translate}}</div>--><!--        <div class="profile-usertitle-class">--><!--            Hạng {{$ctrl.identity.membershipClass | capitalize}}--><!--        </div>--><!--    </div>--><!-- END SIDEBAR USER TITLE --><!-- SIDEBAR MENU --><div class="profile-usermenu"><ul class="nav"><li class="" ng-class="{active: $ctrl.$state.includes(\'user-profile-booking-abstract\')}"><a ui-sref="user-profile-booking"><i class="fa fa-history"></i>{{\'global.menu.account.profiles.booking\' | translate}}</a></li><li class="" ng-class="{active: $ctrl.$state.includes(\'user-profile-traveller-abstract\')}"><a ui-sref="user-profile-traveller"><i class="fa fa-users"></i> {{\'global.menu.account.profiles.passenger\' | translate}}</a></li></ul></div><!-- END MENU --></div>'), e.put("app/components/profile/profile-user-info.html", '<div class="portlet new-gtd-porlet-light porlet-user-info" ng-switch="$ctrl.profileModel.mode"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase" ng-show="$ctrl.profileModel.type == \'traveller\' && $ctrl.profileModel.id ==  null" ng-switch-when="edit">Thêm hành khách</span> <span class="caption-subject font-dark bold uppercase" ng-show="$ctrl.profileModel.type == \'traveller\' && $ctrl.profileModel.id !=  null" ng-switch-when="edit">Sửa thông tin hành khách</span> <span class="caption-subject font-dark bold uppercase" ng-show="$ctrl.profileModel.type == \'traveller\' && $ctrl.profileModel.id !=  null" ng-switch-when="view">Thông tin hành khách</span> <span class="caption-subject font-dark bold uppercase" ng-show="$ctrl.profileModel.type != \'traveller\'">{{\'global.menu.account.profiles.personal1\' | translate}}</span></div></div><div class="portlet-body" ng-switch-when="view"><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.gender\' | translate}}</div><div class="col-sm-9 value">{{$ctrl.profileModel.gender | lookupt :\'ota_customer\':\'passenger_gender\' | translate }}</div></div><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.lastname\' | translate}}</div><div class="col-sm-9 value">{{$ctrl.profileModel.surName}}</div></div><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.mid-name\' | translate}}</div><div class="col-sm-9 value long-value">{{$ctrl.profileModel.firstName}}</div></div><ng-switch on="$ctrl.profileModel.type == \'traveller\'"><div class="row static-info" ng-switch-when="false"><div class="col-sm-3 name">{{\'global.menu.account.profiles.username\' | translate}}</div><div class="col-sm-9 value">{{$ctrl.shortProfile.loginUsername}}</div></div><div class="row static-info" ng-switch-when="false" ng-if="!$ctrl.profileModel.socialUser"><div class="col-sm-3 name">{{\'global.menu.account.password\' | translate}}</div><div class="col-sm-9 value">********</div></div></ng-switch><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.dateofbirth\' | translate}}</div><!--<div class="col-sm-9 value">{{$ctrl.profileModel.dob | momentdate}}</div>--><div class="col-sm-9 value">{{$ctrl.profileModel.dob}}</div></div><div class="row static-info"><div class="col-sm-3 name">Email</div><div class="col-sm-9 value long-value">{{$ctrl.profileModel.email}}</div></div><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.country\' | translate}}</div><div class="col-sm-9 value">{{$ctrl.profileModel.nationality | country}}</div></div><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.add\' | translate}}</div><div class="col-sm-9 value long-value">{{$ctrl.profileModel.address1}}</div></div><div class="row static-info"><div class="col-sm-3 name">{{\'global.menu.account.profiles.phone\' | translate}}</div><div class="col-sm-9 value"><div ng-repeat="item in $ctrl.profileModel.phoneNumbers track by $index">{{item.text}}</div></div></div></div><div id="action-bar-mobile" class="portlet-body" ng-switch-when="edit"><div class="form-horizontal"><input type="hidden" class="form-control" ng-model="$ctrl.profileModel.id"><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.gender\' | translate}} <span class="text-color4">*</span></label><div class="col-xs-6 profile-reponsive"><select class="form-control" ng-model="$ctrl.profileModel.gender" name="gender" required><option ng-repeat="title in $ctrl.titleLookups" value="{{title.lookupValue}}">{{title.lang + \'_1\' | translate}}</option></select><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'gender\'].$touched) && $ctrl.form[\'gender\'].$invalid"><p class="help-block" ng-show="$ctrl.form[\'gender\'].$invalid" data-translate="entity.validation.required"></p></div></div><label class="col-xs-3 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.lastname\' | translate}} <span class="text-color4">*</span></label><div class="col-xs-6 profile-reponsive"><input type="text" class="form-control" ng-model="$ctrl.profileModel.surName" name="surName" placeholder="Nhập họ tên bằng tiếng Việt không dấu" gtd-no-special-char required ng-maxlength="50"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'surName\'].$touched) && $ctrl.form[\'surName\'].$invalid"><p class="help-block" ng-show="$ctrl.form[\'surName\'].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'surName\'].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="50">Trường này không được vượt quá 50 ký tự.</p></div></div><label class="col-xs-3 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.mid-name\' | translate}} <span class="text-color4">*</span></label><div class="col-xs-6 profile-reponsive"><input type="text" class="form-control" ng-model="$ctrl.profileModel.firstName" placeholder="Nhập họ tên bằng tiếng Việt không dấu" gtd-no-special-char required ng-maxlength="100" name="firstName"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'firstName\'].$touched) && $ctrl.form[\'firstName\'].$invalid"><p class="help-block" ng-show="$ctrl.form[\'firstName\'].$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="$ctrl.form[\'firstName\'].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="100">Trường này không được vượt quá 100 ký tự.</p></div></div><label class="col-xs-3 profile-reponsive control-label"></label></div><ng-switch on="$ctrl.profileModel.type == \'traveller\'"><div class="form-group" ng-switch-when="false"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.username\' | translate}}</label><div class="col-xs-6 profile-reponsive value">{{$ctrl.shortProfile.loginUsername}}</div><label class="col-xs-3 profile-reponsive control-label"></label></div><div class="form-group" ng-switch-when="false" ng-if="!$ctrl.profileModel.socialUser"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.password\' | translate}}</label><div class="col-xs-6 profile-reponsive"><input type="text" class="form-control" value="********" readonly="readonly"></div><!--<div class="col-sm-3 btn btn-default btn-outline-green text-color3"--><!--ng-click="$ctrl.changePass()"--><!--&gt;--><!--<span class="fa fa-lock icon"></span> Đổi mật khẩu--><!--</div>--><div class="col-xs-3 profile-reponsive no-padding-left"><a class="btn btn-color3 btn-outline" ng-click="$ctrl.changePass()"><span class="fa fa-lock icon"></span>{{\'global.menu.account.changepass\' | translate}} </a><!--<span class="fa fa-plus-circle icon"></span> Thêm loại thẻ--></div></div></ng-switch><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.dateofbirth\' | translate}}</label><div class="col-xs-6 profile-reponsive"><div class="input-icon input-icon-sm right" ng-click="$ctrl.openDob()"><i class="fa fa-calendar" onclick="$(\'#dob\').bootstrapDP(\'show\')"></i> <input type="text" class="form-control date-picker input-sm" id="dob" gtd-date-picker max-dt="currentDate" ng-model="$ctrl.profileModel.dob"></div></div><label class="col-xs-3 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">Email</label><div class="col-xs-6 profile-reponsive"><input type="email" class="form-control" gtd-email ng-maxlength="100" name="email" ng-model="$ctrl.profileModel.email"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'email\'].$touched) && $ctrl.form[\'email\'].$invalid"><p class="help-block" ng-show="$ctrl.form[\'email\'].$error.email || $ctrl.form[\'email\'].$error.emailValidator" data-translate="entity.validation.email"></p><p class="help-block" ng-show="$ctrl.form[\'email\'].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="100">Trường này không được vượt quá 100 ký tự.</p></div></div><label class="col-xs-3 profile-reponsive email-text">{{\'global.menu.account.profiles.emailalert\' | translate}}</label></div><div class="form-group" ng-if="$ctrl.profileModel.type !== \'traveller\'"><label class="col-md-3 col-xs-4 profile-reponsive control-label">{{\'global.menu.account.profiles.pic\' | translate}}</label><div class="col-md-9 col-xs-6 profile-reponsive profile-img-reponsive"><span class="profile-clear-avatar"><div ng-if="!$ctrl.profileModel.avatar.avatarImage"><img src="../../../content/images/avatar-3458a0c3f5.png" style="max-height: 149px" alt="userProfile image"> <img data-ng-src="{{\'data:image/png;base64,\' +$ctrl.profileModel.avatar.avatarImage}}" class="img-responsive" ng-if="$ctrl.profileModel.avatar.avatarImage" alt="userProfile image"></div><span ng-if="$ctrl.profileModel.avatar" class="help-block clearfix"><button type="button" ng-click="$ctrl.profileModel.avatar.avatarImage=null;" class="btn btn-default btn-xs pull-right"><span class="glyphicon glyphicon-remove"></span></button></span><br></span><span ngf-drop ngf-change="$ctrl.setAvatar($file)" ngf-pattern="\'image/*\'"><img data-ng-src="{{\'data:image/png;base64,\'+$ctrl.profileModel.avatar.avatarImage}}" style="max-height: 149px" ng-if="$ctrl.profileModel.avatar.avatarImage" alt="userProfile image"> <button type="button" ngf-select class="btn btn-default btn-block input-small" ngf-change="$ctrl.setAvatar($file)" data-max-size="25600" accept="image/*" data-translate="entity.action.addimage">Chọn tệp</button></span></div></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.country\' | translate}}</label><div class="col-xs-6 profile-reponsive" ng-init="$ctrl.profileModel.nationality= (!$ctrl.profileModel.nationality)?\'vn\':($ctrl.profileModel.nationality)"><select class="form-control" ng-model="$ctrl.profileModel.nationality"><option ng-repeat="country in $ctrl.allCountries" value="{{country.code}}">{{country.name}}</option></select></div><label class="col-xs-3 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.add\' | translate}}</label><div class="col-xs-6 profile-reponsive"><input type="text" class="form-control" ng-model="$ctrl.profileModel.address1" ng-maxlength="200" name="address1"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'address1\'].$touched) && $ctrl.form[\'address1\'].$invalid"><p class="help-block" ng-show="$ctrl.form[\'address1\'].$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="200">Trường này không được vượt quá 200 ký tự.</p></div></div><label class="col-xs-3 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-xs-3 profile-reponsive control-label">{{\'global.menu.account.profiles.phone\' | translate}}</label><div class="col-xs-9 profile-reponsive"><div class="row" ng-repeat="item in $ctrl.profileModel.phoneNumbers track by $index" style="margin-bottom: 15px"><div class="col-xs-8"><input type="text" class="form-control" ng-model="item.text" gtd-phone id="phoneNumbers{{$index}}" name="phoneNumbers{{$index}}"><div class="error" ng-show="($ctrl.form.$submitted || $ctrl.form[\'phoneNumbers\' + $index].$touched) && $ctrl.form[\'phoneNumbers\' + $index].$invalid"><p class="help-block" ng-show="$ctrl.form[\'phoneNumbers\' + $index].$invalid" data-translate="entity.validation.phone"></p></div></div><div class="col-xs-4 text-color3 padding-top-5 no-padding-left" ng-click="$ctrl.addPhoneNumber()" ng-if="$ctrl.profileModel.phoneNumbers.length < 5"><span class="fa fa-plus-square-o"></span> <span>{{\'global.menu.account.profiles.addphone\' | translate}}</span></div><div class="col-xs-4 text-color4 padding-top-5 no-padding-left" ng-click="$ctrl.removePhoneNumber($index)" ng-if="$ctrl.profileModel.phoneNumbers.length > 1"><span class="fa fa-minus-square-o"></span> <span>{{\'global.menu.account.profiles.del\' | translate}}</span></div></div></div></div><div class="row static-info" ng-click="$ctrl.edit()" ng-show="$ctrl.profileModel.userMode==\'view\'"><div class="col-xs-12 action">{{\'global.menu.account.profiles.edit\' | translate}}</div></div></div></div></div>'),
                e.put("app/components/hotel/hotel-additional-info-view.html", '<div class="portlet" style="border: none;background: #ffffff;margin-bottom: 0px;font-size: 12px"><div class="portlet-body"><!-- BEGIN FORM--><div class="fee-popup margin-10"><div class="row"><div class="col-xs-12" ng-bind-html="argument"></div></div></div><!-- END FORM--></div></div>'), e.put("app/components/hotel/hotel-detail-change.html", '<form class=""><div class="hotel-detail-change-wrapper gtd-shadow hotel-border-radius"><div class=""><!--<div class="row">--><div class="row"><div class="header-date-boxx col-sm-3" data-date-format="dd-mm-yyyy"><div class="uppercase text-muted"><span data-translate="hotel.search.header.checkindate"></span></div><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#checkindatec\').datepicker(\'show\');"></i> <input id="checkindatec" class="form-control" size="16" type="text" gtd-dual-date-picker end-id="checkoutdatec\n" is-start="true" max-date="hotel" min-date="hotel" readonly="readonly" required ng-model="$ctrl.searchOptions.hotelSearchFilter.checkin_date"></div></div><div class="header-date-boxx col-sm-3" data-date-format="dd-mm-yyyy"><div class="uppercase text-muted"><span data-translate="hotel.search.header.checkoutdate"></span></div><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#checkoutdatec\').datepicker(\'show\');"></i> <input id="checkoutdatec" class="form-control" size="16" type="text" gtd-dual-date-picker start-id="checkindatec" max-date="hotel" min-date="hotel" readonly="readonly" required ng-model="$ctrl.searchOptions.hotelSearchFilter.checkout_date"></div></div><div class="header-date-boxx col-sm-4 hand"><div class="uppercase text-muted"><span data-translate="hotel.search.header.noroom"></span></div><div class="label-outline label-outline-hotel grey text-center" style="padding: 4px 10px; background: white" ng-click="$ctrl.openChooseRoomDetail();"><span class="">{{ $ctrl.paxDetail.roomQuantity }} {{ "hotel.search.header.room" | translate }}, </span><span class="">{{ $ctrl.paxDetail.adultQuantity }} {{ "hotel.search.header.adult" | translate }}, </span><span class="">{{ $ctrl.paxDetail.childQuantity }} {{ "hotel.search.header.children" | translate }} </span><span class="fa fa-pencil-square-o pull-right padding-top-5"></span></div></div><div class="header-passenger-boxx col-sm-2"><div><span>&nbsp;</span></div><div class="uppercase"><button class="btn gtd-btn-default gtd-btn-small btn-header-search" type="submit" style="width:100%; padding: 0px 20px" ng-click="$ctrl.doSearchImpl()"><!--<span class="uppercase fa fa-search">&nbsp;--> <span class="uppercase" data-translate="hotel.search.header.change"></span></button></div></div></div></div></div></form>'), e.put("app/components/hotel/hotel-detail-header.html", '<div class="tile-container"><div class="left-zone"><div class="hotel-name"><span class="hotel-name-text">{{$ctrl.hotelModel.hotelMeta.name}}</span>&nbsp; <span class="hotel-name-icon fa fa-star" ng-repeat="i in [$ctrl.hotelModel.hotelMeta.stars] | makeRange"></span> <span class="hotel-name-icon fa fa-star fa-star-half-o" ng-repeat="i in [$ctrl.hotelModel.hotelMeta.stars] | halfRange"></span></div><div class="hotel-location"><!--<span class="fa fa-map-marker"></span>--><!--<span>{{$ctrl.hotelModel.hotelMeta.address}}</span>--> <img src="content/images/location-on-map-0adae3ed8e.png" class="fa-image-icon">&nbsp; <span class="">{{$ctrl.hotelModel.hotelMeta.address}}</span></div><!-- <div class="hotel-features-icons">\n            <img class="hotel-feature-icon"\n                 ng-if="!$ctrl.getFacility(facility).startsWith(\'fa-\')"\n                 ng-repeat="facility in $ctrl.hotelModel.displayAmentities"\n                 ng-src="../../../content/images/hotel-free-{{$ctrl.getFacility(facility)}}-icon.svg"/>\n\n            <span class="hotel-feature-icon fa {{$ctrl.getFacility(facility)}}"\n                  ng-if="$ctrl.getFacility(facility).startsWith(\'fa-\')"\n                  ng-repeat="facility in $ctrl.hotelModel.displayAmentities"></span>\n            <span class=""\n                  ng-repeat="facility in $ctrl.hotelModel.selectedAmentities">{{facility}}&nbsp; </span>\n        </div> --></div><div style="margin-left: 5px" class="right-zone" ng-if="$ctrl.hotelModel.products && $ctrl.hotelModel.products.length > 0"><a class="clickable"><span class="btn btn-red" ng-click="$ctrl.goToReserve()">{{\'hotel.search.result.book\' | translate}}</span></a></div><div class="right-zone" ng-if="$ctrl.hotelModel.products && $ctrl.hotelModel.products.length > 0"><div class="booking-text-centre"><button class="btn btn-info hotel-border" data-tippy-content="Tooltip" ng-click="$ctrl.openMapPlaceAround()"><span class="fa fa-map-marker"></span></button></div></div><!-- <div class="right-zone" ng-if="$ctrl.hotelModel.products && $ctrl.hotelModel.products.length > 0">\n            <div class="booking-text-centre">\n                    <a class="clickable btn hotel-border" ><i class="fa fa-heart"></i></a>    \n            </div>\n        </div> --><div class="right-zone" ng-if="$ctrl.hotelModel.products && $ctrl.hotelModel.products.length > 0"><div class="booking-text-centre"><button class="btn btn-info hotel-border" ng-click="$ctrl.openShareModal()"><span class="fa fa-share-alt"></span></button></div></div></div><div class="header-seperator"></div><div class="modal fade text-center" id="modal-share" tabindex="-1" role="dialog" aria-labelledby="hotelShareModal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button><h3 class="modal-title" id="hotelShareModal">{{\'hotel.search.social.share\' | translate}}</h3><div class="header-seperator"></div><!-- <li><a href="https://www.facebook.com/sharer/sharer.php?u={{$ctrl.shareUrl}}" title="Share on Facebook" target="_blank" class="btn btn-facebook"><i class="icon-facebook"></i> Share on Facebook</a></li>\n                <li><a href="https://twitter.com/intent/tweet?text=Twitter Text&amp;url={{$ctrl.shareUrl}}" title="Share on Twitter" target="_blank" class="btn btn-twitter"><i class="icon-twitter"></i> Share on Twitter</a></li>\n                <li><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url={{$ctrl.shareUrl}}&amp;title=LinkedIn%20Title&amp;summary=LinkedIn%20Summary&amp;source={{$ctrl.shareUrl}}" title="Share on LinkedIn" target="_blank" class="btn btn-linkedin"><i class="icon-linkedin"></i> Share on LinkedIn</a></li>\n                <li><a href="mailto:?subject=Email Subject" title="Share via Email" class="btn btn-email"><i class="icon-mail"></i> Share via Email</a></li> --><div class="social-btns"><a class="social-btn facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u={{$ctrl.shareUrl}}"><i class="fa fa-facebook"></i></a> <a class="social-btn twitter" target="_blank" href="https://twitter.com/intent/tweet?text=Twitter Text&amp;url={{$ctrl.shareUrl}}"><i class="fa fa-twitter"></i></a><!-- <a class="social-btn google " href="#"><i class="fa fa-google"></i></a> --> <a class="social-btn linkedin" target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&amp;url={{$ctrl.shareUrl}}&amp;title=LinkedIn%20Title&amp;summary=LinkedIn%20Summary&amp;source={{$ctrl.shareUrl}}"><i class="fa fa-linkedin"></i></a><!-- <a class="social-btn dribbble " href="#"><i class="fa fa-dribbble"></i></a> --><!-- <a class="social-btn skype" ng-click="$ctrl.copyStringToClipboard()"><i class="fa fa-skype"></i></a> --></div><div class="header-seperator"></div></div></div></div></div>'), e.put("app/components/hotel/hotel-detail-image-full.html", '<div class="hotel-detail-image-full"><div class="modal-body"><div class="image-map-zone image-full-zone"><div class="col-md-12 title"><span class="">{{vm.productModel.roomDescription}}</span></div><div class="image-zone col-md-7"><div class="demo"><ul id="lightSliderdetail"><li data-thumb="{{img}}" gtd-light-gallery ng-repeat="img in vm.productModel.images"><!--<img src="../../../content/images/demo/hotel0-6370686704.png" />--> <img ng-src="{{img}}"></li></ul></div></div><div class="room-description-zone col-md-5 hidden-sm hidden-xs"><div ng-bind-html="vm.productModel.roomLongDescription" class="roomLongDescription"></div></div></div><div class="close-button" ng-click="vm.cancel()"><span class="fa fa-times-circle-o"></span></div></div></div>'), e.put("app/components/hotel/hotel-detail-image.html", '<!-- <div class="">\n    <div class="image-zone col-md-8 no-padding-left no-padding-right">\n        <div class="demo">\n            <ul id="lightSlider">\n                <li\n                    gtd-light-gallery\n                    ng-repeat="img in $ctrl.hotelModel.hotelImages"\n                    data-thumb="{{ img.orginal }}"\n                >\n                    <img ng-src="{{ img.orginal }}" />\n                </li>\n            </ul>\n        </div>\n    </div>\n    <div id="hotel_template_hover" style="display: none">\n        <div class="porlet small_hotel_template_hover">\n            <div class="portlet-body">\n                <div class="hotel-info-horizontal">\n                    <div class="hotel-image">\n                        <img\n                            class="hotel-image-icon"\n                            src="{{ $ctrl.hotelModel.hotelMeta.image }}"\n                        />\n                    </div>\n                    <div class="hotel-description">\n                        <div class="line small-name">\n                            <span class="hotel-name-text">{{\n                                $ctrl.hotelModel.hotelMeta.name\n                            }}</span\n                            >&nbsp;\n                        </div>\n                        <div class="line">\n                            <span\n                                class="hotel-name-icon fa fa-star"\n                                ng-repeat="s in [$ctrl.hotelModel.hotelMeta.stars] | makeRange"\n                            ></span>\n                        </div>\n                        <div>\n                            <span>{{\n                                "hotel.search.result.from" | translate\n                            }}</span>\n                            <span class="price-text">{{\n                                $ctrl.hotelModel.products | hotelprice | number\n                            }}</span>\n                            <span> VNĐ</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div> --><!-- Swiper --><div class="swiper-container"><div class="swiper-wrapper"></div><!-- Add Pagination --><div class="swiper-pagination swiper-pagination-white"></div><!-- Navigation --><div class="swiper-button-next swiper-button-white"></div><div class="swiper-button-prev swiper-button-white"></div></div><div class="image-list"><div class="image-list__gallery gtd-border"><div ng-repeat="image in $ctrl.hotelModel.hotelImages | limitTo: $ctrl.limitImage" ng-class="{\'image-list__active\' : $ctrl.currentImage ===  ($index + 1)}" ng-click="$ctrl.changeImage($index + 1)" class="image-list__placeholder" ng-style="{\'background-image\':\'url({{ image.orginal }})\'}"></div><button ng-if="$ctrl.hotelModel.hotelImages.length>10 && !$ctrl.isShowingMoreImage" ng-click="$ctrl.toggleShowMoreImage()" style="width: 110px" class="btn image-list__more-button gtd-btn-default">{{ "flight.search.advsearch.viewall" | translate }} {{ $ctrl.hotelModel.hotelImages.length }} {{ "hotel.search.result.pic" | translate }}</button> <button ng-if="$ctrl.hotelModel.hotelImages.length>10 && $ctrl.isShowingMoreImage" ng-click="$ctrl.toggleShowMoreImage()" style="width: 110px" class="btn image-list__more-button gtd-btn-default">{{ "flight.search.advsearch.collapse" | translate }}</button></div></div><script></script><style>.swiper-container {\n        width: 100%;\n        height: 500px;\n    }\n    .swiper-slide {\n        text-align: center;\n        font-size: 18px;\n        background: #000;\n    }\n\n    .swiper-slide img {\n        width: auto;\n        height: auto;\n        max-width: 100%;\n        max-height: 100%;\n        -ms-transform: translate(-50%, -50%);\n        -webkit-transform: translate(-50%, -50%);\n        -moz-transform: translate(-50%, -50%);\n        transform: translate(-50%, -50%);\n        position: absolute;\n        left: 50%;\n        top: 50%;\n    }</style>'), e.put("app/components/hotel/hotel-detail-info.html", '<div class=""><div class="header hotel-name-text"><span>{{\'hotel.search.result.hotelinfo\' | translate}} {{$ctrl.hotelModel.hotelMeta.name}}</span></div><div class="row-seperator"></div><div class="row"><div class="col-md-3"><span class="label-title">{{\'hotel.search.result.des\' | translate}}</span></div><div class="col-md-9"><div class="label-content" ng-bind-html="$ctrl.hotelModel.hotelMeta.shortDescription"></div></div></div><div class="row-seperator"></div><div class="row"><div class="col-md-3"><span class="label-title">{{\'hotel.search.result.amen\' | translate}}</span></div><div class="col-md-9"><div class="row"><div ng-repeat="product in $ctrl.hotelModel.hotelMeta.amentities"><div class="clearfix" ng-if="$index % 3 == 0"></div><div class="col-md-4 label-content">{{product.name}}</div></div></div></div></div><div class="row-seperator"></div><div class="row"><div class="col-md-3"><span class="label-title">{{\'hotel.search.result.checkinout\' | translate}}</span></div><div class="col-md-9"><div class="row"><div class="row col-md-6"><div class="label-title col-md-12">{{\'hotel.search.result.checkin\' | translate}}</div><div class="col-md-12"><span>{{$ctrl.hotelModel.hotelMeta.checkIn}}</span> <span ng-if="$ctrl.hotelModel.hotelMeta.checkinEndTime">- </span><span>{{$ctrl.hotelModel.hotelMeta.checkinEndTime}}</span></div></div><div class="row col-md-6"><div class="label-title col-md-12">{{\'hotel.search.result.checkout\' | translate}}</div><div class="col-md-12"><span>{{$ctrl.hotelModel.hotelMeta.checkOut}}</span></div></div></div><div class="row"><div class="row col-md-12" ng-if="$ctrl.hotelModel.checkInInstructions"><div class="label-title col-md-12">{{\'hotel.search.result.check-in-instructions\' | translate}}</div><div class="col-md-12"><div class="label-content" ng-bind-html="$ctrl.hotelModel.checkInInstructions"></div></div></div></div><div class="row"><div class="row col-md-12" ng-if="$ctrl.hotelModel.specialCheckInInstructions"><div class="label-title col-md-12">{{\'hotel.search.result.special-check-in-instructions\' | translate}}</div><div class="col-md-12"><div class="label-content" ng-bind-html="$ctrl.hotelModel.specialCheckInInstructions"></div></div></div></div><div class="row"><div class="row col-md-12" ng-if="$ctrl.hotelModel.hotelMeta.minAgeCheckIn"><div class="label-title col-md-12">{{\'hotel.search.result.min-age-check-in\' | translate}}</div><div class="col-md-12"><div class="label-content" ng-bind-html="$ctrl.hotelModel.hotelMeta.minAgeCheckIn"></div></div></div></div></div></div><div class="row-seperator"></div><div class="row"><div class="col-md-3"><span class="label-title">{{\'hotel.search.result.poli\' | translate}}</span></div><div class="col-md-9"><div class="col-md-12 label-content" ng-bind-html="$ctrl.hotelModel.products[0].policyString"></div></div></div><div class="row-seperator" style="margin-bottom: 0px; height: 0px"></div></div>'), e.put("app/components/hotel/hotel-detail-map-full.html", '<div class="hotel-detail-map-full"><div class="modal-body hotel-map-modal"><!-- <div class="hotel-search-adv filter">\n            <gtd-hotel-search-adv></gtd-hotel-search-adv>\n        </div> --><div class="result"><div ng-mouseenter="vm.onHoverHotelItem(hotel)" ng-mouseleave="vm.outHoverHotelItem(hotel)" ng-repeat="hotel in vm.hotels" style="margin-bottom: 10px; display: flex" class="hotel-info-horizontal gtd-shadow bg-white hotel-map-item"><div class="hotel-image"><img class="hotel-image-icon" src="{{ hotel.hotelMeta.image }}"></div><div class="hotel-description"><div class="line"><span class="hotel-name-text">{{ hotel.hotelMeta.name }}</span>&nbsp;</div><div class="line"><span class="hotel-name-icon fa fa-star" ng-repeat="s in [hotel.hotelMeta.stars] | makeRange"></span> <span class="hotel-name-icon fa fa-star fa-star-half-o" ng-repeat="s in [hotel.hotelMeta.stars] | halfRange"></span></div><div><span>{{ "hotel.search.result.from" | translate }}</span> <span class="price-text">{{ hotel.products | hotelprice | number }}</span> <span>VNĐ</span></div></div></div></div><div class="map"><div id="gmap-full-zone" style="width: 100%; height: 100%"></div></div><div class="close-button" ng-click="vm.cancel()"><div class="close-dialog"></div></div></div></div><div id="hotel_template_hover" style="display: none"><div class="porlet"><div class="portlet-body"><div class="hotel-info-horizontal"><div class="hotel-image"><img class="hotel-image-icon" src="{{ hotelModel.hotelMeta.image }}"></div><div class="hotel-description"><div class="line"><span class="hotel-name-text">{{ hotelModel.hotelMeta.name }}</span>&nbsp;</div><div class="line"><span class="hotel-name-icon fa fa-star" ng-repeat="s in [hotelModel.hotelMeta.stars] | makeRange"></span> <span class="hotel-name-icon fa fa-star fa-star-half-o" ng-repeat="s in [hotelModel.hotelMeta.stars] | halfRange"></span></div><div><span>{{ "hotel.search.result.from" | translate }}</span> <span class="price-text">{{ hotelModel.products | hotelprice | number }}</span> <span>VNĐ</span></div></div></div></div></div></div><div id="hotel_template_click" style="display: none"><div class="porlet"><div class="portlet-body"><div class="hotel-info-vertical"><div class="hotel-image line"><ul id="lightSlider"><li data-thumb="{{ img.orginal }}" ng-repeat="img in vm.selectedhoteldetail.hotelImages"><img ng-src="{{ img.orginal }}"></li></ul><!--<img class="hotel-image-icon" src="{{vm.selectedhoteldetail.hotelMeta.image}}"/>--></div><div class="hotel-description"><div class="line"><span class="hotel-name-text"><strong>{{ vm.selectedhoteldetail.hotelMeta.name }}</strong></span>&nbsp;</div><div class="line"><span class="hotel-name-icon fa fa-star" ng-repeat="s in [vm.selectedhoteldetail.hotelMeta.stars] | makeRange"></span> <span class="hotel-name-icon fa fa-star fa-star-half-o" ng-repeat="s in [vm.selectedhoteldetail.hotelMeta.stars] | halfRange"></span> <span class="rate-total">({{ vm.selectedhotel.hotelMeta.stars }}/5)</span></div><div class="line"><span>{{ vm.selectedhotel.hotelMeta.address }}</span></div><div class="line check-in-instructions" ng-if="vm.selectedhoteldetail.checkInInstructions || vm.selectedhoteldetail.specialCheckInInstructions"><div ng-bind-html="vm.selectedhoteldetail.checkInInstructions"></div><div ng-bind-html="vm.selectedhoteldetail.specialCheckInInstructions"></div></div><div class="line"><span>{{ "hotel.search.result.from" | translate }}</span> <span class="price-text">{{ vm.selectedhoteldetail.products | hotelprice | number }}</span> <span>VNĐ</span></div><div class="line margin-right-15 booking-text-centre margin-bottom-5"><a class="clickable"><span class="btn btn-red" ng-click="vm.bookingClicked(vm.selectedhotel)">{{ "hotel.search.result.choose" | translate }}</span></a></div></div></div></div></div><div class="close-dialog-button" ng-click="vm.close()"><div class="close-dialog"></div></div></div>'), e.put("app/components/hotel/hotel-detail-recent.html", '<div class=""><div class="header"><div class="hotel-name"><span class="hotel-name-text">Khách sạn bạn đã xem</span>&nbsp;</div></div><div class="hotel-list-wrapper"><div class="hotel-item" ng-repeat="item in $ctrl.recentHotels"><div class="img-icon-zone"><img class="img-icon" src="{{item.hotelMeta.image}}"></div><div class="hotel-desc-zone"><div class="hotel-name">{{item.hotelMeta.name}}</div><div class=""><span ng-repeat="rate in [item.hotelMeta.stars] | makeRange" class="fa fa-star"></span> <span ng-repeat="rate in [item.hotelMeta.stars] | halfRange" class="fa fa-star fa-star-half-o"></span>&nbsp; <span><b>{{item.hotelMeta.stars}}</b>/5 Tốt</span></div><div class="price-zone"><span>{{\'hotel.search.result.from\'| translate}} </span><span class="price-text gtd-h5">{{item.products | hotelprice | number}} </span><span>VNĐ</span></div></div></div></div><div class="last-div-seperator"></div></div>'), e.put("app/components/hotel/hotel-detail-room.html", '<div class="hotel-detail-room bg-white hotel-padding hotel-border-radius hotel-border"><div class="room-table-header room-table-row row no-margin"><div class="col-sm-6 col-xs-12 uppercase detail-border-right padding-left-15 padding-top-15">{{ "hotel.search.result.type" | translate }}</div><div class="col-sm-3 hidden-xs col-price detail-border-right padding-left-15 padding-top-15 uppercase">{{ "hotel.search.result.opt" | translate }}</div><div class="col-sm-3 hidden-xs col-price padding-left-15 padding-top-15 uppercase">{{ "hotel.search.result.pricefrom2" | translate }}</div></div><div class="row-seperator" style="margin-bottom: 0px"></div><div class="room-table-n" ng-repeat="feature in $ctrl.hotelModel.products"><div class="room-table-row row"><div class="col-sm-6 col-xs-8 col-img"><div class="col-xs-4 no-margin-left no-margin-right no-padding-left no-padding-right"><img ng-src="{{ feature.image }}" class="hotel-img-logo-x margin-10"><!-- <div\n                        class="text-underlined hand margin-bottom-10 gtd-h6"\n                        style="text-align: center"\n                        ng-click="$ctrl.openFullHotelImages(feature)"\n                    >\n                        <span\n                            >{{ "hotel.search.result.more" | translate }}\n                            <span class="r-more-img">{{\n                                "hotel.search.result.pic" | translate\n                            }}</span></span\n                        >\n                    </div> --></div><div class="col-xs-8"><div class="pop-add-info padding-t-10"><div class="bold margin-top-5 margin-bottom-5 name-room-item">{{ feature.roomDescription }}</div><div class="info-item"><div ng-repeat="desc in feature.arrDesc"><!-- <span class="desc-room{{$index}}" ng-if="desc">{{desc}}</span> --> <span class="desc-room-bg" ng-if="$index==0 && desc"></span></div><div class="quantity"><span>{{ "hotel.search.loading.room" | translate }} {{ feature.adultQuantity }} {{ "hotel.search.header.guest" | translate }}, </span><span>{{ feature.childQuantity }} {{ "hotel.search.header.children" | translate }}</span></div></div><div class="red-text"><span ng-if="feature.allowHold">{{ "hotel.search.result.book1" | translate }}</span> <span ng-if="!feature.allowHold">{{ "hotel.search.result.pay" | translate }}</span></div><a class="flight-detail-text gtd-h6" style="text-decoration: none" tabindex="0" ng-click="$ctrl.openFullHotelImages(feature)"><span class="fa fa-info-circle text-color3-em"></span> <span class="text-color3-em">{{ "hotel.search.result.more1" | translate }}</span></a></div><!--<div ng-bind-html="feature.roomLongDescription"></div>--></div></div><div class="col-xs-3 hidden-xs"><div class="padding-t-10"><div class="margin-top-5" ng-if="!feature.nonRefundable"><div class="red-text">{{ "hotel.search.result.change" | translate }} <button style="width: 23px; height: 23px" class="hotel-tippy-allow-hold btn btn-circle gtd-btn-default btn-xs" ng-mouseover="$ctrl.showTooltipAllowHold(feature, $index)"><span class="fa fa-question"></span></button></div></div><div class="margin-top-5" ng-if="feature.nonRefundable"><img class="hotel-feature-icon" ng-src="../../../content/images/free-69343074a6.svg"> <span>{{ "hotel.search.result.cancelto" | translate }}<br>{{ feature.listDeadline[0].deadline | date: "dd-MM-yyyy HH:mm" }} ({{"hotel.search.result.hotel-localtime" | translate}})</span> <button style="width: 23px; height: 23px" class="hotel-tippy-allow-hold btn btn-circle gtd-btn-default btn-xs" ng-mouseover="$ctrl.showTooltipAllowHold(feature, $index)"><span class="fa fa-question"></span></button></div><div ng-repeat="additionalInfo in feature.additionInfos" class="hotel-features-icons"><img class="hotel-feature-icon" ng-if="!$ctrl.getFacility(additionalInfo).startsWith(\'fa-\')" ng-src="../../../content/images/hotel-free-{{\n                                $ctrl.getFacility(additionalInfo)\n                            }}-icon.svg"> <span class="hotel-feature-icon fa {{ $ctrl.getFacility(additionalInfo) }}" ng-if="$ctrl.getFacility(additionalInfo).startsWith(\'fa-\')"></span> <span class="">{{ additionalInfo }}</span></div></div></div><div class="col-sm-3 col-xs-4 col-price centre" style="text-align: right"><div class="margin-top-10 margin-right-15 hidden-xs" ng-if="feature.promo"><span class="label label-color3" style="font-weight: 400">{{ "hotel.search.result.promo" | translate }}</span></div><div class="margin-right-15" ng-if="feature.promo"><span class="bold"><del>{{ feature.priceBeforPromo | number }}</del></span> <span>VNĐ</span></div><div class="col-action-item margin-right-15" ng-class="{\'margin-top-5\': !feature.promo}"><span class="text-bold price-text">{{ feature.price | number }}</span> <span>VNĐ</span><br><span class="text-message">{{ "hotel.search.result.not-include-fee" | translate }}</span></div><div class="col-action-item margin-right-15 pop-tax" ng-if="feature.rooms.length > 0"><a class="flight-detail-text hotel-surcharge-tippy" style="text-decoration: none" tabindex="0" ng-mouseover="$ctrl.showSurchargesTooltip(feature.rooms[0].ratesPerNight, $index)"><span class="fa fa-info-circle text-muted"></span> <span class="text-muted text-italic">{{ "hotel.search.result.taxfee" | translate }}</span></a></div><div class="col-action-item margin-right-15 booking-text-centre margin-bottom-5"><a class="clickable" ng-disabled="!feature.quantityAvaliable || feature.quantityAvaliable <= 0"><span class="btn btn-red" ng-disabled="!feature.quantityAvaliable || feature.quantityAvaliable <= 0" ng-click="$ctrl.bookingClicked(feature, item)">{{ "hotel.search.result.book" | translate }}</span></a></div><div class="col-action-item margin-bottom-10 margin-right-15"><span class="text-bold red-text">{{ "hotel.search.result.only" | translate }} {{ feature.quantityAvaliable | number }} {{ "hotel.search.result.room1" | translate }} <span class="hidden-xs">{{ "hotel.search.result.room2" | translate }}</span></span></div></div></div></div></div><div id="surcharges-detail" style="display: none"><strong>Bolded content</strong></div>'), e.put("app/components/hotel/hotel-detail-simillar.html", '<div class=""><div class="header"><div class="hotel-name"><span class="hotel-name-text">Khách sạn cùng khu vực</span>&nbsp;</div></div><div class="hotel-list-wrapper"><div class="hotel-item" ng-repeat="item in $ctrl.hotelModel.sameLocHotels"><div class="img-icon"><img class="img-icon" src="{{item.hotelContent.images[0].original}}"></div><div class="hotel-desc-zone"><div class="hotel-name">{{item.hotelMetadata.name}}</div><div class=""><span ng-repeat="rate in [item.hotelContent.stars] | makeRange" class="fa fa-star"></span> <span ng-repeat="rate in [item.hotelContent.stars] | halfRange" class="fa fa-star fa-star-half-o"></span></div><div class=""><span><b>{{item.hotelContent.stars}}</b>/5 Tốt</span></div><div class="seperator"></div><div class="price-zone"><span>{{\'hotel.search.result.from\'| translate}}</span> <span class="price-text">{{item.products | hotelprice}} </span><span>VNĐ</span></div></div></div></div><div class="row-seperator"></div></div>'), e.put("app/components/hotel/hotel-detail-view.html", '<div class="portlet"><div class="portlet-body"><!-- BEGIN FORM--><div class="hotel-detail-table-wrapper"><table class="hotel-detail-table"><tr class="hotel-detail-table-row"><td class="hotel-detail-table-cell-title">Bed Type</td><td class="hotel-detail-table-cell-value">Queen-size or larger</td></tr><tr class="hotel-detail-table-row"><td class="hotel-detail-table-cell-title">Extra Bed</td><td class="hotel-detail-table-cell-value">Extra bed not available</td></tr><tr class="hotel-detail-table-row"><td class="hotel-detail-table-cell-title">Check in</td><td class="hotel-detail-table-cell-value">After 14:00</td></tr><tr class="hotel-detail-table-row"><td class="hotel-detail-table-cell-title">Checkout</td><td class="hotel-detail-table-cell-value">Before 12:00</td></tr><tr class="hotel-detail-table-row"><td colspan="2" class="hotel-detail-table-cell-base">Không hoàn huỷ</td></tr><tr class="hotel-detail-table-row"><td colspan="2" class="hotel-detail-table-cell-base">Xác nhận trong vòng 1 giờ</td></tr></table></div><!-- END FORM--></div></div>'), e.put("app/components/hotel/hotel-fee-view.html", '<div class="portlet" style="border: none;background: #ffffff;margin-bottom: 0px;font-size: 12px"><div class="portlet-body"><!-- BEGIN FORM--><div class="fee-popup margin-10"><div class="row" ng-repeat="item in argument"><div class="col-xs-7">{{item.description}}</div><div class="col-xs-5">{{item.amount | number}} VNĐ</div></div><!--<div class="row">--><!--<div class="col-xs-7">--><!--<span class="text-bold">Thuế tiêu dùng</span>--><!--<br/>--><!--<span class="text-italic">(Đã bao gồm trong giá phòng)</span>--><!--</div>--><!--<div class="col-xs-5">261.000 VNĐ</div>--><!--</div>--></div><!-- END FORM--></div></div>'), e.put("app/components/hotel/hotel-info.html", '<div class="header-table"><div class="row header-table-row padding-5 flight-info-header-curve"><div class="col-xs-1 header-table-base"><span class="fa fa-hotel icon-text"></span></div><div class="col-xs-3 header-table-base text-bold hearder-border-right">{{\'hotel.search.result.hotel\' | translate}}</div><div class="col-xs-4 header-table-base text-capitalize hearder-border-right text-bold">{{$ctrl.jsonmodel.bookingDate | momentdate: \'localhourdate\'}}</div><!--<ng-switch on="ctrl.jsonmodel.bookingInfo.supplierBookingStatus == \'CONFIRMED\'">--><!--<div class="col-sm-6 header-table-col4" ng-switch-when="true">--><!--Mã Booking <span class="refno-text">{{$ctrl.jsonmodel.bookingInfo.passengerNameRecords}}</span>--><!--</div>--><!--&lt;!&ndash;<div class="col-sm-6 header-table-col4" ng-switch-default>&ndash;&gt;--><!--&lt;!&ndash;Mã Booking <span class="refno-text">{{$ctrl.jsonmodel.bookingInfo.passengerNameRecords}}</span>&ndash;&gt;--><!--&lt;!&ndash;</div>&ndash;&gt;--><!--</ng-switch>--><div class="col-xs-4 header-table-base bookingCode-space">{{\'hotel.search.result.code\' | translate}}:&nbsp; <span class="refno-text text-bold">{{$ctrl.jsonmodel.bookingInfo.passengerNameRecords}}</span></div></div><div class="row detail-table-row bg-color2" style="padding-top:10px; padding-bottom:10px"><div class="col-sm-12 hotel-name"><span class="hotel-name-text text-bold">{{$ctrl.jsonmodel.hotelAvailability.hotelMeta.name}}</span>&nbsp; <span ng-repeat="i in [$ctrl.jsonmodel.hotelAvailability.hotelMeta.stars] | makeRange" class="hotel-name-icon fa fa-star"></span> <span ng-repeat="i in [$ctrl.jsonmodel.hotelAvailability.hotelMeta.stars] | halfRange" class="hotel-name-icon fa fa-star fa-star-half-o"></span></div><div class="col-sm-12 hotel-name"><img src="content/images/location-on-map-0adae3ed8e.png" class="fa-image-icon">&nbsp; <span>{{$ctrl.jsonmodel.hotelAvailability.hotelMeta.address}}</span></div><div class="row no-margin-left no-margin-right detail-table"><div class="col-sm-3"><div class="hotel-image margin-top-10 margin-bottom-10" style="height: unset"><img class="hotel-image-icon" src="{{$ctrl.jsonmodel.hotelAvailability.hotelMeta.image}}" style="width:90%"></div></div><div class="col-sm-9 no-padding-left"><div class="col-sm-4">{{\'hotel.search.result.address\'|translate}}</div><div class="col-sm-8">{{$ctrl.jsonmodel.hotelAvailability.hotelMeta.address}}</div><div class="col-sm-4">{{\'hotel.search.header.checkindate\' | translate}}</div><div class="col-sm-8">{{$ctrl.jsonmodel.hotelAvailability.checkIn | momentdate: \'\' : \'DD-MM-YYYY\'}} : {{$ctrl.jsonmodel.hotelAvailability.hotelMeta.checkIn}}</div><div class="col-sm-4">{{\'hotel.search.header.checkoutdate\' | translate}}</div><div class="col-sm-8">{{$ctrl.jsonmodel.hotelAvailability.checkOut | momentdate: \'\' : \'DD-MM-YYYY\'}} : {{$ctrl.jsonmodel.hotelAvailability.hotelMeta.checkOut}}</div><div class="col-sm-4">{{\'hotel.search.header.detail\' | translate}}</div><div class="col-sm-8">{{$ctrl.jsonmodel.hotelAvailability.products[0].rooms.length}} <span gtd-popover gtd-template-path="app/components/hotel/hotel-detail-view.html">{{$ctrl.jsonmodel.hotelAvailability.products[0].rooms[0].roomCategory}}</span></div><div class="col-sm-4">{{\'hotel.search.header.room\' | translate}}</div><div class="col-sm-8"><!--class="room-type-link hand"--> <span>{{$ctrl.jsonmodel.bookingInfo.transactionInfos[0].noAdult}} {{\'hotel.search.header.adult\' | translate}}</span> <span ng-if="$ctrl.jsonmodel.bookingInfo.transactionInfos[0].noChild>0">{{$ctrl.jsonmodel.bookingInfo.transactionInfos[0].noChild}} {{\'hotel.search.header.children\' | translate}}</span></div></div></div><!--<div class="hotel-features-icons" style="margin-left: 15px">--><!--<span class="hotel-feature-icon" >--><!--<img src="../../../content/images/hotel-free-wifi-icon-9d21865a9e.png"/>--><!--&nbsp; Free Wifi--><!--</span>--><!--<span class="hotel-feature-icon" >--><!--<img src="../../../content/images/hotel-free-gym-icon-ba10acf2ca.png"/>--><!--&nbsp; Có hồ bơi--><!--</span>--><!--</div>--><div class="row no-margin" style="width: 100%"><div style="margin: 10px 15px;background: #CCCCCC; height: 1px"></div></div><div class="row no-margin-left no-margin-right"><div colspan="col-xs-12"><span class="padding-left-15">{{\'hotel.search.result.contact\' | translate}}: &nbsp;</span> <span class="name-text">{{$ctrl.jsonmodel.bookingInfo.contactInfos[0].firstName}}&nbsp;{{$ctrl.jsonmodel.bookingInfo.contactInfos[0].surName}}</span></div></div><!--<td colspan="4">--><!--<table class="detail-table">--><!--&lt;!&ndash;<tr class="detail-table-row">&ndash;&gt;--><!--&lt;!&ndash;<td>&ndash;&gt;--><!--&lt;!&ndash;<div class="booking-hotel-info-wrapper">&ndash;&gt;--><!--&lt;!&ndash;&lt;!&ndash;<div class="hotel-name">&ndash;&gt;&ndash;&gt;--><!--&lt;!&ndash;&lt;!&ndash;<span class="hotel-name-text text-bold">{{$ctrl.selectedHotel.hotelCode}}</span>&nbsp;&ndash;&gt;&ndash;&gt;--><!--&lt;!&ndash;&lt;!&ndash;<span class="hotel-name-icon fa fa-star"></span>&ndash;&gt;&ndash;&gt;--><!--&lt;!&ndash;&lt;!&ndash;</div>&ndash;&gt;&ndash;&gt;--><!--&lt;!&ndash;&lt;!&ndash;<div class="hotel-location text-underlined">&ndash;&gt;&ndash;&gt;--><!--&lt;!&ndash;&lt;!&ndash;<span class="fa fa-map-marker"></span>&ndash;&gt;&ndash;&gt;--><!--&lt;!&ndash;&lt;!&ndash;<span>{{$ctrl.selectedHotel.destinationCode | destination}}</span>&ndash;&gt;&ndash;&gt;--><!--&lt;!&ndash;&lt;!&ndash;</div>&ndash;&gt;&ndash;&gt;--><!--&lt;!&ndash;<table class="hotel-table">&ndash;&gt;--><!--&lt;!&ndash;<tr>&ndash;&gt;--><!--&lt;!&ndash;<td rowspan="5">&ndash;&gt;--><!--&lt;!&ndash;<div class="hotel-image">&ndash;&gt;--><!--&lt;!&ndash;<img class="hotel-image-icon"&ndash;&gt;--><!--&lt;!&ndash;src="../../../content/images/hotel0-d1520dcb12.png"/>&ndash;&gt;--><!--&lt;!&ndash;</div>&ndash;&gt;--><!--&lt;!&ndash;</td>&ndash;&gt;--><!--&lt;!&ndash;<td class="title-cell">Địa điểm</td>&ndash;&gt;--><!--&lt;!&ndash;<td>{{$ctrl.selectedHotel.destinationCode | destination}}</td>&ndash;&gt;--><!--&lt;!&ndash;</tr>&ndash;&gt;--><!--&lt;!&ndash;<tr>&ndash;&gt;--><!--&lt;!&ndash;<td class="title-cell">Nhận phòng</td>&ndash;&gt;--><!--&lt;!&ndash;<td>{{$ctrl.selectedHotel.checkIn | momentdate}}</td>&ndash;&gt;--><!--&lt;!&ndash;</tr>&ndash;&gt;--><!--&lt;!&ndash;<tr>&ndash;&gt;--><!--&lt;!&ndash;<td class="title-cell">Trả phòng</td>&ndash;&gt;--><!--&lt;!&ndash;<td>{{$ctrl.selectedHotel.checkOut | momentdate}}</td>&ndash;&gt;--><!--&lt;!&ndash;</tr>&ndash;&gt;--><!--&lt;!&ndash;<tr>&ndash;&gt;--><!--&lt;!&ndash;<td class="title-cell">Thông tin đặt phòng</td>&ndash;&gt;--><!--&lt;!&ndash;<td>&ndash;&gt;--><!--&lt;!&ndash;&lt;!&ndash;2 Đêm,&ndash;&gt;&ndash;&gt;--><!--&lt;!&ndash;&lt;!&ndash;1 Phòng,&ndash;&gt;&ndash;&gt;--><!--&lt;!&ndash;{{$ctrl.selectedHotelRoom.pax.adultQuantity}} Người lớn&ndash;&gt;--><!--&lt;!&ndash;</td>&ndash;&gt;--><!--&lt;!&ndash;</tr>&ndash;&gt;--><!--&lt;!&ndash;<tr>&ndash;&gt;--><!--&lt;!&ndash;<td class="title-cell">Phòng</td>&ndash;&gt;--><!--&lt;!&ndash;<td>&ndash;&gt;--><!--&lt;!&ndash;<span class="room-type-link hand"&ndash;&gt;--><!--&lt;!&ndash;gtd-popover&ndash;&gt;--><!--&lt;!&ndash;gtd-template-path="app/components/hotel/hotel-detail-view.html"&ndash;&gt;--><!--&lt;!&ndash;&gt;{{$ctrl.selectedHotelRoom.roomCategory}}</span>&ndash;&gt;--><!--&lt;!&ndash;* 1&ndash;&gt;--><!--&lt;!&ndash;</td>&ndash;&gt;--><!--&lt;!&ndash;</tr>&ndash;&gt;--><!--&lt;!&ndash;</table>&ndash;&gt;--><!--&lt;!&ndash;<div class="hotel-features-icons">&ndash;&gt;--><!--&lt;!&ndash;<span class="hotel-feature-icon">&ndash;&gt;--><!--&lt;!&ndash;<img src="../../../content/images/hotel-free-wifi-icon-9d21865a9e.png"/>&ndash;&gt;--><!--&lt;!&ndash;&nbsp; Free Wifi&ndash;&gt;--><!--&lt;!&ndash;</span>&ndash;&gt;--><!--&lt;!&ndash;<span class="hotel-feature-icon">&ndash;&gt;--><!--&lt;!&ndash;<img src="../../../content/images/hotel-free-gym-icon-ba10acf2ca.png"/>&ndash;&gt;--><!--&lt;!&ndash;&nbsp; Có hồ bơi&ndash;&gt;--><!--&lt;!&ndash;</span>&ndash;&gt;--><!--&lt;!&ndash;</div>&ndash;&gt;--><!--&lt;!&ndash;</div>&ndash;&gt;--><!--&lt;!&ndash;</td>&ndash;&gt;--><!--&lt;!&ndash;</tr>&ndash;&gt;--><!--<tr class="detail-table-row">--><!--<td>--><!--<table style="width: 100%"><tr>--><!--<td class="colsp">&nbsp;</td>--><!--<td class="detail-table-footer-col">--><!--<span>Hành khách: &nbsp;</span>--><!--<span class="name-text">--><!--<span ></span>--><!--{{$ctrl.bookingModel.customers[0].cuFamilyName}}&nbsp;{{$ctrl.bookingModel.customers[0].cuName}}--><!--</span>--><!--</td>--><!--<td class="colsp">&nbsp;</td>--><!--</tr></table>--><!--</tr>--><!--</tr>--><!--</table>--><!--</td>--></div><!--<div class="row bg-color2 detail-table-row margin-left-m15">--><!--<div colspan="col-xs-12">--><!--<span class="padding-left-15">Hành khách: &nbsp;</span>--><!--<span class="name-text" ng-repeat="item in $ctrl.flightModel.travelerInfo.airTravelers">--><!--{{$ctrl.bookingModel.customers[0].cuFamilyName}}&nbsp;{{$ctrl.bookingModel.customers[0].cuName}}--><!--</span>--><!--</div>--><!--</div>--><div class="row header-table-row padding-5 flight-info-footer-curve"><div class="col-xs-12 header-table-base">{{\'global.menu.account.profiles.if\' | translate}}"<strong>{{\'global.menu.account.profiles.success\' | translate}}</strong>" {{\'global.menu.account.profiles.after\' | translate}}</div></div></div>'),
                e.put("app/components/hotel/hotel-pagination.component.html", '<div class="gtd-pagination"><!-- <nav aria-label="Page navigation" class="pager">\n        <ul class="hotel-truncate-pagination">\n            <li ng-class="{\'disabled\': vm.disablePrevious}" class="previous">\n                <a\n                    ng-click="vm.toFirst()"\n                    href="#"\n                    ng-disabled="vm.disablePrevious"\n                    ><span aria-hidden="true">&larr;</span> Trang đầu</a\n                >\n            </li>\n            <div\n                id="hotel-pagination"\n                style="display: inline-block; vertical-align: top"\n            >\n                <li\n                    ng-class="{\'active\': i === vm.currentpage, \'active-sibling\': i === vm.siblingPage}"\n                    ng-click="vm.changePage(i)"\n                    ng-repeat="i in vm.getNumber() track by $index"\n                >\n                    <a href="#">{{ i + 1 }}</a>\n                </li>\n            </div>\n\n            <li ng-class="{\'disabled\': vm.disableNext}" class="next">\n                <a href="#" ng-click="vm.toLast()" ng-disabled="vm.disableNext"\n                    >Trang cuối <span aria-hidden="true">&rarr;</span></a\n                >\n            </li>\n        </ul>\n    </nav> --><nav aria-label="Page navigation"><ul class="pager"><li ng-class="{\'disabled not-active\': (vm.currentPagination.page === 0 || vm.currentPagination.page === \'0\')}"><a ng-click="vm.previousPage()">Trước</a></li><li ng-class="{\'disabled not-active\': (vm.currentPagination.page === vm.currentPagination.totalPages - 1)}"><a ng-click="vm.nextPage()">Tiếp theo</a></li></ul></nav></div>'), e.put("app/components/hotel/hotel-place-around.html", '<div class="hotel-detail-map-full"><div class="modal-body hotel-map-modal"><div class="result bg-white"><div style="text-align: center;\n                padding: 10px;\n                position: sticky;\n                top: 0;\n                z-index: 1" class="bg-white hotel-shadow-2"><button class="btn btn-circle gtd-btn-default btn-lg" ng-click="vm.filterNearBy(vm.filterOptions.restaurant)"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="utensils" class="svg-inline--fa fa-utensils fa-w-13" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 416 512"><path fill="currentColor" d="M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"></path></svg></button> <button class="btn btn-circle gtd-btn-default btn-lg" ng-click="vm.filterNearBy(vm.filterOptions.bar)"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="glass-martini-alt" class="svg-inline--fa fa-glass-martini-alt fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M502.05 57.6C523.3 36.34 508.25 0 478.2 0H33.8C3.75 0-11.3 36.34 9.95 57.6L224 271.64V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40h-56V271.64L502.05 57.6zM443.77 48l-48 48H116.24l-48-48h375.53z"></path></svg></button> <button class="btn btn-circle gtd-btn-default btn-lg" ng-click="vm.filterNearBy(vm.filterOptions.coffee)"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="coffee" class="svg-inline--fa fa-coffee fa-w-20" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"></path></svg></button> <button class="btn btn-circle gtd-btn-default btn-lg" ng-click="vm.filterNearBy(vm.filterOptions.groceries)"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="shopping-basket" class="svg-inline--fa fa-shopping-basket fa-w-18" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M576 216v16c0 13.255-10.745 24-24 24h-8l-26.113 182.788C514.509 462.435 494.257 480 470.37 480H105.63c-23.887 0-44.139-17.565-47.518-41.212L32 256h-8c-13.255 0-24-10.745-24-24v-16c0-13.255 10.745-24 24-24h67.341l106.78-146.821c10.395-14.292 30.407-17.453 44.701-7.058 14.293 10.395 17.453 30.408 7.058 44.701L170.477 192h235.046L326.12 82.821c-10.395-14.292-7.234-34.306 7.059-44.701 14.291-10.395 34.306-7.235 44.701 7.058L484.659 192H552c13.255 0 24 10.745 24 24zM312 392V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm112 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24zm-224 0V280c0-13.255-10.745-24-24-24s-24 10.745-24 24v112c0 13.255 10.745 24 24 24s24-10.745 24-24z"></path></svg></button></div><div style="margin-top: 5px"><ul class="list-group"><li ng-click="vm.onClickHotelItem(item,vm.selectedType)" ng-repeat="item in vm.resultlst" ng-mouseenter="vm.onHoverHotelItem(item)" ng-mouseleave="vm.outHoverHotelItem(item)" class="list-group-item" ng-class="{\'active\': item.place_id === vm.selectedPlace.place_id}">{{ item.name }}</li></ul></div></div><div class="map"><div id="gmap-full-zone" style="width: 100%; height: 100%"></div></div><div class="close-button" ng-click="vm.cancel()"><div class="close-dialog"></div></div><div ng-if="vm.displayDetail" style="position: absolute; right: 0; bottom: 0" class="cards"><article class="card card--1 hotel-shadow-5"><div class="card__info-hover"><span ng-click="vm.closeDetail()" class="fa fa-times"></span><div class="card__clock-info"><span class="fa fa-star"></span> <span class="card__time">{{ vm.selectedPlace.rating }}</span></div></div><div class="card__img"></div><a class="card_link"><div class="card__img--hover" ng-style="{\'background-image\':\'url({{\n                            vm.selectedPlaceImage\n                        }})\'}"></div></a><div class="card__info"><span class="card__category">{{ vm.selectedPlaceType }}</span><h3 class="card__title">{{ vm.selectedPlace.name }}</h3><span class="card__by">distance <a href="#" class="card__author" title="author">{{ vm.selectedItemDistance }}</a></span></div></article></div></div></div>'), e.put("app/components/hotel/hotel-search-adv.html", '<div class="row hotel-border bg-white hotel-border-radius" style="margin-bottom: 25px"><div class="col-md-12 none-padding"><div class="search-filter"><div class="panel-header"><div translate="hotel.search.advsearch.sort"></div></div><div class="search-filter-divider none-margin"></div><div class="search-detail"><div class="row"><label class="radio col-xs-6 top-left"><input type="radio" name="gtdorder" value="price,asc" ng-model="$ctrl.sort"> <span translate="hotel.search.advsearch.lowestprice"></span></label><label class="radio col-xs-6 top-left"><input type="radio" name="gtdorder" value="price,desc" ng-model="$ctrl.sort"> <span translate="hotel.search.advsearch.highestprice"></span></label></div><div class="row"><label class="radio col-xs-6 top-left"><input type="radio" name="gtdorder" value="rate,asc" ng-model="$ctrl.sort"> <span translate="hotel.search.advsearch.lowestrating"></span></label><label class="radio col-xs-6 top-left"><input type="radio" name="gtdorder" value="rate,desc" ng-model="$ctrl.sort"> <span translate="hotel.search.advsearch.highestrating"></span></label></div><div class="row"><label class="radio col-xs-6 top-left"><input type="radio" name="gtdorder" value="name,asc" ng-model="$ctrl.sort"> <span translate="hotel.search.advsearch.nameaz"></span></label><label class="radio col-xs-6 top-left"><input type="radio" name="gtdorder" value="name,desc" ng-model="$ctrl.sort"> <span translate="hotel.search.advsearch.nameza"></span></label></div></div></div></div></div><div class="row hotel-border bg-white hotel-border-radius"><div class="col-md-12 none-padding"><div class="search-filter"><div class="panel-header" style="display: flex"><div translate="hotel.search.advsearch.filter"></div><div style="margin-left: auto"><button ng-if="$ctrl.enableReset" ng-click="$ctrl.resetClick()" type="button" class="btn btn-warning btn-circle gtd-shadow"><i class="fa fa-refresh"></i></button></div></div><div class="search-filter-divider none-margin"></div><div class="search-detail"><div><span class="search-label-text" translate="hotel.search.advsearch.hotelname"></span></div><div class="search-detail input-group none-padding"><input type="text" class="hotel-tf form-control" ng-model="$ctrl.hotelName" ng-disabled="$ctrl.formDisabled" ng-keyup="$event.keyCode == 13 ? $ctrl.filterByName($ctrl.hotelName) : null"> <span class="input-group-btn hotel-btn"><button class="btn" ng-click="$ctrl.filterByName()" ng-disabled="$ctrl.formDisabled"><span data-translate="hotel.search.header.search"></span></button></span></div></div><div class="gtd-accordion"><ul><!-- START PRICE --><li><input type="checkbox"> <i></i><h2 translate="hotel.search.advsearch.price"></h2><div class="content"><div class="mt-checkbox-list"><label class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.hotelPriceArrays"><input type="checkbox" name="priceOpts" value="{{ item.id }}" ng-model="$ctrl.hotelPriceArrays[$index].checked" ng-disabled="$ctrl.formDisabled" ng-click="$ctrl.filterByPrice()"><div style="display: inline-block"><span>{{ item.text | translate }}</span></div><span></span></label></div></div></li><!-- END PRICE --><li><input type="checkbox"> <i></i><h2 translate="hotel.search.advsearch.rating"></h2><div class="content"><div class="mt-checkbox-list"><label class="mt-checkbox mt-checkbox-outline" ng-repeat="item in $ctrl.hotelRatingArrays"><input type="checkbox" name="ratingOpts" value="{{ item.id }}" ng-model="$ctrl.hotelRatingArrays[$index].checked" ng-disabled="$ctrl.formDisabled" ng-click="$ctrl.filterByStar()"><div style="display: inline-block"><span class="fa fa-star star-icon" ng-repeat="n in [1, item.id] | makeRange"></span> <span class="fa fa-star star-icon fa-star-half-o" ng-repeat="n in [1, item.id] | halfRange"></span></div><span></span></label></div></div></li></ul></div></div></div></div>'), e.put("app/components/hotel/hotel-search-date-paginator.html", '<div ng-switch="$ctrl.dateCarouselArrays.length > 0"><div class="flight-search-paginator"><div class="date-box" ng-repeat="item in $ctrl.dateCarouselArrays" gtd-finish-render-ng-repeat gtd-emit-event="ngRepeatDateOptionsFinished"><div>{{item.text}}</div><div><span class="price-text"><b>{{item.price}}</b></span> <span>{{item.unit}}</span></div></div></div><div class="flight-search-paginator-other" ng-switch-when="true"><a class="clickable"><span class="fa fa-calendar-plus-o text-calendar"></span> <span class="text-detail" data-translate="flight.search.result.otherdateopt">Ve ngay khac</span></a></div></div>'), e.put("app/components/hotel/hotel-search-footer.html", '<div class="container reset-container"><div class="row"><!--<div class="col-lg-12">--><div class="footer-popular-place-box"><div class="flight-footer-title uppercase"><b><span data-translate="flight.search.footer.popular-place"></span></b></div><div class="flight-footer-detail"><span ng-repeat="item in $ctrl.popularPlaces"><a>{{item}}</a> <span ng-class="{\'footer-last\': $last}">|</span></span></div></div><div class="footer-popular-flight-box"><div class="flight-footer-title uppercase"><b><span data-translate="flight.search.footer.popular-flight"></span></b></div><div class="flight-footer-detail"><span ng-repeat="item in $ctrl.popularFlights"><a>{{item}}</a> <span ng-class="{\'footer-last\': $last}">|</span></span></div></div><div class="footer-popular-hotel-box"><div class="flight-footer-title uppercase"><b><span data-translate="flight.search.footer.popular-hotel"></span></b></div><div class="flight-footer-detail"><span ng-repeat="item in $ctrl.popularHotels"><a>{{item}}</a> <span ng-class="{\'footer-last\': $last}">|</span></span></div></div><!--</div>--></div></div>'), e.put("app/components/hotel/hotel-search-header.html", '<script type="text/ng-template" id="customTemplate.html"><a>\n        <span class="fa fa-h-square" ng-if="match.model.type==\'HOTEL\'"></span>\n        <span class="fa fa-location-arrow" ng-if="match.model.type==\'DESTINATION\'"></span>\n        <span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span>\n        <span ng-if="match.model.famous">\n            <button type="button" class="btn btn-default btn-xs btn-info">{{\'hotel.search.result.popular\' | translate}}</button>\n        </span>\n    </a></script><form role="form" id="hotelSearchFormHeader" name="hotelSearchForm" novalidat><div class="hotel-search-header"><div class="container reset-container"><div class="row"><div class="header-destination-box hotelSearch col-sm-3 h"><div class="uppercase label-header"><span data-translate="hotel.search.header.name"></span></div><input type="text" ng-model="$ctrl.searchOptions.hotelSearchFilter.hotel_code" uib-typeahead="o.code as (o.name) for o in $ctrl.searchDestinations($viewValue)" typeahead-input-formatter="$ctrl.formatLabel($model)" typeahead-loading="loadingDestinations" typeahead-no-results="noResults" typeahead-editable="false" typeahead-template-url="customTemplate.html" ng-click="$ctrl.onFocusInputName()" ng-blur="$ctrl.onBlurInputName()" typeahead-on-select="$ctrl.typeAHeadOnSelect($item, $model, $label, $event)" required autocomplete="off" placeholder="{{\'hotel.plchdr.chooseplace\' | translate}}" class="form-control"><div ng-if="loadingDestinations" class="hotel-ghost-loading hotel-border-radius gtd-shadow" style="top: 68px; left: 15px; margin-top: 0px; width: 400px"><div class="wrapper"><div class="wrapper-cell"><div class="text"><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div></div></div></div></div></div><div class="col-sm-4 no-margin no-padding"><div class="header-date-box col-xs-6" data-date-format="dd-mm-yyyy"><div class="uppercase label-header"><span data-translate="hotel.search.header.checkindate"></span></div><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#checkindate\').datepicker(\'show\');"></i> <input id="checkindate" class="form-control" size="16" type="text" gtd-dual-date-picker end-id="checkoutdate" is-start="true" max-date="hotel" min-date="hotel" readonly="readonly" required ng-model="$ctrl.searchOptions.hotelSearchFilter.checkin_date"></div></div><div class="header-date-box col-xs-6" data-date-format="dd-mm-yyyy"><div class="uppercase label-header"><span data-translate="hotel.search.header.checkoutdate"></span></div><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#checkoutdate\').datepicker(\'show\');"></i> <input id="checkoutdate" class="form-control" size="16" type="text" gtd-dual-date-picker start-id="checkindate" max-date="hotel" min-date="hotel" readonly="readonly" required ng-model="$ctrl.searchOptions.hotelSearchFilter.checkout_date"></div></div></div><div class="col-sm-5 no-margin no-padding"><div class="header-date-box col-sm-9 hand"><div class="uppercase label-header"><span data-translate="hotel.search.header.noroom"></span></div><div class="label-outline grey text-center label-outline-hotel" ng-click="$ctrl.openChooseRoomDetail();"><span class="">{{$ctrl.paxDetail.roomQuantity}} {{\'hotel.search.header.room\' | translate}}, </span><span class="">{{$ctrl.paxDetail.adultQuantity}} {{\'hotel.search.header.adult\' | translate}}, </span><span class="">{{$ctrl.paxDetail.childQuantity}} {{\'hotel.search.header.children\' | translate}}</span></div></div><div class="col-sm-3"><div class="margin-top-10 hidden-sm-up"><span>&nbsp;</span></div><div class="uppercase btn-submit-search"><button class="btn gtd-btn-default gtd-btn-small btn-header-search gtd-shadow" type="submit" ng-click="$ctrl.doSearchImpl()" ng-disabled="hotelSearchForm.$invalid"><span class="uppercase" data-translate="hotel.search.header.search"></span></button></div></div></div></div></div></div></form><script>window.onscroll = function() {myFunction()};\n    \n    var header = document.getElementById("hotelSearchFormHeader");\n    var sticky = header.offsetTop;\n    \n    function myFunction() {\n        if (window.pageYOffset > sticky) {\n        header.classList.add("sticky");\n        header.classList.add("gtd-shadow");\n        } else {\n        header.classList.remove("sticky");\n        header.classList.remove("gtd-shadow");\n        }\n    }</script>'), e.put("app/components/hotel/hotel-search-result-cell-2.html", '<div class="hotel-search-result-wrapper-2" ng-repeat="item in $ctrl.searchResult.result"><table class="search-result-table"><tr class="search-result-row"><td class="colsp"></td><td class="col-img"><img src="../../../content/images/hotel0-d1520dcb12.png"></td><td class="col-info"><div class="hotel-name"><span class="hotel-name-text">Le Fenix Sukhumvit Hotel</span></div><div class="hotel-location"><span class="fa fa-map-marker"></span> <span>Sukhumvit</span></div><div class="hotel-star"><span class="hotel-name-icon fa fa-star"></span></div></td><td class="col-review"><div class="review-header-text">Rất Tốt</div><div class="review-point-text"><span class="rate-text">4.0</span> <span class="rate-total">/5</span></div></td><td class="col-seperator"></td><td class="col-action"><div class="col-action-item">Giá từ</div><div class="col-action-item"><span class="price-text">1,000,667</span> <span>VNĐ</span></div><div class="col-action-item booking-text-centre"><a class="clickable"><span class="booking-text-centre booking-text gtd-btn-medium" ng-click="$ctrl.bookingClicked(item)">Chọn phòng</span></a></div></td></tr></table></div>'), e.put("app/components/hotel/hotel-search-result-cell.html", '<!-- <div class="hotel-list-item margin-top-10 gtd-shadow" id="{{ $ctrl.item.id }}">\n    <div>\n        <div>\n            <div class="img-bg" ng-click="$ctrl.bookingClicked($ctrl.item)">\n                <img\n                    ng-src="{{ $ctrl.item.hotelMeta.image }}"\n                    class="hotel-img-logo"\n                />\n            </div>\n            <div\n                class="ribbon-wrapper"\n                ng-if="$ctrl.item.products[0].promo && $ctrl.item.products[0].promoPercen"\n            >\n                <div class="ribbon">\n                    -{{ $ctrl.item.products[0].promoPercen[0] }}\n                </div>\n            </div>\n        </div>\n\n        <div>\n            <div class="col-sm-6 col-xs-8 col-info">\n                <div class="col-info-wrapper">\n                    <div class="hotel-name">\n                        <a class="hotel-clickable"\n                            ><span\n                                class="hotel-name-text"\n                                ng-click="$ctrl.bookingClicked($ctrl.item)"\n                                >{{ $ctrl.item.hotelMeta.name }}</span\n                            ></a\n                        >&nbsp;\n                    </div>\n                    <div class="hotel-name">\n                        <span\n                            class="hotel-name-icon fa fa-star"\n                            ng-repeat="i in [$ctrl.item.hotelMeta.stars] | makeRange"\n                        ></span>\n                    </div>\n                    <div class="hotel-location">\n                        <span class="fa fa-map-marker"></span>\n                        <a class="hotel-clickable hotel-address"\n                            ><span\n                                ng-click="$ctrl.bookingClicked($ctrl.item)"\n                                >{{ $ctrl.item.hotelMeta.address }}</span\n                            ></a\n                        >\n                    </div>\n                    <div class="hotel-features-icons">\n                        <img\n                            class="hotel-feature-icon"\n                            ng-src="../../../content/images/hotel-free-{{\n                                $ctrl.getFacility(facility)\n                            }}-icon.svg"\n                            ng-if="!$ctrl.getFacility(facility).startsWith(\'fa-\')"\n                            ng-repeat="facility in $ctrl.item.displayAmentities"\n                        />\n\n                        <span\n                            class="hotel-feature-icon fa {{\n                                $ctrl.getFacility(facility)\n                            }}"\n                            ng-if="$ctrl.getFacility(facility).startsWith(\'fa-\')"\n                            ng-repeat="facility in $ctrl.item.displayAmentities"\n                        ></span>\n                    </div>\n                    <div class="hotel-features-text">\n                        <span ng-if="$ctrl.item.allowHold">{{\n                            "hotel.search.result.pen" | translate\n                        }}</span>\n                        <span ng-if="!$ctrl.item.allowHold">{{\n                            "hotel.search.result.pay" | translate\n                        }}</span>\n                        <span\n                            ng-if="$ctrl.item.hasBreakfast && $ctrl.item.allowHold"\n                            >,&nbsp;\n                        </span>\n                        <span ng-if="$ctrl.item.hasBreakfast">{{\n                            "hotel.search.result.break" | translate\n                        }}</span>\n                    </div>\n                    <div class="hotel-features-text">\n                        <span\n                            class="text-bold red-text"\n                            ng-if="$ctrl.item.products[0].qualityAvaliable > 0"\n                            >{{ "hotel.search.result.only" | translate }}\n                            {{\n                                $ctrl.item.products[0].qualityAvaliable | number\n                            }}\n                            {{ "hotel.search.result.room" | translate }}</span\n                        >\n                    </div>\n                </div>\n            </div>\n\n            <div class="col-sm-3 col-xs-4 col-action">\n                <div\n                    class="col-action-item col-action-item-hide-rs"\n                    ng-if="$ctrl.item.products[0].promo"\n                >\n                    <span class="label label-color3">{{\n                        "hotel.search.result.promo" | translate\n                    }}</span>\n                </div>\n                <div class="col-action-item col-action-item-hide-rs">\n                    {{ "hotel.search.result.pricefrom" | translate }}\n                </div>\n                <div class="price-item">\n                    <div\n                        class="col-action-item"\n                        ng-if="$ctrl.item.products[0] && $ctrl.item.products[0].promo"\n                    >\n                        <span class="bold"\n                            ><del>{{\n                                $ctrl.item.priceBeforePromo | number\n                            }}</del></span\n                        >\n                        <span> VNĐ</span>\n                    </div>\n                    <div class="col-action-item ">\n                        <span class="text-bold price-text">{{\n                            $ctrl.item.price | number\n                        }}</span>\n                        <span>VNĐ</span>\n                        <br /><span class="text-message">{{\n                            "hotel.search.result.not-include-fee" | translate\n                        }}</span>\n                    </div>\n                </div>\n                <div\n                    class="col-action-item col-action-item-btn booking-text-centre"\n                >\n                    <a class="clickable"\n                        ><span\n                            class="btn btn-red"\n                            ng-click="$ctrl.bookingClicked($ctrl.item)"\n                            >{{\n                                "hotel.search.result.choose" | translate\n                            }}</span\n                        ></a\n                    >\n                </div>\n            </div>\n        </div>\n    </div>\n</div> --><div class="blog-card"><div class="meta"><div class="photo" ng-style="{\'background-image\':\'url({{\n                $ctrl.item.hotelMeta.image\n            }})\'}"><div class="ribbon-wrapper" ng-if="$ctrl.item.products[0].promo && $ctrl.item.products[0].promoPercen"><div class="ribbon">-{{ $ctrl.item.products[0].promoPercen[0] }}</div></div></div><ul class="details"><b>{{ "hotel.search.result.amen" | translate }}</b><li style="text-transform: capitalize" ng-repeat="facility in $ctrl.item.displayAmentities"><span class="fa {{ $ctrl.getFacility(facility) }}"></span> {{ facility }}</li></ul></div><div class="description"><h1>{{ $ctrl.item.hotelMeta.name }}</h1><h1><span class="hotel-name-icon fa fa-star" ng-repeat="i in [$ctrl.item.hotelMeta.stars] | makeRange"></span> <span class="hotel-name-icon fa fa-star fa-star-half-o" ng-repeat="i in [$ctrl.item.hotelMeta.stars] | halfRange"></span></h1><h2 ng-click="$ctrl.openMapPlaceAround()"><span class="fa fa-map-marker"></span> {{ $ctrl.item.hotelMeta.address }}</h2><p></p><div><span ng-if="$ctrl.item.allowHold">{{ "hotel.search.result.pen" | translate }}</span> <span ng-if="!$ctrl.item.allowHold">{{ "hotel.search.result.pay" | translate }}</span> <span ng-if="$ctrl.item.hasBreakfast && $ctrl.item.allowHold">,&nbsp; </span><span ng-if="$ctrl.item.hasBreakfast">{{ "hotel.search.result.break" | translate }}</span></div><div><span class="text-bold red-text" ng-if="$ctrl.item.products[0].qualityAvaliable > 0">{{ "hotel.search.result.only" | translate }} {{ $ctrl.item.products[0].qualityAvaliable | number }} {{ "hotel.search.result.room" | translate }}</span></div></div><div class="price"><div class="col-action-item col-action-item-hide-rs">{{ "hotel.search.result.pricefrom" | translate }}</div><div class="price-item"><div class="col-action-item" ng-if="$ctrl.item.products[0] && $ctrl.item.products[0].promo"><span class="bold"><del>{{ $ctrl.item.priceBeforePromo | number }}</del></span> <span>VNĐ</span></div><div class="col-action-item"><span class="text-bold price-text">{{ $ctrl.item.price | number }}</span> <span>VNĐ</span><br><span class="text-message">{{ "hotel.search.result.not-include-fee" | translate }}</span></div></div><div class="read-more"><a class="btn gtd-btn-default gtd-shadow" ng-click="$ctrl.bookingClicked($ctrl.item)">{{ "hotel.search.result.choose" | translate }}</a></div></div></div>'), e.put("app/components/hotel/hotel-search-result.html", '<div class="row"><div class="col-md-12"><div class="tile-container"><!-- HEADER --><div class=""><div class="col-sm-12 hotel-border bg-white hotel-border-radius"><div class="row" style="padding: 15px"><div class="col-sm-9 title-header-text-block"><div class="heading-search"><div class="title-header"><span class="title-header-main"><b>{{ $ctrl.selectedDestination.name }}:</b> </span>&nbsp; <span class="title-header-sub">{{ "hotel.search.result.found1" | translate }} {{ $ctrl.searchResult.page .totalElements | number }} {{ "hotel.search.result.found" | translate }} {{ "hotel.search.result.hotels" | translate }}.</span></div><div class="title-header-last" style="margin:0"><span class="title-header-sub"><span style="text-transform: capitalize">{{ $ctrl.searchResult.hotels[0] .checkIn | momentdate : "" : "DD-MM-YYYY" }} </span>- {{ $ctrl.searchResult.hotels[0] .checkOut | momentdate: "":"DD-MM-YYYY" }}, {{ $ctrl.paxSummary.roomQuantity }} phòng, {{ $ctrl.paxSummary.adultQuantity }} {{ "hotel.search.header.adult" | translate }}, {{ $ctrl.paxSummary.childQuantity }} {{ "hotel.search.header.children" | translate }} </span>&nbsp;</div></div></div><div class="col-sm-3 pull-right" ng-click="$ctrl.openFullMap()"><div class="input-group pull-right gtd-btn-default hotel-map-button"><div style="text-align: center"><img src="../../../content/images/hotel-map-icon-white-1f6c853db8.png"></div><div><span data-translate="hotel.search.header.map">Xem bản đồ</span></div></div></div></div></div></div><!-- END HEADER --><div class="hotel-search-result-wrapper col-sm-12 no-margin no-padding"><gtd-hotel-search-result-cell item="item" ng-repeat="item in $ctrl.searchResult.hotels"></gtd-hotel-search-result-cell></div></div></div></div>'), e.put("app/flights/booking/external.booking.result.html", '<div class="page-result-booking"><!-- BEGIN PAGE CONTENT INNER --><div ng-if="vm.currentUIState !== vm.uiStates.loading" class="page-content-inner"><a class="btn gtd-btn-default" style="margin-top: 10px" ng-href="{{vm.backUrl}}"><span class="fa fa-arrow-left"></span> Quay lại</a><div class="search-page search-content-3"><div class="row"><div class="col-sm-12"><div class="portlet portlet-result"><div class="porlet-body"><div class="booking-result-wrapper"><div class="header-zone"><div class="header-title"><span ng-if="vm.currentUIState === vm.uiStates.paymentSuccess" class="payment-success">XUẤT VÉ THÀNH CÔNG </span><span ng-if="vm.currentUIState === vm.uiStates.paymentFailed" class="payment-failed">THANH TOÁN THẤT BẠI</span> <span ng-if="vm.currentUIState === vm.uiStates.paymentRefund">THANH TOÁN ĐÃ ĐƯỢC HỦY</span> <span ng-if="vm.currentUIState === vm.uiStates.paymentPending">THANH TOÁN ĐANG THỰC HIỆN</span> <span ng-if="vm.currentUIState === vm.uiStates.paymentExpired">QUÁ HẠN THANH TOÁN</span> <span ng-if="vm.currentUIState === vm.uiStates.notfound">KHÔNG TÌM THẤY ĐƠN HÀNG</span> <span ng-if="vm.currentUIState === vm.uiStates.paymentSuccessOnprocess" class="payment-success">THANH TOÁN THÀNH CÔNG, VÉ ĐANG CHỜ XỬ LÝ</span></div><div class="header-title-sub"><span ng-if="vm.currentUIState === vm.uiStates.paymentSuccess">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán đặt {{vm.typeName}} thành công.<br>Quý khách sẽ nhận được xác nhận chi tiết đặt chỗ thông qua email. </span><span ng-if="vm.currentUIState === vm.uiStates.paymentSuccessOnprocess">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán đặt {{vm.typeName}} thành công.<br><b>Thông tin của quý khách đang được gửi tới nhà cung cấp để yêu cầu xuất {{vm.typeName}}.</b><br><b>Quý khách sẽ nhận được xác nhận chi tiết đặt chỗ thông qua email.</b> </span><span ng-if="vm.currentUIState === vm.uiStates.paymentFailed">Cảm ơn quý khách đã sử dụng dịch vụ của Gotadi. Thật tiếc! Thực hiện đặt {{vm.typeName}} của Quý khách đã thất bại.<br></span><span ng-if="vm.currentUIState === vm.uiStates.notfound">Cảm ơn quý khách đã sử dụng dịch vụ của Gotadi. Thật tiếc! Chúng tôi không tìm thấy kết quả thanh toán.<br>Quí khách vui lòng kiểm tra lại đơn hàng. </span><span ng-if="vm.currentUIState === vm.uiStates.paymentRefund">Cảm ơn quý khách đã sử dụng dịch vụ của Gotadi. Thanh toán của quý khách đã được hủy.<br></span><span ng-if="vm.currentUIState === vm.uiStates.paymentPending">Cảm ơn quý khách đã sử dụng dịch vụ của Gotadi. Thanh toán của quý khách đang được thực hiện.<br></span><span ng-if="vm.currentUIState === vm.uiStates.paymentExpired">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Yêu cầu đặt {{vm.typeName}} của Quý khách đã quá hạn thanh toán. Quý khách vui lòng đặt {{vm.typeName}} khác.<br></span></div><div class="header-icon"><!-- <i ng-if="vm.currentUIState === vm.uiStates.paymentSuccess" class="fas fa-check-circle"></i> --><!-- <i ng-if="vm.currentUIState === vm.uiStates.paymentFailed" class="far fa-times-circle"></i> --> <img ng-if="vm.currentUIState === vm.uiStates.paymentSuccess" src="../../../content/images/pay-success-icon-2a1d01a321.png"> <img ng-if="vm.currentUIState === vm.uiStates.paymentFailed" src="../../../content/images/pay-fail-icon-6274e17d86.png"> <img ng-if="vm.currentUIState === vm.uiStates.paymentRefund" src="../../../content/images/pay-reserve-button-4ea41694f8.png"> <img ng-if="vm.currentUIState === vm.uiStates.paymentPending" src="../../../content/images/icon-bookingPending-Dathanhtoan-91a7d85366.png"></div><div ng-if="vm.errorCode" class="alert alert-danger" style="margin-bottom: 10px"><!-- Mã Lỗi: {{vm.errorCode}} <br> --> {{vm.errorMessageDict[vm.errorCode] || "Unknown"}}</div><div class="header-title-sub"><span><b>Hình thức thanh toán:</b> Thanh toán qua {{vm.payType}} <b>{{vm.payMethod}}</b>.</span></div><br><div ng-if="vm.currentUIState === vm.uiStates.paymentSuccess" class="header-remind"><span ng-if="vm.currentDisplayType === vm.displayType.flight" data-translate="flight.result.remind.ss.CONFIRMED">Quý khách vui lòng đừng quên kiểm tra chi tiết hành trình và có mặt tại sân bay trước 120\' giờ khởi hành để làm thủ tục.<br>Chúc quý khách có một chuyến đi tốt đẹp.</span></div></div><div ng-if="vm.currentUIState !== vm.uiStates.notfound" class="detail-zone"><div class="loading-detail"></div><div class="form-detail" ng-if="vm.currentDisplayType === vm.displayType.flight"><gtd-flight-info flight-model="vm.bookingModel"></gtd-flight-info><gtd-flight-info flight-model="vm.returnBookingModel" ng-show="vm.bkgroup.groupPricedItineraries.length > 1 || vm.bkgroup.groupPricedItineraries[0].pricedItineraries[0].directionInd==\'RETURN\'"></gtd-flight-info></div><gtd-hotel-info ng-if="vm.currentDisplayType === vm.displayType.hotel" booking-model="vm.bookingModel" selected-hotel="vm.selectedHotel" selected-hotel-room="vm.selectedHotelRoom" selected-hotel-product="vm.selectedHotelProduct" jsonmodel="vm.bkgroup"></gtd-hotel-info></div><div class="footer-zone"><div class="detail-footer"><span data-translate="flight.result.footer" ng-if="vm.currentUIState === vm.uiStates.paymentSuccess">Vui lòng liên hệ với chúng tôi nếu Quý khách có yêu cầu thay đổi hành trình, mua thêm hành lý hoặc thắc mắc cần<br>giải đáp cho hành trình</span></div><div class="contact-footer"><div><span class="fa fa-phone"></span> <span data-translate="flight.result.footer1">Hotline</span> <span class="bold" data-translate="flight.result.footer12">1900 9002</span></div><div><span class="fa fa-phone"></span> <span data-translate="flight.result.footer2">Điện thoại</span> <span class="bold" data-translate="flight.result.footer22">(028) 62 850 850 - (028) 62 857 857</span></div><div><span data-translate="flight.result.footer3">VP HCM 194 Nguyễn Thị Minh Khai, P6, Quận 3, HCM</span></div><div><span data-translate="flight.result.footer4">VP Hà Nội 47 Phan Chu Trinh, Quận Hoàn Kiếm, Hà Nội</span></div></div></div></div></div></div></div></div></div></div><!-- END PAGE CONTENT INNER --><!-- BEGIN LOADING --><div ng-if="vm.currentUIState === vm.uiStates.loading" class="page-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div><!-- END LOADING --></div>'),
                e.put("app/flights/booking/external.payment.html", "Inprocess..."), e.put("app/flights/booking/flight.booking.confirm.html", '<div class="container" ng-if="!vm.timeout"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="search-page search-content-3"><div class="row"><div class="col-sm-12"><gtd-flight-booking-progress booking-model="vm.bookingModel"></gtd-flight-booking-progress></div></div><div class="row"><div class="col-md-8 booking-wrapper"><form action="#"><gtd-booking-flight-info booking-model="vm.bookingModel" depart-flight-model="vm.departFlightModel" return-flight-model="vm.returnFlightModel" show-change-flight="false"></gtd-booking-flight-info><gtd-flight-booking-customer-info-view booking-model="vm.bookingModel" mode="flight"></gtd-flight-booking-customer-info-view><gtd-flight-booking-contact-info-view booking-model="vm.bookingModel" mode="flight"></gtd-flight-booking-contact-info-view><gtd-flight-booking-billing-info-view booking-model="vm.bookingModel"></gtd-flight-booking-billing-info-view><div class="portlet light"><div class="mt-checkbox-list" style="padding: 0px"><label class="mt-checkbox green mt-checkbox-outline" style="margin-bottom: 0px"><input type="checkbox" value="1" name="checkedRuleVJ" class="checkedRuleVJ" ng-model="vm.checkedRuleVJ"> <span></span></label><span style="margin-left: 30px">Tôi chấp nhận <span ng-if="vm.airline.show_airline"><a class="text-green" style="color:#18ab4f" target="_blank" href="{{vm.airline.term_condition_url}}">điều kiện giá vé và điều lệ vận chuyển đối với các chuyến bay của {{vm.airline.airline_name}}</a></span></span></div></div><div class="action-bar visible-md visible-lg"><div class="term-zone">&nbsp;</div><div class="buttons-zone"><div class="inline-block-zone"><span ng-click="vm.doBack()"><span class="fa fa-angle-left"></span> <span data-translate="flight.booking.back"></span></span></div><button class="btn gtd-btn-default gtd-btn-large pull-right" type="button" ng-click="vm.doConfirm()"><span class="uppercase ng-scope" data-translate="flight.booking.next">Tìm</span></button></div></div></form></div><div class="col-md-4 booking-summary-wrapper"><gtd-flight-booking-summary booking-model="vm.bookingModel" payment-model="vm.paymentModel"></gtd-flight-booking-summary><gtd-flight-booking-summary-details booking-model="vm.bookingModel" payment-model="vm.paymentModel"></gtd-flight-booking-summary-details><div class="action-bar hidden-md hidden-lg"><div class="term-zone">&nbsp;</div><div class="buttons-zone"><div class="inline-block-zone"><span ng-click="vm.doBack()"><span class="fa fa-angle-left"></span> <span data-translate="flight.booking.back"></span></span></div><button class="btn gtd-btn-default gtd-btn-large pull-right" type="button" ng-click="vm.doConfirm()"><span class="uppercase ng-scope" data-translate="flight.booking.next">Tìm</span></button></div></div></div></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/flights/booking/flight.booking.info.html", '<div class="container" ng-if="!vm.timeout"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="search-page search-content-3"><div class="row"><div class="col-sm-12"><gtd-flight-booking-progress booking-model="vm.bookingModel"></gtd-flight-booking-progress></div></div><div class="row"><div class="col-md-8 booking-wrapper"><form role="form" name="bookingForm" novalidate ng-submit="vm.doConfirm(bookingForm)"><gtd-booking-flight-info booking-model="vm.bookingModel" depart-flight-model="vm.departFlightModel" return-flight-model="vm.returnFlightModel"></gtd-booking-flight-info><gtd-flight-booking-customer-info booking-model="vm.bookingModel"></gtd-flight-booking-customer-info><gtd-flight-booking-contact-info booking-model="vm.bookingModel"></gtd-flight-booking-contact-info><gtd-flight-booking-billing-info ng-if="vm.checkShowBillingInfo()" booking-model="vm.bookingModel"></gtd-flight-booking-billing-info><div class="action-bar visible-md visible-lg"><div class="term-zone">&nbsp;</div><div class="buttons-zone"><span class="fa"></span> <button class="btn gtd-btn-default gtd-btn-large pull-right" type="submit"><span class="uppercase ng-scope" data-translate="flight.booking.next">Tìm</span></button></div></div></form></div><div class="col-md-4 booking-summary-wrapper"><gtd-flight-booking-summary booking-model="vm.bookingModel" payment-model="vm.paymentModel"></gtd-flight-booking-summary><gtd-flight-booking-summary-details booking-model="vm.bookingModel" payment-model="vm.paymentModel"></gtd-flight-booking-summary-details><div class="action-bar hidden-md hidden-lg"><div class="term-zone">&nbsp;</div><div class="buttons-zone"><span class="fa"></span> <button class="btn gtd-btn-default gtd-btn-large pull-right" type="submit" ng-click="vm.doConfirm(bookingForm)"><span class="uppercase ng-scope" data-translate="flight.booking.next">Tìm</span></button></div></div></div></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/flights/booking/flight.booking.payment.html", '<div class="container" ng-if="!vm.timeout"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="search-page search-content-3"><div class="row"><div class="col-sm-12"><gtd-flight-booking-progress booking-model="vm.bookingModel"></gtd-flight-booking-progress></div></div><div class="row"><div class="col-md-8 booking-wrapper"><form action="#" role="form" name="bookingForm" novalidate><gtd-booking-flight-info booking-model="vm.bookingModel" depart-flight-model="vm.departFlightModel" return-flight-model="vm.returnFlightModel" show-change-flight="false" not-show-login-section="true"></gtd-booking-flight-info><gtd-booking-payment payment-model="vm.paymentModel" booking-model="vm.bjson" booking-model-one-way="vm.bjson"></gtd-booking-payment><div class="action-bar visible-md visible-lg"><div class="buttons-zone"><div class="inline-block-zone"></div><button class="btn gtd-btn-default gtd-btn-large pull-right" type="button" ng-disabled="bookingForm.$invalid" ng-click="vm.doConfirm()"><span class="uppercase ng-scope" data-translate="flight.booking.next">Tìm</span></button></div></div></form></div><div class="col-md-4 booking-summary-wrapper"><gtd-flight-booking-summary payment-model="vm.paymentModel" booking-model="vm.bookingModel" show-coupon="true"></gtd-flight-booking-summary><gtd-flight-booking-summary-details booking-model="vm.bookingModel" payment-model="vm.paymentModel" show-coupon="true"></gtd-flight-booking-summary-details><div class="action-bar hidden-md hidden-lg"><div class="buttons-zone"><div class="inline-block-zone"></div><button class="btn gtd-btn-default gtd-btn-large pull-right" type="button" ng-disabled="bookingForm.$invalid" ng-click="vm.doConfirm()"><span class="uppercase ng-scope" data-translate="flight.booking.next">Tìm</span></button></div></div></div></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/flights/booking/flight.booking.result.html", '<div class="page-result-booking" ng-if="!vm.timeout"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="search-page search-content-3"><div class="row"><div class="col-sm-12"><div class="portlet portlet-result"><div class="porlet-body"><div class="booking-result-wrapper"><div class="header-zone"><div class="header-title"><!--<span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'PENDING\'" data-translate="flight.result.ss.PENDING">CHƯA THỰC HIỆN ĐẶT CHỖ</span>--> <span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'FAILED\' || vm.bkgroup.bookingInfo.supplierBookingStatus ==\'PENDING\'" data-translate="flight.result.ss.FAILED">ĐẶT VÉ THẤT BẠI </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'CONFIRMED\'" data-translate="flight.result.ss.CONFIRMED">THANH TOÁN THÀNH CÔNG </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'BOOKING_ON_PROCESS\'" data-translate="flight.result.ss.BOOKING_ON_PROCESS">ĐANG THỰC HIỆN ĐẶT VÉ </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'TICKET_ON_PROCESS\'" data-translate="flight.result.ss.TICKET_ON_PROCESS">ĐANG THỰC HIỆN XUẤT VÉ </span><!--\n                                            <ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'CANCELLED\'">\n                                                <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'REFUNDED\'"> ĐÃ HUỶ VÉ VÀ HOÀN TIỀN THÀNH </span>\n                                                <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\'">ĐÃ HUỶ VÉ VÀ CHƯA HOÀN TIỀN </span>\n                                            </ng-switch>\n                                            --><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'EXPIRED\'"><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'" data-translate="flight.result.eps.PENDING">QUÁ HẠN THANH TOÁN </span><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'" data-translate="flight.result.eps.FAILED">QUÁ HẠN THANH TOÁN</span> <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\'" data-translate="flight.result.eps.SUCCEEDED">ĐÃ THANH TOÁN - KHÔNG XUẤT ĐƯỢC VÉ</span></ng-switch><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'BOOKED\'"><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'" data-translate="flight.result.bps.PENDING">ĐẶT CHỖ THÀNH CÔNG</span> <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'" data-translate="flight.result.bps.FAILED">THANH TOÁN LỖI</span><!-- issuedStatus is FAILED or PENDING  --> <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\' && vm.bkgroup.bookingInfo.issuedStatus != \'SUCCEEDED\'" data-translate="flight.result.bps.SUCCEEDED">THANH TOÁN THÀNH CÔNG, XUẤT VÉ LỖI</span></ng-switch></div><div class="header-title-sub"><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'FAILED\' || vm.bkgroup.bookingInfo.supplierBookingStatus ==\'PENDING\'">Cảm ơn quý khách đã sử dụng dịch vụ của Gotadi. Thật tiếc! Thực hiện đặt vé của Quý khách đã thất bại.<br>Quý khách vui lòng kiểm tra lại hành trình, kết nối Internet hoặc lựa chọn vé khác. </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'CONFIRMED\'" data-translate="flight.result.msg1.ss.CONFIRMED">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán đặt vé thành công.<br>Quý khách sẽ nhận được xác nhận chi tiết đặt chỗ thông qua email. </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'BOOKING_ON_PROCESS\'" data-translate="flight.result.msg1.ss.BOOKING_ON_PROCESS">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Vé của quý khách đang được thực hiện giữ chỗ.<br>Chúng tôi sẽ gửi mail chi tiết cho quý khách ngay sau khi giữ chỗ thành công </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'TICKET_ON_PROCESS\' && vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\' " data-translate="flight.result.msg1.ss.TICKET_ON_PROCESS">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán đặt vé thành công. Chúng tôi đang tiến hành xuất vé.<br>Quý khách sẽ nhận được xác nhận chi tiết đặt chỗ thông qua email ngay sau khi xuất vé thành công.</span><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'EXPIRED\'"><span ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'  && vm.bkgroup.bookingInfo.supplierBookingStatus != \'BOOKED\' && vm.bkgroup.bookingInfo.supplierBookingStatus !=\'PENDING\' && vm.bkgroup.bookingInfo.supplierBookingStatus !=\'FAILED\'">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Yêu cầu đặt vé của Quý khách đã quá hạn thanh toán. Quý khách vui lòng đặt vé khác. </span><span ng-show="vm.bkgroup.bookingInfo.paymentStatus !=\'SUCCEEDED\' && vm.bkgroup.bookingInfo.supplierBookingStatus !=\'CONFIRMED\' && vm.bkgroup.bookingInfo.supplierBookingStatus !=\'FAILED\' && vm.bkgroup.bookingInfo.supplierBookingStatus != \'BOOKED\'">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán thành công, tuy nhiên có lỗi trong quá trình xuất vé.<br></span></ng-switch><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'BOOKED\'"><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\' " data-translate="flight.result.msg1.bps.PENDING">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Yêu cầu đặt chỗ của Quý khách đã được thực hiện thành công.<br>Quý khách sẽ nhận được xác nhận chi tiết đặt chỗ thông qua email. </span><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'" data-translate="flight.result.msg1.bps.FAILED">Quý khách đã đặt chỗ thành công nhưng chưa thể thanh toán được. </span><!-- issuedStatus is FAILED or PENDING  --><!--span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\' && vm.bkgroup.bookingInfo.issuedStatus != \'SUCCEEDED\' && (vm.bkgroup.bookingInfo.paymentType == \'ATM_DEBIT\' || vm.bkgroup.bookingInfo.paymentType == \'CREDIT\')" data-translate="flight.result.msg1.bps.SUCCEEDED">\n                                                    Cám ơn bạn đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán đặt vé thành công tuy nhiên có lỗi trong quá trình xuất vé.\n                                                </span--> <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\' && vm.bkgroup.bookingInfo.issuedStatus != \'SUCCEEDED\' && vm.bkgroup.bookingInfo.paymentType == \'BALANCE\'" data-translate="flight.result.msg1.bps.SUCCEEDED_BALANCE">Cám ơn bạn đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán đặt vé thành công tuy nhiên có lỗi trong quá trình xuất vé.</span></ng-switch></div><div ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'FAILED\' || vm.bkgroup.bookingInfo.supplierBookingStatus ==\'PENDING\'" class="row text-center"><a class="btn gtd-btn-default" style="margin-top: 10px" ui-sref="home"><span class="fa fa-arrow-left"></span> Quay về trang chủ</a></div><div class="header-icon"><img ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'FAILED\' || vm.bkgroup.bookingInfo.supplierBookingStatus ==\'PENDING\'" src="../../../content/images/pay-fail-icon-6274e17d86.png"> <img ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'CONFIRMED\'" src="../../../content/images/pay-success-icon-2a1d01a321.png"> <img ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'BOOKING_ON_PROCESS\'" src="../../../content/images/icon-bookingPending-Dathanhtoan-91a7d85366.png"> <img ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'TICKET_ON_PROCESS\'" src="../../../content/images/icon-bookingPending-Dathanhtoan-91a7d85366.png"><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'BOOKED\'"><img ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'" src="../../../content/images/pay-reserve-button-4ea41694f8.png"> <img ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'" src="../../../content/images/pay-fail-icon-6274e17d86.png"><!-- issuedStatus is FAILED or PENDING  --> <img ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\' && vm.bkgroup.bookingInfo.issuedStatus != \'SUCCEEDED\'" src="../../../content/images/pay-fail-icon-6274e17d86.png"></ng-switch><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'EXPIRED\'"><img ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'" src="../../../content/images/pay-fail-icon-6274e17d86.png"></ng-switch></div><div class="header-remind"><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'CONFIRMED\'" data-translate="flight.result.remind.ss.CONFIRMED">Quý khách vui lòng đừng quên kiểm tra chi tiết hành trình và có mặt tại sân bay trước 120\' giờ khởi hành để làm thủ tục.<br>Chúc quý khách có một chuyến đi tốt đẹp. </span><!--\n                                            <span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'BOOKING_ON_PROCESS\'">\n                                            </span>\n                                            <span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'TICKET_ON_PROCESS\'">\n                                            </span>\n                                            --><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'BOOKED\'"><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'">Quý khách vui lòng đừng quên kiểm tra chi tiết hành trình và thanh toán trước {{vm.bkgroup.bookingInfo.timeToLive | momentdate:\'datehour0\'}} để hoàn thành đặt vé - xuất vé đúng thời hạn. </span><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'">Quý khách vui lòng đừng quên kiểm tra chi tiết hành trình và thanh toán trước {{vm.bkgroup.bookingInfo.timeToLive | momentdate:\'datehour0\'}} để hoàn thành đặt vé - xuất vé đúng thời hạn. </span><!-- issuedStatus is FAILED or PENDING  --> <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\' && vm.bkgroup.bookingInfo.issuedStatus != \'SUCCEEDED\'" data-translate="flight.result.remind.bps.SUCCEEDED">Chúng tôi sẽ sớm liên hệ với Quý khách để hỗ trợ hoàn thành việc đặt vé.</span></ng-switch></div><div class="header-note" style="border-radius: 5px" ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus != \'EXPIRED\' && vm.bkgroup.bookingInfo.status == \'BOOKED\' && vm.bkgroup.bookingInfo.paymentStatus !=\'SUCCEEDED\'|| vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\' && vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'"><div><span data-translate="flight.result.note.msg1">Khi thực hiện thanh toán chuyển khoản, Quý khách vui lòng nhập ghi chú với nội dung sau:</span></div><div><div class="header-note-em">“<span data-translate="flight.result.note.msg2">THANH TOÁN CHO BOOKING</span> <span style="color: red">{{vm.bkgroup.bookingInfo.passengerNameRecords}} </span>”</div></div></div></div><div class="detail-zone"><div class="loading-detail"></div><div class="form-detail"><gtd-flight-info flight-model="vm.bookingModel"></gtd-flight-info><gtd-flight-info flight-model="vm.returnBookingModel" ng-show="vm.bkgroup.groupPricedItineraries.length > 1 || vm.bkgroup.groupPricedItineraries[0].pricedItineraries[0].directionInd==\'RETURN\'"></gtd-flight-info></div></div><div class="footer-zone"><div class="detail-footer"><span data-translate="flight.result.footer" ng-show="!(vm.bkgroup.bookingInfo.supplierBookingStatus ==\'FAILED\' || vm.bkgroup.bookingInfo.supplierBookingStatus ==\'PENDING\')">Vui lòng liên hệ với chúng tôi nếu Quý khách có yêu cầu thay đổi hành trình, mua thêm hành lý hoặc thắc mắc cần<br>giải đáp cho hành trình</span></div><div class="contact-footer"><div><span class="fa fa-phone"></span> <span data-translate="flight.result.footer1">Hotline</span> <span class="bold" data-translate="flight.result.footer12">1900 9002</span></div><div><span class="fa fa-phone"></span> <span data-translate="flight.result.footer2">Điện thoại</span> <span class="bold" data-translate="flight.result.footer22">(028) 62 850 850 - (028) 62 857 857</span></div><div><span data-translate="flight.result.footer3">VP HCM 194 Nguyễn Thị Minh Khai, P6, Quận 3, HCM</span></div><div><span data-translate="flight.result.footer4">VP Hà Nội 47 Phan Chu Trinh, Quận Hoàn Kiếm, Hà Nội</span></div></div></div></div></div></div></div></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/flights/payment/flight.payment.3d.auth.external.html", '<!--<div class="modal-header">--><!--<h3 class="modal-title">--><!--<div class="btn btn-primary">Close</div>--><!--</h3>--><!--</div>--><div class="modal-content" width="800px" height="630px"><div class="modal-body-video"><div class="btn btn-primary margin-20" ng-click="vm.cancel()">Close</div><div>Please wait while we process your request. Do not click the Back button or refresh the page. Otherwise, this transaction may be interrupted.</div><form id="newibe_PAEnrollForm_form" name="PAEnrollForm" action="{{vm.givenUrl}}" method="post" target="paInlineFrame" hidden="hidden"><input type="hidden" name="PaReq" value="{{vm.paReq}}"> <input type="hidden" name="TermUrl" value="{{vm.termUrl}}"> <input type="hidden" name="MD" value="{{vm.md}}"></form><iframe width="800px" height="600px" id="paInlineFrame" name="paInlineFrame"></iframe><!--"https://www.youtube.com/embed/3O1_3zBUKM8"--></div></div><!--<div class="modal-footer">--><!--<button class="btn btn-primary" ng-click="ok()">OK</button>--><!--<button class="btn btn-warning" ng-click="cancel()">Cancel</button>--><!--</div>-->'), e.put("app/flights/payment/flight.payment.external.html", '<div class="modal-content"><div class="modal-body-video" style="width: 100%; height: 100%"><div class="modal-header"><h3 class="modal-title"><div class="btn btn-primary" ng-click="vm.cancel()">Close</div></h3></div><iframe style="width: 100%; height: calc(100% - 73px)" ng-src="{{vm.givenUrl}}" id="{{vm.idOption}}" bknum="{{vm.booking_number}}" onlad="onIframeLoad()"></iframe><!--"https://www.youtube.com/embed/3O1_3zBUKM8"--></div><script type="text/javascript">var loadNb = 0;\n\n        document.querySelector("iframe").onload = function(){\n            if(document.getElementById(\'viettelPay\')) {\n                var booking_number = $(\'#viettelPay\').attr(\'bknum\');\n                console.log(\'PageLoadedNumb: \' +loadNb);\n                if(loadNb>0) {\n                    angular.element(document.getElementById(\'viettelPay\')).scope().onIframeLoad(booking_number);\n                }\n                loadNb = loadNb+1;\n            }\n        };</script></div>'), e.put("app/flights/payment/paymentest.html", ""), e.put("app/flights/search/fastgo.flight.search.home.html", '<div class="formSearch"><div class="container reset-container"><div class="flight-search-home"><div class="row" ng-if="!vm.enable_template"><div class="col-lg-7 col-md-8"><gtd-flight-home-search-header search-options="vm.searchOptions" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-flight-home-search-header></div><div class="col-lg-5 col-md-4 hidden-sm hidden-xs"><div class="hotel-header-ads porlet"><div class="listSliderHome"><div class="groupSlider"><div id="slider1_container"><div id="slider_content" class="uSlider" u="slides"></div><div u="navigator" class="jssorb13"><div u="prototype"></div></div></div></div></div></div></div></div><div ng-if="vm.enable_template"><gtd-flight-home-search-header search-options="vm.searchOptions" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-flight-home-search-header></div></div></div></div>'), e.put("app/flights/search/flight.search.confirmbooking.html", '<div class="flight-search-confirmbooking"><div class="modal-body"><div class="row" ng-switch="vm.searchOptions.searchType == \'roundtrip\'"><div class="col-md-12"><span class="flight-booking-title" data-translate="flight.search.confirm.title"></span><div class="flight-booking-header"><div class="left-info"><span ng-show="vm.searchOptions.searchType == \'roundtrip\'" data-translate="flight.search.confirm.depart"></span> <span ng-show="vm.searchOptions.searchType == \'oneway\'" data-translate="flight.onewayticket">Vé một chiều</span> <span>{{vm.currentPricedItinerary.airItineraryPricingInfo.adultFare.passengerTypeQuantities.quantity}} {{\'flight.adult\' | translate}}</span> <span ng-show="vm.currentPricedItinerary.airItineraryPricingInfo.childFare != null">, {{vm.currentPricedItinerary.airItineraryPricingInfo.childFare.passengerTypeQuantities.quantity}} {{\'flight.child\' | translate}}</span> <span ng-show="vm.currentPricedItinerary.airItineraryPricingInfo.infantFare != null">, {{vm.currentPricedItinerary.airItineraryPricingInfo.infantFare.passengerTypeQuantities.quantity}} {{\'flight.infant\' | translate}}</span></div><div class="right-info"><span>{{vm.currentPricedItinerary.originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'date\' | capitalize}}</span></div></div><div class="flight-booking-details"><!-- <div class="start-div"></div> --><div class="parent-logo-airline"><div class="img-airline"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + vm.currentGroupItem.airline+ \'.gif\'}}" class="logo-airline"></div><div class="name-airline"><span>{{vm.currentGroupItem.airlineName}} {{vm.currentGroupItem.fightNo}}</span></div><div class="flight-class"><span>{{vm.currentPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName == null ? \'promo\' : vm.currentPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div><div class="from-airline"><div><span class="time-text">{{vm.currentPricedItinerary.originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'hour\'}}</span></div><div><span class="location-text">{{vm.currentGroupItem.originLocationCode | airport:\'city\'}}</span></div><div><span>{{vm.currentGroupItem.originLocationCode | airport:\'name\'}}</span></div></div><div class="loading-info"><div class="line1"><span>{{vm.currentPricedItinerary.originDestinationOptions[0].flightSegments[0].journeyDuration | duration:\'short\'}}</span></div><div class="line2"><span class="plane-taking-off"><img src="../../../content/images/plane-taking-off-1385aa7d82.png"></span></div><div class="line3"><span class="" data-translate="flight.direct">Bay thẳng</span></div></div><div class="from-airline"><div><span class="time-text">{{vm.currentPricedItinerary.originDestinationOptions[0].flightSegments[0].arrivalDateTime | momentdate:\'hour\'}}</span></div><div><span class="location-text">{{vm.currentGroupItem.destinationLocationCode | airport:\'city\'}}</span></div><div><span>{{vm.currentGroupItem.destinationLocationCode | airport:\'name\'}}</span></div></div></div><div class="flight-booking-header" ng-switch-when="true"><div class="left-info"><span data-translate="flight.search.confirm.return"></span> <span>{{vm.returnPricedItinerary.airItineraryPricingInfo.adultFare.passengerTypeQuantities.quantity}} {{\'flight.adult\' | translate}}</span> <span ng-show="vm.returnPricedItinerary.airItineraryPricingInfo.childFare != null">, {{vm.returnPricedItinerary.airItineraryPricingInfo.childFare.passengerTypeQuantities.quantity}} {{\'flight.child\' | translate}}</span> <span ng-show="vm.returnPricedItinerary.airItineraryPricingInfo.infantFare != null">, {{vm.returnPricedItinerary.airItineraryPricingInfo.infantFare.passengerTypeQuantities.quantity}} {{\'flight.infant\' | translate}}</span></div><div class="right-info"><span>{{vm.returnPricedItinerary.originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'date\' | capitalize}}</span></div></div><div class="flight-booking-details" ng-switch-when="true"><!-- <div class="start-div"></div> --><div class="parent-logo-airline"><div class="img-airline"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + vm.returnGroupItem.airline+ \'.gif\'}}" class="logo-airline"></div><div class="name-airline"><span>{{vm.returnGroupItem.airlineName}} {{vm.returnGroupItem.fightNo}}</span></div><div class="flight-class"><span>{{vm.returnPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div><div class="from-airline"><div><span class="time-text">{{vm.returnPricedItinerary.originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'hour\'}}</span></div><div><span class="location-text">{{vm.returnGroupItem.originLocationCode | airport:\'city\'}}</span></div><div><span>{{vm.returnGroupItem.originLocationCode | airport:\'name\'}}</span></div></div><div class="loading-info"><div class="line1"><span>{{vm.returnPricedItinerary.originDestinationOptions[0].flightSegments[0].journeyDuration | duration:\'short\'}}</span></div><div class="line2"><span class="plane-taking-off"><img src="../../../content/images/plane-taking-off-1385aa7d82.png"></span></div><div class="line3"><span class="" data-translate="flight.direct">Bay thẳng</span></div></div><div class="from-airline"><div><span class="time-text">{{vm.returnPricedItinerary.originDestinationOptions[0].flightSegments[0].arrivalDateTime | momentdate:\'hour\'}}</span></div><div><span class="location-text">{{vm.returnGroupItem.destinationLocationCode | airport:\'city\'}}</span></div><div><span>{{vm.returnGroupItem.destinationLocationCode | airport:\'name\'}}</span></div></div></div><div class="flight-booking-footer"><button class="btn gtd-btn-medium" data-dismiss="modal" aria-hidden="true" ng-click="vm.cancel()"><span data-translate="flight.search.confirm.cancel"></span></button> <button class="btn gtd-btn-medium btn-red" ng-click="vm.doSubmit()"><span data-translate="flight.search.confirm.submit"></span></button></div></div></div></div></div>'), e.put("app/flights/search/flight.search.confirmbooking.international.html", '<div class="flight-search-confirmbooking"><div class="modal-body"><div class="row" ng-switch="vm.searchOptions.searchType == \'roundtrip\'"><div class="col-md-12"><span class="flight-booking-title" data-translate="flight.search.confirm.title"></span><div class="flight-booking-header"><div class="left-info"><span ng-show="vm.searchOptions.searchType == \'roundtrip\'" data-translate="flight.search.confirm.depart"></span> <span ng-show="vm.searchOptions.searchType == \'oneway\'" data-translate="flight.onewayticket">Vé một chiều</span> <span>{{vm.currentPricedItinerary.airItineraryPricingInfo.adultFare.passengerTypeQuantities.quantity}} {{\'flight.adult\' | translate}}</span> <span ng-show="vm.currentPricedItinerary.airItineraryPricingInfo.childFare != null">, {{vm.currentPricedItinerary.airItineraryPricingInfo.childFare.passengerTypeQuantities.quantity}} {{\'flight.child\' | translate}}</span> <span ng-show="vm.currentPricedItinerary.airItineraryPricingInfo.infantFare != null">, {{vm.currentPricedItinerary.airItineraryPricingInfo.infantFare.passengerTypeQuantities.quantity}} {{\'flight.infant\' | translate}}</span></div><div class="right-info"><span>{{vm.currentPricedItinerary.originDestinationOptions[0].originDateTime | momentdate:\'date\' | capitalize}}</span></div></div><div class="flight-booking-details"><div class="parent-logo-airline"><div class="img-airline"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + vm.currentGroupItem.airline+ \'.gif\'}}" class="logo-airline"></div><div class="name-airline"><span>{{vm.currentGroupItem.airlineName}} {{vm.currentGroupItem.fightNo}}</span></div><div class="flight-class"><div><span>{{vm.currentPricedItinerary.originDestinationOptions[0].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div></div><div class="from-airline"><div><span class="time-text"><!--{{vm.currentPricedItinerary.originDestinationOptions[0].flightSegments[0].departureDateTime | momentdate:\'hour\'}}--> {{vm.currentPricedItinerary.originDestinationOptions[0].originDateTime | momentdate:\'hour\'}}</span></div><div><span class="location-text">{{vm.currentGroupItem.originLocationCode | airport:\'city\'}}</span></div><div><span>{{vm.currentGroupItem.originLocationCode | airport:\'name\'}}</span></div></div><div class="loading-info"><div class="line1"><span>{{vm.currentPricedItinerary.originDestinationOptions[0].journeyDuration | duration:\'short\'}}</span></div><div class="line2"><span class="plane-taking-off"><img src="../../../content/images/plane-taking-off-1385aa7d82.png"></span></div><div class="line3"><span data-translate="flight.direct" ng-show="(vm.currentPricedItinerary.originDestinationOptions[0].flightSegments).length == 1">Bay thẳng</span> <span ng-show="(vm.currentPricedItinerary.originDestinationOptions[0].flightSegments).length > 1">{{vm.currentPricedItinerary.originDestinationOptions[0].flightSegments.length -1}}&nbsp;{{\'flight.stop\' | translate}}</span></div></div><div class="from-airline"><div><span class="time-text">{{vm.currentPricedItinerary.originDestinationOptions[0].destinationDateTime | momentdate:\'hour\'}}</span></div><div><span class="location-text">{{vm.currentGroupItem.destinationLocationCode | airport:\'city\'}}</span></div><div><span>{{vm.currentGroupItem.destinationLocationCode | airport:\'name\'}}</span></div></div></div><!-- International: return and depart are the same object, just swap --><div class="flight-booking-header" ng-switch-when="true"><div class="left-info"><span data-translate="flight.search.confirm.return"></span> <span>{{vm.returnPricedItinerary.airItineraryPricingInfo.adultFare.passengerTypeQuantities.quantity}} {{\'flight.adult\' | translate}}</span> <span ng-show="vm.returnPricedItinerary.airItineraryPricingInfo.childFare != null">, {{vm.returnPricedItinerary.airItineraryPricingInfo.childFare.passengerTypeQuantities.quantity}} {{\'flight.child\' | translate}}</span> <span ng-show="vm.returnPricedItinerary.airItineraryPricingInfo.infantFare != null">, {{vm.returnPricedItinerary.airItineraryPricingInfo.infantFare.passengerTypeQuantities.quantity}} {{\'flight.infant\' | translate}}</span></div><div class="right-info"><span>{{vm.returnPricedItinerary.originDestinationOptions[1].originDateTime | momentdate:\'date\' | capitalize}}</span></div></div><div class="flight-booking-details" ng-switch-when="true"><div class="parent-logo-airline"><div class="img-airline"><img ng-src="{{ibeKeys.cdn.airlines.logoUrl + \'/\' + vm.returnGroupItem.airline+ \'.gif\'}}" class="logo-airline"></div><div class="name-airline"><span>{{vm.returnPricedItinerary.originDestinationOptions[1].flightSegments[0].operatingAirline.name}} {{vm.returnPricedItinerary.originDestinationOptions[1].flightSegments[0].operatingAirline.flightNumber}}</span></div><div class="flight-class"><span>{{vm.returnPricedItinerary.originDestinationOptions[1].flightSegments[0].cabinClassName | gender:\'cabinclass\'}}</span></div></div><div class="from-airline"><div><span class="time-text">{{vm.returnPricedItinerary.originDestinationOptions[1].originDateTime | momentdate:\'hour\'}}</span></div><div><span class="location-text">{{vm.returnGroupItem.originLocationCode | airport:\'city\'}}</span></div><div><span>{{vm.returnGroupItem.originLocationCode | airport:\'name\'}}</span></div></div><div class="loading-info"><div class="line1"><span>{{vm.returnPricedItinerary.originDestinationOptions[1].journeyDuration | duration:\'short\'}}</span></div><div class="line2"><span class="plane-taking-off"><img src="../../../content/images/plane-taking-off-1385aa7d82.png"></span></div><div class="line3"><span data-translate="flight.direct" ng-show="(vm.currentPricedItinerary.originDestinationOptions[1].flightSegments).length == 1">Bay thẳng</span> <span ng-show="(vm.currentPricedItinerary.originDestinationOptions[1].flightSegments).length > 1">{{vm.currentPricedItinerary.originDestinationOptions[1].flightSegments.length -1}}&nbsp;{{\'flight.stop\' | translate}}</span></div></div><div class="from-airline"><div><span class="time-text">{{vm.returnPricedItinerary.originDestinationOptions[1].destinationDateTime | momentdate:\'hour\'}}</span></div><div><span class="location-text">{{vm.returnGroupItem.destinationLocationCode | airport:\'city\'}}</span></div><div><span>{{vm.returnGroupItem.destinationLocationCode | airport:\'name\'}}</span></div></div></div><div class="flight-booking-footer"><button class="btn gtd-btn-medium" data-dismiss="modal" aria-hidden="true" ng-click="vm.cancel()"><span data-translate="flight.search.confirm.cancel"></span></button> <button class="btn gtd-btn-medium btn-red" ng-click="vm.doSubmit()"><span data-translate="flight.search.confirm.submit"></span></button></div></div></div></div></div>'),
                e.put("app/flights/search/flight.search.home.html", '<div class="formSearch"><div class="container reset-container"><div class="flight-search-home"><div class="row" ng-if="!vm.enable_template"><div class="col-lg-7 col-md-8"><gtd-flight-home-search-header search-options="vm.searchOptions" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-flight-home-search-header></div><div class="col-lg-5 col-md-4 hidden-sm hidden-xs"><div class="hotel-header-ads porlet"><div class="listSliderHome"><div class="groupSlider"><div id="slider1_container"><div id="slider_content" class="uSlider" u="slides"></div><div u="navigator" class="jssorb13"><div u="prototype"></div></div></div></div></div></div></div></div><div ng-if="vm.enable_template"><gtd-flight-home-search-header search-options="vm.searchOptions" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-flight-home-search-header></div></div></div></div><!--div class="mainPage" ng-if="!vm.enable_template">\n    <div class="container reset-container">\n        <div class="flight-search-home">\n            <div class="row">\n                <div class="col-md-12 hotel-header-carousel">\n                    <div class="listCaption">\n                        <div class="item">\n                            <div class="icon"><img src="../../../content/images/icon-sellingpoint-f30f2305a9.svg"\n                                    class="img-responsive" /></div>\n                            <div class="content-zone">\n                                <div class="title">{{\'flight.search.home.bestprice\'| translate}}</div>\n                                <div class="content">{{\'flight.search.home.allservice\'| translate}}</div>\n                            </div>\n                        </div>\n                        <div class="item">\n                            <div class="icon"><img src="../../../content/images/icon-ho-tro-28cacfe1b6.svg"\n                                    class="img-responsive" /></div>\n                            <div class="content-zone">\n                                <div class="title">{{\'flight.search.home.care\'| translate}}</div>\n                                <div class="content">{{\'flight.search.home.callcenter\'| translate}}</div>\n                            </div>\n                        </div>\n                        <div class="item">\n                            <div class="icon"><img src="../../../content/images/icon-thue-98910399dd.svg" class="img-responsive" />\n                            </div>\n                            <div class="content-zone">\n                                <div class="title">{{\'flight.search.home.vat\' |translate}}</div>\n                                <div class="content">{{\'flight.search.home.vat2\' |translate}}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <div class="subscrice">\n        <div class="container reset-container">\n            <div class="imgApp"><img src="../../../content/images/3caidt-bdcd1ba776.png" class="img-responsive" /></div>\n            <div class="row">\n                <div class="col-lg-4 col-md-5">\n\n                </div>\n                <div class="col-lg-6 col-md-7">\n                    <div class="form-subscrice">\n                        <div class="form-group">\n                            <div class="email">\n                                <label for="email">{{\'flight.search.home.app1\' |translate}}</label>\n                                <input type="text" class="form-text"\n                                    placeholder="{{\'flight.plchdr.entermail\'| translate}}" id="email" />\n                                <div class="send">\n                                    <button class="btnSend" ng-click="subscriceEmail()"><i class="fa fa-envelope"></i>\n                                        &nbsp; {{\'flight.search.home.send\' |translate}}</button>\n                                </div>\n                            </div>\n                            <div class="messageResult"></div>\n                        </div>\n                        <div class="downApp">\n                            <div class="name-tk">{{\'flight.search.home.app2\' |translate}}</div>\n                            <div class="icon-store"> <a\n                                    href="https://itunes.apple.com/us/app/gotadi-flight-booking/id1234937358?mt=8"\n                                    target="_blank"> <img src="../../../content/images/app-store-dadf47fbf2.jpg"\n                                        class="img-responsive" /></a> </div>\n                            <div class="icon-store"> <a\n                                    href="https://play.google.com/store/apps/details?id=com.vn.gotadi.mobileapp"\n                                    target="_blank"> <img src="../../../content/images/google-play-0e38f765bc.jpg"\n                                        class="img-responsive" /></a> </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="member-benefits">\n        <div class="container">\n            <div class="litsBenefits">\n                <div class="heading-name">{{\'flight.search.home.benefit\' |translate}}</div>\n                <div class="row">\n                    <div class="col-sm-4">\n                        <div class="item">\n                            <div class="name">{{\'flight.search.home.price1\' |translate}}</div>\n                            <div class="iconBf">\n                                <img class="header-icon" src="../../../content/images/icon-price-good-b595ddbb6a.svg" />\n                            </div>\n                            <p>{{\'flight.search.home.price2\' |translate}}</p>\n                        </div>\n                    </div>\n                    <div class="col-sm-4">\n                        <div class="item">\n                            <div class="name">{{\'flight.search.home.deal1\' |translate}}</div>\n                            <div class="iconBf">\n                                <img class="header-icon" src="../../../content/images/icon-uu-dai-0462579f0b.svg" />\n                            </div>\n                            <p>{{\'flight.search.home.deal2\' |translate}}.</p>\n                        </div>\n                    </div>\n                    <div class="col-sm-4">\n                        <div class="item">\n                            <div class="name">{{\'flight.search.home.point1\' |translate}}</div>\n                            <div class="iconBf">\n                                <img class="header-icon" src="../../../content/images/icon-tichluydiem-fa8faf44b0.svg" />\n                            </div>\n                            <p>{{\'flight.search.home.point2\' |translate}}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="partner">\n        <div class="container">\n            <div class="heading-name">{{\'flight.search.home.partner\' |translate}}</div>\n            <div class="listPartner">\n                <div id="partner-carousel"\n                    class="partner-carousel owl-carousel owl-theme col-md-12 no-padding-left no-padding-right">\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/logobankplus1-17d72122c9.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/TIKI-ac2cc12c28.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/LOGO-VIB-Blue-6bb2cebdea.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/zalopay-ba7ced3115.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/logo-viviet-d6c572b9c1.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/momo-1c643bb4cb.png"\n                                class="img-responsive"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <script type="text/javascript">\n            $("#partner-carousel").owlCarousel({\n                autoPlay: 3000, //Set AutoPlay to 3 seconds\n                dots: false,\n                items: 6,\n                nav: false,\n                responsive: {\n                    280: { items: 3, dots: true },\n                    480: { items: 4, dots: true },\n                    768: { items: 5, dots: true },\n                    991: { items: 6, dots: true },\n                }\n            });\n        </script>\n    </div>\n    <div class="trademark">\n        <div class="container">\n            <div class="heading-name">{{\'flight.search.home.brands\' |translate}}</div>\n            <div class="listTrademark">\n                <div id="trademark-carousel"\n                    class="trademark-carousel owl-carousel owl-theme col-md-12 no-padding-left no-padding-right">\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/acprail-362180dfbf.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/jeju-ccfe5e8990.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/k6-550c9cb366.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/hawai-db74dbeb9c.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/tk-34e8fa4002.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/db-6ae5916806.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/goodwill-e4348ffdf4.png"\n                                class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/bhaya-6bb28725c5.png"\n                                class="img-responsive"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <script type="text/javascript">\n            $("#trademark-carousel").owlCarousel({\n                autoPlay: 3000, //Set AutoPlay to 3 seconds\n                dots: false,\n                items: 8,\n                responsive: {\n                    280: { items: 3, dots: true },\n                    480: { items: 4, dots: true },\n                    768: { items: 5, dots: true },\n                    991: { items: 8, dots: true },\n                }\n            });\n        </script>\n    </div>\n</div>\n</div-->'), e.put("app/flights/search/flight.search.html", '<!--<div class="flight-search-header">--><div class="sm-change-action"><div class="btn-change sm-change-filter" ng-click="filterItinerary()"><i class="fa fa-filter"></i> Bộ lọc</div><div class="btn-change sm-change-iti" ng-click="changeItinerary()"><i class="fa fa-exchange"></i> Thay đổi hành trình</div></div><gtd-flight-search-header search-options="vm.searchOptions" init="vm.init" search-completed="vm.searchCompleted" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-flight-search-header><!--</div>--><div class="mainSearchResult"><div class="main-detail-search"><div class="container" ng-if="!vm.timeout"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="search-page search-content-3" ng-switch="vm.searchResult.page.totalElements > 0"><div class="row"><div class="col-md-3 flight-search-adv"><div class="sm-form-filter" ng-click="closeFilterItinerary()"></div><div class="formFilter" ng-if="vm.merchantCode != \'FSOFT\'"><!--{{vm.searchResult.page.totalElements}}total-{{vm.searchOptions.selectStep}}step-{{vm.searchOptions.dtype}}&#45;&#45;{{vm.searchResult.groupPricedItineraries[0].pricedItineraries.length}}--><!--vm.init={{vm.init}},vm.filterCompleted={{vm.filterCompleted}},vm.searchCompleted=={{vm.searchCompleted}},vm.alreadyFilter=={{vm.alreadyFilter}}--><gtd-flight-search-adv search-result="vm.searchResult" search-options="vm.searchOptions" filter-completed="vm.filterCompleted" search-completed="vm.searchCompleted" ng-if="(\n                                    (vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1)\n                                    || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'international\' && vm.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0)\n                                    || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'domestic\' && vm.searchResult.page.totalElements > 0)\n                                    )\n                                    || vm.alreadyFilter\n                                    "></gtd-flight-search-adv></div><div class="formFilter" ng-if="vm.merchantCode == \'FSOFT\'"><gtd-fsoft-flight-search-adv search-result="vm.searchResult" search-options="vm.searchOptions" filter-completed="vm.filterCompleted" search-completed="vm.searchCompleted" ng-if="(\n                                    (vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1)\n                                    || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'international\' && vm.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0)\n                                    || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'domestic\' && vm.searchResult.page.totalElements > 0)\n                                    )\n                                    || vm.alreadyFilter\n                                    "></gtd-fsoft-flight-search-adv></div></div><div class="col-md-9 flight-search-result" ng-if="vm.merchantCode != \'FSOFT\'"><gtd-flight-search-result search-result="vm.searchResult" search-options="vm.searchOptions" filter-completed="vm.filterCompleted" search-completed="vm.searchCompleted" ng-if="(vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1) || (vm.searchOptions.selectStep==2)"></gtd-flight-search-result><!--<div class="text-danger bold h5"--><!--ng-if="!((vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1) || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'international\' && vm.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0))"--><!--&gt;--><!--<span data-translate="flight.noresultext">Không tìm kiếm thấy chuyến bay phù hợp. Vui lòng nhập lại điều kiện tìm kiếm!</span>--><!--</div>--><div class="text-danger bold h5" style="padding-bottom: 20px" ng-if="!(\n                                    (vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1)\n                                    || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'international\' && vm.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0)\n                                    || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'domestic\' && vm.searchResult.page.totalElements > 0)\n                                    )\n                                    && vm.searchCompleted && vm.filterCompleted\n                                    "><span data-translate="flight.noresultext">Không tìm kiếm thấy chuyến bay phù hợp. Vui lòng nhập lại điều kiện tìm kiếm!</span></div><!--1{{vm.searchCompleted}}1{{vm.init}}2{{vm.filterCompleted}}3--></div><div class="col-md-9 flight-search-result" ng-if="vm.merchantCode == \'FSOFT\'"><gtd-fsoft-flight-search-result search-result="vm.searchResult" search-options="vm.searchOptions" filter-completed="vm.filterCompleted" search-completed="vm.searchCompleted" ng-if="(vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1) || (vm.searchOptions.selectStep==2)"></gtd-fsoft-flight-search-result><div class="text-danger bold h5" style="padding-bottom: 20px" ng-if="vm.searchResult.page == null || !(\n                                    (vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1)\n                                    || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'international\' && vm.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0)\n                                    || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'domestic\' && vm.searchResult.page.totalElements > 0)\n                                    )\n                                    && vm.searchCompleted && vm.filterCompleted"><span data-translate="flight.noresultext">Không tìm kiếm thấy chuyến bay phù hợp. Vui lòng nhập lại điều kiện tìm kiếm!</span></div><!--1{{vm.searchCompleted}}1{{vm.init}}2{{vm.filterCompleted}}3--></div></div></div></div><!-- END PAGE CONTENT INNER --></div></div></div><div class="flight-search-footer"><gtd-flight-search-footer></gtd-flight-search-footer></div>'), e.put("app/flights/search/flight.search.loading.html", '<div class="flight-search-loading"><div class="modal-body"><div class="row" ng-switch="vm.searchOptions.searchType == \'roundtrip\'"><div class="col-md-12"><span class="flight-search-loading-title" data-translate="flight.search.loading.title"></span><div class="flight-loading"><img src="{{vm.loading_img}}"></div><div class="flight-search-loading-details"><div class="from-airline">{{vm.searchOptions.fromAirPort | airport : \'city-code\'}}</div><div class="loading-info"><div class="line1"><img src="../../../content/images/loadingten-4e2a3ca606.png" class="img-direct"></div><div class="line3"><span style="text-transform: capitalize">{{vm.searchOptions.departureDate | momentdate:\'load-date\'}}</span></div></div><div class="from-airline">{{vm.searchOptions.toAirPort | airport : \'city-code\'}}</div></div><div class="flight-search-loading-details" ng-switch-when="true"><div class="from-airline">{{vm.searchOptions.toAirPort | airport : \'city-code\'}}</div><div class="loading-info"><div class="line1"><img src="../../../content/images/loadingten-4e2a3ca606.png" class="img-direct"></div><div class="line2"><span style="text-transform: capitalize">{{vm.searchOptions.returnDate | momentdate:\'load-date\'}}</span></div></div><div class="from-airline">{{vm.searchOptions.fromAirPort | airport : \'city-code\'}}</div></div></div></div></div></div>'), e.put("app/flights/search/tiki.flight.search.html", '<!--<div class="flight-search-header">--><div class="sm-change-action"><div class="btn-change sm-change-filter" ng-click="filterItinerary()"><i class="fa fa-filter"></i> Bộ lọc</div><div class="btn-change sm-change-iti" ng-click="changeItinerary()"><i class="fa fa-exchange"></i> Thay đổi hành trình</div></div><gtd-flight-search-header search-options="vm.searchOptions" init="vm.init" search-completed="vm.searchCompleted" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-flight-search-header><!--</div>--><div class="mainSearchResult"><div class="main-detail-search"><div class="container" ng-if="!vm.timeout"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="search-page search-content-3" ng-switch="vm.searchResult.page.totalElements > 0"><div class="row"><div class="col-md-3 flight-search-adv"><div class="sm-form-filter" ng-click="closeFilterItinerary()"></div><div class="formFilter"><!--{{vm.searchResult.page.totalElements}}total-{{vm.searchOptions.selectStep}}step-{{vm.searchOptions.dtype}}&#45;&#45;{{vm.searchResult.groupPricedItineraries[0].pricedItineraries.length}}--><!--vm.init={{vm.init}},vm.filterCompleted={{vm.filterCompleted}},vm.searchCompleted=={{vm.searchCompleted}},vm.alreadyFilter=={{vm.alreadyFilter}}--><gtd-flight-search-adv search-result="vm.searchResult" search-options="vm.searchOptions" filter-completed="vm.filterCompleted" search-completed="vm.searchCompleted" ng-if="(\n                                            (vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1)\n                                            || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'international\' && vm.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0)\n                                            || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'domestic\' && vm.searchResult.page.totalElements > 0)\n                                            )\n                                            || vm.alreadyFilter\n                                            "></gtd-flight-search-adv></div></div><div class="col-md-9 flight-search-result"><gtd-flight-search-result search-result="vm.searchResult" search-options="vm.searchOptions" filter-completed="vm.filterCompleted" search-completed="vm.searchCompleted" ng-if="(vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1) || (vm.searchOptions.selectStep==2)"></gtd-flight-search-result><!--<div class="text-danger bold h5"--><!--ng-if="!((vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1) || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'international\' && vm.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0))"--><!--&gt;--><!--<span data-translate="flight.noresultext">Không tìm kiếm thấy chuyến bay phù hợp. Vui lòng nhập lại điều kiện tìm kiếm!</span>--><!--</div>--><div class="text-danger bold h5" style="padding-bottom: 20px" ng-if="!(\n                                            (vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1)\n                                            || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'international\' && vm.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0)\n                                            || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'domestic\' && vm.searchResult.page.totalElements > 0)\n                                            )\n                                            && vm.searchCompleted && vm.filterCompleted\n                                            "><span data-translate="flight.noresultext">Không tìm kiếm thấy chuyến bay phù hợp. Vui lòng nhập lại điều kiện tìm kiếm!</span></div><!--1{{vm.searchCompleted}}1{{vm.init}}2{{vm.filterCompleted}}3--></div></div></div></div><!-- END PAGE CONTENT INNER --></div></div></div><div class="flight-search-footer"><gtd-flight-search-footer></gtd-flight-search-footer></div>'), e.put("app/flights/search/viettel.flight.search.home.html", '<div class="history-button"><a ui-sref="user-profile-booking" class="btn"><i class="fa fa-history fa-3"></i></a></div><div class="formSearch"><div class="container reset-container"><div class="flight-search-home"><div class="row" ng-if="!vm.enable_template"><div class="col-lg-7 col-md-8"><gtd-flight-home-search-header search-options="vm.searchOptions" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-flight-home-search-header></div></div><div ng-if="vm.enable_template"><gtd-flight-home-search-header search-options="vm.searchOptions" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-flight-home-search-header></div></div></div></div>'), e.put("app/flights/search/viettel.flight.search.html", '<!--<div class="flight-search-header">--><div class="sm-change-action"><div class="btn-change sm-change-filter" ng-click="filterItinerary()"><i class="fa fa-filter"></i> Bộ lọc</div><div class="btn-change sm-change-iti" ng-click="changeItinerary()"><i class="fa fa-exchange"></i> Thay đổi hành trình</div></div><gtd-flight-search-header search-options="vm.searchOptions" init="vm.init" search-completed="vm.searchCompleted" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-flight-search-header><!--</div>--><div class="mainSearchResult"><div class="main-detail-search"><div class="container" ng-if="!vm.timeout"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="search-page search-content-3" ng-switch="vm.searchResult.page.totalElements > 0"><div class="row"><div class="col-md-3 flight-search-adv"><div class="sm-form-filter" ng-click="closeFilterItinerary()"></div><div class="formFilter"><!--{{vm.searchResult.page.totalElements}}total-{{vm.searchOptions.selectStep}}step-{{vm.searchOptions.dtype}}&#45;&#45;{{vm.searchResult.groupPricedItineraries[0].pricedItineraries.length}}--><!--vm.init={{vm.init}},vm.filterCompleted={{vm.filterCompleted}},vm.searchCompleted=={{vm.searchCompleted}},vm.alreadyFilter=={{vm.alreadyFilter}}--><gtd-flight-search-adv search-result="vm.searchResult" search-options="vm.searchOptions" filter-completed="vm.filterCompleted" search-completed="vm.searchCompleted" ng-if="(\n                                            (vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1)\n                                            || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'international\' && vm.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0)\n                                            || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'domestic\' && vm.searchResult.page.totalElements > 0)\n                                            )\n                                            || vm.alreadyFilter\n                                            "></gtd-flight-search-adv></div></div><div class="col-md-9 flight-search-result"><gtd-flight-search-result search-result="vm.searchResult" search-options="vm.searchOptions" filter-completed="vm.filterCompleted" search-completed="vm.searchCompleted" ng-if="(vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1) || (vm.searchOptions.selectStep==2)"></gtd-flight-search-result><!--<div class="text-danger bold h5"--><!--ng-if="!((vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1) || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'international\' && vm.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0))"--><!--&gt;--><!--<span data-translate="flight.noresultext">Không tìm kiếm thấy chuyến bay phù hợp. Vui lòng nhập lại điều kiện tìm kiếm!</span>--><!--</div>--><div class="text-danger bold h5" style="padding-bottom: 20px" ng-if="!(\n                                            (vm.searchResult.page.totalElements > 0 && vm.searchOptions.selectStep==1)\n                                            || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'international\' && vm.searchResult.groupPricedItineraries[0].pricedItineraries.length > 0)\n                                            || (vm.searchOptions.selectStep==2 && vm.searchOptions.dtype==\'domestic\' && vm.searchResult.page.totalElements > 0)\n                                            )\n                                            && vm.searchCompleted && vm.filterCompleted\n                                            "><span data-translate="flight.noresultext">Không tìm kiếm thấy chuyến bay phù hợp. Vui lòng nhập lại điều kiện tìm kiếm!</span></div><!--1{{vm.searchCompleted}}1{{vm.init}}2{{vm.filterCompleted}}3--></div></div></div></div><!-- END PAGE CONTENT INNER --></div></div></div><div class="flight-search-footer"><gtd-flight-search-footer></gtd-flight-search-footer></div>'), e.put("app/hotels/Inventory/hotel.inventory.html", '<div class="container"><div class="row breadcrumbs"><ul class="page-breadcrumb breadcrumb"><li><a href="./#/flight">Trang chủ</a> <i class="fa fa-angle-right"></i></li><li><span data-translate="flight.booking.info.contactinfo.contact">Liên hệ hợp tác</span></li></ul></div><div class="form-horizontal"><div class="title-invetory"><b>THÔNG TIN ĐĂNG KÝ INVENTORY HOTEL</b></div><form role="form" name="atmForm" novalidate><div class="form-group"><label class="col-sm-3 col-xs-4 profile-reponsive control-label">Tên Khách sạn <span class="text-color4">*</span></label><div class="col-sm-6 col-xs-8 profile-reponsive"><input type="text" class="form-control" ng-model="vm.hotelName" required ng-maxlength="255" name="hotelName"><div class="error" ng-show="(atmForm.$submitted || atmForm.hotelName.$touched) && atmForm.hotelName.$invalid"><p class="help-block" ng-show="atmForm.hotelName.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="atmForm.hotelName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="255"></p></div></div><label class="col-sm-3 col-xs-4 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-sm-3 col-xs-4 profile-reponsive control-label"><span data-translate="flight.booking.info.contactinfo.mobile"></span>:<span style="color: red">*</span></label><div class="col-sm-6 col-xs-8 profile-reponsive"><input type="text" id="ciMobile{{$index}}" name="hotelPhone" gtd-vn-phone class="gtd-text-medium form-control" placeholder="{{\'flight.plchdr.phone\' | translate}}" ng-model="vm.phoneNumber" onkeypress="if(this.value.length==20) return false;" required><div class="error" ng-show="(atmForm.$submitted || atmForm.hotelPhone.$touched) && atmForm.hotelPhone.$invalid"><p class="help-block" ng-show="atmForm.hotelPhone.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="atmForm.hotelPhone.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="20"></p><p class="help-block" ng-show="atmForm.hotelPhone.$error.phoneValidator" data-translate="entity.validation.phoneValidator"></p></div></div></div><div class="form-group"><label class="col-sm-3 col-xs-4 profile-reponsive control-label">Email:<span style="color: red">*</span></label><div class="col-sm-6 col-xs-8 profile-reponsive"><input type="email" class="form-control" gtd-email ng-maxlength="255" name="hotelEmail" required ng-model="vm.email"><div class="error" ng-show="(atmForm.$submitted || atmForm.hotelEmail.$touched) && atmForm.hotelEmail.$invalid"><p class="help-block" ng-show="atmForm.hotelEmail.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="atmForm.hotelEmail.$error.emailValidator" data-translate="entity.validation.email"></p><p class="help-block" ng-show="atmForm.hotelEmail.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="255"></p></div></div></div><div class="form-group"><label class="col-sm-3 col-xs-4 profile-reponsive control-label">{{\'global.menu.account.profiles.add\' | translate}}<span style="color: red">*</span></label><div class="col-sm-6 col-xs-8 profile-reponsive"><textarea type="text" class="form-control" ng-model="vm.address" ng-maxlength="1000" name="hotelAddress" required></textarea><div class="error" ng-show="(atmForm.$submitted || atmForm.hotelAddress.$touched) && atmForm.hotelAddress.$invalid"><p class="help-block" ng-show="atmForm.hotelAddress.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="atmForm.hotelAddress.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="1000"></p></div></div><label class="col-sm-3 col-xs-4 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-sm-3 col-xs-4 profile-reponsive control-label">Tên người liên hệ</label><div class="col-sm-6 col-xs-8 profile-reponsive"><input type="text" class="form-control" ng-model="vm.fullName" name="surName" ng-maxlength="255"><div class="error" ng-show="(atmForm.$submitted || atmForm.surName.$touched) && atmForm.surName.$invalid"><p class="help-block" ng-show="atmForm.surName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="255"></p></div></div><label class="col-sm-3 col-xs-4 profile-reponsive control-label"></label></div><div class="form-group"><label class="col-sm-3 col-xs-4 profile-reponsive control-label"></label><div class="textRed col-sm-6 col-xs-8">* Thông tin bắt buộc</div></div></form><div class="title-invetory"><button class="btn gtd-btn-default gtd-btn-large" type="submit" ng-click="vm.registry()"><span class="uppercase ng-scope">Đăng ký</span></button></div></div></div>'),
                e.put("app/hotels/booking/hotel.booking.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="search-page search-content-3"><div class="row"><div class="col-sm-12"><gtd-flight-booking-progress booking-model="vm.bookingModel" mode="\'hotel\'"></gtd-flight-booking-progress></div></div><div class="row"><div class="col-md-8 booking-wrapper"><form style="overflow: hidden" role="form" name="bookingForm" novalidate ng-submit="vm.doConfirm(bookingForm)"><ng-switch on="vm.bookingModel.curStep == 1"><gtd-booking-hotel-info booking-model="vm.bookingModel" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" ng-switch-when="true" id="action-bar-mobile"></gtd-booking-hotel-info><gtd-hotel-booking-customer-info booking-model="vm.bookingModel" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" ng-switch-when="true"></gtd-hotel-booking-customer-info><gtd-hotel-booking-contact-info booking-model="vm.bookingModel" ng-switch-when="true"></gtd-hotel-booking-contact-info><gtd-hotel-booking-billing-info booking-model="vm.bookingModel" ng-switch-when="true"></gtd-hotel-booking-billing-info><gtd-booking-important-info selected-hotel-product="vm.selectedHotelProduct" change-hook="vm.termChange" ng-switch-when="true"></gtd-booking-important-info></ng-switch><ng-switch on="vm.bookingModel.curStep == 2"><gtd-booking-hotel-info booking-model="vm.bookingModel" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" ng-switch-when="true"></gtd-booking-hotel-info><gtd-hotel-booking-customer-info-view booking-model="vm.bookingModel" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" ng-switch-when="true"></gtd-hotel-booking-customer-info-view><gtd-hotel-booking-contact-info-view booking-model="vm.bookingModel" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" mode="flight" ng-switch-when="true"></gtd-hotel-booking-contact-info-view><gtd-hotel-booking-billing-info-view booking-model="vm.bookingModel" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" ng-switch-when="true"></gtd-hotel-booking-billing-info-view></ng-switch><ng-switch on="vm.bookingModel.curStep == 3"><gtd-booking-hotel-info booking-model="vm.bookingModel" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" ng-switch-when="true"></gtd-booking-hotel-info><gtd-booking-payment payment-model="vm.paymentModel" booking-model="vm.bjson" booking-model-one-way="vm.bjson" ng-switch-when="true"></gtd-booking-payment></ng-switch><div class="action-bar visible-md visible-lg"><!--<div class="term-zone">--><!--<span data-translate="flight.booking.terms"/> --><!--</div>--><div class="buttons-zone"><span class="fa fa-angle-left" ng-show="vm.bookingModel.curStep == 1"></span> <span data-translate="flight.booking.back" ng-click="vm.doBack()" ng-show="vm.bookingModel.curStep == 1"></span> <button class="btn gtd-btn-default gtd-btn-large pull-right margin-bottom-30" id="button" ng-disabled="bookingForm.$invalid || (!vm.checkedTerm && vm.bookingModel.curStep === 1)" type="submit"><!--<span class="uppercase fa fa-search">&nbsp;--> <span class="uppercase ng-scope" data-translate="flight.booking.next">Tìm</span></button></div></div><div class="submit-bar-mobile row hidden-md hidden-lg"><div class="pull-left text-danger price">{{vm.bjson | bookingPriceInfo:\'total_price\' | number}} VNĐ</div><div class="pull-right"><button class="btn gtd-btn-default pull-right" type="submit" ng-disabled="bookingForm.$invalid || (!vm.checkedTerm && vm.bookingModel.curStep === 1)"><!--<span class="uppercase fa fa-search">&nbsp;--> <span class="uppercase ng-scope" data-translate="flight.booking.next">Tìm</span></button></div></div></form></div><div class="col-md-4 booking-summary-wrapper action-bar-desktop"><gtd-hotel-booking-summary booking-model="vm.bookingModel" bjson="vm.bjson" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" payment-model="vm.paymentModel" show-coupon="true"></gtd-hotel-booking-summary><gtd-hotel-booking-summary-details booking-model="vm.bookingModel" bjson="vm.bjson" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" payment-model="vm.paymentModel" show-coupon="true"></gtd-hotel-booking-summary-details></div></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/hotels/booking/hotel.booking.result.html", '<div class="hotel-booking-result-outer-wrapper"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="search-page search-content-3"><div class="row"><div class="col-sm-12"><div class="portlet"><div class="porlet-body"><div class="hotel-booking-result-inner-wrapper"><!--<ng-switch on="vm.paymentModel.paymentOption == \'TRANSFER\'">--><div class="header-zone"><div class="header-title"><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'FAILED\' || vm.bkgroup.bookingInfo.supplierBookingStatus ==\'PENDING\'" data-translate="hotel.result.ss.FAILED">ĐẶT PHÒNG THẤT BẠI </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'CONFIRMED\'" data-translate="hotel.result.ss.CONFIRMED">THANH TOÁN ĐẶT PHÒNG THÀNH CÔNG </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'BOOKING_ON_PROCESS\'" data-translate="hotel.result.ss.BOOKING_ON_PROCESS">ĐANG THỰC HIỆN GIỮ PHÒNG </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'TICKET_ON_PROCESS\'" data-translate="hotel.result.ss.TICKET_ON_PROCESS">ĐANG THỰC HIỆN ĐẶT PHÒNG </span><!--\n                                            <ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'CANCELLED\'">\n                                                <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'REFUNDED\'"> ĐÃ HUỶ VÉ VÀ HOÀN TIỀN THÀNH </span>\n                                                <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\'">ĐÃ HUỶ VÉ VÀ CHƯA HOÀN TIỀN </span>\n                                            </ng-switch>\n                                            --><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'EXPIRED\'"><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'" data-translate="hotel.result.eps.PENDING">QUÁ HẠN THANH TOÁN </span><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'" data-translate="hotel.result.eps.FAILED">QUÁ HẠN THANH TOÁN</span> <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\'" data-translate="hotel.result.eps.SUCCEEDED">ĐÃ THANH TOÁN - KHÔNG ĐẶT ĐƯỢC PHÒNG</span></ng-switch><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'BOOKED\'"><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'" data-translate="hotel.result.bps.PENDING">ĐẶT PHÒNG THÀNH CÔNG</span> <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'" data-translate="hotel.result.bps.FAILED">THANH TOÁN LỖI</span><!-- issuedStatus is FAILED or PENDING  --> <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\' && vm.bkgroup.bookingInfo.issuedStatus != \'SUCCEEDED\'" data-translate="hotel.result.bps.SUCCEEDED">THANH TOÁN THÀNH CÔNG, ĐẶT PHÒNG LỖI</span></ng-switch></div><div class="header-title-sub"><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'FAILED\' || vm.bkgroup.bookingInfo.supplierBookingStatus ==\'PENDING\'" data-translate="hotel.result.msg1.ss.FAILED">Cảm ơn quý khách đã sử dụng dịch vụ của Gotadi. Thật tiếc! Thực hiện đặt vé của Quý khách đã thất bại.<br>Quý khách vui lòng kiểm tra lại hành trình hoặc kết nối Internet. </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'CONFIRMED\'" data-translate="hotel.result.msg1.ss.CONFIRMED">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán đặt vé thành công.<br>Quý khách sẽ nhận được xác nhận chi tiết đặt chỗ thông qua email. </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'BOOKING_ON_PROCESS\'" data-translate="hotel.result.msg1.ss.BOOKING_ON_PROCESS">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Vé của quý khách đang được thực hiện giữ chỗ.<br>Chúng tôi sẽ gửi mail chi tiết cho quý khách ngay sau khi giữ chỗ thành công </span><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'TICKET_ON_PROCESS\'" data-translate="hotel.result.msg1.ss.TICKET_ON_PROCESS">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán đặt vé thành công. Chúng tôi đang tiến hành xuất vé.<br>Quý khách sẽ nhận được xác nhận chi tiết đặt chỗ thông qua email ngay sau khi xuất vé thành công.</span><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'EXPIRED\'"><span ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'  && vm.bkgroup.bookingInfo.supplierBookingStatus != \'BOOKED\' ">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Yêu cầu đặt phòng của Quý khách đã quá hạn thanh toán. Quý khách vui lòng đặt phòng khác.</span></ng-switch><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'BOOKED\' && vm.bkgroup.bookingInfo.supplierBookingStatus != \'EXPIRED\'"><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'  " data-translate="hotel.result.msg1.bps.PENDING">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Yêu cầu đặt chỗ của Quý khách đã được thực hiện thành công.<br>Quý khách sẽ nhận được xác nhận chi tiết đặt chỗ thông qua email. </span><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'" data-translate="hotel.result.msg1.bps.FAILED">Cảm ơn Quý khách đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán đặt phòng thành công.<br>Quý khách sẽ nhận được xác nhận chi tiết đặt chỗ thông qua email. </span><!-- issuedStatus is FAILED or PENDING  --> <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\' && vm.bkgroup.bookingInfo.issuedStatus != \'SUCCEEDED\' && (vm.bkgroup.bookingInfo.paymentType == \'ATM_DEBIT\' || vm.bkgroup.bookingInfo.paymentType == \'CREDIT\')" data-translate="hotel.result.msg1.bps.SUCCEEDED">Cám ơn bạn đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán đặt vé thành công tuy nhiên có lỗi trong quá trình xuất vé. </span><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\' && vm.bkgroup.bookingInfo.issuedStatus != \'SUCCEEDED\' && vm.bkgroup.bookingInfo.paymentType == \'BALANCE\'" data-translate="hotel.result.msg1.bps.SUCCEEDED_BALANCE">Cám ơn bạn đã sử dụng dịch vụ của Gotadi. Quý khách đã thực hiện thanh toán đặt vé thành công tuy nhiên có lỗi trong quá trình xuất vé.</span></ng-switch></div><div class="header-icon"><img ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'FAILED\' || vm.bkgroup.bookingInfo.supplierBookingStatus ==\'PENDING\'" src="../../../content/images/pay-fail-icon-6274e17d86.png"> <img ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'CONFIRMED\'" src="../../../content/images/pay-success-icon-2a1d01a321.png"> <img ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'BOOKING_ON_PROCESS\'" src="../../../content/images/icon-bookingPending-Dathanhtoan-58eda0a95b.svg"> <img ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'TICKET_ON_PROCESS\'" src="../../../content/images/icon-bookingPending-Dathanhtoan-58eda0a95b.svg"><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'BOOKED\'"><img ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'" src="../../../content/images/pay-reserve-button-4ea41694f8.png"> <img ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'" src="../../../content/images/pay-fail-icon-6274e17d86.png"><!-- issuedStatus is FAILED or PENDING  --> <img ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\' && vm.bkgroup.bookingInfo.issuedStatus != \'SUCCEEDED\'" src="../../../content/images/pay-fail-icon-6274e17d86.png"></ng-switch><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'EXPIRED\'"><img ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'" src="../../../content/images/pay-fail-icon-6274e17d86.png"></ng-switch></div><div class="header-remind"><div ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'FAILED\'">Chúng tôi sẽ sớm liên hệ với Quý khách để hỗ trợ hoàn thành việc Đặt khách sạn.<br>Mã đặt chỗ của Quý khách ID: {{vm.bkgroup.bookingInfo.bookingNumber}}</div><span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'CONFIRMED\'" data-translate="hotel.result.remind.ss.CONFIRMED">Quý khách vui lòng đừng quên kiểm tra chi tiết hành trình và có mặt tại sân bay trước 120\' giờ khởi hành để làm thủ tục.<br>Chúc quý khách có một chuyến đi tốt đẹp. </span><!--\n                                            <span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'BOOKING_ON_PROCESS\'">\n                                            </span>\n                                            <span ng-show="vm.bkgroup.bookingInfo.supplierBookingStatus ==\'TICKET_ON_PROCESS\'">\n                                            </span>\n                                            --><ng-switch on="vm.bkgroup.bookingInfo.supplierBookingStatus == \'BOOKED\'"><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\'">Quý khách vui lòng đừng quên kiểm tra chi tiết đặt phòng và thanh toán trước {{vm.bkgroup.bookingInfo.timeToLive | momentdate:\'datehour0\'}} để hoàn thành đặt phòng đúng thời hạn. </span><span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'">Quý khách vui lòng đừng quên kiểm tra chi tiết đặt phòng và thanh toán trước {{vm.bkgroup.bookingInfo.timeToLive | momentdate:\'datehour0\'}} để hoàn thành đặt phòng đúng thời hạn. </span><!-- issuedStatus is FAILED or PENDING  --> <span ng-switch-when="true" ng-show="vm.bkgroup.bookingInfo.paymentStatus ==\'SUCCEEDED\' && vm.bkgroup.bookingInfo.issuedStatus != \'SUCCEEDED\'" data-translate="hotel.result.remind.bps.SUCCEEDED">Chúng tôi sẽ sớm liên hệ với Quý khách để hỗ trợ hoàn thành việc đặt vé.</span></ng-switch></div><div class="header-note" ng-show=" vm.bkgroup.bookingInfo.supplierBookingStatus == \'BOOKED\' &&  vm.bkgroup.bookingInfo.supplierBookingStatus != \'BOOKED\' && vm.bkgroup.bookingInfo.supplierBookingStatus != \'EXPIRED\'||  vm.bkgroup.bookingInfo.paymentStatus ==\'PENDING\' &&vm.bkgroup.bookingInfo.paymentStatus ==\'FAILED\'"><div><span>Khi thực hiện thanh toán chuyển khoản, Quý khách vui lòng nhập ghi chú với nội dung sau:</span></div><div class="header-note-em">"<span>THANH TOAN CHO BOOKING </span><span style="color:red">{{vm.bkgroup.bookingInfo.passengerNameRecords}} </span>"</div></div></div><!--</ng-switch>--><!--<ng-switch on="(vm.paymentModel.paymentOption == \'CREDIT\' || vm.paymentModel.paymentOption == \'ATM_DEBIT\') &&  !vm.paymentModel.payFailed">--><!--<div class="header-zone" ng-switch-when="true">--><!--<div class="header-title">--><!--<span>THANH TOÁN THÀNH CÔNG</span>--><!--</div>--><!--<div class="header-title-sub">--><!--<span>--><!--Cám ơn bạn đã sử dụng dịch vụ của Gotadi. Quý khách đã được thực hiện thanh toán đặt vé thành công.--><!--Quí khách sẽ nhận được xác nhận chi tiết đặt chỗ thông qua email.--><!--</span>--><!--</div>--><!--<div class="header-icon">--><!--<img src="../../../content/images/pay-success-icon-2a1d01a321.png"/>--><!--</div>--><!--<div class="header-remind">--><!--<span>--><!--Quý khách vui lòng đừng quên kiểm tra chi tiết hành trình và có mặt tại sân bay trước 120’ giờ khởi hành--><!--<br/>--><!--để làm thủ tục. Chúc Quý khách có một chuyền đi tốt đẹp.--><!--</span>--><!--</div>--><!--</div>--><!--</ng-switch>--><!--<ng-switch on="vm.paymentModel.payFailed == true">--><!--<div class="header-zone" ng-switch-when="true">--><!--<div class="header-title">--><!--<span>ĐẶT VÉ THẤT BẠI</span>--><!--</div>--><!--<div class="header-title-sub">--><!--<span>--><!--Cám ơn Quý khách đã sử dụng dịch vụ của Gotadi. Thật tiếc! Thực hiện đặt vé của Quý khách đã thất bại.--><!--<br/>--><!--Quý khách vui lòng kiểm tra lại hành trình hoặc kết nối Internet.--><!--</span>--><!--</div>--><!--<div class="header-icon">--><!--<img src="../../../content/images/pay-fail-icon-6274e17d86.png"/>--><!--</div>--><!--<div class="header-remind">--><!--<span>--><!--Chúng tôi sẽ sớm liên hệ với Quy khách để hỗ trợ hoàn thành việc Đặt vé.--><!--<br/>--><!--Mã đặt chỗ của Quý khách ID: ABC123456--><!--</span>--><!--</div>--><!--</div>--><!--</ng-switch>--><div class="detail-zone"><gtd-hotel-info booking-model="vm.bookingModel" selected-hotel="vm.selectedHotel" selected-hotel-room="vm.selectedHotelRoom" selected-hotel-product="vm.selectedHotelProduct" jsonmodel="vm.bkgroup"></gtd-hotel-info></div><div class="footer-zone"><div class="detail-footer">Vui lòng liên hệ với chúng tôi nếu Quý khách có yêu cầu thay đổi đặt phòng, thêm phòng hoặc thắc mắc cần giải đáp cho booking</div><div class="contact-footer"><div><span class="fa fa-phone">Hotline <span class="bold">1900 9002</span></span></div><div><span class="fa fa-phone">Điện thoại <span class="bold">(028) 62 850 850 - (028) 62 857 857</span></span></div><div>VP HCM 194 Nguyễn Thị Minh Khai, P6, Quận 3, HCM</div><div>VP Hà Nội 47 Phan Chu Trinh, Quận Hoàn Kiếm, Hà Nội</div></div></div></div></div></div></div></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/hotels/details/hotel.detail.html", '<div class="sm-change-action"><div class="btn-change sm-change-iti" ng-click="changeItinerary()"><i class="fa fa-exchange"></i> Thay đổi hành trình</div></div><gtd-hotel-search-header></gtd-hotel-search-header><div class="container"><div class="page-content-inner"><div class="ghost-loading-detail"><div ng-if="vm.isLoading" class="row hotel-padding hotel-border-radius"><div class="left-ghost-loading"><div class="text-line-1"></div><div class="text-line-5"></div><div class="text-line-img"></div></div></div><div ng-if="vm.isLoading" class="row hotel-padding hotel-border-radius"><div class="hotel-detail-change-ghost-loading"><div class="col-sm-3"><div class="text-line"></div></div><div class="col-sm-3"><div class="text-line"></div></div><div class="col-sm-3"><div class="text-line"></div></div><div class="col-sm-3"><div class="text-line"></div></div></div></div><div ng-if="vm.isLoading" class="row hotel-padding hotel-border-radius"><div class="hotel-detail-room-ghost-loading bg-white hotel-padding hotel-border-radius hotel-border"><div class="room-table-header room-table-row row no-margin"><div class="col-sm-6 col-xs-12 uppercase detail-border-right padding-left-15 padding-top-15"><div class="text-line"></div></div><div class="col-sm-3 hidden-xs col-price detail-border-right padding-left-15 padding-top-15 uppercase"><div class="text-line"></div></div><div class="col-sm-3 hidden-xs col-price padding-left-15 padding-top-15 uppercase"><div class="text-line-1"></div></div></div><div class="row-seperator" style="margin-bottom: 0px"></div><div class="room-table-n"><div class="room-table-row row"><div class="col-sm-6 col-xs-8 col-img"><div class="col-xs-4 no-margin-left no-margin-right no-padding-left no-padding-right"><div class="text-line-2"></div></div><div class="col-xs-8 padding-t-10"><div class="padding-t-10"><div class="text-line-3"></div><div class="info-item"><div class="text-line-3"></div><div class="quantity"><div class="text-line-3"></div></div></div><div class="red-text"><div class="text-line-3"></div></div></div></div></div><div class="col-xs-3 hidden-xs"><div class="padding-t-10"><div class="margin-top-5"><div class="red-text"><div class="text-line-3"></div></div></div><div class="margin-top-5"><div class="text-line-4"></div></div><div class="hotel-features-icons"><div class="text-line-3"></div></div><div class="hotel-features-icons"><div class="text-line-4"></div></div><div class="hotel-features-icons"><div class="text-line-3"></div></div></div></div><div class="col-sm-3 col-xs-4 col-price centre" style="text-align: right"><div class="margin-top-10 margin-right-15 hidden-xs"><div class="text-line-3"></div></div><div class="margin-right-15"><div class="text-line-4"></div></div><div class="col-action-item margin-right-15"><div class="text-line-3"></div></div><div class="col-action-item margin-right-15 pop-tax"><div class="text-line-4"></div></div><div class="col-action-item margin-right-15 booking-text-centre margin-bottom-5"><div class="text-line-3"></div></div><div class="col-action-item margin-bottom-10 margin-right-15"></div></div></div></div></div><div class="hotel-detail-another-room-ghost-loading bg-white hotel-padding hotel-border-radius hotel-border"><div class="room-table-n"><div class="room-table-row row"><div class="col-sm-6 col-xs-8 col-img"><div class="col-xs-4 no-margin-left no-margin-right no-padding-left no-padding-right"><div class="text-line-2"></div></div><div class="col-xs-8 padding-t-10"><div class="padding-t-10"><div class="text-line-3"></div><div class="info-item"><div class="text-line-3"></div><div class="quantity"><div class="text-line-3"></div></div></div><div class="red-text"><div class="text-line-3"></div></div></div></div></div><div class="col-xs-3 hidden-xs"><div class="padding-t-10"><div class="margin-top-5"><div class="red-text"><div class="text-line-3"></div></div></div><div class="margin-top-5"><div class="text-line-4"></div></div><div class="hotel-features-icons"><div class="text-line-3"></div></div><div class="hotel-features-icons"><div class="text-line-4"></div></div><div class="hotel-features-icons"><div class="text-line-3"></div></div></div></div><div class="col-sm-3 col-xs-4 col-price centre" style="text-align: right"><div class="margin-top-10 margin-right-15 hidden-xs"><div class="text-line-3"></div></div><div class="margin-right-15"><div class="text-line-4"></div></div><div class="col-action-item margin-right-15"><div class="text-line-3"></div></div><div class="col-action-item margin-right-15 pop-tax"><div class="text-line-4"></div></div><div class="col-action-item margin-right-15 booking-text-centre margin-bottom-5"><div class="text-line-3"></div></div><div class="col-action-item margin-bottom-10 margin-right-15"></div></div></div></div></div><div class="hotel-detail-another-room-ghost-loading bg-white hotel-padding hotel-border-radius hotel-border"><div class="room-table-n"><div class="room-table-row row"><div class="col-sm-6 col-xs-8 col-img"><div class="col-xs-4 no-margin-left no-margin-right no-padding-left no-padding-right"><div class="text-line-2"></div></div><div class="col-xs-8 padding-t-10"><div class="padding-t-10"><div class="text-line-3"></div><div class="info-item"><div class="text-line-3"></div><div class="quantity"><div class="text-line-3"></div></div></div><div class="red-text"><div class="text-line-3"></div></div></div></div></div><div class="col-xs-3 hidden-xs"><div class="padding-t-10"><div class="margin-top-5"><div class="red-text"><div class="text-line-3"></div></div></div><div class="margin-top-5"><div class="text-line-4"></div></div><div class="hotel-features-icons"><div class="text-line-3"></div></div><div class="hotel-features-icons"><div class="text-line-4"></div></div><div class="hotel-features-icons"><div class="text-line-3"></div></div></div></div><div class="col-sm-3 col-xs-4 col-price centre" style="text-align: right"><div class="margin-top-10 margin-right-15 hidden-xs"><div class="text-line-3"></div></div><div class="margin-right-15"><div class="text-line-4"></div></div><div class="col-action-item margin-right-15"><div class="text-line-3"></div></div><div class="col-action-item margin-right-15 pop-tax"><div class="text-line-4"></div></div><div class="col-action-item margin-right-15 booking-text-centre margin-bottom-5"><div class="text-line-3"></div></div><div class="col-action-item margin-bottom-10 margin-right-15"></div></div></div></div></div></div></div><div ng-if="!vm.isLoading" class="search-page search-content-3 hotel-detail-wrapper"><div class="row"><div class="col-md-12" style="margin-bottom: 10px"><a ui-sref="hotel-search-home" style="text-decoration: none"><span data-translate="global.home"></span> </a><a style="text-decoration: none" ng-click="vm.backSearchResult()"><!-- <span ng-if="vm.selectedDestination.name != null"> \n                            >\n                            {{ vm.selectedDestination.name }}\n                        </span> --> <span>> {{ vm.selectedDestinationsHotel }} </span></a><span>> {{ vm.selectedHotel.hotelMeta.name }}</span></div></div><div class="col-md-12 text-danger bold h5 gtd-shadow hotel-border-radius hotel-padding alert alert-danger" ng-if="!(vm.selectedHotel.products && vm.selectedHotel.products.length > 0)"><span class="" role="alert" data-translate="hotel.noroomresultext">Chậm chân mất rồi. Phòng này vừa được bán hết trên website của chúng tôi. Vui lòng chọn phòng khác hoặc thay đổi thời gian nhận phòng.</span></div><div ng-if="(vm.selectedHotel.products && vm.selectedHotel.products.length > 0)" class="gtd-shadow hotel-border-radius bg-white hotel-padding"><div class="row"><div class="col-md-12 hotel-detail-header"><gtd-hotel-detail-header hotel-model="vm.selectedHotel"></gtd-hotel-detail-header></div></div><div class="row"><div class="col-md-12 hotel-detail-image"><gtd-hotel-detail-image hotel-model="vm.selectedHotel" search-options="vm.searchOptions"></gtd-hotel-detail-image></div></div></div><div class="row margin-top-20"><div class="col-md-12 hotel-detail-change"><gtd-hotel-detail-change hotel-id="vm.hotelId"></gtd-hotel-detail-change></div></div><div ng-if="(vm.selectedHotel.products && vm.selectedHotel.products.length > 0)" class="row margin-top-20"><div id="hotel-detail-zone" class="col-md-12 hotel-detail-room" ng-if="vm.selectedHotel.products && vm.selectedHotel.products.length > 0"><gtd-hotel-detail-room hotel-model="vm.selectedHotel" search-options="vm.searchOptions"></gtd-hotel-detail-room></div></div><div ng-if="(vm.selectedHotel.products && vm.selectedHotel.products.length > 0)" class="row hotel-border hotel-border-radius bg-white hotel-padding margin-top-20" style="margin-left:1px; margin-right: 1px; margin-bottom: 20px"><div class="col-md-12 hotel-detail-info"><gtd-hotel-detail-info hotel-model="vm.selectedHotel" search-options="vm.searchOptions"></gtd-hotel-detail-info></div></div></div></div></div><div class="hotel-search-footer"><gtd-flight-search-footer></gtd-flight-search-footer></div>'), e.put("app/hotels/search/fastgo.hotel.search.home.html", '<div class="formSearch"><div class="container reset-container"><div class="hotel-search-home" style="margin-left: auto; margin-right: auto"><div class="row" ng-if="!vm.enable_template"><div class="col-md-7"><gtd-hotel-home-search-header search-options="vm.searchOptions" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-hotel-home-search-header></div><div class="col-md-5 hidden-sm hidden-xs"><div class="hotel-header-ads porlet"><div class="listSliderHome Hotel"><div class="groupSlider"><div id="slider1_container"><div id="slider_content" class="uSlider" u="slides"></div><div u="navigator" class="jssorb13"><div u="prototype"></div></div></div></div></div></div></div></div><div ng-if="vm.enable_template"><gtd-hotel-home-search-header search-options="vm.searchOptions" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-hotel-home-search-header></div></div></div></div>'), e.put("app/hotels/search/hotel.search.confirmbooking.html", '<!--<div class="modal-header">--><!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true"--><!--ng-click="vm.cancel()">&times;</button>--><!--<h4 class="modal-title" data-translate="login.title">Sign in</h4>--><!--</div>--><div class="flight-search-confirmbooking"><div class="modal-body"><div class="row" ng-switch="vm.searchOptions.searchType == \'roundtrip\'"><div class="col-md-12"><span class="flight-booking-title" data-translate="flight.search.confirm.title"></span><div class="flight-booking-header"><div class="left-info"><span data-translate="flight.search.confirm.depart"></span>&nbsp; <span>{{vm.searchOptions.adultNo}} khách</span></div><div class="right-info"><span>{{vm.searchOptions.departureDate}}</span></div></div><div class="flight-booking-details"><div class="start-div"></div><div class="logo-airline"><div><img src="../../../content/images/airline0-4ebf0c9d0c.png"></div><div><span>Vietnam Airlines A321</span></div></div><div class="from-airline"><div><span class="time-text">10:40</span></div><div><span class="location-text">{{vm.searchOptions.fromAirPortTxt}}</span></div><div><span>Sân bay quốc tế Tân Sơn Nhất</span></div></div><div class="loading-info"><div class="line1"><span class="uppercase">2h35m</span></div><div class="line2"><span class="plane-taking-off"><img src="../../../content/images/plane-taking-off-1385aa7d82.png"></span></div><div class="line3"><span class="">Bay thẳng</span></div></div><div class="from-airline"><div><span class="time-text">14:15</span></div><div><span class="location-text">{{vm.searchOptions.toAirPortTxt}}</span></div><div><span>Sân bay quốc tế Hongkong</span></div></div><div class="flight-class"><div><span>Economy</span></div></div></div><div class="flight-booking-header" ng-switch-when="true"><div class="left-info"><span data-translate="flight.search.confirm.return"></span>&nbsp; <span>{{vm.searchOptions.adultNo}} khách</span></div><div class="right-info"><span>{{vm.searchOptions.returnDate}}</span></div></div><div class="flight-booking-details" ng-switch-when="true"><div class="start-div"></div><div class="logo-airline"><div><img src="../../../content/images/airline0-4ebf0c9d0c.png"></div><div><span>Vietnam Airlines A321</span></div></div><div class="from-airline"><div><span class="time-text">10:40</span></div><div><span class="location-text">{{vm.searchOptions.toAirPortTxt}}</span></div><div><span>Sân bay quốc tế Tân Sơn Nhất</span></div></div><div class="loading-info"><div class="line1"><span class="uppercase">2h35m</span></div><div class="line2"><span class="plane-taking-off"><img src="../../../content/images/plane-taking-off-1385aa7d82.png"></span></div><div class="line3"><span class="">Bay thẳng</span></div></div><div class="from-airline"><div><span class="time-text">14:15</span></div><div><span class="location-text">{{vm.searchOptions.fromAirPortTxt}}</span></div><div><span>Sân bay quốc tế Hongkong</span></div></div><div class="flight-class"><div><span>Economy</span></div></div></div><div class="flight-booking-footer"><button class="btn gtd-btn-medium" data-dismiss="modal" aria-hidden="true" ng-click="vm.cancel()"><span data-translate="flight.search.confirm.cancel"></span></button> <button class="btn gtd-btn-medium btn-red" ng-click="vm.doSubmit()"><span data-translate="flight.search.confirm.submit"></span></button></div></div></div></div></div>'), e.put("app/hotels/search/hotel.search.home.html", '<div class="formSearch"><div class="container reset-container"><div class="hotel-search-home" style="margin-left: auto; margin-right: auto"><div class="row" ng-if="!vm.enable_template"><div class="col-md-7" style="margin: auto; float: none"><gtd-hotel-home-search-header search-options="vm.searchOptions" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-hotel-home-search-header></div></div><div ng-if="vm.enable_template"><gtd-hotel-home-search-header search-options="vm.searchOptions" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-hotel-home-search-header></div></div></div></div><!--div class="mainPage"  ng-if="!vm.enable_template">\n    <div class="container reset-container" >\n        <div class="flight-search-home">\n            <div class="row">\n                <div class="col-md-12 hotel-header-carousel">\n                    <div class="listCaption">\n                        <div class="item">\n                            <div class="icon"><img src="../../../content/images/icon-sellingpoint-f30f2305a9.svg" class="img-responsive" /></div>\n                            <div class="content-zone">\n                                <div class="title">{{\'hotel.search.home.bestprice\' |translate}}</div>\n                                <div class="content">{{\'hotel.search.home.allservice\' |translate}}</div>\n                            </div>\n                        </div>\n                        <div class="item">\n                            <div class="icon"><img src="../../../content/images/icon-ho-tro-28cacfe1b6.svg" class="img-responsive" /></div>\n                            <div class="content-zone">\n                                <div class="title">{{\'hotel.search.home.care\' |translate}}</div>\n                                <div class="content">{{\'hotel.search.home.callcenter\' |translate}}</div>\n                            </div>\n                        </div>\n                        <div class="item">\n                            <div class="icon"><img src="../../../content/images/icon-thue-98910399dd.svg" class="img-responsive" /></div>\n                            <div class="content-zone">\n                                <div class="title">{{\'hotel.search.home.vat\' |translate}}</div>\n                                <div class="content">{{\'hotel.search.home.vat2\' |translate}}</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n\n    <div class="subscrice">\n        <div class="container reset-container" >\n            <div class="imgApp"><img src="../../../content/images/3caidt-bdcd1ba776.png" class="img-responsive" /></div>\n            <div class="row">\n                <div class="col-md-4">\n\n                </div>\n                <div class="col-md-6">\n                    <div class="form-subscrice">\n                        <div class="form-group">\n                            <div class="email">\n                                <label for="email">{{\'hotel.search.home.app1\' |translate}}</label>\n                                <input type="text" class="form-text"  placeholder="{{\'hotel.search.home.plchdr.entermail\' |translate}}" id="email"/>\n                                <div class="send">\n                                    <button class="btnSend" ng-click="subscriceEmail()"><i class="fa fa-envelope"></i> &nbsp; {{\'hotel.search.home.send\' |translate}}</button>\n                                </div>\n                            </div>\n                            <div class="messageResult"></div>\n                        </div>\n                        <div class="downApp">\n                            <div class="name-tk">{{\'hotel.search.home.app2\' |translate}}</div>\n                            <div class="icon-store"> <a href="https://itunes.apple.com/us/app/gotadi-flight-booking/id1234937358?mt=8" target="_blank"> <img src="../../../content/images/app-store-dadf47fbf2.jpg" class="img-responsive" /></a> </div>\n                            <div class="icon-store"> <a href="https://play.google.com/store/apps/details?id=com.vn.gotadi.mobileapp" target="_blank"> <img src="../../../content/images/google-play-0e38f765bc.jpg" class="img-responsive" /></a> </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="member-benefits">\n        <div class="container">\n            <div class="litsBenefits">\n                <div class="heading-name">{{\'hotel.search.home.benefit\' |translate}}</div>\n                <div class="row">\n                    <div class="col-md-4">\n                        <div class="item">\n                            <div class="name">{{\'hotel.search.home.price1\' |translate}}</div>\n                            <div class="iconBf">\n                                <img class="header-icon" src="../../../content/images/icon-price-good-b595ddbb6a.svg"/>\n                            </div>\n                            <p>{{\'hotel.search.home.price2\' |translate}}</p>\n                        </div>\n                    </div>\n                    <div class="col-md-4">\n                        <div class="item">\n                            <div class="name">{{\'hotel.search.home.deal1\' |translate}}</div>\n                            <div class="iconBf">\n                                <img class="header-icon" src="../../../content/images/icon-uu-dai-0462579f0b.svg"/>\n                            </div>\n                            <p>{{\'hotel.search.home.deal2\' |translate}}</p>\n                        </div>\n                    </div>\n                    <div class="col-md-4">\n                        <div class="item">\n                            <div class="name">{{\'hotel.search.home.point1\' |translate}}</div>\n                            <div class="iconBf">\n                                <img class="header-icon" src="../../../content/images/icon-tichluydiem-fa8faf44b0.svg"/>\n                            </div>\n                            <p>{{\'hotel.search.home.point2\' |translate}}</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="partner">\n        <div class="container">\n            <div class="heading-name">{{\'hotel.search.home.partner\' |translate}}</div>\n            <div class="listPartner">\n                <div id="partner-carousel" class="partner-carousel owl-carousel owl-theme col-md-12 no-padding-left no-padding-right">\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/logobankplus1-17d72122c9.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/TIKI-ac2cc12c28.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/LOGO-VIB-Blue-6bb2cebdea.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/zalopay-ba7ced3115.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/logo-viviet-d6c572b9c1.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/partner/momo-1c643bb4cb.png" class="img-responsive"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <script type="text/javascript">\n            $("#partner-carousel").owlCarousel({\n                autoPlay: 3000, //Set AutoPlay to 3 seconds\n                dots: false,\n                items: 6,\n                nav: false,\n                responsive : {\n                    280 : { items : 3, dots: true },\n                    480 : { items : 4, dots: true },\n                    768 : { items : 5, dots: true  },\n                    991 : { items : 6, dots: true  },\n                }\n            });\n        </script>\n    </div>\n    <div class="trademark">\n        <div class="container">\n            <div class="heading-name">{{\'hotel.search.home.brands\' |translate}}</div>\n            <div class="listTrademark">\n                <div id="trademark-carousel" class="trademark-carousel owl-carousel owl-theme col-md-12 no-padding-left no-padding-right">\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/acprail-362180dfbf.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/jeju-ccfe5e8990.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/k6-550c9cb366.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/hawai-db74dbeb9c.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/tk-34e8fa4002.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/db-6ae5916806.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/goodwill-e4348ffdf4.png" class="img-responsive"></div>\n                    </div>\n                    <div class="item">\n                        <div class="item-icon"><img src="../../../content/images/trademark/bhaya-6bb28725c5.png" class="img-responsive"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <script type="text/javascript">\n            $("#trademark-carousel").owlCarousel({\n                autoPlay: 3000, //Set AutoPlay to 3 seconds\n                dots: true,\n                items: 8,\n                responsive : {\n                    280 : { items : 3, dots: true },\n                    480 : { items : 4, dots: true },\n                    768 : { items : 5, dots: true  },\n                    991 : { items : 8, dots: true  },\n                }\n            });\n        </script>\n    </div>\n</div-->'),
                e.put("app/hotels/search/hotel.search.html", '<!--<div class="hotel-search-header">--><div class="sm-change-action"><div class="btn-change sm-change-filter" ng-click="filterItinerary()"><i class="fa fa-filter"></i> Bộ lọc</div><div class="btn-change sm-change-iti" ng-click="changeItinerary()"><i class="fa fa-exchange"></i> Thay đổi hành trình</div></div><gtd-hotel-search-header></gtd-hotel-search-header><!--</div>--><div class="mainSearchResult"><div class="main-detail-search"><div class="container"><div class="page-content-inner"><!--<div class="search-page search-content-3 hotel-search-wrapper">--><div class="search-page search-content-3 hotel-search-wrapper"><div class="row"><!--vm.init={{vm.init}},vm.filterCompleted={{vm.filterCompleted}},vm.searchCompleted=={{vm.searchCompleted}},vm.alreadyFilter=={{vm.alreadyFilter}}--><div class="col-md-3 hotel-search-adv"><div class="sm-form-filter" ng-click="closeFilterItinerary()"></div><div class="formFilter" style="margin-bottom: 20px; margin-top: 0px!important"><gtd-hotel-search-adv search-result="vm.searchResult" search-options="vm.searchOptions" filter-completed="vm.filterCompleted" search-completed="vm.searchCompleted"></gtd-hotel-search-adv></div></div><div class="col-md-9 hotel-search-result"><div ng-if="vm.displayState === vm.hotelStates.FINISH_SEARCH"><gtd-hotel-search-result search-result="vm.searchResult"></gtd-hotel-search-result></div><div ng-if="vm.showLoading || vm.showSubLoading" style="text-align: center"><div class="ghost-loading"><div class="meta"><div class="photo"></div></div><div class="description"><div class="text-line-1"></div><div class="text-line-3"></div><div class="text-line-2"></div><div class="text-line-4"></div><!-- <div>\n                                                <span class="text-bold red-text"\n                                                    ng-if="$ctrl.item.products[0].qualityAvaliable > 0">{{ "hotel.search.result.only" | translate }}\n                                                    {{ $ctrl.item.products[0].qualityAvaliable | number }}\n                                                    {{ "hotel.search.result.room" | translate }}</span>\n                                            </div> --></div><div class="price"><div class="text-line-1"></div><div class="text-line-2"></div><div class="text-line-4"><div class="text-line"></div><div class="text-line"></div></div><div class="text-line"><!-- <a class="btn gtd-btn-default gtd-shadow"\n                                                    ng-click="$ctrl.bookingClicked($ctrl.item)">{{ "hotel.search.result.choose" | translate }}</a> --></div></div></div><div class="ghost-loading"><div class="meta"><div class="photo"></div></div><div class="description"><div class="text-line-1"></div><div class="text-line-3"></div><div class="text-line-2"></div><div class="text-line-4"></div></div><div class="price"><div class="text-line-1"></div><div class="text-line-2"></div><div class="text-line-4"><div class="text-line"></div><div class="text-line"></div></div><div class="text-line"></div></div></div><div class="ghost-loading"><div class="meta"><div class="photo"></div></div><div class="description"><div class="text-line-1"></div><div class="text-line-3"></div><div class="text-line-2"></div><div class="text-line-4"></div></div><div class="price"><div class="text-line-1"></div><div class="text-line-2"></div><div class="text-line-4"><div class="text-line"></div><div class="text-line"></div></div><div class="text-line"></div></div></div><div class="ghost-loading"><div class="meta"><div class="photo"></div></div><div class="description"><div class="text-line-1"></div><div class="text-line-3"></div><div class="text-line-2"></div><div class="text-line-4"></div></div><div class="price"><div class="text-line-1"></div><div class="text-line-2"></div><div class="text-line-4"><div class="text-line"></div><div class="text-line"></div></div><div class="text-line"></div></div></div><div class="ghost-loading"><div class="meta"><div class="photo"></div></div><div class="description"><div class="text-line-1"></div><div class="text-line-3"></div><div class="text-line-2"></div><div class="text-line-4"></div></div><div class="price"><div class="text-line-1"></div><div class="text-line-2"></div><div class="text-line-4"><div class="text-line"></div><div class="text-line"></div></div><div class="text-line"></div></div></div></div><gtd-hotel-pagination ng-if="vm.displayState === vm.hotelStates.FINISH_SEARCH && !vm.showLoading && !vm.showSubLoading"></gtd-hotel-pagination><div class="text-danger bold h5" style="padding-bottom: 20px" ng-if="vm.displayState === vm.hotelStates.SEARCH_ERROR"><div class="error-box-container"><div class="error-box"><div class="face2"><div class="eye"></div><div class="eye right"></div><div class="mouth sad"></div></div><div class="shadow move"></div><div class="message"><h1 class="alert-text" translate="hotel.search.error.title"></h1><p class="text-danger" translate="hotel.search.error.subtitle"></p></div><button ng-click="vm.retry()" class="button-box" translate="hotel.search.error.retry"></button></div></div><!-- <span data-translate="hotel.noresultext">Không tìm kiếm thấy khách sạn phù hợp. Vui lòng nhập lại điều kiện tìm kiếm!</span> --></div></div></div></div></div><!-- END PAGE CONTENT INNER --></div></div></div><div class="hotel-search-footer"><gtd-flight-search-footer></gtd-flight-search-footer></div>'), e.put("app/hotels/search/hotel.search.loading.html", '<div class="hotel-search-loading"><div class="modal-body"><div class="row"><div class="col-md-12"><span class="flight-search-loading-title" data-translate="hotel.search.loading.title"></span><div class="progress-bar-wapper"><div class="progress"><div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="{{vm.progress}}" aria-valuemin="0" aria-valuemax="100" ng-style="{\'width\':vm.progress+\'%\'}"><!--40%--></div></div></div><div class="hotel-search-loading-details"><div class="row"><div class="text-center"><span class="uppercase text-center line1">loading ...</span></div></div><div class="row"><div class="text-center"><span class="text-center line2">{{vm.searchOptions.destinationCode | destination}} - {{vm.searchOptions.pax.length}}&nbsp;{{\'hotel.search.loading.room\' | translate}}</span></div></div><div class="row"><div class="text-center"><span class="">{{vm.searchOptions.pax | pax:\'adult\'}}&nbsp;{{\'hotel.search.header.adult\' | translate}}</span><!--<span ng-show="(vm.searchOptions.pax | pax:\'child\') != 0">, {{vm.searchOptions.pax | pax:\'child\'}}&nbsp;{{\'hotel.search.header.children\' | translate}}</span>--> <span>, {{vm.searchOptions.pax | pax:\'child\'}}&nbsp;{{\'hotel.search.header.children\' | translate}}</span></div></div><div class="row text-center line3"><span style="text-transform: capitalize">{{vm.searchOptions.checkindate | momentdate:\'load-date\'}}</span> <span class="fa fa-long-arrow-right"></span> <span style="text-transform: capitalize">{{vm.searchOptions.checkoutdate | momentdate:\'load-date\'}}</span><!--<td class="table-cell colsp"></td>--><!--<td class="table-cell detail-base line3">--><!--<span style="text-transform: capitalize;">{{vm.searchOptions.checkindate | momentdate:\'load-date\'}}</span>--><!--</td>--><!--<td class="table-cell detail-base line3">--><!--<span class="fa fa-long-arrow-right"></span>--><!--</td>--><!--<td class="table-cell detail-base line3">--><!--<span style="text-transform: capitalize;">{{vm.searchOptions.checkoutdate | momentdate:\'load-date\'}}</span>--><!--</td>--><!--<td class="table-cell colsp"></td>--></div></div></div></div></div></div>'), e.put("app/hotels/search/viettel.hotel.search.home.html", '<div class="history-button"><a ui-sref="user-profile-booking" class="btn"><i class="fa fa-history fa-3"></i></a></div><div class="formSearch"><div class="container reset-container"><div class="hotel-search-home"><div class="row" ng-if="!vm.enable_template"><div class="col-md-7"><gtd-hotel-home-search-header search-options="vm.searchOptions" do-search="vm.doSearch($searchResult, $searchOptions)"></gtd-hotel-home-search-header></div></div></div></div></div>'), e.put("app/layouts/common/footer.html", '<!-- BEGIN PRE-FOOTER --><div class="page-prefooter"><div class="container"><!--<div class="col-md-4 col-sm-6 col-xs-12 footer-block">--><!-- <div class="footer-block1 footer-block">\n            <a ng-repeat="item in vm.links">\n                <p data-translate="global.footer.link.{{item.key}}"></p>\n            </a>\n        </div> --><!--<div class="col-md-4 col-sm-6 col-xs12 footer-block">--><div class="footer-block1 footer-block"><div class="name-Ft" data-translate="global.footer.link.about">VỀ GOTADI</div><a href="https://cms.gotadi.com/gioi-thieu-gotadi.aspx"><p data-translate="global.footer.link.intro">Giới thiệu Gotadi</p></a><a href="https://cms.gotadi.com/cac-dieu-khoan-su-dung.aspx"><p data-translate="global.footer.link.term">Các điều khoản sử dụng</p></a><a href="https://cms.gotadi.com/y-kien-nguoi-dung.aspx"><p data-translate="global.footer.link.comment">Ý kiến của người dùng</p></a><a href="https://cms.gotadi.com//lien-he-gotadi.aspx"><p data-translate="global.footer.link.contact">Liên hệ</p></a><a href="https://cms.gotadi.com/tuyen-dung.aspx"><p data-translate="global.footer.link.job">Tuyển dụng</p></a></div><div class="footer-block2 footer-block"><div class="name-Ft" data-translate="global.footer.link.prod">SẢN PHẨM</div><a href="./#/flight"><p data-translate="global.footer.link.ticket">Vé máy bay</p></a><a href="./#/hotel"><p data-translate="global.footer.link.hotel">Khách sạn</p></a><a href="https://cms.gotadi.com/fne.aspx"><p>Free & Easy</p></a><a href="https://cms.gotadi.com/Tours.aspx"><p data-translate="global.footer.link.tour">Tour trọn gói</p></a><a href="https://cms.gotadi.com/huong-dan.aspx"><p><strong>{{\'global.footer.link.manual\' | translate}}</strong></p></a></div><div class="footer-block3 footer-block"><div class="name-Ft" data-translate="global.footer.link.sp">Hổ trợ khách hàng 24/7</div><a href="#"><div class="hotline">1900-9002</div></a><a href="#"><p>(028) 62 850 850</p></a><a href="#"><p>(028) 62 857 857</p></a><!-- <p>08:00 - 20:00 {{\'global.footer.link.day\' | translate}}</p>\n                                <p>{{\'global.footer.link.holiday\' | translate}}</p> --> <a href="mailto:lienhe@gotadi.com"><p><i class="fa fa-envelope"></i> lienhe@gotadi.com</p></a></div><div class="footer-block3 footer-block4 footer-block"><div class="g-1"><div class="name-Ft" data-translate="global.footer.link.payment">Phương thức thanh toán</div><div class="payment-gateways"><div class="item"><img src="../../../content/images/visa-dda6cbee69.png" class="img-responsive"></div><div class="item"><img src="../../../content/images/mastercard-1d9cd24ba6.png" class="img-responsive"></div><div class="item"><img src="../../../content/images/smartlink-24e6e1bf2b.png" class="img-responsive"></div></div></div><div class="g-1"><div class="name-Ft" data-translate="global.footer.link.certi">Chứng nhận an toàn</div><div class="certification"><div class="item"><a href="http://online.gov.vn/WebsiteDisplay.aspx?DocId=5492" target="_blank"><img src="../../../content/images/bocongthuong-20f4aadc80.png" class="img-responsive"></a></div><div class="item"><img src="../../../content/images/veri-eca4378164.png" class="img-responsive"></div><div class="item"><a href="https://www.rapidscansecure.com/siteseal/Verify.aspx?code=136,E7D9180DB7C37ECF6A227AEFC95AD62ADCAF9279" target="_blank"><img src="https://www.rapidscansecure.com/siteseal/Seal.aspx?code=136,E7D9180DB7C37ECF6A227AEFC95AD62ADCAF9279" class="img-responsive"></a></div></div></div></div><!-- <div class="menu-sub-footer-horizontal-seperator"></div> --></div></div><!-- END PRE-FOOTER --><!-- BEGIN POST-FOOTER --><div class="page-footer"><div class="container"><div class="footer-block footer-centre"><p class="footer-text" data-translate="global.footer.contactinfo.l1"></p><p class="footer-text" data-translate="global.footer.contactinfo.l2"></p><p class="footer-text" data-translate="global.footer.contactinfo.l3"></p><p class="footer-text" data-translate="global.footer.contactinfo.l4"></p><p class="footer-text" data-translate="global.footer.contactinfo.l5"></p><p class="footer-text" data-translate="global.footer.contactinfo.l6"></p></div></div></div><!-- <script type="text/javascript">\n    if (jQuery(window).width() < 480) {\n        jQuery(".login").removeClass("displaynone");\n        jQuery(".loginnew").addClass("displaynone");\n    }\n    (function () {\n        var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n          type = \'bar\', colors = { background: \'#519500\', text: \'#fff\' }, callHello = \'Gọi miễn phí\';\n        if (width <= 991) type = \'circle\';\n        window.abKiteAsyncInit = function () {\n            abKiteSDK.init({\n                appId: \'35b29272a78e7\',\n                abKiteServer: \'kite.hgvoice.com\',\n                insert2Selector: \'body\',\n                language: \'vi\',\n                type: type,\n                helloMessage: \'Chat với chúng tôi\',\n                colors: colors,\n                title: \'Xin chào! Bạn cần trợ giúp?\'\n            });\n        }; \n        window.abKiteCallAsyncInit = function () {\n            abKiteCallSDK.init({\n                credential: \'zztFytsyFyy5vywFJHL6\',\n                realm: \'hg-holdings.hgvoice.com\',\n                kiteRoom: \'Kite_HsLpzvFzJEM1zzxp7LyHsDvzDnHKJ4\',\n                displayName: \'Customer From Gotadi\',\n                abKiteServer: \'kite.hgvoice.com\',\n                type: \'nk\' + type,\n                helloMessage: callHello,\n                colors: colors,\n                language: \'vi\'\n            });\n        };\n    })();\n    (function (d, s, id) {\n        var js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) { return; }\n        js = d.createElement(s); js.id = id;\n        js.src = \'//kite.hgvoice.com/sdk/v0.0.0/sdk.js\';\n        fjs.parentNode.insertBefore(js, fjs);\n    }(document, \'script\', \'ab-kite-jssdk\'));\n    (function (d, s, id) {\n        var js, fjs = d.getElementsByTagName(s)[0];\n        if (d.getElementById(id)) { return; }\n        js = d.createElement(s);\n        js.id = id;\n        js.src = \'https://kite.hgvoice.com/call/sdk/v0.0.0/sdk.js\';\n        fjs.parentNode.insertBefore(js, fjs);\n    }(document, \'script\', \'ab-call-kite-jssdk\'));\n</script> --><div class="bt-footer"><div class="container">Copyright © 2016 Gotadi. All rights reserved</div></div><!-- <div class="scroll-to-top">\n    <i class="icon-arrow-up"></i>\n</div> --><!-- END POST-FOOTER -->'), e.put("app/layouts/common/page-head.html", '<div class="container"><!-- BEGIN PAGE TITLE --><div class="page-title"><h1><!--<span data-ng-bind="$state.current.data.pageTitle"></span>--><!--<small data-ng-bind="$state.current.data.pageSubTitle"></small>--> BREADCUMB OR SEARCH GOES HERE</h1></div><!-- END PAGE TITLE --></div>'), e.put("app/layouts/common/viettel_footer.html", '<!-- BEGIN POST-FOOTER --><div class="page-prefooter"><div class="container"><div class="text-center" style="font-size: smaller"><div><b>Hỗ trợ 24/7:</b> 1900-9002 - (028) 62 850 850 - (028) 62 857 857</div><div><b>E-mail:</b> lienhe@gotadi.com</div></div></div></div><div class="scroll-to-top"><i class="icon-arrow-up"></i></div><!-- END POST-FOOTER -->'), e.put("app/layouts/error/accessdenied.html", '<div ng-cloak><div class="row"><div class="col-md-4"><span class="hipster img-responsive img-rounded"></span></div><div class="col-md-8"><h1 data-translate="error.title">Error Page!</h1><div class="alert alert-danger" data-translate="error.http.403">You are not authorized to access this page.</div></div></div></div>'), e.put("app/layouts/error/error.html", '<div ng-cloak><div class="row"><div class="col-md-4"><span class="hipster img-responsive img-rounded"></span></div><div class="col-md-8"><h1 data-translate="error.title">Error Page!</h1><div ng-show="errorMessage"><div class="alert alert-danger">{{errorMessage}}</div></div></div></div></div>'), e.put("app/layouts/navbar/fastgo_navbar.html", '<!-- Fixed navbar (navbar-fixed-top)--><nav class="navbar navbar-default"><div class="ssm-overlay ssm-overlay-menu ssm-toggle-nav"></div><div class="topHeader"><div class="container reset-container"><div class="navbar-header"><button type="button" class="navbar-toggle ssm-toggle-nav"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand-FG" ui-sref="home"><img src="content/images/LOGO-GOTADI-05-dd766835fc.svg" alt="logo" class="header-logo-FG"> </a><a class="navbar-brand-FG" ui-sref="home"><img src="content/images/logo-FG-e9764b9410.svg" alt="logo" class="header-logo-FG"></a></div><div id="navbar" class="navbar-collapse" ng-switch="vm.isAuthenticated()"><ul class="nav navbar-nav navbar-right changeLanguage"><li><div class="item-select" ng-class="{\'selected\': vm.language == \'vi\'}"><input type="radio" ng-change="vm.changeLanguage()" ng-checked="(vm.language == vi)" ng-model="vm.language" ng-controller="OtaLanguageController as languageVm" value="vi" name="language" id="vn"><label for="vn"><img src="content/images/vietnam-946c57a91f.png" alt="logo" class="language-logo"></label></div><div class="item-select" ng-class="{\'selected\': vm.language == \'en\'}"><label for="en"><img src="content/images/england-5cb5fb6221.png" alt="logo" class="language-logo"></label><input type="radio" ng-change="vm.changeLanguage()" ng-checked="(vm.language == en)" ng-model="vm.language" ng-controller="OtaLanguageController as languageVm" value="en" name="language" id="en"></div></li></ul><ul class="nav navbar-nav navbar-right" has-authority="ROLE_NO_ONE"><!-- jhipster-needle-add-element-to-menu - JHipster will add new menu items here --><li ng-class="{active: vm.$state.includes(\'entity\')}" ng-switch-when="true" uib-dropdown class="dropdown pointer"><a class="dropdown-toggle" uib-dropdown-toggle href="" id="entity-menu"><span><span class="glyphicon glyphicon-th-list"></span> <b class="caret"></b></span></a></li></ul><ul class="nav navbar-nav navbar-right sm-navAccount"><li ng-class="{active: vm.$state.includes(\'account\')}" class="dropdown {{vm.identity.membershipClass}}"><a href="javascript:;" class="dropdown-toggle nolink noLogin" data-toggle="dropdown" id="account-menu"><div class="sm-group-action-account"><span class="hidden-sm" data-translate="global.menu.account.main" ng-switch-when="false">Account </span><span><strong>{{\'global.menu.account.main1vi\' | translate}}{{vm.identity.membershipClass}}{{\'global.menu.account.main1en\' | translate}} </strong></span><span class="hidden-sm" ng-switch-when="true"><span class="emailInfo" has-authority="ROLE_B2C">{{vm.identity.email}}</span> <span class="emailInfo" has-authority="ROLE_B2B">{{vm.identity.displayName}}</span></span></div></a><ul class="dropdown-menu sm-btn-user"><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C"><div class="nolink noLogin"><span><strong>{{\'global.menu.account.main1vi\' | translate}}{{vm.identity.membershipClass}}{{\'global.menu.account.main1en\' | translate}}</strong> </span><span class="hidden-sm"><span class="emailInfo"><strong>{{vm.identity.displayName}}</strong></span></span></div></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C"><!--<a ui-sref="settings">--> <a ui-sref="user-profile"><i class="fa fa-cogs"></i> <span data-translate="global.menu.account.info">Thông tin tài khoản</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C"><!--<a ui-sref="settings">--> <a ui-sref="user-profile-card"><i class="fa fa-credit-card"></i> <span data-translate="global.menu.account.cards">Quản lý thẻ</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C"><!--<a ui-sref="settings">--> <a ui-sref="user-profile-booking"><i class="fa fa-history"></i> <span data-translate="global.menu.account.booking">Quản lý booking</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C"><!--<a ui-sref="settings">--> <a ui-sref="user-profile-traveller"><i class="fa fa-users"></i> <span data-translate="global.menu.account.guestlist">Danh sách hành khách</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C" ng-if="!vm.identity.socialUser"><a ui-sref="password"><span class="glyphicon glyphicon-lock"></span> <span data-translate="global.menu.account.password">Password</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-any-authority="ROLE_B2C,ROLE_B2B"><a href="" ng-click="vm.logout()" id="logout"><span class="glyphicon glyphicon-log-out"></span> <span data-translate="global.menu.account.logout" ng-if="!vm.isB2B2C">Sign out</span> <span data-translate="global.menu.account.exit" ng-if="vm.isB2B2C">Close</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="false" ng-if="!vm.isB2B2C"><a href="" ng-click="vm.login()" id="login"><span class="glyphicon glyphicon-log-in"></span> <span data-translate="global.menu.account.login">Sign in</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="false" ng-if="!vm.isB2B2C"><a href="register" ng-click="vm.register()"><!--<a ui-sref="register" href="#">--> <span class="glyphicon glyphicon-plus-sign"></span> <span data-translate="global.menu.account.register">Register</span></a></li></ul></li></ul><ul class="nav navbar-nav navbar-right hdSupport hidden-sm hidden-xs"><li><div class="itemSupport hotline" data-translate="global.menu.support.l2"></div></li><li><div class="itemSupport email"><a href="mailto:lienhe@gotadi.com" data-translate="global.menu.support.l7"></a></div></li></ul></div><!--/.nav-collapse --></div></div><div class="mainHeader"><div class="container reset-container"><div class="navbar-menu"><ul class="nav navbar-nav"><li class="hidden-sm hidden-xs" ng-class="{active: vm.$state.href(vm.$state.current.name, {}, {absolute: true, inherit: false}).includes(\'home\')}"><a ui-sref="home" class="large-menu"><span class="fa fa-home menu-fa"></span></a></li><li ng-class="{active: vm.$state.href(vm.$state.current.name, {}, {absolute: true, inherit: false}).includes(\'flight\') || vm.$state.href(vm.$state.current.name, {}, {absolute: true, inherit: false}).includes(\'flight-booking\')}"><a ui-sref="flight-search-home" class="large-menu"><span data-translate="global.menu.flight"></span></a></li><li><a target="_blank" href="https://cms.gotadi.com//fne.aspx" class="large-menu"><span>Free & Easy</span></a></li><li><a target="_blank" href="https://cms.gotadi.com/Tours.aspx" class="large-menu"><span>Tours</span></a></li><li><a target="_blank" href="https://cms.gotadi.com/tap-chi.aspx" class="large-menu"><span data-translate="global.menu.guide">Cẩm nang du lịch</span></a></li><li><a target="_blank" href="https://cms.gotadi.com/Khuyen-mai-du-lich.aspx" class="large-menu"><span data-translate="global.menu.promotion">Khuyến mãi</span></a></li></ul><div class="btn-corporate-customers hidden-sm hidden-xs"><a target="_blank" href="http://doanhnghiep.gotadi.com/" class="large-menu"><strong>{{\'global.menu.bus\' | translate}} </strong>{{\'global.menu.cus\' | translate}}</a></div></div></div></div><!-- <div class="menu-header-horizontal-seperator"></div> --><script type="text/javascript">if (matchMedia(\'only screen and (max-width: 991px)\').matches) {\n                $(\'.navbar .mainHeader\').slideAndSwipe();\n            }</script></nav>'), e.put("app/layouts/navbar/navbar.html", '<!-- Fixed navbar (navbar-fixed-top)--><nav class="navbar navbar-default"><div class="ssm-overlay ssm-overlay-menu ssm-toggle-nav"></div><div class="topHeader"><div class="container reset-container"><div class="navbar-header"><button type="button" class="navbar-toggle ssm-toggle-nav"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" ui-sref="home"><img src="content/images/logo-ce3d8d34ca.svg" alt="logo" class="header-logo"></a></div><div id="navbar" class="navbar-collapse" ng-switch="vm.isAuthenticated()"><ul class="nav navbar-nav navbar-right changeLanguage" style="display: none"><li><div class="item-select" ng-class="{\'selected\': vm.language == \'vi\'}"><label for="vn">VN</label><input type="radio" ng-change="vm.changeLanguage()" ng-checked="(vm.language == vi)" ng-model="vm.language" ng-controller="OtaLanguageController as languageVm" value="vi" name="language" id="vn"></div><div class="item-select" ng-class="{\'selected\': vm.language == \'en\'}"><label for="en">EN</label><input type="radio" ng-change="vm.changeLanguage()" ng-checked="(vm.language == en)" ng-model="vm.language" ng-controller="OtaLanguageController as languageVm" value="en" name="language" id="en"></div></li></ul><ul class="nav navbar-nav navbar-right" has-authority="ROLE_NO_ONE"><!-- jhipster-needle-add-element-to-menu - JHipster will add new menu items here --><li ng-class="{active: vm.$state.includes(\'entity\')}" ng-switch-when="true" uib-dropdown class="dropdown pointer"><a class="dropdown-toggle" uib-dropdown-toggle href="" id="entity-menu"><span><span class="glyphicon glyphicon-th-list"></span> <b class="caret"></b></span></a></li></ul><ul class="nav navbar-nav navbar-right sm-navAccount"><li ng-class="{active: vm.$state.includes(\'account\')}" class="dropdown {{vm.identity.membershipClass}}"><a href="javascript:;" class="dropdown-toggle nolink noLogin" data-toggle="dropdown" id="account-menu"><div class="sm-group-action-account"><span class="hidden-sm" data-translate="global.menu.account.main" ng-switch-when="false">Account </span><span><strong>{{\'global.menu.account.main1vi\' | translate}}{{vm.identity.membershipClass}}{{\'global.menu.account.main1en\' | translate}} </strong></span><span class="hidden-sm" ng-switch-when="true"><span class="emailInfo" has-authority="ROLE_B2C">{{vm.identity.email}}</span> <span class="emailInfo" has-authority="ROLE_B2B">{{vm.identity.displayName}}</span></span></div></a><ul class="dropdown-menu sm-btn-user"><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C"><div class="nolink noLogin"><span><strong>{{\'global.menu.account.main1vi\' | translate}}{{vm.identity.membershipClass}}{{\'global.menu.account.main1en\' | translate}}</strong> </span><span class="hidden-sm"><span class="emailInfo"><strong>{{vm.identity.displayName}}</strong></span></span></div></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C"><!--<a ui-sref="settings">--> <a ui-sref="user-profile"><i class="fa fa-cogs"></i> <span data-translate="global.menu.account.info">Thông tin tài khoản</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C"><!--<a ui-sref="settings">--> <a ui-sref="user-profile-card"><i class="fa fa-credit-card"></i> <span data-translate="global.menu.account.cards">Quản lý thẻ</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C"><!--<a ui-sref="settings">--> <a ui-sref="user-profile-booking"><i class="fa fa-history"></i> <span data-translate="global.menu.account.booking">Quản lý booking</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C"><!--<a ui-sref="settings">--> <a ui-sref="user-profile-traveller"><i class="fa fa-users"></i> <span data-translate="global.menu.account.guestlist">Danh sách hành khách</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-authority="ROLE_B2C" ng-if="!vm.identity.socialUser"><a ui-sref="password"><span class="glyphicon glyphicon-lock"></span> <span data-translate="global.menu.account.password">Password</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="true" has-any-authority="ROLE_B2C,ROLE_B2B"><a href="" ng-click="vm.logout()" id="logout"><span class="glyphicon glyphicon-log-out"></span> <span data-translate="global.menu.account.logout" ng-if="!vm.isB2B2C">Sign out</span> <span data-translate="global.menu.account.exit" ng-if="vm.isB2B2C">Close</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="false" ng-if="!vm.isB2B2C"><a href="" ng-click="vm.login()" id="login"><span class="glyphicon glyphicon-log-in"></span> <span data-translate="global.menu.account.login">Sign in</span></a></li><li class="itemDropdown" ui-sref-active="active" ng-switch-when="false" ng-if="!vm.isB2B2C"><a href="register" ng-click="vm.register()"><!--<a ui-sref="register" href="#">--> <span class="glyphicon glyphicon-plus-sign"></span> <span data-translate="global.menu.account.register">Register</span></a></li></ul></li></ul><ul class="nav navbar-nav navbar-right hdSupport hidden-sm hidden-xs"><li><div class="itemSupport hotline" data-translate="global.menu.support.l2"></div></li><li><div class="itemSupport email"><a href="mailto:lienhe@gotadi.com" data-translate="global.menu.support.l7"></a></div></li></ul></div><!--/.nav-collapse --></div></div><div class="mainHeader"><div class="container reset-container"><div class="navbar-menu"><ul class="nav navbar-nav"><li class="hidden-sm hidden-xs" ng-class="{active: vm.$state.href(vm.$state.current.name, {}, {absolute: true, inherit: false}).includes(\'home\')}"><a ui-sref="home" class="large-menu"><span class="fa fa-home menu-fa"></span></a></li><li ng-class="{active: vm.$state.href(vm.$state.current.name, {}, {absolute: true, inherit: false}).includes(\'flight\') || vm.$state.href(vm.$state.current.name, {}, {absolute: true, inherit: false}).includes(\'flight-booking\')}"><a ui-sref="flight-search-home" class="large-menu"><span data-translate="global.menu.flight"></span></a></li><li ng-class="{active: vm.$state.href(vm.$state.current.name, {}, {absolute: true, inherit: false}).includes(\'hotel\')}"><a ui-sref="hotel-search-home" class="large-menu"><span data-translate="global.menu.hotel"></span></a></li><li><a target="_blank" href="https://cms.gotadi.com//fne.aspx" class="large-menu"><span>Free & Easy</span></a></li><li><a target="_blank" href="https://cms.gotadi.com/Tours.aspx" class="large-menu"><span>Tours</span></a></li><li><a target="_blank" href="https://cms.gotadi.com/tap-chi.aspx" class="large-menu"><span data-translate="global.menu.guide">Cẩm nang du lịch</span></a></li><li><a target="_blank" href="https://cms.gotadi.com/Khuyen-mai-du-lich.aspx" class="large-menu"><span data-translate="global.menu.promotion">Khuyến mãi</span></a></li></ul><div class="btn-corporate-customers hidden-sm hidden-xs"><a target="_blank" href="http://doanhnghiep.gotadi.com/" class="large-menu"><strong>{{\'global.menu.bus\' | translate}} </strong>{{\'global.menu.cus\' | translate}}</a></div></div></div></div><!-- <div class="menu-header-horizontal-seperator"></div> --><script type="text/javascript">if (matchMedia(\'only screen and (max-width: 991px)\').matches) {\n            $(\'.navbar .mainHeader\').slideAndSwipe();\n        }</script></nav>'), e.put("app/layouts/navbar/viettel_navbar.html", ""), e.put("app/layouts/views/blank.html", '<!-- BEGIN PAGE BREADCRUMB --><ul class="page-breadcrumb breadcrumb"><li><a ui-sref="dashboard">Blank Page</a> <i class="fa fa-circle"></i></li></ul><!-- END PAGE BREADCRUMB --><!-- BEGIN MAIN CONTENT --><div class="row" ng-controller="BlankController"><div class="col-md-12"><!-- BEGIN: ACCORDION DEMO --><div class="portlet light bordered"><div class="portlet-title"><div class="caption font-green-sharp"><i class="icon-settings font-green-sharp"></i> <span class="caption-subject bold uppercase">Page Portlet</span> <span class="caption-helper hide"></span></div><div class="actions"><a class="btn btn-circle btn-icon-only btn-default" href="#"><i class="icon-cloud-upload"></i> </a><a class="btn btn-circle btn-icon-only btn-default" href="#"><i class="icon-wrench"></i></a></div></div><div class="portlet-body">Blank page content goes here...</div></div></div></div><!-- END MAIN CONTENT --><!-- BEGIN MAIN JS--><script>// call any jquery or angularjs code ehre</script><!-- BEGIN MAIN JS -->'),
                e.put("app/account/profile/booking/profile.booking.air.view.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner gtd-profile-form"><div class="row"><div class="col-md-12"><!-- BEGIN PROFILE SIDEBAR --><div class="profile-sidebar"><!-- PORTLET MAIN --><gtd-profile-menu ng-if="vm.showProfileInfo" profile-model="vm.profileModel"></gtd-profile-menu><!-- END PORTLET MAIN --></div><!-- END BEGIN PROFILE SIDEBAR --><!-- BEGIN PROFILE CONTENT --><div class="profile-content"><div class="row"><div class="col-md-12"><!-- USER INFO --><div class="portlet light"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase">{{\'global.menu.account.profiles.detail\'|translate}}</span></div></div><div class="portlet-body"><div class="row static-info"><div class="col-sm-3 bold">{{\'global.menu.account.profiles.code\' | translate}}</div><div class="col-sm-9"><div class="margin-bottom-8"><span>{{vm.bookingModel.passengerNameRecords}}</span></div></div></div><div class="row static-info"><div class="col-sm-3 bold">{{\'global.menu.account.profiles.ID\' | translate}}</div><div class="col-sm-9"><div class="margin-bottom-8"><span>{{vm.bookingModel.bookingNumber}}</span></div></div></div><div class="row static-info"><div class="col-sm-3 bold">{{\'global.menu.account.profiles.status\' | translate}}</div><div class="col-sm-9"><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'PENDING\'">{{\'Chưa Thực Hiện Đặt Vé\' | capitalize}} </span><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'FAILED\'">{{\'Đặt Vé Thất Bại\' | capitalize}} </span><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'CANCELLED\' && vm.bookingModel.paymentStatus == \'REFUNDED\'">{{\'Đã Hủy và Hoàn Tiền\' | capitalize}} </span><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'BOOKING_ON_PROCESS\'">{{\'Đang thực hiện đặt vé\' | capitalize}} </span><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'TICKET_ON_PROCESS\'">{{\'Đang thực hiện xuất vé\' | capitalize}} </span><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'CONFIRMED\'">{{\'Đã hoàn tất\' | capitalize}}</span><ng-switch on="vm.bookingModel.supplierBookingStatus == \'EXPIRED\'"><span ng-switch-when="true" class="text-color4" ng-show="vm.bookingModel.paymentStatus == \'SUCCEEDED\'">{{\'Quá hạn.\' | capitalize}} </span><span ng-switch-when="true" class="text-color3" ng-show="vm.bookingModel.paymentStatus != \'SUCCEEDED\'">{{\'Quá hạn.\' | capitalize}}</span></ng-switch><ng-switch on="vm.bookingModel.supplierBookingStatus == \'BOOKED\'"><span ng-switch-when="true" class="text-color4" ng-show="vm.bookingModel.paymentStatus == \'SUCCEEDED\' && vm.bookingModel.issuedStatus == \'PENDING\'">{{\'Thanh toán thành công - Chờ xuất vé.\' | capitalize}} </span><span ng-switch-when="true" class="text-color4" ng-show="vm.bookingModel.paymentStatus == \'SUCCEEDED\' && vm.bookingModel.issuedStatus == \'FAILED\'">{{\'Thanh toán thành công - Xuất vé lỗi.\' | capitalize}} </span><span ng-switch-when="true" class="" ng-show="vm.bookingModel.paymentStatus == \'PENDING\'">{{\'Chờ thanh toán\' | capitalize}} </span><span ng-switch-when="true" class="text-color4" ng-show="vm.bookingModel.paymentStatus == \'FAILED\'">{{\'Thanh toán lỗi, đề nghị quý khách thực hiện thanh toán lại.\' | capitalize}}</span></ng-switch></div></div><div class="row static-info" ng-show="vm.bookingModel.paymentStatus == \'SUCCEEDED\'"><div class="col-sm-3 bold">{{\'global.menu.account.profiles.pay\' | translate}}</div><div class="col-sm-9">{{vm.bookingModel.paymentType}}</div></div><div class="row static-info" ng-show="vm.bookingModel.paymentStatus == \'SUCCEEDED\'"><div class="col-sm-3 bold">{{\'global.menu.account.profiles.paydate\' | translate}}</div><div class="col-sm-9 text-capitalize">{{vm.bookingModel.paymentDate | momentdate:\'date\'}}</div></div><div class="form-body booking-result-wrapper" style="display:block;clear: both"><div class="detail-zone" style="width: 100%"><gtd-flight-info flight-model="vm.bookingModel" gtd-show-customer="false"></gtd-flight-info><gtd-flight-info flight-model="vm.returnBookingModel" gtd-show-customer="false" ng-show="vm.orgBookingModel.groupPricedItineraries.length > 1 || vm.orgBookingModel.groupPricedItineraries[0].pricedItineraries[0].directionInd==\'RETURN\'"></gtd-flight-info></div></div></div><!-- END INVOICE INFO --></div><!-- Thong tin hanh khach --><!--<div class="portlet light">--><!--<div class="portlet-title">--><!--<div class="caption">--><!--<span class="caption-subject font-dark bold uppercase">Thông tin hành khách</span>--><!--</div>--><!--</div>--><!--<div class="portlet-body">--><ng-switch on="vm.bookingModel.status == \'BOOKED\'"><gtd-flight-booking-customer-info-view search-options="vm.searchOptions" ng-switch-when="true" booking-model="vm.orgBookingModel"></gtd-flight-booking-customer-info-view><gtd-flight-booking-contact-info-view ng-switch-when="true" booking-model="vm.orgBookingModel"></gtd-flight-booking-contact-info-view><gtd-flight-booking-history-billing-info-view ng-switch-when="true" booking-model="vm.orgBookingModel"></gtd-flight-booking-history-billing-info-view></ng-switch><!--</div>--><!--</div>--><!-- Thong tin thanh toan --><!--<div class="portlet light">--><!--<div class="portlet-title">--><!--<div class="caption">--><!--<span class="caption-subject font-dark bold uppercase">Phương thức thanh toán</span>--><!--</div>--><!--</div>--><!--<div class="portlet-body">--><ng-switch on="vm.bookingModel.paymentStatus != \'SUCCEEDED\' && vm.bookingModel.status == \'BOOKED\'\n                                    && !(vm.bookingModel.supplierBookingStatus == \'EXPIRED\')\n                                    && !(vm.bookingModel.supplierBookingStatus == \'CANCELLED\' && vm.bookingModel.paymentStatus == \'REFUNDED\')\n                                "><!--                                <form action="#" role="form" name="bookingForm" novalidate>--><!--                                    <div class="col-sm-8 no-padding-left" ng-switch-when="true">--><!--                                        <gtd-booking-payment ng-if="vm.showPaymentInfo" payment-model="vm.paymentModel" booking-model="vm.bjson" ></gtd-booking-payment>--><!--                                    </div>--><!--                                </form>--><div class="col-sm-12 no-padding-left no-padding-right" ng-switch-when="true"><gtd-flight-booking-summary booking-model="vm.orgBookingModel" search-options="vm.searchOptions" show-coupon="true" payment-model="vm.paymentModel"></gtd-flight-booking-summary><gtd-flight-booking-summary-details booking-model="vm.orgBookingModel" search-options="vm.searchOptions" show-coupon="true" payment-model="vm.paymentModel"></gtd-flight-booking-summary-details></div><div ng-if="vm.showPaymentInfo" ng-switch-when="true"><button class="btn btn-green pull-right" type="button" ng-disabled="bookingForm.$invalid" ng-click="vm.doConfirm()"><!--<span class="uppercase fa fa-search">&nbsp;--> <span class="uppercase ng-scope">{{\'global.menu.account.profiles.pay\' | translate}}</span></button></div></ng-switch><ng-switch on="vm.bookingModel.supplierBookingStatus == \'CONFIRMED\'\n                                || (vm.bookingModel.supplierBookingStatus == \'BOOKED\' && vm.bookingModel.paymentStatus == \'SUCCEEDED\')\n                                || (vm.bookingModel.supplierBookingStatus == \'EXPIRED\')\n                                || (vm.bookingModel.supplierBookingStatus == \'CANCELLED\' && vm.bookingModel.paymentStatus == \'REFUNDED\')\n                                "><div class="" ng-switch-when="true"><gtd-flight-booking-summary booking-model="vm.orgBookingModel" search-options="vm.searchOptions" show-coupon="true" payment-model="vm.paymentModel"></gtd-flight-booking-summary><gtd-flight-booking-summary-details booking-model="vm.orgBookingModel" search-options="vm.searchOptions" show-coupon="true" payment-model="vm.paymentModel"></gtd-flight-booking-summary-details></div></ng-switch><!--</div>--><!--</div>--></div></div><div class="row col-md-12"><div class="pull-left"><button class="btn gtd-btn-default gtd-btn-small btn-grey-em" type="button" ng-click="vm.cancel();"><span class="uppercase ng-scope">{{\'global.menu.account.profiles.back\' | translate}}</span></button></div><div ng-if="!vm.showPaymentInfo && vm.bookingModel.paymentStatus != \'SUCCEEDED\'" class="pull-right"><button class="btn btn-green pull-right" type="button" ng-disabled="bookingForm.$invalid" ng-click="vm.viettelPaymentSubmit()"><!--<span class="uppercase fa fa-search">&nbsp;--> <span class="uppercase ng-scope">{{\'global.menu.account.profiles.pay\' | translate}}</span></button></div></div></div><!-- END PROFILE CONTENT --></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/account/profile/booking/profile.booking.delete.html", '<div class="portlet delete-card-dialog light no-border"><div class="portlet-title"><div class="caption"><span class="caption-subject bold text-gtd-3 uppercase">Xoá lịch sử giao dịch</span></div></div><div class="portlet-body"><div class="content"><span>Bạn đang thực hiện xoá lịch sử giao dịch <span class="text-gtd-3">{{vm.pnrs}}</span>. Nhấn <span class="bold">Đồng ý</span> để hoàn tất.</span></div><div class="buttons-actions"><div class="btn btn-green" ng-click="vm.submit()"><span class="fa fa-trash"></span><span class="uppercase"> Đồng ý</span></div><div class="btn btn-grey" ng-click="vm.cancel()"><span class="uppercase">Huỷ</span></div></div></div></div>'), e.put("app/account/profile/booking/profile.booking.hotel.view.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner gtd-profile-form"><div class="row"><div class="col-md-12"><!-- BEGIN PROFILE SIDEBAR --><div class="profile-sidebar"><!-- PORTLET MAIN --><gtd-profile-menu ng-if="vm.showProfileInfo" profile-model="vm.profileModel"></gtd-profile-menu><!-- END PORTLET MAIN --></div><!-- END BEGIN PROFILE SIDEBAR --><!-- BEGIN PROFILE CONTENT --><div class="profile-content"><div class="row"><div class="col-md-12"><!-- USER INFO --><div class="portlet light"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase">Chi tiết khách sạn</span></div></div><div class="portlet-body"><div class="row static-info"><div class="col-sm-3 bold">Mã đặt chỗ</div><!--<ng-switch on="vm.bookingModel.supplierBookingStatus == \'CONFIRMED\'">--><!--<div class="col-sm-9" ng-switch-when="true">--><!--<span>{{vm.bookingModel.passengerNameRecords}}</span>--><!--</div>--><!--<div class="col-sm-9" ng-switch-default>--><!--<span>{{vm.bookingModel.bookingNumber}}</span>--><!--</div>--><!--</ng-switch>--><div class="col-sm-9"><span>{{vm.bookingModel.passengerNameRecords}}</span></div></div><div class="row static-info"><div class="col-sm-3 bold">Tình trạng</div><div class="col-sm-9 text-color4"><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'PENDING\'">{{\'Chưa Thực Hiện Đặt Vé\' | capitalize}} </span><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'FAILED\'">{{\'Đặt Vé Thất Bại\' | capitalize}} </span><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'CANCELLED\' && vm.bookingModel.paymentStatus == \'REFUNDED\'">{{\'Đã Hủy và Hoàn Tiền\' | capitalize}} </span><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'BOOKING_ON_PROCESS\'">{{\'Đang thực hiện đặt vé\' | capitalize}} </span><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'TICKET_ON_PROCESS\'">{{\'Đang thực hiện xuất vé\' | capitalize}} </span><span class="" ng-show="vm.bookingModel.supplierBookingStatus == \'CONFIRMED\'">{{\'Đã hoàn tất\' | capitalize}}</span><ng-switch on="vm.bookingModel.supplierBookingStatus == \'EXPIRED\'"><span ng-switch-when="true" class="text-color4" ng-show="vm.bookingModel.paymentStatus == \'SUCCEEDED\'">{{\'Quá hạn.\' | capitalize}} </span><span ng-switch-when="true" class="text-color3" ng-show="vm.bookingModel.paymentStatus != \'SUCCEEDED\'">{{\'Quá hạn.\' | capitalize}}</span></ng-switch><ng-switch on="vm.bookingModel.supplierBookingStatus == \'BOOKED\'"><span ng-switch-when="true" class="text-color4" ng-show="vm.bookingModel.paymentStatus == \'SUCCEEDED\' && vm.bookingModel.issuedStatus == \'PENDING\'">{{\'Thanh toán thành công - Chờ xuất vé.\' | capitalize}} </span><span ng-switch-when="true" class="text-color4" ng-show="vm.bookingModel.paymentStatus == \'SUCCEEDED\' && vm.bookingModel.issuedStatus == \'FAILED\'">{{\'Thanh toán thành công - Xuất vé lỗi.\' | capitalize}} </span><span ng-switch-when="true" class="" ng-show="vm.bookingModel.paymentStatus == \'PENDING\'">{{\'Chờ thanh toán\' | capitalize}} </span><span ng-switch-when="true" class="text-color4" ng-show="vm.bookingModel.paymentStatus == \'FAILED\'">{{\'Thanh toán lỗi, đề nghị quý khách thực hiện thanh toán lại.\' | capitalize}}</span></ng-switch></div></div><div class="form-body booking-result-wrapper" style="display:block;clear: both"><div class="detail-zone" style="width: 100%"><gtd-hotel-info booking-model="vm.bookingModel" selected-hotel="vm.selectedHotel" selected-hotel-room="vm.selectedHotelRoom" selected-hotel-product="vm.selectedHotelProduct" jsonmodel="vm.bkgroup"></gtd-hotel-info></div></div></div><!-- END INVOICE INFO --></div><ng-switch on="vm.bookingModel.status == \'BOOKED\'"><gtd-hotel-profile-booking-customer-info-view booking-model="vm.orgBookingModel" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" ng-switch-when="true"></gtd-hotel-profile-booking-customer-info-view><gtd-hotel-booking-contact-info-view booking-model="vm.orgBookingModel" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" mode="flight" ng-switch-when="true"></gtd-hotel-booking-contact-info-view><gtd-hotel-booking-history-billing-info-view booking-model="vm.orgBookingModel" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" ng-switch-when="true"></gtd-hotel-booking-history-billing-info-view></ng-switch><!--</div>--><!--</div>--><!-- Thong tin thanh toan --><!--<div class="portlet light">--><!--<div class="portlet-title">--><!--<div class="caption">--><!--<span class="caption-subject font-dark bold uppercase">Phương thức thanh toán</span>--><!--</div>--><!--</div>--><!--<div class="portlet-body">--><ng-switch on="vm.bookingModel.paymentStatus != \'SUCCEEDED\' && vm.bookingModel.status == \'BOOKED\'\n                                    && !(vm.bookingModel.supplierBookingStatus == \'EXPIRED\')\n                                    && !(vm.bookingModel.supplierBookingStatus == \'CANCELLED\' && vm.bookingModel.paymentStatus == \'REFUNDED\')\n                                "><form action="#" role="form" name="bookingForm" novalidate><div class="col-sm-8 no-padding-left" ng-switch-when="true"><gtd-booking-payment ng-if="vm.showPaymentInfo" payment-model="vm.paymentModel" booking-model="vm.bjson"></gtd-booking-payment></div></form><div ng-class="{\'col-sm-12\': !vm.showPaymentInfo, \'col-sm-4\': vm.showPaymentInfo}" class="no-padding-left no-padding-right" ng-switch-when="true"><gtd-hotel-booking-summary booking-model="vm.orgBookingModel" bjson="vm.bkgroup" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" search-options="vm.searchOptions" show-coupon="true" payment-model="vm.paymentModel"></gtd-hotel-booking-summary><gtd-hotel-booking-summary-details booking-model="vm.orgBookingModel" bjson="vm.bkgroup" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" search-options="vm.searchOptions" show-coupon="true" payment-model="vm.paymentModel"></gtd-hotel-booking-summary-details></div><div ng-if="vm.showPaymentInfo" ng-switch-when="true"><button class="btn btn-green pull-right" type="button" ng-disabled="bookingForm.$invalid" ng-click="vm.doConfirm()"><!--<span class="uppercase fa fa-search">&nbsp;--> <span class="uppercase ng-scope">Thanh toán</span></button></div></ng-switch></div></div><div class="row"><div class="col-md-12"><div class="pull-left"><button class="btn gtd-btn-default gtd-btn-small btn-grey-em" type="button" ng-click="vm.cancel();"><span class="uppercase ng-scope">Trở lại</span></button></div><div ng-if="!vm.showPaymentInfo && vm.bookingModel.paymentStatus != \'SUCCEEDED\'" class="pull-right"><button class="btn btn-green pull-right" type="button" ng-disabled="bookingForm.$invalid" ng-click="vm.viettelPaymentSubmit()"><span class="uppercase ng-scope">{{\'global.menu.account.profiles.pay\' | translate}}</span></button></div></div></div></div><!-- END PROFILE CONTENT --></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/account/profile/booking/profile.booking.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner gtd-profile-form"><div class="row"><div class="col-md-12"><!-- BEGIN PROFILE SIDEBAR --><div class="profile-sidebar"><!-- PORTLET MAIN --><gtd-profile-menu profile-model="vm.profileModel"></gtd-profile-menu><!-- END PORTLET MAIN --></div><!-- END BEGIN PROFILE SIDEBAR --><!-- BEGIN PROFILE CONTENT --><div class="profile-content profile-booking"><div class="row"><div class="col-md-12"><!-- USER INFO --><div class="portlet light"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase" data-translate="global.menu.account.profiles.booking">Lịch sử Booking</span></div></div><!-- TABS --><div class="tabbable-line"><ul class="nav nav-tabs"><li ng-class="vm.tabClass(\'tab-a\')" ng-click="vm.setSelectedTab(\'tab-a\')"><a href="#tab-a" data-toggle="tab" aria-expanded="{{vm.selectedTab == \'tab-a\'}}">Air</a></li><!-- <li ng-class="vm.tabClass(\'tab-h\')" ng-click="vm.setSelectedTab(\'tab-h\')">\n                                            <a href="#tab-h" data-toggle="tab" aria-expanded="{{vm.selectedTab == \'tab-h\'}}" > Hotel </a>\n                                        </li> --></ul><div class="tab-content"><div ng-class="vm.tabPaneClass(\'tab-a\')" id="tab-a"><div class="portlet-body"><div class="col-sm-3"><div class="form-group"><label data-translate="global.menu.account.profiles.code">Mã đặt chỗ</label><input type="text" class="form-control" placeholder="" ng-model="vm.airBookingOptions.bookingCode"></div></div><div class="col-sm-3"><div class="form-group"><label data-translate="global.menu.account.profiles.status">Tình trạng</label><select class="form-control ng-pristine ng-valid ng-not-empty ng-touched" aria-invalid="false" style="" ng-model="vm.airBookingOptions.bookingStatus"><option value="" selected="selected"></option><option label="Confirmed" value="CONFIRMED" data-translate="apps.booking.supplierStatus.confirmed">Confirmed</option><option label="Booked" value="BOOKED" data-translate="apps.booking.supplierStatus.booked">Booked</option><option label="Cancelled" value="CANCELLED" data-translate="apps.booking.supplierStatus.cancelled">Cancelled</option><option label="Pending" value="PENDING" data-translate="apps.booking.supplierStatus.pending">Pending</option><option label="Failed" value="FAILED" data-translate="apps.booking.supplierStatus.failed">Failed</option><option label="Expired" value="EXPIRED" data-translate="apps.booking.supplierStatus.expired">Expired</option><option label="Booking In Process" value="BOOKING_ON_PROCESS" data-translate="apps.booking.supplierStatus.booking_on_process">Booking In Process</option><option label="Ticket In Process" value="TICKET_ON_PROCESS" data-translate="apps.booking.supplierStatus.ticket_on_process">Ticket In Process</option></select></div></div><div class="col-sm-3"><div class="form-group"><label data-translate="global.menu.account.profiles.from">Từ ngày</label><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#flightstartdate\').bootstrapDP(\'show\');"></i> <input class="form-control date-picker" readonly="readonly" style="background-color: unset" id="flightstartdate" gtd-date-picker is-start="true" end-id="enddate" ng-model="vm.airBookingOptions.fromDate"></div></div></div><div class="col-sm-3"><div class="form-group"><label data-translate="global.menu.account.profiles.To">Đến ngày</label><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#enddate\').bootstrapDP(\'show\');"></i> <input id="enddate" class="form-control date-picker" readonly="readonly" style="background-color: unset" gtd-date-picker ng-model="vm.airBookingOptions.toDate"></div></div></div><div class="col-sm-12"><div class="form-group"><button class="btn gtd-btn-default gtd-btn-small btn-green" type="button" ng-click="vm.doAirSearch()"><span class="ng-scope" data-translate="global.menu.account.profiles.search">Tìm kiếm</span></button> <button class="btn gtd-btn-default gtd-btn-small btn-grey-em" type="button" ng-click="vm.doAirReset()"><span class="ng-scope" data-translate="global.menu.account.profiles.reset">Reset</span></button><!--<div class="btn btn-green" ng-click="vm.doAirSearch()">Tìm kiếm</div>--><!--<div class="btn btn-grey" ng-click="vm.doAirReset()">Reset</div>--></div></div><div style="display: block; clear: both"><div class="table-responsive booking-table"><table class="table table-bordered table-middle"><thead><tr><th width="14%">{{\'global.menu.account.profiles.code\' | translate}}</th><th width="15%">{{\'global.menu.account.profiles.go\' | translate}}</th><th width="15%">{{\'global.menu.account.profiles.to\' | translate}}</th><th width="13%">{{\'global.menu.account.profiles.departure\' | translate}}</th><th width="13%">{{\'global.menu.account.profiles.return\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.status\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.paymentstatus\' | translate}}</th><th width="10%"></th></tr></thead><tbody infinite-scroll="vm.nextAirPage()" infinite-scroll-disabled="$ctrl.airBusy || vm.airBookingOptions.page >= vm.airBookingOptions.links[\'last\']"><tr ng-repeat="item in vm.airBookings" id="{{\'air\' + item.id}}"><td>{{item.bookingCode}}</td><td>{{item.fromCity}}&nbsp;({{item.fromLocationCode}})</td><td>{{item.toCity}}&nbsp;({{item.toLocationCode}})</td><td>{{item.departureDate | momentdate}}</td><td>{{item.returnDate | momentdate}}</td><td><span class="label label-{{item.supplierBookingStatus | lowercase}}" data-translate="apps.booking.supplierStatus.{{item.supplierBookingStatus | lowercase}}">{{item.supplierBookingStatus | capitalize}}</span></td><td><ng-switch on="item.paymentStatus != null"><span ng-switch-when="true" class="label label-{{item.paymentStatus | lowercase}}">{{item.paymentStatus | capitalize}}</span></ng-switch></td><td class="text-center"><div class="button-actions btn-group flex-btn-group-container"><div ng-click="vm.viewAirItem(item)"><span class="fa fa-eye"></span></div>&nbsp<div ng-click="vm.openDeleteAirBooking(item)"><span class="fa fa-trash-o"></span></div></div></td></tr><tr><td colspan="7"><a class="text-color3" ng-click="vm.openDeleteAirBooking(null, true)">{{\'global.menu.account.profiles.del-history\' | translate}}</a></td></tr><tr></tr></tbody></table></div></div></div></div><div ng-class="vm.tabPaneClass(\'tab-h\')" id="tab-h"><div class="portlet-body"><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.account.profiles.code\' | translate}}</label><input type="text" class="form-control" placeholder="" ng-model="vm.hotelBookingOptions.bookingCode"></div></div><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.account.profiles.status\' | translate}}</label><select class="form-control ng-pristine ng-valid ng-not-empty ng-touched" aria-invalid="false" style="" ng-model="vm.hotelBookingOptions.bookingStatus"><option value="" selected="selected"></option><option label="Confirmed" value="CONFIRMED">Confirmed</option><option label="Booked" value="BOOKED">Booked</option><option label="Cancelled" value="CANCELLED">Cancelled</option><option label="Pending" value="PENDING">Pending</option><option label="Failed" value="FAILED">Failed</option><option label="Expired" value="EXPIRED">Expired</option><option label="BookingOnProcess" value="BOOKING_ON_PROCESS">Booking In Process</option><option label="TicketOnProcess" value="TICKET_ON_PROCESS">Ticket In Process</option></select></div></div><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.account.profiles.from\' | translate}}</label><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#hotelstartdate\').bootstrapDP(\'show\');"></i> <input class="form-control date-picker" readonly="readonly" style="background-color: unset" id="hotelstartdate" gtd-date-picker is-start="true" end-id="hotelenddate" ng-model="vm.hotelBookingOptions.fromDate"></div></div></div><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.account.profiles.To\' | translate}}</label><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#hotelenddate\').bootstrapDP(\'show\');"></i> <input class="form-control date-picker" readonly="readonly" style="background-color: unset" id="hotelenddate" gtd-date-picker ng-model="vm.hotelBookingOptions.toDate"></div></div></div><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.account.profiles.add\' | translate}}</label><input type="text" class="form-control" placeholder="" ng-model="vm.hotelBookingOptions.toLocationName"></div></div><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.hotel\' | translate}}</label><input type="text" class="form-control" placeholder="" ng-model="vm.hotelBookingOptions.fromLocationName"></div></div><div class="col-sm-6"><div class="form-group"><label>&nbsp;</label><br><div class="btn btn-green" ng-click="vm.doHotelButtonSearch()" style="margin-right: 3px">{{\'global.menu.account.profiles.search\' | translate}}</div><div class="btn btn-grey" ng-click="vm.doHotelReset()" style="margin-right: 3px">{{\'global.menu.account.profiles.reset\' | translate}}</div></div></div><div style="display: block; clear: both"><div class="table-responsive booking-table"><table class="table table-bordered table-middle"><thead><tr><th width="14%">{{\'global.menu.account.profiles.code\' | translate}}</th><th width="15%">{{\'global.menu.hotel\' | translate}}</th><th width="15%">{{\'global.menu.account.profiles.add\' | translate}}</th><th width="13%">{{\'global.menu.account.profiles.checkin\' | translate}}</th><th width="13%">{{\'global.menu.account.profiles.checkout\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.status\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.paymentstatus\' | translate}}</th><th width="10%"></th></tr></thead><tbody infinite-scroll="vm.nextHotelPage()" infinite-scroll-disabled="$ctrl.htlBusy || vm.hotelBookingOptions.page >= vm.hotelBookingOptions.links[\'last\']"><tr ng-repeat="item in vm.hotelBookings" id="{{\'htl\' + item.id}}"><td>{{item.bookingCode}}</td><td>{{item.fromLocationName}}</td><td>{{item.toLocationName}}</td><td>{{item.departureDate | momentdate}}</td><td>{{item.returnDate | momentdate}}</td><td><span class="label label-{{item.supplierBookingStatus | lowercase}}">{{item.supplierBookingStatus | capitalize}}</span></td><td><ng-switch on="item.paymentStatus != null"><span ng-switch-when="true" class="label label-{{item.paymentStatus | lowercase}}">{{item.paymentStatus | capitalize}}</span></ng-switch></td><td class="text-center"><div class="button-actions btn-group flex-btn-group-container"><div ng-click="vm.viewHotelItem(item)"><span class="fa fa-eye"></span></div>&nbsp;<div ng-click="vm.openDeleteHotelBooking(item)"><span class="fa fa-trash-o"></span></div></div></td></tr><tr><td colspan="7"><a class="text-color3" ng-click="vm.openDeleteHotelBooking(null, true)">{{\'global.menu.account.profiles.del-history\' | translate}}</a></td></tr><tr></tr></tbody></table></div></div></div></div></div></div></div><!-- END INVOICE INFO --></div><!-- END Action button ->\n                        </div>\n                    </div>\n                </div>\n                <!-- END PROFILE CONTENT --></div></div></div><!-- END PAGE CONTENT INNER --></div></div></div>'), e.put("app/account/profile/booking/viettel.profile.booking.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner gtd-profile-form"><div class="row"><div class="col-md-12"><!-- BEGIN PROFILE SIDEBAR --><div class="profile-sidebar" ng-hide="true"><!-- PORTLET MAIN --><gtd-profile-menu profile-model="vm.profileModel"></gtd-profile-menu><!-- END PORTLET MAIN --></div><!-- END BEGIN PROFILE SIDEBAR --><!-- BEGIN PROFILE CONTENT --><div class="profile-content profile-booking"><div class="row"><div class="col-md-12"><!-- USER INFO --><div class="portlet light"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase" data-translate="global.menu.account.profiles.booking">Lịch sử Booking</span></div></div><!-- TABS --><div class="tabbable-line"><ul class="nav nav-tabs"><li ng-class="vm.tabClass(\'tab-a\')" ng-click="vm.setSelectedTab(\'tab-a\')"><a href="#tab-a" data-toggle="tab" aria-expanded="{{vm.selectedTab == \'tab-a\'}}">Air</a></li><li ng-class="vm.tabClass(\'tab-h\')" ng-click="vm.setSelectedTab(\'tab-h\')"><a href="#tab-h" data-toggle="tab" aria-expanded="{{vm.selectedTab == \'tab-h\'}}">Hotel</a></li></ul><div class="tab-content"><div ng-class="vm.tabPaneClass(\'tab-a\')" id="tab-a"><div class="portlet-body"><div class="col-sm-3"><div class="form-group"><label data-translate="global.menu.account.profiles.code">Mã đặt chỗ</label><input type="text" class="form-control" placeholder="" ng-model="vm.airBookingOptions.bookingCode"></div></div><div class="col-sm-3"><div class="form-group"><label data-translate="global.menu.account.profiles.status">Tình trạng</label><select class="form-control ng-pristine ng-valid ng-not-empty ng-touched" aria-invalid="false" style="" ng-model="vm.airBookingOptions.bookingStatus"><option value="" selected="selected"></option><option label="Confirmed" value="CONFIRMED" data-translate="apps.booking.supplierStatus.confirmed">Confirmed</option><option label="Booked" value="BOOKED" data-translate="apps.booking.supplierStatus.booked">Booked</option><option label="Cancelled" value="CANCELLED" data-translate="apps.booking.supplierStatus.cancelled">Cancelled</option><option label="Pending" value="PENDING" data-translate="apps.booking.supplierStatus.pending">Pending</option><option label="Failed" value="FAILED" data-translate="apps.booking.supplierStatus.failed">Failed</option><option label="Expired" value="EXPIRED" data-translate="apps.booking.supplierStatus.expired">Expired</option><option label="Booking In Process" value="BOOKING_ON_PROCESS" data-translate="apps.booking.supplierStatus.booking_on_process">Booking In Process</option><option label="Ticket In Process" value="TICKET_ON_PROCESS" data-translate="apps.booking.supplierStatus.ticket_on_process">Ticket In Process</option></select></div></div><div class="col-sm-3"><div class="form-group"><label data-translate="global.menu.account.profiles.from">Từ ngày</label><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#flightstartdate\').bootstrapDP(\'show\');"></i> <input class="form-control date-picker" readonly="readonly" style="background-color: unset" id="flightstartdate" gtd-date-picker is-start="true" end-id="enddate" ng-model="vm.airBookingOptions.fromDate"></div></div></div><div class="col-sm-3"><div class="form-group"><label data-translate="global.menu.account.profiles.To">Đến ngày</label><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#enddate\').bootstrapDP(\'show\');"></i> <input id="enddate" class="form-control date-picker" readonly="readonly" style="background-color: unset" gtd-date-picker ng-model="vm.airBookingOptions.toDate"></div></div></div><div class="col-sm-12"><div class="form-group"><button class="btn gtd-btn-default btn-green" type="button" ng-click="vm.doAirSearch()"><span class="fa fa-search"></span></button> <button class="btn gtd-btn-default btn-grey-em" type="button" ng-click="vm.doAirReset()"><span class="fa fa-refresh"></span></button> <button class="btn gtd-btn-default gtd-btn-small btn-grey-em pull-right" type="button" ui-sref="home"><span class="ng-scope" data-translate="flight.booking.back">Trở về</span></button><!--<div class="btn btn-green" ng-click="vm.doAirSearch()">Tìm kiếm</div>--><!--<div class="btn btn-grey" ng-click="vm.doAirReset()">Reset</div>--></div></div><div style="display: block; clear: both"><div class="table-responsive booking-table profile-table"><table class="table table-bordered table-middle"><thead><tr><th width="14%">{{\'global.menu.account.profiles.code\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.go\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.to\' | translate}}</th><th width="13%">{{\'global.menu.account.profiles.departure\' | translate}}</th><th width="13%">{{\'global.menu.account.profiles.return\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.status\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.paymentstatus\' | translate}}</th><th width="20%"></th></tr></thead><tbody infinite-scroll="vm.nextAirPage()" infinite-scroll-disabled="$ctrl.airBusy || vm.airBookingOptions.page >= vm.airBookingOptions.links[\'last\']"><tr ng-repeat="item in vm.airBookings" id="{{\'air\' + item.id}}"><td>{{item.bookingCode}}</td><td>{{item.fromCity}}&nbsp;({{item.fromLocationCode}})</td><td>{{item.toCity}}&nbsp;({{item.toLocationCode}})</td><td>{{item.departureDate | momentdate}}</td><td>{{item.returnDate | momentdate}}</td><td><span class="label label-{{item.supplierBookingStatus | lowercase}}" data-translate="apps.booking.supplierStatus.{{item.supplierBookingStatus | lowercase}}">{{item.supplierBookingStatus | capitalize}}</span></td><td><ng-switch on="item.paymentStatus != null"><span ng-switch-when="true" class="label label-{{item.paymentStatus | lowercase}}">{{item.paymentStatus | capitalize}}</span></ng-switch></td><td class="action-buttons"><div class="button-actions btn-group flex-btn-group-container"><button ng-click="vm.viewAirItem(item)" class="btn btn-default">Chi tiết</button> <button ng-click="vm.openDeleteAirBooking(item)" class="btn btn-danger">Xóa</button><!-- <div ng-click="vm.viewAirItem(item)">\n                                                                                <span class="fa fa-eye"></span>\n                                                                            </div>&nbsp\n                                                                            <div ng-click="vm.openDeleteAirBooking(item)">\n                                                                                <span class="fa fa-trash-o"></span>\n                                                                            </div> --></div></td></tr></tbody></table><a class="text-color3" ng-click="vm.openDeleteAirBooking(null, true)">{{\'global.menu.account.profiles.del-history\' | translate}}</a></div></div></div></div><div ng-class="vm.tabPaneClass(\'tab-h\')" id="tab-h"><div class="portlet-body"><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.account.profiles.code\' | translate}}</label><input type="text" class="form-control" placeholder="" ng-model="vm.hotelBookingOptions.bookingCode"></div></div><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.account.profiles.status\' | translate}}</label><select class="form-control ng-pristine ng-valid ng-not-empty ng-touched" aria-invalid="false" style="" ng-model="vm.hotelBookingOptions.bookingStatus"><option value="" selected="selected"></option><option label="Confirmed" value="CONFIRMED">Confirmed</option><option label="Booked" value="BOOKED">Booked</option><option label="Cancelled" value="CANCELLED">Cancelled</option><option label="Pending" value="PENDING">Pending</option><option label="Failed" value="FAILED">Failed</option><option label="Expired" value="EXPIRED">Expired</option><option label="BookingOnProcess" value="BOOKING_ON_PROCESS">Booking In Process</option><option label="TicketOnProcess" value="TICKET_ON_PROCESS">Ticket In Process</option></select></div></div><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.account.profiles.from\' | translate}}</label><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#hotelstartdate\').bootstrapDP(\'show\');"></i> <input class="form-control date-picker" readonly="readonly" style="background-color: unset" id="hotelstartdate" gtd-date-picker is-start="true" end-id="hotelenddate" ng-model="vm.hotelBookingOptions.fromDate"></div></div></div><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.account.profiles.To\' | translate}}</label><div class="input-icon right"><i class="fa fa-calendar btn icon-centre" onclick="$(\'#hotelenddate\').bootstrapDP(\'show\');"></i> <input class="form-control date-picker" readonly="readonly" style="background-color: unset" id="hotelenddate" gtd-date-picker ng-model="vm.hotelBookingOptions.toDate"></div></div></div><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.account.profiles.add\' | translate}}</label><input type="text" class="form-control" placeholder="" ng-model="vm.hotelBookingOptions.toLocationName"></div></div><div class="col-sm-3"><div class="form-group"><label>{{\'global.menu.hotel\' | translate}}</label><input type="text" class="form-control" placeholder="" ng-model="vm.hotelBookingOptions.fromLocationName"></div></div><div class="col-sm-6"><div class="form-group"><label>&nbsp;</label><br><button class="btn gtd-btn-default btn-green" type="button" ng-click="vm.doHotelButtonSearch()"><span class="fa fa-search"></span></button> <button class="btn gtd-btn-default btn-grey-em" type="button" ng-click="vm.doHotelReset()"><span class="fa fa-refresh"></span></button> <button class="btn gtd-btn-default gtd-btn-small btn-grey-em pull-right" type="button" ui-sref="home"><span class="ng-scope" data-translate="flight.booking.back">Trở về</span></button><!-- <label>&nbsp;</label><br/> --><!-- <div class="btn btn-green" ng-click="vm.doHotelButtonSearch()" style="margin-right: 3px">{{\'global.menu.account.profiles.search\' | translate}}</div>\n                                                            <div class="btn btn-grey" ng-click="vm.doHotelReset()" style="margin-right: 3px">{{\'global.menu.account.profiles.reset\' | translate}}</div> --><!-- <button class="btn gtd-btn-default gtd-btn-small btn-grey-em pull-right" type="button" ui-sref="home">\n                                                                    <span class="ng-scope" data-translate="flight.booking.back">Trở về</span>\n                                                            </button> --></div></div><div style="display: block; clear: both"><div class="table-responsive booking-table hotel-profile-table"><table class="table table-bordered table-middle"><thead><tr><th width="14%">{{\'global.menu.account.profiles.code\' | translate}}</th><th width="15%">{{\'global.menu.hotel\' | translate}}</th><th width="15%">{{\'global.menu.account.profiles.add\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.checkin\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.checkout\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.status\' | translate}}</th><th width="10%">{{\'global.menu.account.profiles.paymentstatus\' | translate}}</th><th width="20%"></th></tr></thead><tbody infinite-scroll="vm.nextHotelPage()" infinite-scroll-disabled="$ctrl.htlBusy || vm.hotelBookingOptions.page >= vm.hotelBookingOptions.links[\'last\']"><tr ng-repeat="item in vm.hotelBookings" id="{{\'htl\' + item.id}}"><td>{{item.bookingCode}}</td><td>{{item.fromLocationName}}</td><td>{{item.toLocationName}}</td><td>{{item.departureDate | momentdate}}</td><td>{{item.returnDate | momentdate}}</td><td><span class="label label-{{item.supplierBookingStatus | lowercase}}">{{item.supplierBookingStatus | capitalize}}</span></td><td><ng-switch on="item.paymentStatus != null"><span ng-switch-when="true" class="label label-{{item.paymentStatus | lowercase}}">{{item.paymentStatus | capitalize}}</span></ng-switch></td><td class="action-buttons"><div class="button-actions btn-group flex-btn-group-container"><button ng-click="vm.viewHotelItem(item)" class="btn btn-default">Chi tiết</button> <button ng-click="vm.openDeleteHotelBooking(item)" class="btn btn-danger">Xóa</button><!-- <div ng-click="vm.viewAirItem(item)">\n                                                                                <span class="fa fa-eye"></span>\n                                                                            </div>&nbsp\n                                                                            <div ng-click="vm.openDeleteAirBooking(item)">\n                                                                                <span class="fa fa-trash-o"></span>\n                                                                            </div> --></div></td><!-- <td class="text-center">\n                                                                        <div class="button-actions btn-group flex-btn-group-container">\n                                                                            <div ng-click="vm.viewHotelItem(item)">\n                                                                                <span class="fa fa-eye"></span>\n                                                                            </div>&nbsp;\n                                                                            <div ng-click="vm.openDeleteHotelBooking(item)">\n                                                                                <span class="fa fa-trash-o"></span>\n                                                                            </div>\n                                                                        </div>\n                                                                    </td> --></tr><!-- <tr>\n                                                                    <td colspan="7">\n                                                                        <a class="text-color3"\n                                                                           ng-click="vm.openDeleteHotelBooking(null, true)"\n                                                                        >{{\'global.menu.account.profiles.del-history\' | translate}}</a>\n                                                                    </td>\n                                                                </tr> --><tr></tr></tbody></table><a class="text-color3" ng-click="vm.openDeleteHotelBooking(null, true)">{{\'global.menu.account.profiles.del-history\' | translate}}</a></div></div></div></div></div></div></div><!-- END INVOICE INFO --></div><!-- END Action button ->\n                            </div>\n                        </div>\n                    </div>\n                    <!-- END PROFILE CONTENT --></div></div></div><!-- END PAGE CONTENT INNER --></div></div></div>'),
                e.put("app/account/profile/card/profile.card.delete.html", '<div class="portlet delete-card-dialog light no-border"><div class="portlet-title"><div class="caption"><span class="caption-subject bold text-gtd-3 uppercase">Xoá thẻ thanh toán</span></div></div><div class="portlet-body"><div class="content"><span>Bạn đang thực hiện xoá thẻ <span class="text-gtd-3">{{vm.cardNumbers}}</span>. Nhấn <span class="bold">Đồng ý</span> để hoàn tất.</span></div><div class="buttons-actions"><div class="btn btn-green" ng-click="vm.submit()"><span class="fa fa-trash"></span><span class="uppercase"> Đồng ý</span></div><div class="btn btn-grey" ng-click="vm.cancel()"><span class="uppercase">Huỷ</span></div></div></div></div>'), e.put("app/account/profile/card/profile.card.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner gtd-profile-form"><div class="row"><div class="col-md-12"><!-- BEGIN PROFILE SIDEBAR --><div class="profile-sidebar"><!-- PORTLET MAIN --><gtd-profile-menu profile-model="vm.profileModel"></gtd-profile-menu><!-- END PORTLET MAIN --></div><!-- END BEGIN PROFILE SIDEBAR --><!-- BEGIN PROFILE CONTENT --><div class="profile-content"><div class="row"><div class="col-md-12"><!-- USER INFO --><div class="portlet new-gtd-porlet-light"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase">Quản lý thẻ</span></div></div><div class="portlet-body"><form role="form" name="cardForm" class="card-form" novalidate style="margin-top: 10px"><div class="card-zone-wrapper"><div class="col-md-6 col-lg-4 no-padding-left" ng-repeat="item in vm.creditCards"><div class="inline-block"><input type="checkbox" name="itemchecked" required ng-model="item.checked"></div><div class="card-item inline-table"><div class="card-detail-zone inline-block"><!--<div class="card-close hand"><span class="fa fa-times"/> </div>--><div class="text-bold inline-block">{{item.type}}</div><div class="inline-block"><div>{{item.cardNumber | cc}}</div><div class="uppercase">{{item.fullName}}</div><div class="last-line">Hết hạn {{item.expireMonth}}/{{item.expireYear}}</div></div></div><div class="inline-block card-icon"><img class="inline-block" ng-src="{{\'../../../../content/images/card-\' + item.type + \'.png\'}}"></div></div></div></div><div class="no-result" ng-show="vm.creditCards.length == 0">Chưa có thẻ nào</div><div class="row-seperator-15"></div><div class="row static-info" ng-click="$ctrl.edit()"><div class="col-sm-12"><div class="unselect-text hand color inline-block" ng-click="vm.openDeleteCards()" ng-show="vm.creditCards.length > 0">Xoá thẻ</div><div class="btn btn-green inline-block" style="float:right; margin-right: 15px" ng-click="vm.openAddNewCard()"><span class="fa fa-plus-circle"></span> Thêm thẻ thanh toán</div></div></div></form></div></div><!-- END INVOICE INFO --></div><!-- END Action button ->\n                        </div>\n                    </div>\n                </div>\n                <!-- END PROFILE CONTENT --></div></div></div><!-- END PAGE CONTENT INNER --></div></div></div>'), e.put("app/account/profile/card/profile.card.new.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner gtd-profile-form"><div class="row"><div class="col-md-12"><!-- BEGIN PROFILE SIDEBAR --><div class="profile-sidebar"><!-- PORTLET MAIN --><gtd-profile-menu profile-model="vm.profileModel"></gtd-profile-menu><!-- END PORTLET MAIN --></div><!-- END BEGIN PROFILE SIDEBAR --><!-- BEGIN PROFILE CONTENT --><div class="profile-content"><div class="row"><div class="col-md-12"><!-- USER INFO --><div class="portlet light"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase">Thêm thẻ thanh toán</span></div></div><div class="portlet-body"><form role="form" name="cardForm" novalidate><div class="form-body"><div class="col-sm-12 no-padding-left"><div class="form-group col-sm-6 no-padding-left"><div class="col-sm-12 no-padding-left"><span>Nhập số thẻ mới </span><span><img src="../../../../content/images/card-VISA-13ff010731.png"> <img src="../../../../content/images/card-MASTER-e095e0dc43.png"> <img src="../../../../content/images/card-JCB-f818ec1661.png"></span></div><div class="col-sm-9 no-padding-left margin-top-15"><input type="text" class="form-control" name="cardNumber" placeholder="Số thẻ" ng-model="vm.cardModel.cardNumber" cc-number ng-maxlength="40" ng-pattern="/^[0-9]{1,40}$/" required><div class="error" ng-show="(cardForm.$submitted || cardForm.cardNumber.$touched) && cardForm.cardNumber.$invalid"><p class="help-block" ng-show="cardForm.cardNumber.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.cardNumber.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="40"></p><p class="help-block" ng-show="cardForm.cardNumber.$error.ccNumberType" data-translate="entity.validation.card"></p></div></div><div class="col-sm-3 no-padding-left margin-top-15"><input type="text" class="form-control" name="cvNumber" placeholder="CVV" ng-model="vm.cardModel.cvNumber" ng-pattern="/^[0-9]/" ng-minlength="3" ng-maxlength="3" cc-cvc required><div class="error" ng-show="(cardForm.$submitted || cardForm.cvNumber.$touched) && cardForm.cvNumber.$invalid"><p class="help-block" ng-show="cardForm.cvNumber.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="!cardForm.cvNumber.$error.required" data-translate="entity.validation.format"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="Tên in trên thẻ" name="fullName" ng-model="vm.cardModel.fullName" ng-maxlength="240" gtd-no-special-char required><div class="error" ng-show="(cardForm.$submitted || cardForm.fullName.$touched) && cardForm.fullName.$invalid"><p class="help-block" ng-show="cardForm.fullName.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.fullName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-6 no-padding-left margin-top-15"><input type="number" class="form-control" placeholder="Tháng" name="expireMonth" ng-model="vm.cardModel.expireMonth" min="1" max="12" ng-pattern="/^[0-9]/" required><div class="error" ng-show="(cardForm.$submitted || cardForm.expireMonth.$touched) && cardForm.expireMonth.$invalid"><p class="help-block" ng-show="cardForm.expireMonth.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="!cardForm.expireMonth.$error.required" data-translate="entity.validation.format"></p></div></div><div class="col-sm-6 no-padding-left margin-top-15"><input type="number" class="form-control" placeholder="Năm" name="expireYear" ng-model="vm.cardModel.expireYear" min="{{vm.currentYear}}" max="{{vm.maxYear}}" ng-pattern="/^[0-9]/" required><div class="error" ng-show="(cardForm.$submitted || cardForm.expireYear.$touched) && cardForm.expireYear.$invalid"><p class="help-block" ng-show="cardForm.expireYear.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="!cardForm.expireYear.$error.required" data-translate="entity.validation.format"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15"><span>Billing Address </span><span class="text-color4">*</span></div><div class="col-sm-6 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="Họ" name="firstName" ng-maxlength="240" ng-model="vm.cardModel.firstName" required><div class="error" ng-show="(cardForm.$submitted || cardForm.firstName.$touched) && cardForm.firstName.$invalid"><p class="help-block" ng-show="cardForm.firstName.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.firstName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-6 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="Tên" name="lastName" ng-maxlength="240" ng-model="vm.cardModel.lastName" required><div class="error" ng-show="(cardForm.$submitted || cardForm.lastName.$touched) && cardForm.lastName.$invalid"><p class="help-block" ng-show="cardForm.lastName.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.lastName.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="Địa chỉ" ng-model="vm.cardModel.address" ng-maxlength="240" name="address" required><div class="error" ng-show="(cardForm.$submitted || cardForm.address.$touched) && cardForm.address.$invalid"><p class="help-block" ng-show="cardForm.address.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.address.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15"><select class="form-control" placeholder="Quốc gia" name="country" ng-model="vm.cardModel.country" required><option ng-repeat="country in vm.allCountries" value="{{country.code}}">{{country.name}}</option></select><div class="error" ng-show="(cardForm.$submitted || cardForm.country.$touched) && cardForm.country.$invalid"><p class="help-block" ng-show="cardForm.country.$error.required" data-translate="entity.validation.required"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="Thành phố" name="city" ng-model="vm.cardModel.city" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.city.$touched) && cardForm.city.$invalid"><p class="help-block" ng-show="cardForm.city.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.state.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="State" name="state" ng-model="vm.cardModel.state" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.state.$touched) && cardForm.state.$invalid"><p class="help-block" ng-show="cardForm.state.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.state.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="Postal Code" name="postalCode" ng-model="vm.cardModel.postalCode" ng-maxlength="240" required><div class="error" ng-show="(cardForm.$submitted || cardForm.postalCode.$touched) && cardForm.postalCode.$invalid"><p class="help-block" ng-show="cardForm.postalCode.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.postalCode.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="240"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="Email" name="email" ng-model="vm.cardModel.email" ng-maxlength="120" gtd-email required><div class="error" ng-show="(cardForm.$submitted || cardForm.email.$touched) && cardForm.email.$invalid"><p class="help-block" ng-show="cardForm.email.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.email.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="120"></p><p class="help-block" ng-show="cardForm.email.$error.email" data-translate="entity.validation.email"></p><p class="help-block" ng-show="cardForm.email.$error.emailValidator" data-translate="entity.validation.email"></p></div></div><div class="col-sm-12 no-padding-left margin-top-15"><input type="text" class="form-control" placeholder="Điện thoại" name="phoneNumber" ng-model="vm.cardModel.phoneNumber" gtd-phone required><div class="error" ng-show="(cardForm.$submitted || cardForm.phoneNumber.$touched) && cardForm.phoneNumber.$invalid"><p class="help-block" ng-show="cardForm.phoneNumber.$error.required" data-translate="entity.validation.required"></p><p class="help-block" ng-show="cardForm.phoneNumber.$error.maxlength" data-translate="entity.validation.maxlength" translate-value-max="20"></p><p class="help-block" ng-show="cardForm.phoneNumber.$error.phoneValidator" data-translate="entity.validation.phoneValidator"></p></div></div></div><div class="form-group col-sm-6"><img src="../../../../content/images/cardccv-1efa54b839.png"></div></div><div class="form-actions right"><button type="submit" class="btn btn-green gtd-btn-medium" ng-click="vm.save(cardForm)">Lưu</button> <button type="button" class="btn btn-grey gtd-btn-medium" ng-click="vm.cancel()">Huỷ</button></div></div></form></div><!-- END INVOICE INFO --></div><!-- END Action button ->\n                    </div>\n                </div>\n            </div>\n            <!-- END PROFILE CONTENT --></div></div></div><!-- END PAGE CONTENT INNER --></div></div></div></div>'), e.put("app/account/profile/traveller/profile.traveller.delete.html", '<div class="portlet delete-card-dialog light no-border"><div class="portlet-title"><div class="caption"><span class="caption-subject bold text-gtd-3 uppercase">Xoá hành khách</span></div></div><div class="portlet-body"><div class="content"><span>Bạn đang thực hiện xoá hành khách <span class="text-gtd-3">{{vm.travellerNames}}</span>. Nhấn <span class="bold">Đồng ý</span> để hoàn tất.</span></div><div class="buttons-actions"><div class="btn btn-green" ng-click="vm.submit()"><span class="fa fa-trash"></span><span class="uppercase"> Đồng ý</span></div><div class="btn btn-grey" ng-click="vm.cancel()"><span class="uppercase">Huỷ</span></div></div></div></div>'), e.put("app/account/profile/traveller/profile.traveller.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner gtd-profile-form"><div class="row"><div class="col-md-12"><!-- BEGIN PROFILE SIDEBAR --><div class="profile-sidebar"><!-- PORTLET MAIN --><gtd-profile-menu profile-model="vm.profileModel"></gtd-profile-menu><!-- END PORTLET MAIN --></div><!-- END BEGIN PROFILE SIDEBAR --><!-- BEGIN PROFILE CONTENT --><div class="profile-content"><div class="row"><div class="col-md-12"><!-- USER INFO --><div class="portlet new-gtd-porlet-light"><div class="portlet-title"><div class="caption"><span class="caption-subject font-dark bold uppercase">Danh sách hành khách đã lưu</span></div></div><div class="portlet-body"><div class="table-responsive traveller-table" style="margin-top: 10px"><table class="table table-bordered fixed" style="margin-bottom: 0px;border-bottom: 0px"><thead><tr><th width="15%" data-translate="global.menu.account.profiles.gender">Giới tính</th><th width="15%" data-translate="global.menu.account.profiles.lastname">Họ</th><th width="20%" data-translate="global.menu.account.profiles.mid-name">Tên đệm & Tên</th><th width="15%" data-translate="global.menu.account.profiles.dateofbirth">Ngày sinh</th><th width="20%">Email</th><th width="15%"></th></tr></thead><tbody><tr ng-repeat="item in vm.customerTravellers"><td width="21%" style="width: 300px"><div class="button-actions btn-group flex-btn-group-container"><label class="mt-checkbox" ng-show="vm.profileModel.defaultTravellerId != item.id">{{item.gender + \'_1\' | lookupt :\'ota_customer\':\'passenger_gender\' | translate}} <input type="checkbox" name="itemchecked" required ng-model="item.checked"> <span></span></label><label style="padding-left: 30px" ng-show="vm.profileModel.defaultTravellerId == item.id">{{item.gender | lookupt :\'ota_customer\':\'passenger_gender\' | translate}}</label></div></td><td width="12%">{{item.surName}}</td><td width="20%">{{item.firstName}}</td><td width="15%">{{item.dob | momentdate }}</td><td width="17%">{{item.email}}</td><td width="15%" class="text-center"><div class="button-actions btn-group flex-btn-group-container"><div ng-click="vm.editItem(item)"><span class="fa fa-pencil-square-o"></span></div>&nbsp<div ng-click="vm.viewItem(item)"><span class="fa fa-eye"></span></div>&nbsp<div ng-click="vm.openDeleteTraveller(item, false)" ng-show="vm.profileModel.defaultTravellerId != item.id"><span class="fa fa-trash-o"></span></div></div></td></tr><tr><td colspan="6"><a class="text-color3 text-underlined" ng-click="vm.openDeleteTraveller(null, true)" data-translate="global.menu.account.profiles.deletepassenger">Xóa khách đã chọn</a><div class="btn btn-green inline-block" style="float:right; margin-right: 15px" ng-click="vm.openAddNewTraveller()"><span class="fa fa-plus-circle" data-translate="global.menu.account.profiles.addpassenger">Thêm hành khách</span></div></td></tr><tr></tr></tbody></table></div><div class="pagination-section"><!--<uib-pagination total-items="vm.totalItems" ng-model="vm.page" ng-change="vm.transition()"--><!--class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"--><!--&gt;</uib-pagination>--><ul uib-pagination class="pagination-sm" max-size="5" items-per-page="10" total-items="vm.totalItems" ng-model="vm.page" ng-change="vm.pageChanged()"></ul></div></div></div><!-- END INVOICE INFO --></div><!-- END Action button ->\n                        </div>\n                    </div>\n                </div>\n                <!-- END PROFILE CONTENT --></div></div></div><!-- END PAGE CONTENT INNER --></div></div></div>'), e.put("app/account/profile/traveller/profile.traveller.new.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner gtd-profile-form"><div class="row"><div class="col-md-12"><!-- BEGIN PROFILE SIDEBAR --><div class="profile-sidebar"><!-- PORTLET MAIN --><gtd-profile-menu profile-model="vm.profileModel"></gtd-profile-menu><!-- END PORTLET MAIN --></div><!-- END BEGIN PROFILE SIDEBAR --><!-- BEGIN PROFILE CONTENT --><div class="profile-content"><div class="row"><form role="form" name="profiletravellerform" novalidate><div class="col-md-12"><!-- USER INFO --><gtd-profile-user-info profile-model="vm.profileModel"></gtd-profile-user-info><!-- END USER INFO --><!-- DOC INFO --><gtd-profile-doc-info profile-model="vm.profileModel"></gtd-profile-doc-info><!-- END DOC INFO --><!-- Action button --><div ng-show="vm.profileModel.mode == \'edit\'"><button class="btn gtd-btn-default gtd-btn-small btn-green" type="submit" ng-click="vm.saveUserInfo(profiletravellerform)"><span class="uppercase ng-scope">Lưu</span></button> <button class="btn gtd-btn-default gtd-btn-small btn-grey-em" type="button" ng-click="vm.cancel()"><span class="uppercase ng-scope">Huỷ</span></button></div><div ng-show="vm.profileModel.mode == \'view\'"><button class="btn gtd-btn-default btn-green" type="button" ng-click="vm.profileModel.mode = \'edit\'"><span class="uppercase ng-scope">Chỉnh sửa</span></button> <button class="btn gtd-btn-default gtd-btn-small btn-grey-em" type="button" ng-click="vm.cancel()"><span class="uppercase ng-scope">Trở lại</span></button></div><!-- END Action button ->\n                            </div>\n                        </div>\n                    </div>\n                    <!-- END PROFILE CONTENT --></div></form></div></div><!-- END PAGE CONTENT INNER --></div></div></div></div>'), e.put("app/account/reset/finish/reset.finish.html", '<div><div class="row"><div class="col-md-4 col-md-offset-2"><h2 data-translate="reset.finish.title">Reset password</h2><div class="alert alert-danger" data-translate="reset.finish.messages.keymissing" ng-show="vm.keyMissing"><strong>The password reset key is missing.</strong></div><div class="" ng-hide="vm.success || vm.keyMissing"><p data-translate="reset.finish.messages.info">Choose a new password</p></div><div class="alert alert-danger" ng-show="vm.error"><p data-translate="reset.finish.messages.error">Your password couldn\'t be reset. Remember a password request is only valid for 24 hours.</p></div><div class="" ng-show="vm.success"><p><!--<div>--> Hệ thống đã cập nhật mật khẩu thành công cho tài khoản quản lý dịch vụ của Quý khách tại Gotadi.com. Quý khách có thể thực hiện đăng nhập vào hệ thống tại <a class="gtd-text-color3" href="" ng-click="vm.login()">đây.</a><!--</div>--></p><div>Hân hạnh được phục vụ Quý khách.</div><div>Trân trọng,</div><div>Gotadi.</div></div><div class="alert alert-danger" ng-show="vm.doNotMatch" data-translate="global.messages.error.dontmatch">The password and its confirmation do not match!</div><div ng-hide="vm.keyMissing"><form ng-show="!vm.success" name="form" role="form" novalidate ng-submit="vm.finishReset()" show-validation><div class="form-group"><label class="control-label" for="password" data-translate="global.form.newpassword">New password</label><input type="password" class="form-control" id="password" name="password" placeholder="{{\'global.form.newpassword.placeholder\' | translate}}" ng-model="vm.resetAccount.password" ng-minlength="8" ng-maxlength="50" ng-pattern="vm.passwordpattern" required><div ng-show="form.password.$dirty && form.password.$invalid"><p class="help-block" ng-show="form.password.$error.required" data-translate="global.messages.validate.newpassword.required">Your password is required.</p><p class="help-block" ng-show="form.password.$error.minlength" data-translate="global.messages.validate.newpassword.minlength">Your password is required to be at least 8 characters.</p><p class="help-block" ng-show="form.password.$error.maxlength" data-translate="global.messages.validate.newpassword.maxlength">Your password cannot be longer than 50 characters.</p><p class="help-block" ng-show="form.password.$error.pattern && !form.password.$error.minlength" data-translate="global.messages.validate.newpassword.pattern">Your password must contain at least 1 character & 1 number.</p></div><password-strength-bar password-to-check="vm.resetAccount.password"></password-strength-bar></div><div class="form-group"><label class="control-label" for="confirmPassword" data-translate="global.form.confirmpassword">New password confirmation</label><input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="{{\'global.form.confirmpassword.placeholder\' | translate}}" ng-model="vm.confirmPassword" ng-minlength="8" ng-maxlength="50" ng-pattern="vm.passwordpattern" required><div ng-show="form.confirmPassword.$dirty && form.confirmPassword.$invalid"><p class="help-block" ng-show="form.confirmPassword.$error.required" data-translate="global.messages.validate.confirmpassword.required">Your password confirmation is required.</p><p class="help-block" ng-show="form.confirmPassword.$error.minlength" data-translate="global.messages.validate.confirmpassword.minlength">Your password confirmation is required to be at least 8 characters.</p><p class="help-block" ng-show="form.confirmPassword.$error.maxlength" data-translate="global.messages.validate.confirmpassword.maxlength">Your password confirmation cannot be longer than 50 characters.</p><p class="help-block" ng-show="form.confirmPassword.$error.pattern && !form.confirmPassword.$error.minlength" data-translate="global.messages.validate.newpassword.pattern">Your password must contain at least 1 character & 1 number.</p></div></div><button type="submit" ng-disabled="form.$invalid" class="btn btn-green-em gtd-btn-medium margin-bottom-30" data-translate="reset.finish.form.button">Reset Password</button></form></div></div></div></div>'), e.put("app/account/reset/request/reset.request.html", '<div class="container"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="row"><div class="col-md-8 col-md-offset-2 gtd-form"><div class="form-title" data-translate="reset.request.title" ng-show="vm.success != \'OK\'">Reset your password</div><div class="form-title" ng-show="vm.success == \'OK\'">Mật khẩu mới đã được gửi đến email của bạn</div><div class="alert alert-danger" data-translate="reset.request.messages.notfound" ng-show="vm.errorEmailNotExists"><strong>E-Mail address isn\'t registered!</strong> Please check and try again.</div><div class="" ng-hide="vm.success"><p data-translate="reset.request.messages.info">Enter the e-mail address you used to register.</p></div><div class="" ng-show="vm.success == \'OK\'"><p>Chúng tôi đã gửi một email đến <span class="text-color3">{{vm.resetAccount.email}}</span> với một liên kết để đặt lại mật khẩu của bạn.<br>Nếu bạn có thắc mác nào về Gotadi.com, xin vui lòng liên hệ bộ phận Chăm sóc khách hàng của Gotadi với <b>Hotline 1900 9002</b></p><p>Chưa nhận được email. <span class="hand text-color3 text-underlined" ng-click="vm.refreshPage()">Click</span></p></div><form ng-show="!vm.success" name="form" role="form" novalidate ng-submit="vm.requestReset()" show-validation><div class="form-group"><label class="control-label" for="email" data-translate="global.form.email">E-mail</label><input type="email" gtd-email class="form-control" id="email" name="email" placeholder="{{\'global.form.email.placeholder\' | translate}}" ng-model="vm.resetAccount.email" ng-minlength="5" ng-maxlength="100" required><div ng-show="form.email.$dirty && form.email.$invalid"><p class="help-block" ng-show="form.email.$error.required" data-translate="global.messages.validate.email.required">Your e-mail is required.</p><p class="help-block" ng-show="form.email.$error.email || form.email.$error.emailValidator" data-translate="global.messages.validate.email.invalid">Your e-mail is invalid.</p><p class="help-block" ng-show="form.email.$error.minlength" data-translate="global.messages.validate.email.minlength">Your e-mail is required to be at least 5 characters.</p><p class="help-block" ng-show="form.email.$error.maxlength" data-translate="global.messages.validate.email.maxlength">Your e-mail cannot be longer than 100 characters.</p></div></div><button type="submit" ng-disabled="form.$invalid" class="btn btn-green-em gtd-btn-medium" data-translate="reset.request.form.button">Reset</button></form></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/account/social/directive/social.html", '<form action="{{ providerURL }}" method="POST"><button type="submit" class="connectButton btn btn-block jh-btn-social jh-btn-{{ provider }}" style="max-width: 220px"><span class="fa fa-facebook" ng-show="label === \'Facebook\'" style="margin-right: 5px"></span> <span class="fa fa-google-plus" ng-show="label === \'Google\'" style="margin-right: 5px"></span> <span data-translate="social.btnLabel" translate-values="{ label: label }">Sign in with {{ label }}</span></button> <input name="scope" type="hidden" value="{{ providerSetting }}"> <input name="_csrf" type="hidden" value="{{ csrf }}"></form>'), e.put("app/components/flight/home/flight-home-search-header.html", '<div class="mainFormSearch"><div class="flight-home-search-header portlet light"><div class="tabSelect" ng-if="!$ctrl.isSignleLayout"><ul class="nav nav-tab"><li class="item plane active"><a href="#flight" data-toggle="tab" aria-expanded="true" id="flight_tab"><span data-translate="home.flight">Vé máy bay</span></a></li><li class="item hotel"><a href="#hotel" data-toggle="tab" aria-expanded="false" id="hotel_tab">{{\'home.hotel\' | translate}}</a></li></ul></div><div class="porlet-body form"><form role="form" name="airSearchForm" novalidate><input type="hidden" ng-model="$ctrl.searchOptions.page"> <input type="hidden" ng-model="$ctrl.searchOptions.size"><div class="form-body"><div class="groupItem"><div class="row"><div class="col-sm-6 col-xs-6 flight-header-line"><div class="dtype-flights"><div class="item-flights"><input type="radio" id="dtype2" name="dtype" ng-model="$ctrl.searchOptions.dtype" value="domestic" ng-click="$ctrl.switchDtype();"><label id="domestic" for="dtype2"><span data-translate="home.Domestic">Nội Địa</span></label></div><div class="item-flights" ng-if="$ctrl.checkShowInternationalFlight()"><input type="radio" id="dtype1" name="dtype" value="international" ng-model="$ctrl.searchOptions.dtype" ng-click="$ctrl.switchDtype();"><label id="international" for="dtype1"><span data-translate="home.inter">Quốc tế</span></label></div></div></div><div class="col-sm-6 col-xs-6 radio-flights"><div class="selectTypeFlight" ng-init="$ctrl.searchOptions.searchType=\'oneway\'"><div class="item-flights"><input type="radio" id="radio1" name="radios" value="oneway" ng-model="$ctrl.searchOptions.searchType"><label id="one-way" class="switch-roundtrip" for="radio1"><span data-translate="home.oneway">Một chiều</span></label></div><div class="item-flights"><input type="radio" id="radio2" name="radios" value="roundtrip" ng-model="$ctrl.searchOptions.searchType"><label id="round-trip" class="switch-roundtrip" for="radio2"><span data-translate="home.roundTrip">Khứ hồi</span></label></div></div></div></div></div><div class="groupItem groupItem2 selectFlight"><div class="row"><div class="col-sm-5 col-xs-6 item-location-flight"><div class="itemSelectD"><label><span class="labelSelect from" data-translate="home.from">Điểm đi</span></label><div class="input-icon"><i class="fa fa-map-marker"></i><select id="fromAirPort" name="fromAirPort" ng-model="$ctrl.searchOptions.fromAirPort" gtd-select2 gtd-search-options="$ctrl.searchOptions" gtd-direction="\'FROM\'" gtd-mode="$ctrl.searchOptions.dtype" required autocomplete="off" class="form-control fromAirPort select2" style="width: 100%" ng-if="$ctrl.searchOptions.dtype==\'domestic\'" data-placeholder="{{\'flight.plchdr.choosedepart\' | translate}}"></select><input type="text" placeholder="{{\'flight.plchdr.choosedepart\' | translate}}" ng-model="$ctrl.searchOptions.fromAirPort" class="fromAirPort form-control" uib-typeahead="o.code as (o.city + \' (\' + o.code  + \' - \' + o.name + \')\' + \', \' + o.country ) for o in $ctrl.searchAirports($viewValue, \'FROM\')" typeahead-input-formatter="$ctrl.formatLabel($model)" typeahead-loading="loadingLocations" typeahead-no-results="noResults" typeahead-editable="false" required autocomplete="off" ng-if="$ctrl.searchOptions.dtype!=\'domestic\'"></div></div></div><div class="col-sm-2 no-margin-bottom hidden-xs" ng-switch="$ctrl.searchOptions.dtype == \'domestic\'"><label class="display-none-sm">&nbsp;</label><span style="text-align: center" ng-switch-when="true"><a class="" gtd-swap-select2 gtd-from="fromAirPort" gtd-to="toAirPort" ng-if="!$ctrl.iOS"><div class="chuyenchuyen" valuechuyen="1"><img src="../../../content/images/switch-5a6c0eae78.png"></div></a></span><span style="text-align: center" ng-switch-when="false" ng-click="$ctrl.switchTypeAhead();" ng-if="!$ctrl.iOS"><a class="" gtd-from="fromAirPortInt" gtd-to="toAirPortInt"><div class="chuyenchuyen" valuechuyen="1"><img src="../../../content/images/switch-5a6c0eae78.png"></div></a></span><span style="text-align: center" ng-click="$ctrl.switchTypeAhead();" ng-if="$ctrl.iOS"><a class="" gtd-from="fromAirPortInt" gtd-to="toAirPortInt"><div class="chuyenchuyen" valuechuyen="1"><img src="../../../content/images/switch-5a6c0eae78.png"></div></a></span></div><div class="col-sm-5 col-xs-6 item-location-flight"><div class="itemSelectD"><label><span class="labelSelect to" data-translate="home.to">Điểm đến</span></label><div class="input-icon"><i class="fa fa-map-marker"></i><select id="toAirPort" name="toAirPort" ng-model="$ctrl.searchOptions.toAirPort" gtd-select2 gtd-search-options="$ctrl.searchOptions" gtd-direction="\'TO\'" gtd-mode="$ctrl.searchOptions.dtype" required autocomplete="off" class="form-control fromAirPort select2" style="width: 100%" ng-if="$ctrl.searchOptions.dtype==\'domestic\'" data-placeholder="{{\'flight.plchdr.choosereturn\' | translate}}"></select><input type="text" name="toAirPort" id="toAirPortInt" ng-model="$ctrl.searchOptions.toAirPort" placeholder="{{\'flight.plchdr.choosereturn\' | translate}}" uib-typeahead="o.code as (o.city + \' (\' + o.code  + \' - \' + o.name + \')\' + \', \' + o.country ) for o in $ctrl.searchAirports($viewValue, \'TO\')" typeahead-input-formatter="$ctrl.formatLabel($model)" typeahead-loading="loadingLocations" typeahead-no-results="noResults" typeahead-editable="false" ng-if="$ctrl.searchOptions.dtype!=\'domestic\'" required autocomplete="off" class="form-control toAirPort"></div></div></div></div></div><div class="groupItem groupItem2"><div class="selectDate"><div class="row"><div class="col-sm-6 col-xs-6 header-date-box-home"><div class="forName"><label><span data-translate="home.depart">Ngày đi</span></label></div><div class="input-icon"><div class="calendar-float-right" onclick="$(\'#departureDate_\').datepicker(\'show\');"><i class="fa fa-calendar fa-2x"></i></div><input id="departureDate_" class="form-control" size="16" type="text" value="" ng-model="$ctrl.searchOptions.departureDate" required readonly="readonly" gtd-dual-date-picker end-id="returnDate_" is-start="true"></div></div><div class="col-sm-6 col-xs-6 header-date-box-home"><div class="forName"><label><span data-translate="home.return">Ngày về</span></label></div><div class="input-icon" ng-show="$ctrl.searchOptions.searchType!=\'oneway\'"><div class="calendar-float-right" onclick="$(\'#returnDate_\').datepicker(\'show\');" ng-disabled="$ctrl.searchOptions.searchType==\'oneway\'"><i class="fa fa-calendar fa-2x"></i></div><input id="returnDate_" readonly="readonly" start-id="departureDate_" ng-disabled="$ctrl.searchOptions.searchType==\'oneway\'" class="form-control" size="16" type="text" value="" ng-model="$ctrl.searchOptions.returnDate" ng-required="!($ctrl.searchOptions.searchType==\'oneway\')" gtd-dual-date-picker></div></div></div></div></div><div class="groupItem groupItem2 tk-border"><div class="row" gtd-passenger-quantity gtd-adult-qtt="$ctrl.adultQtt" gtd-child-qtt="$ctrl.childQtt" gtd-infant-qtt="$ctrl.infantQtt" gtd-cur-adult-qtt="$ctrl.searchOptions.adultNo" gtd-cur-child-qtt="$ctrl.searchOptions.childrenNo" gtd-cur-infant-qtt="$ctrl.searchOptions.newBornNo" search-options="$ctrl.searchOptions" gtd-qtt="$ctrl.gtdQtt"><div class="col-sm-4 col-xs-4 colItemSelect"><div class="selectNumber adultSelect"><label class="icon-adult"><span data-translate="home.adults">Người lớn:</span></label><select class="form-control hide" id="fAdtQttIdx"><option value="{{item}}" ng-selected="$ctrl.searchOptions.adultNo==item" ng-repeat="item in $ctrl.adultQtt">{{item}} khách</option></select><div class="groupSelect" ng-model="$ctrl.searchOptions.adultNo" id="adultNo"><div class="btn-select reduced"><i class="fa fa-minus"></i></div><span class="numberItem">{{$ctrl.searchOptions.adultNo}}</span><div class="btn-select increase"><i class="fa fa-plus"></i></div></div></div></div><div class="col-sm-4 col-xs-4 colItemSelect"><div class="selectNumber childrenSelect"><label class="icon-children"><span data-translate="home.childrens">Trẻ em</span><old-s>(2 - 12 <span data-translate="home.yrs">Tuổi</span> )</old-s></label><select class="form-control hide" id="fChdQttIdx"><option value="{{item}}" ng-selected="$ctrl.searchOptions.childrenNo==item" ng-repeat="item in $ctrl.childQtt">{{item}} khách</option></select><div class="groupSelect" ng-model="$ctrl.searchOptions.childrenNo" id="childrenNo"><div class="btn-select reduced"><i class="fa fa-minus"></i></div><span class="numberItem">{{$ctrl.searchOptions.childrenNo}}</span><div class="btn-select increase"><i class="fa fa-plus"></i></div></div></div></div><div class="col-sm-4 col-xs-4 colItemSelect"><div class="selectNumber infSelect"><label class="icon-baby"><span data-translate="home.infants">Em bé</span><old-s>(&#x3C;2 <span data-translate="home.yrs">Tuổi</span> )</old-s></label><select class="form-control hide" id="fInfQttIdx"><option value="{{item}}" ng-selected="$ctrl.searchOptions.newBornNo==item" ng-repeat="item in $ctrl.infantQtt">{{item}} khách</option></select><div class="groupSelect" id="newBornNo"><div class="btn-select reduced"><i class="fa fa-minus"></i></div><span class="numberItem">{{$ctrl.searchOptions.newBornNo}}</span><div class="btn-select increase"><i class="fa fa-plus"></i></div></div></div></div></div></div><div class="groupItem groupItem2" ng-if="!($ctrl.searchOptions.dtype == \'international\')" style="overflow: hidden"><div class="airlines"><ul class="select-airlines"><li class="VJ" ng-click="selectAirline(\'VJ\')"><div class="checkbox-btn checked"><input type="checkbox" class="itemAirline" value="vietjet" id="vietjet" name="search_airline[]" class="img-fluid" checked="checked"><div class="itemAirline" for="vietjet"><img src="content/images/vietjet-4ead77cfeb.svg" alt="Vietjet Airlines" style="height:18px" class="img-fluid"></div></div></li><li class="VN" ng-click="selectAirline(\'VN\')"><div class="checkbox-btn checked"><input type="checkbox" class="itemAirline" value="vna" id="vna" name="search_airline[]" checked="checked"><div class="itemAirline" for="vna"><img src="content/images/VN-b907117ac7.png" alt="VietNam Airlines" style="height:18px" class="img-fluid vna"></div></div></li><li class="QH" ng-click="selectAirline(\'QH\')"><div class="checkbox-btn checked"><input type="checkbox" class="itemAirline" value="bamboo" id="bamboo" name="search_airline[]" checked="checked"><div class="itemAirline" for="vna"><img src="content/images/QH-34ee27f96b.gif" alt="Bamboo Airlines" style="height:25px" class="img-fluid"></div></div></li></ul><script type="text/javascript">$(\'.select-airlines .checkbox-btn\').on(\'click\', function(){\n\t\t\t\t\t\t\t\t\t\tif($(this).hasClass("checked")) {\n\t\t\t\t\t\t\t\t\t\t\t$(this).removeClass("checked");\n\t\t\t\t\t\t\t\t\t\t\t$(this).find(\'input\').prop(\'checked\', false);\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t$(this).addClass("checked");\n\t\t\t\t\t\t\t\t\t\t\t$(this).find(\'input\').prop(\'checked\', true);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});</script></div></div><div class="button-zone button-zone-flight history-button-zone"><button class="btn gtd-btn-default gtd-btn-large" type="submit" ng-click="$ctrl.doSearchImpl()" ng-disabled="airSearchForm.$invalid"><span class="uppercase fa fa-search"></span> <span class="uppercase btnSearch" data-translate="home.find">Tìm chuyến bay</span></button></div><div class="btn-account" ng-if="!$ctrl.liteEmbed"><div class="button-zone button-zone-flight history-button-zone"><a ui-sref="user-profile-booking" class="btn">Quản lý booking <i class="fa fa-ellipsis-v"></i></a></div></div></div></form></div></div></div>'),
                e.put("app/components/hotel/home/hotel-home-search-header.html", '<script type="text/ng-template" id="customTemplate.html"><a>\n        <span class="fa fa-h-square" ng-if="match.model.type==\'HOTEL\'"></span>\n        <span class="fa fa-location-arrow" ng-if="match.model.type==\'DESTINATION\'"></span>\n        <span ng-bind-html="match.label | uibTypeaheadHighlight:query"></span>\n        <span ng-if="match.model.famous">\n            <button type="button" class="btn btn-default btn-xs btn-info">{{\'hotel.search.result.popular\' | translate}}</button>\n        </span>\n    </a></script><div class="mainFormSearch"><div class="hotel-home-search-header hotel-home-search-header-custom portlet light"><div class="tabSelect" ng-if="!$ctrl.isSignleLayout"><ul class="nav nav-tab"><li class="item plane"><a href="#flight" data-toggle="tab" aria-expanded="false"><span data-translate="home.flight">Vé máy bay</span></a></li><li class="item hotel active"><a href="#hotel" data-toggle="tab" aria-expanded="true">{{\'home.hotel\' | translate }}</a></li></ul></div><div class="porlet-body form"><form role="form" name="hotelSearchForm" novalidate><div class="form-body"><div class="groupItem selectHotel"><label><span class="labelSelect" data-translate="hotel.search.header.name">Điểm đến/ Tên khách sạn</span></label><div class="input-icon input-icon-buttom-hotel"><input type="text" class="form-control" ng-model="$ctrl.searchOptions.hotelSearchFilter.hotel_code" uib-typeahead="o.code as (o.name) for o in $ctrl.searchDestinations($viewValue)" typeahead-input-formatter="$ctrl.formatLabel($model)" typeahead-loading="loadingDestinations" typeahead-no-results="noResults" typeahead-editable="false" typeahead-template-url="customTemplate.html" ng-click="$ctrl.onFocusInputName()" ng-blur="$ctrl.onBlurInputName()" typeahead-on-select="$ctrl.typeAHeadOnSelect($item, $model, $label, $event)" required autocomplete="off" placeholder="{{\'hotel.plchdr.chooseplace\' | translate}}"><div ng-if="loadingDestinations" class="hotel-ghost-loading hotel-border-radius"><div class="wrapper"><div class="wrapper-cell"><div class="text"><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div><div class="text-line"></div></div></div></div></div></div></div><div class="groupItem groupItem-hotel"><div class="selectDate"><div class="row"><div class="col-sm-6 col-xs-6 header-date-box-home"><div class="forName"><label data-translate="hotel.search.header.checkindate"></label></div><div class="input-icon"><div class="iconDateTime" onclick="$(\'#checkindate\').datepicker(\'show\');"></div><input id="checkindate" class="form-control" size="16" type="text" gtd-dual-date-picker end-id="checkoutdate" is-start="true" max-date="hotel" min-date="hotel" readonly="readonly" required ng-model="$ctrl.searchOptions.hotelSearchFilter.checkin_date"></div></div><div class="col-sm-6 col-xs-6 header-date-box-home"><div class="forName"><label data-translate="hotel.search.header.checkoutdate"></label></div><div class="input-icon"><div class="iconDateTime" onclick="$(\'#checkoutdate\').datepicker(\'show\');"></div><input id="checkoutdate" class="form-control" size="16" type="text" gtd-dual-date-picker start-id="checkindate" readonly="readonly" required min-date="hotel" max-date="hotel" ng-model="$ctrl.searchOptions.hotelSearchFilter.checkout_date"></div></div></div></div></div><div class="groupItem groupItem-hotel"><div class="selectNumber label-outline grey padding-5" ng-click="$ctrl.openChooseRoomDetail();"><label class="numbRoom">{{\'hotel.search.header.room\' | translate}} &nbsp; <strong>{{$ctrl.paxDetail.roomQuantity}}</strong></label><label class="icon-adult">{{\'hotel.search.header.adult\' | translate}} &nbsp; <strong>{{$ctrl.paxDetail.adultQuantity}}</strong></label><label class="icon-children">{{\'hotel.search.header.children \'| translate}} &nbsp; <strong>{{$ctrl.paxDetail.childQuantity}}</strong></label><span class="fa fa-pencil-square-o pull-right padding-top-5"></span></div></div><div class="groupItem2 groupItem2-buttom" style="overflow: hidden"><div class="button-zone"><button class="btn gtd-btn-default gtd-btn-large" type="submit" ng-click="$ctrl.doSearchImpl()" ng-disabled="hotelSearchForm.$invalid"><span class="uppercase fa fa-search"></span> <span class="" data-translate="hotel.search.home.find">Tìm khách sạn</span></button></div></div><div class="btn-account" ng-if="!$ctrl.liteEmbed"><div class="button-zone button-zone-flight history-button-zone"><a ui-sref="user-profile-booking" class="btn">Quản lý booking <i class="fa fa-ellipsis-v"></i></a></div></div></div></form></div></div></div>'), e.put("app/mobile/flights/booking/mobile.booking.result.html", "<div>Thanh toán thành công</div>"), e.put("app/mobile/flights/booking/mobile.flights.booking.payment.3d.auth.external.html", '<!--<div class="modal-header">--><!--<h3 class="modal-title">--><!--<div class="btn btn-primary">Close</div>--><!--</h3>--><!--</div>--><div class="modal-content" width="800px" height="630px"><div class="modal-body-video"><div>Please wait while we process your request. Do not click the Back button or refresh the page. Otherwise, this transaction may be interrupted.</div><form id="newibe_PAEnrollForm_form" name="PAEnrollForm" action="{{trustSrc(vm.givenUrl)}}" method="post" target="paInlineFrame" hidden="hidden"><input type="hidden" name="PaReq" value="{{vm.paReq}}"> <input type="hidden" name="TermUrl" value="{{vm.termUrl}}"> <input type="hidden" name="MD" value="{{vm.md}}"></form><iframe width="800px" height="600px" id="paInlineFrame" name="paInlineFrame"></iframe><!--"https://www.youtube.com/embed/3O1_3zBUKM8"--></div></div><!--<div class="modal-footer">--><!--<button class="btn btn-primary" ng-click="ok()">OK</button>--><!--<button class="btn btn-warning" ng-click="cancel()">Cancel</button>--><!--</div>-->'), e.put("app/mobile/flights/booking/mobile.flights.booking.payment.html", '<div class="container" ng-if="!vm.timeout"><!-- BEGIN PAGE CONTENT INNER --><div><img src="content/images/logo-tet-ce694f0763.svg" alt="logo" style="display: block; margin-left: auto; margin-right: auto"></div><div class="page-content-inner"><div class="search-page search-content-3"><div class="row"><div class="col-md-8 booking-wrapper"><form action="#" role="form" name="bookingForm" novalidate><gtd-booking-payment payment-model="vm.paymentModel" booking-model="vm.bjson"></gtd-booking-payment><div class="action-bar"><div class="buttons-zone"><div class="inline-block-zone"><!--<span class="clickable-color1">--><!--<span class="fa fa-angle-left"></span>--><!--<span data-translate="flight.booking.back"></span>--><!--</span>--></div><button class="btn gtd-btn-default gtd-btn-large pull-right" type="button" ng-disabled="bookingForm.$invalid" ng-click="vm.doConfirm(bookingForm)"><!--<span class="uppercase fa fa-search">&nbsp;--> <span class="uppercase ng-scope" data-translate="flight.booking.next">Tìm</span></button></div></div></form></div><div class="col-md-4 booking-summary-wrapper"><gtd-flight-booking-summary payment-model="vm.paymentModel" booking-model="vm.bookingModel" show-coupon="false"></gtd-flight-booking-summary><gtd-flight-booking-summary-details booking-model="vm.bookingModel" payment-model="vm.paymentModel" show-coupon="false"></gtd-flight-booking-summary-details><!-- <gtd-hotel-booking-summary booking-model="vm.bookingModel" bjson="vm.bjson"\n                        selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct"\n                        selected-hotel-room="vm.selectedHotelRoom" payment-model="vm.paymentModel" show-coupon="true">\n                    </gtd-hotel-booking-summary>\n\n                    <gtd-hotel-booking-summary-details booking-model="vm.bookingModel" bjson="vm.bjson"\n                        selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct"\n                        selected-hotel-room="vm.selectedHotelRoom" payment-model="vm.paymentModel" show-coupon="true">\n                    </gtd-hotel-booking-summary-details> --></div></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/mobile/flights/booking/mobile.hotels.booking.payment.html", '<div class="container" ng-if="!vm.timeout"><!-- BEGIN PAGE CONTENT INNER --><div><img src="content/images/logo-tet-ce694f0763.svg" alt="logo" style="display: block; margin-left: auto; margin-right: auto"></div><div class="page-content-inner"><div class="search-page search-content-3"><div class="row"><div class="col-md-8 booking-wrapper"><form action="#" role="form" name="bookingForm" novalidate><gtd-booking-payment payment-model="vm.paymentModel" booking-model="vm.bjson"></gtd-booking-payment><div class="action-bar"><div class="buttons-zone"><div class="inline-block-zone"><!--<span class="clickable-color1">--><!--<span class="fa fa-angle-left"></span>--><!--<span data-translate="flight.booking.back"></span>--><!--</span>--></div><button class="btn gtd-btn-default gtd-btn-large pull-right" type="button" ng-disabled="bookingForm.$invalid" ng-click="vm.doConfirm(bookingForm)"><!--<span class="uppercase fa fa-search">&nbsp;--> <span class="uppercase ng-scope" data-translate="flight.booking.next">Tìm</span></button></div></div></form></div><div class="col-md-4 booking-summary-wrapper"><gtd-hotel-booking-summary booking-model="vm.bookingModel" bjson="vm.bjson" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" payment-model="vm.paymentModel" show-coupon="false"></gtd-hotel-booking-summary><gtd-hotel-booking-summary-details booking-model="vm.bookingModel" bjson="vm.bjson" selected-hotel="vm.selectedHotel" selected-hotel-product="vm.selectedHotelProduct" selected-hotel-room="vm.selectedHotelRoom" payment-model="vm.paymentModel" show-coupon="false"></gtd-hotel-booking-summary-details></div></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/mobile/flights/booking/mobile.qr.booking.payment.html", '<div class="container" ng-if="!vm.timeout"><!-- BEGIN PAGE CONTENT INNER --><div class="page-content-inner"><div class="search-page search-content-3"><div class="row"><div class="col-md-8 booking-wrapper"><form action="#" role="form" name="bookingForm" novalidate><div id="vnpay_modal" class="vnpay_modal"></div></form></div><div class="col-md-4 booking-summary-wrapper" ng-if="vm.orderType === \'HOTEL\'"><gtd-hotel-booking-summary payment-model="vm.paymentModel" bjson="vm.bjson" booking-model="vm.bookingModel" show-coupon="false" show-price-coupon="true"></gtd-hotel-booking-summary><gtd-hotel-booking-summary-details booking-model="vm.bookingModel" bjson="vm.bjson" payment-model="vm.paymentModel" show-coupon="false" show-price-coupon="true"></gtd-hotel-booking-summary-details></div><div class="col-md-4 booking-summary-wrapper" ng-if="vm.orderType === \'FLIGHT\'"><gtd-flight-booking-summary payment-model="vm.paymentModel" bjson="vm.bjson" booking-model="vm.bookingModel" show-coupon="false" show-price-coupon="true"></gtd-flight-booking-summary><gtd-flight-booking-summary-details bjson="vm.bjson" booking-model="vm.bookingModel" payment-model="vm.paymentModel" show-coupon="false" show-price-coupon="true"></gtd-flight-booking-summary-details></div></div></div></div><!-- END PAGE CONTENT INNER --></div>'), e.put("app/mobile/flights/booking/vnpay.qr.payment.html", '<div class="container" ng-if="!vm.timeout"><!-- BEGIN PAGE CONTENT INNER --><div><img src="content/images/logo-tet-ce694f0763.svg" alt="logo" style="display: block; margin-left: auto; margin-right: auto"></div><div class="page-content-inner"><div class="search-page search-content-3"><div class="row"><div class="col-md-8 booking-wrapper"><form action="#" role="form" name="bookingForm" novalidate><div id="vnpay_modal" class="vnpay_modal"></div></form></div><div class="col-md-4 booking-summary-wrapper" ng-if="vm.orderType === \'HOTEL\'"><gtd-hotel-booking-summary payment-model="vm.paymentModel" bjson="vm.bjson" booking-model="vm.bookingModel" show-coupon="false" show-price-coupon="true"></gtd-hotel-booking-summary><gtd-hotel-booking-summary-details booking-model="vm.bookingModel" bjson="vm.bjson" payment-model="vm.paymentModel" show-coupon="false" show-price-coupon="true"></gtd-hotel-booking-summary-details></div><div class="col-md-4 booking-summary-wrapper" ng-if="vm.orderType === \'FLIGHT\'"><gtd-flight-booking-summary bjson="vm.bjson" payment-model="vm.paymentModel" booking-model="vm.bookingModel" show-coupon="false" show-price-coupon="true"></gtd-flight-booking-summary><gtd-flight-booking-summary-details bjson="vm.bjson" booking-model="vm.bookingModel" payment-model="vm.paymentModel" show-coupon="false" show-price-coupon="true"></gtd-flight-booking-summary-details></div></div></div></div><!-- END PAGE CONTENT INNER --></div>')
        }])
    }();
//# sourceMappingURL=app-74e37b38b1.js.map